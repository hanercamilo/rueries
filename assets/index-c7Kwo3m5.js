(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))n(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function e(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(l){if(l.ep)return;l.ep=!0;const o=e(l);fetch(l.href,o)}})();function Bp(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Yd={exports:{}},Po={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sv;function mA(){if(sv)return Po;sv=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(n,l,o){var a=null;if(o!==void 0&&(a=""+o),l.key!==void 0&&(a=""+l.key),"key"in l){o={};for(var c in l)c!=="key"&&(o[c]=l[c])}else o=l;return l=o.ref,{$$typeof:i,type:n,key:a,ref:l!==void 0?l:null,props:o}}return Po.Fragment=t,Po.jsx=e,Po.jsxs=e,Po}var lv;function pA(){return lv||(lv=1,Yd.exports=mA()),Yd.exports}var L=pA(),Gd={exports:{}},At={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rv;function gA(){if(rv)return At;rv=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function b(M){return M===null||typeof M!="object"?null:(M=g&&M[g]||M["@@iterator"],typeof M=="function"?M:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,C={};function k(M,Y,J){this.props=M,this.context=Y,this.refs=C,this.updater=J||v}k.prototype.isReactComponent={},k.prototype.setState=function(M,Y){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Y,"setState")},k.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function A(){}A.prototype=k.prototype;function N(M,Y,J){this.props=M,this.context=Y,this.refs=C,this.updater=J||v}var j=N.prototype=new A;j.constructor=N,w(j,k.prototype),j.isPureReactComponent=!0;var E=Array.isArray,D={H:null,A:null,T:null,S:null,V:null},z=Object.prototype.hasOwnProperty;function U(M,Y,J,X,nt,dt){return J=dt.ref,{$$typeof:i,type:M,key:Y,ref:J!==void 0?J:null,props:dt}}function K(M,Y){return U(M.type,Y,void 0,void 0,void 0,M.props)}function tt(M){return typeof M=="object"&&M!==null&&M.$$typeof===i}function ct(M){var Y={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(J){return Y[J]})}var it=/\/+/g;function et(M,Y){return typeof M=="object"&&M!==null&&M.key!=null?ct(""+M.key):Y.toString(36)}function ut(){}function pt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(ut,ut):(M.status="pending",M.then(function(Y){M.status==="pending"&&(M.status="fulfilled",M.value=Y)},function(Y){M.status==="pending"&&(M.status="rejected",M.reason=Y)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function gt(M,Y,J,X,nt){var dt=typeof M;(dt==="undefined"||dt==="boolean")&&(M=null);var rt=!1;if(M===null)rt=!0;else switch(dt){case"bigint":case"string":case"number":rt=!0;break;case"object":switch(M.$$typeof){case i:case t:rt=!0;break;case p:return rt=M._init,gt(rt(M._payload),Y,J,X,nt)}}if(rt)return nt=nt(M),rt=X===""?"."+et(M,0):X,E(nt)?(J="",rt!=null&&(J=rt.replace(it,"$&/")+"/"),gt(nt,Y,J,"",function(se){return se})):nt!=null&&(tt(nt)&&(nt=K(nt,J+(nt.key==null||M&&M.key===nt.key?"":(""+nt.key).replace(it,"$&/")+"/")+rt)),Y.push(nt)),1;rt=0;var Qt=X===""?".":X+":";if(E(M))for(var yt=0;yt<M.length;yt++)X=M[yt],dt=Qt+et(X,yt),rt+=gt(X,Y,J,dt,nt);else if(yt=b(M),typeof yt=="function")for(M=yt.call(M),yt=0;!(X=M.next()).done;)X=X.value,dt=Qt+et(X,yt++),rt+=gt(X,Y,J,dt,nt);else if(dt==="object"){if(typeof M.then=="function")return gt(pt(M),Y,J,X,nt);throw Y=String(M),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return rt}function B(M,Y,J){if(M==null)return M;var X=[],nt=0;return gt(M,X,"","",function(dt){return Y.call(J,dt,nt++)}),X}function I(M){if(M._status===-1){var Y=M._result;Y=Y(),Y.then(function(J){(M._status===0||M._status===-1)&&(M._status=1,M._result=J)},function(J){(M._status===0||M._status===-1)&&(M._status=2,M._result=J)}),M._status===-1&&(M._status=0,M._result=Y)}if(M._status===1)return M._result.default;throw M._result}var st=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function ot(){}return At.Children={map:B,forEach:function(M,Y,J){B(M,function(){Y.apply(this,arguments)},J)},count:function(M){var Y=0;return B(M,function(){Y++}),Y},toArray:function(M){return B(M,function(Y){return Y})||[]},only:function(M){if(!tt(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},At.Component=k,At.Fragment=e,At.Profiler=l,At.PureComponent=N,At.StrictMode=n,At.Suspense=h,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,At.__COMPILER_RUNTIME={__proto__:null,c:function(M){return D.H.useMemoCache(M)}},At.cache=function(M){return function(){return M.apply(null,arguments)}},At.cloneElement=function(M,Y,J){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var X=w({},M.props),nt=M.key,dt=void 0;if(Y!=null)for(rt in Y.ref!==void 0&&(dt=void 0),Y.key!==void 0&&(nt=""+Y.key),Y)!z.call(Y,rt)||rt==="key"||rt==="__self"||rt==="__source"||rt==="ref"&&Y.ref===void 0||(X[rt]=Y[rt]);var rt=arguments.length-2;if(rt===1)X.children=J;else if(1<rt){for(var Qt=Array(rt),yt=0;yt<rt;yt++)Qt[yt]=arguments[yt+2];X.children=Qt}return U(M.type,nt,void 0,void 0,dt,X)},At.createContext=function(M){return M={$$typeof:a,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:o,_context:M},M},At.createElement=function(M,Y,J){var X,nt={},dt=null;if(Y!=null)for(X in Y.key!==void 0&&(dt=""+Y.key),Y)z.call(Y,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(nt[X]=Y[X]);var rt=arguments.length-2;if(rt===1)nt.children=J;else if(1<rt){for(var Qt=Array(rt),yt=0;yt<rt;yt++)Qt[yt]=arguments[yt+2];nt.children=Qt}if(M&&M.defaultProps)for(X in rt=M.defaultProps,rt)nt[X]===void 0&&(nt[X]=rt[X]);return U(M,dt,void 0,void 0,null,nt)},At.createRef=function(){return{current:null}},At.forwardRef=function(M){return{$$typeof:c,render:M}},At.isValidElement=tt,At.lazy=function(M){return{$$typeof:p,_payload:{_status:-1,_result:M},_init:I}},At.memo=function(M,Y){return{$$typeof:d,type:M,compare:Y===void 0?null:Y}},At.startTransition=function(M){var Y=D.T,J={};D.T=J;try{var X=M(),nt=D.S;nt!==null&&nt(J,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(ot,st)}catch(dt){st(dt)}finally{D.T=Y}},At.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},At.use=function(M){return D.H.use(M)},At.useActionState=function(M,Y,J){return D.H.useActionState(M,Y,J)},At.useCallback=function(M,Y){return D.H.useCallback(M,Y)},At.useContext=function(M){return D.H.useContext(M)},At.useDebugValue=function(){},At.useDeferredValue=function(M,Y){return D.H.useDeferredValue(M,Y)},At.useEffect=function(M,Y,J){var X=D.H;if(typeof J=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return X.useEffect(M,Y)},At.useId=function(){return D.H.useId()},At.useImperativeHandle=function(M,Y,J){return D.H.useImperativeHandle(M,Y,J)},At.useInsertionEffect=function(M,Y){return D.H.useInsertionEffect(M,Y)},At.useLayoutEffect=function(M,Y){return D.H.useLayoutEffect(M,Y)},At.useMemo=function(M,Y){return D.H.useMemo(M,Y)},At.useOptimistic=function(M,Y){return D.H.useOptimistic(M,Y)},At.useReducer=function(M,Y,J){return D.H.useReducer(M,Y,J)},At.useRef=function(M){return D.H.useRef(M)},At.useState=function(M){return D.H.useState(M)},At.useSyncExternalStore=function(M,Y,J){return D.H.useSyncExternalStore(M,Y,J)},At.useTransition=function(){return D.H.useTransition()},At.version="19.1.1",At}var ov;function Lp(){return ov||(ov=1,Gd.exports=gA()),Gd.exports}var P=Lp();const $=Bp(P);var Xd={exports:{}},Yo={},Id={exports:{}},Qd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var av;function yA(){return av||(av=1,(function(i){function t(B,I){var st=B.length;B.push(I);t:for(;0<st;){var ot=st-1>>>1,M=B[ot];if(0<l(M,I))B[ot]=I,B[st]=M,st=ot;else break t}}function e(B){return B.length===0?null:B[0]}function n(B){if(B.length===0)return null;var I=B[0],st=B.pop();if(st!==I){B[0]=st;t:for(var ot=0,M=B.length,Y=M>>>1;ot<Y;){var J=2*(ot+1)-1,X=B[J],nt=J+1,dt=B[nt];if(0>l(X,st))nt<M&&0>l(dt,X)?(B[ot]=dt,B[nt]=st,ot=nt):(B[ot]=X,B[J]=st,ot=J);else if(nt<M&&0>l(dt,st))B[ot]=dt,B[nt]=st,ot=nt;else break t}}return I}function l(B,I){var st=B.sortIndex-I.sortIndex;return st!==0?st:B.id-I.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;i.unstable_now=function(){return o.now()}}else{var a=Date,c=a.now();i.unstable_now=function(){return a.now()-c}}var h=[],d=[],p=1,g=null,b=3,v=!1,w=!1,C=!1,k=!1,A=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function E(B){for(var I=e(d);I!==null;){if(I.callback===null)n(d);else if(I.startTime<=B)n(d),I.sortIndex=I.expirationTime,t(h,I);else break;I=e(d)}}function D(B){if(C=!1,E(B),!w)if(e(h)!==null)w=!0,z||(z=!0,et());else{var I=e(d);I!==null&&gt(D,I.startTime-B)}}var z=!1,U=-1,K=5,tt=-1;function ct(){return k?!0:!(i.unstable_now()-tt<K)}function it(){if(k=!1,z){var B=i.unstable_now();tt=B;var I=!0;try{t:{w=!1,C&&(C=!1,N(U),U=-1),v=!0;var st=b;try{e:{for(E(B),g=e(h);g!==null&&!(g.expirationTime>B&&ct());){var ot=g.callback;if(typeof ot=="function"){g.callback=null,b=g.priorityLevel;var M=ot(g.expirationTime<=B);if(B=i.unstable_now(),typeof M=="function"){g.callback=M,E(B),I=!0;break e}g===e(h)&&n(h),E(B)}else n(h);g=e(h)}if(g!==null)I=!0;else{var Y=e(d);Y!==null&&gt(D,Y.startTime-B),I=!1}}break t}finally{g=null,b=st,v=!1}I=void 0}}finally{I?et():z=!1}}}var et;if(typeof j=="function")et=function(){j(it)};else if(typeof MessageChannel<"u"){var ut=new MessageChannel,pt=ut.port2;ut.port1.onmessage=it,et=function(){pt.postMessage(null)}}else et=function(){A(it,0)};function gt(B,I){U=A(function(){B(i.unstable_now())},I)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(B){B.callback=null},i.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<B?Math.floor(1e3/B):5},i.unstable_getCurrentPriorityLevel=function(){return b},i.unstable_next=function(B){switch(b){case 1:case 2:case 3:var I=3;break;default:I=b}var st=b;b=I;try{return B()}finally{b=st}},i.unstable_requestPaint=function(){k=!0},i.unstable_runWithPriority=function(B,I){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var st=b;b=B;try{return I()}finally{b=st}},i.unstable_scheduleCallback=function(B,I,st){var ot=i.unstable_now();switch(typeof st=="object"&&st!==null?(st=st.delay,st=typeof st=="number"&&0<st?ot+st:ot):st=ot,B){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=st+M,B={id:p++,callback:I,priorityLevel:B,startTime:st,expirationTime:M,sortIndex:-1},st>ot?(B.sortIndex=st,t(d,B),e(h)===null&&B===e(d)&&(C?(N(U),U=-1):C=!0,gt(D,st-ot))):(B.sortIndex=M,t(h,B),w||v||(w=!0,z||(z=!0,et()))),B},i.unstable_shouldYield=ct,i.unstable_wrapCallback=function(B){var I=b;return function(){var st=b;b=I;try{return B.apply(this,arguments)}finally{b=st}}}})(Qd)),Qd}var uv;function bA(){return uv||(uv=1,Id.exports=yA()),Id.exports}var Kd={exports:{}},Je={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cv;function vA(){if(cv)return Je;cv=1;var i=Lp();function t(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var n={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},l=Symbol.for("react.portal");function o(h,d,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:g==null?null:""+g,children:h,containerInfo:d,implementation:p}}var a=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Je.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Je.createPortal=function(h,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return o(h,d,null,p)},Je.flushSync=function(h){var d=a.T,p=n.p;try{if(a.T=null,n.p=2,h)return h()}finally{a.T=d,n.p=p,n.d.f()}},Je.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,n.d.C(h,d))},Je.prefetchDNS=function(h){typeof h=="string"&&n.d.D(h)},Je.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var p=d.as,g=c(p,d.crossOrigin),b=typeof d.integrity=="string"?d.integrity:void 0,v=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;p==="style"?n.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:g,integrity:b,fetchPriority:v}):p==="script"&&n.d.X(h,{crossOrigin:g,integrity:b,fetchPriority:v,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Je.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var p=c(d.as,d.crossOrigin);n.d.M(h,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&n.d.M(h)},Je.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var p=d.as,g=c(p,d.crossOrigin);n.d.L(h,p,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Je.preloadModule=function(h,d){if(typeof h=="string")if(d){var p=c(d.as,d.crossOrigin);n.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else n.d.m(h)},Je.requestFormReset=function(h){n.d.r(h)},Je.unstable_batchedUpdates=function(h,d){return h(d)},Je.useFormState=function(h,d,p){return a.H.useFormState(h,d,p)},Je.useFormStatus=function(){return a.H.useHostTransitionStatus()},Je.version="19.1.1",Je}var fv;function zx(){if(fv)return Kd.exports;fv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Kd.exports=vA(),Kd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hv;function xA(){if(hv)return Yo;hv=1;var i=bA(),t=Lp(),e=zx();function n(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)r+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var r=s,u=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(u=r.return),s=r.return;while(s)}return r.tag===3?u:null}function a(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function c(s){if(o(s)!==s)throw Error(n(188))}function h(s){var r=s.alternate;if(!r){if(r=o(s),r===null)throw Error(n(188));return r!==s?null:s}for(var u=s,f=r;;){var m=u.return;if(m===null)break;var y=m.alternate;if(y===null){if(f=m.return,f!==null){u=f;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===u)return c(m),s;if(y===f)return c(m),r;y=y.sibling}throw Error(n(188))}if(u.return!==f.return)u=m,f=y;else{for(var x=!1,S=m.child;S;){if(S===u){x=!0,u=m,f=y;break}if(S===f){x=!0,f=m,u=y;break}S=S.sibling}if(!x){for(S=y.child;S;){if(S===u){x=!0,u=y,f=m;break}if(S===f){x=!0,f=y,u=m;break}S=S.sibling}if(!x)throw Error(n(189))}}if(u.alternate!==f)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?s:r}function d(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=d(s),r!==null)return r;s=s.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),N=Symbol.for("react.consumer"),j=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),tt=Symbol.for("react.activity"),ct=Symbol.for("react.memo_cache_sentinel"),it=Symbol.iterator;function et(s){return s===null||typeof s!="object"?null:(s=it&&s[it]||s["@@iterator"],typeof s=="function"?s:null)}var ut=Symbol.for("react.client.reference");function pt(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===ut?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case w:return"Fragment";case k:return"Profiler";case C:return"StrictMode";case D:return"Suspense";case z:return"SuspenseList";case tt:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case v:return"Portal";case j:return(s.displayName||"Context")+".Provider";case N:return(s._context.displayName||"Context")+".Consumer";case E:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case U:return r=s.displayName||null,r!==null?r:pt(s.type)||"Memo";case K:r=s._payload,s=s._init;try{return pt(s(r))}catch{}}return null}var gt=Array.isArray,B=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st={pending:!1,data:null,method:null,action:null},ot=[],M=-1;function Y(s){return{current:s}}function J(s){0>M||(s.current=ot[M],ot[M]=null,M--)}function X(s,r){M++,ot[M]=s.current,s.current=r}var nt=Y(null),dt=Y(null),rt=Y(null),Qt=Y(null);function yt(s,r){switch(X(rt,r),X(dt,s),X(nt,null),r.nodeType){case 9:case 11:s=(s=r.documentElement)&&(s=s.namespaceURI)?Nb(s):0;break;default:if(s=r.tagName,r=r.namespaceURI)r=Nb(r),s=Bb(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}J(nt),X(nt,s)}function se(){J(nt),J(dt),J(rt)}function Et(s){s.memoizedState!==null&&X(Qt,s);var r=nt.current,u=Bb(r,s.type);r!==u&&(X(dt,s),X(nt,u))}function sn(s){dt.current===s&&(J(nt),J(dt)),Qt.current===s&&(J(Qt),jo._currentValue=st)}var pe=Object.prototype.hasOwnProperty,Un=i.unstable_scheduleCallback,Ve=i.unstable_cancelCallback,vi=i.unstable_shouldYield,ri=i.unstable_requestPaint,Ae=i.unstable_now,tl=i.unstable_getCurrentPriorityLevel,Fe=i.unstable_ImmediatePriority,kn=i.unstable_UserBlockingPriority,oi=i.unstable_NormalPriority,xe=i.unstable_LowPriority,qn=i.unstable_IdlePriority,Nl=i.log,Qr=i.unstable_setDisableYieldValue,Vn=null,he=null;function Re(s){if(typeof Nl=="function"&&Qr(s),he&&typeof he.setStrictMode=="function")try{he.setStrictMode(Vn,s)}catch{}}var ce=Math.clz32?Math.clz32:ui,ai=Math.log,An=Math.LN2;function ui(s){return s>>>=0,s===0?32:31-(ai(s)/An|0)|0}var ds=256,ms=4194304;function fn(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function xi(s,r,u){var f=s.pendingLanes;if(f===0)return 0;var m=0,y=s.suspendedLanes,x=s.pingedLanes;s=s.warmLanes;var S=f&134217727;return S!==0?(f=S&~y,f!==0?m=fn(f):(x&=S,x!==0?m=fn(x):u||(u=S&~s,u!==0&&(m=fn(u))))):(S=f&~y,S!==0?m=fn(S):x!==0?m=fn(x):u||(u=f&~s,u!==0&&(m=fn(u)))),m===0?0:r!==0&&r!==m&&(r&y)===0&&(y=m&-m,u=r&-r,y>=u||y===32&&(u&4194048)!==0)?r:m}function Yi(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function ps(s,r){switch(s){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mn(){var s=ds;return ds<<=1,(ds&4194048)===0&&(ds=256),s}function Bl(){var s=ms;return ms<<=1,(ms&62914560)===0&&(ms=4194304),s}function el(s){for(var r=[],u=0;31>u;u++)r.push(s);return r}function le(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Ne(s,r,u,f,m,y){var x=s.pendingLanes;s.pendingLanes=u,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=u,s.entangledLanes&=u,s.errorRecoveryDisabledLanes&=u,s.shellSuspendCounter=0;var S=s.entanglements,T=s.expirationTimes,_=s.hiddenUpdates;for(u=x&~u;0<u;){var Q=31-ce(u),F=1<<Q;S[Q]=0,T[Q]=-1;var q=_[Q];if(q!==null)for(_[Q]=null,Q=0;Q<q.length;Q++){var V=q[Q];V!==null&&(V.lane&=-536870913)}u&=~F}f!==0&&bt(s,f,0),y!==0&&m===0&&s.tag!==0&&(s.suspendedLanes|=y&~(x&~r))}function bt(s,r,u){s.pendingLanes|=r,s.suspendedLanes&=~r;var f=31-ce(r);s.entangledLanes|=r,s.entanglements[f]=s.entanglements[f]|1073741824|u&4194090}function Yt(s,r){var u=s.entangledLanes|=r;for(s=s.entanglements;u;){var f=31-ce(u),m=1<<f;m&r|s[f]&r&&(s[f]|=r),u&=~m}}function Ht(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function qt(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Be(){var s=I.p;return s!==0?s:(s=window.event,s===void 0?32:Jb(s.type))}function ne(s,r){var u=I.p;try{return I.p=s,r()}finally{I.p=u}}var Mt=Math.random().toString(36).slice(2),Gt="__reactFiber$"+Mt,Rt="__reactProps$"+Mt,Kt="__reactContainer$"+Mt,Pn="__reactEvents$"+Mt,ln="__reactListeners$"+Mt,ci="__reactHandles$"+Mt,gs="__reactResources$"+Mt,Gi="__reactMarker$"+Mt;function Hf(s){delete s[Gt],delete s[Rt],delete s[Pn],delete s[ln],delete s[ci]}function Ll(s){var r=s[Gt];if(r)return r;for(var u=s.parentNode;u;){if(r=u[Kt]||u[Gt]){if(u=r.alternate,r.child!==null||u!==null&&u.child!==null)for(s=jb(s);s!==null;){if(u=s[Gt])return u;s=jb(s)}return r}s=u,u=s.parentNode}return null}function zl(s){if(s=s[Gt]||s[Kt]){var r=s.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return s}return null}function Kr(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(n(33))}function Hl(s){var r=s[gs];return r||(r=s[gs]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Le(s){s[Gi]=!0}var Sg=new Set,wg={};function nl(s,r){jl(s,r),jl(s+"Capture",r)}function jl(s,r){for(wg[s]=r,s=0;s<r.length;s++)Sg.add(r[s])}var rC=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cg={},kg={};function oC(s){return pe.call(kg,s)?!0:pe.call(Cg,s)?!1:rC.test(s)?kg[s]=!0:(Cg[s]=!0,!1)}function _a(s,r,u){if(oC(r))if(u===null)s.removeAttribute(r);else{switch(typeof u){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var f=r.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+u)}}function Ua(s,r,u){if(u===null)s.removeAttribute(r);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+u)}}function Xi(s,r,u,f){if(f===null)s.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(u);return}s.setAttributeNS(r,u,""+f)}}var jf,Ag;function _l(s){if(jf===void 0)try{throw Error()}catch(u){var r=u.stack.trim().match(/\n( *(at )?)/);jf=r&&r[1]||"",Ag=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+jf+s+Ag}var _f=!1;function Uf(s,r){if(!s||_f)return"";_f=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(r){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(V){var q=V}Reflect.construct(s,[],F)}else{try{F.call()}catch(V){q=V}s.call(F.prototype)}}else{try{throw Error()}catch(V){q=V}(F=s())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(V){if(V&&q&&typeof V.stack=="string")return[V.stack,q.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=f.DetermineComponentFrameRoot(),x=y[0],S=y[1];if(x&&S){var T=x.split(`
`),_=S.split(`
`);for(m=f=0;f<T.length&&!T[f].includes("DetermineComponentFrameRoot");)f++;for(;m<_.length&&!_[m].includes("DetermineComponentFrameRoot");)m++;if(f===T.length||m===_.length)for(f=T.length-1,m=_.length-1;1<=f&&0<=m&&T[f]!==_[m];)m--;for(;1<=f&&0<=m;f--,m--)if(T[f]!==_[m]){if(f!==1||m!==1)do if(f--,m--,0>m||T[f]!==_[m]){var Q=`
`+T[f].replace(" at new "," at ");return s.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",s.displayName)),Q}while(1<=f&&0<=m);break}}}finally{_f=!1,Error.prepareStackTrace=u}return(u=s?s.displayName||s.name:"")?_l(u):""}function aC(s){switch(s.tag){case 26:case 27:case 5:return _l(s.type);case 16:return _l("Lazy");case 13:return _l("Suspense");case 19:return _l("SuspenseList");case 0:case 15:return Uf(s.type,!1);case 11:return Uf(s.type.render,!1);case 1:return Uf(s.type,!0);case 31:return _l("Activity");default:return""}}function Mg(s){try{var r="";do r+=aC(s),s=s.return;while(s);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function Yn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Tg(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function uC(s){var r=Tg(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,r),f=""+s[r];if(!s.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,y=u.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return m.call(this)},set:function(x){f=""+x,y.call(this,x)}}),Object.defineProperty(s,r,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(x){f=""+x},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function qa(s){s._valueTracker||(s._valueTracker=uC(s))}function Dg(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var u=r.getValue(),f="";return s&&(f=Tg(s)?s.checked?"true":"false":s.value),s=f,s!==u?(r.setValue(s),!0):!1}function Va(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var cC=/[\n"\\]/g;function Gn(s){return s.replace(cC,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function qf(s,r,u,f,m,y,x,S){s.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?s.type=x:s.removeAttribute("type"),r!=null?x==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+Yn(r)):s.value!==""+Yn(r)&&(s.value=""+Yn(r)):x!=="submit"&&x!=="reset"||s.removeAttribute("value"),r!=null?Vf(s,x,Yn(r)):u!=null?Vf(s,x,Yn(u)):f!=null&&s.removeAttribute("value"),m==null&&y!=null&&(s.defaultChecked=!!y),m!=null&&(s.checked=m&&typeof m!="function"&&typeof m!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?s.name=""+Yn(S):s.removeAttribute("name")}function Og(s,r,u,f,m,y,x,S){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),r!=null||u!=null){if(!(y!=="submit"&&y!=="reset"||r!=null))return;u=u!=null?""+Yn(u):"",r=r!=null?""+Yn(r):u,S||r===s.value||(s.value=r),s.defaultValue=r}f=f??m,f=typeof f!="function"&&typeof f!="symbol"&&!!f,s.checked=S?s.checked:!!f,s.defaultChecked=!!f,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(s.name=x)}function Vf(s,r,u){r==="number"&&Va(s.ownerDocument)===s||s.defaultValue===""+u||(s.defaultValue=""+u)}function Ul(s,r,u,f){if(s=s.options,r){r={};for(var m=0;m<u.length;m++)r["$"+u[m]]=!0;for(u=0;u<s.length;u++)m=r.hasOwnProperty("$"+s[u].value),s[u].selected!==m&&(s[u].selected=m),m&&f&&(s[u].defaultSelected=!0)}else{for(u=""+Yn(u),r=null,m=0;m<s.length;m++){if(s[m].value===u){s[m].selected=!0,f&&(s[m].defaultSelected=!0);return}r!==null||s[m].disabled||(r=s[m])}r!==null&&(r.selected=!0)}}function Eg(s,r,u){if(r!=null&&(r=""+Yn(r),r!==s.value&&(s.value=r),u==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=u!=null?""+Yn(u):""}function Rg(s,r,u,f){if(r==null){if(f!=null){if(u!=null)throw Error(n(92));if(gt(f)){if(1<f.length)throw Error(n(93));f=f[0]}u=f}u==null&&(u=""),r=u}u=Yn(r),s.defaultValue=u,f=s.textContent,f===u&&f!==""&&f!==null&&(s.value=f)}function ql(s,r){if(r){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=r;return}}s.textContent=r}var fC=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ng(s,r,u){var f=r.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?f?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":f?s.setProperty(r,u):typeof u!="number"||u===0||fC.has(r)?r==="float"?s.cssFloat=u:s[r]=(""+u).trim():s[r]=u+"px"}function Bg(s,r,u){if(r!=null&&typeof r!="object")throw Error(n(62));if(s=s.style,u!=null){for(var f in u)!u.hasOwnProperty(f)||r!=null&&r.hasOwnProperty(f)||(f.indexOf("--")===0?s.setProperty(f,""):f==="float"?s.cssFloat="":s[f]="");for(var m in r)f=r[m],r.hasOwnProperty(m)&&u[m]!==f&&Ng(s,m,f)}else for(var y in r)r.hasOwnProperty(y)&&Ng(s,y,r[y])}function Pf(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hC=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),dC=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pa(s){return dC.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Yf=null;function Gf(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Vl=null,Pl=null;function Lg(s){var r=zl(s);if(r&&(s=r.stateNode)){var u=s[Rt]||null;t:switch(s=r.stateNode,r.type){case"input":if(qf(s,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),r=u.name,u.type==="radio"&&r!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Gn(""+r)+'"][type="radio"]'),r=0;r<u.length;r++){var f=u[r];if(f!==s&&f.form===s.form){var m=f[Rt]||null;if(!m)throw Error(n(90));qf(f,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(r=0;r<u.length;r++)f=u[r],f.form===s.form&&Dg(f)}break t;case"textarea":Eg(s,u.value,u.defaultValue);break t;case"select":r=u.value,r!=null&&Ul(s,!!u.multiple,r,!1)}}}var Xf=!1;function zg(s,r,u){if(Xf)return s(r,u);Xf=!0;try{var f=s(r);return f}finally{if(Xf=!1,(Vl!==null||Pl!==null)&&(Tu(),Vl&&(r=Vl,s=Pl,Pl=Vl=null,Lg(r),s)))for(r=0;r<s.length;r++)Lg(s[r])}}function Wr(s,r){var u=s.stateNode;if(u===null)return null;var f=u[Rt]||null;if(f===null)return null;u=f[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break t;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(n(231,r,typeof u));return u}var Ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),If=!1;if(Ii)try{var Fr={};Object.defineProperty(Fr,"passive",{get:function(){If=!0}}),window.addEventListener("test",Fr,Fr),window.removeEventListener("test",Fr,Fr)}catch{If=!1}var ys=null,Qf=null,Ya=null;function Hg(){if(Ya)return Ya;var s,r=Qf,u=r.length,f,m="value"in ys?ys.value:ys.textContent,y=m.length;for(s=0;s<u&&r[s]===m[s];s++);var x=u-s;for(f=1;f<=x&&r[u-f]===m[y-f];f++);return Ya=m.slice(s,1<f?1-f:void 0)}function Ga(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function Xa(){return!0}function jg(){return!1}function hn(s){function r(u,f,m,y,x){this._reactName=u,this._targetInst=m,this.type=f,this.nativeEvent=y,this.target=x,this.currentTarget=null;for(var S in s)s.hasOwnProperty(S)&&(u=s[S],this[S]=u?u(y):y[S]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Xa:jg,this.isPropagationStopped=jg,this}return p(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Xa)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Xa)},persist:function(){},isPersistent:Xa}),r}var il={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ia=hn(il),Zr=p({},il,{view:0,detail:0}),mC=hn(Zr),Kf,Wf,Jr,Qa=p({},Zr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zf,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Jr&&(Jr&&s.type==="mousemove"?(Kf=s.screenX-Jr.screenX,Wf=s.screenY-Jr.screenY):Wf=Kf=0,Jr=s),Kf)},movementY:function(s){return"movementY"in s?s.movementY:Wf}}),_g=hn(Qa),pC=p({},Qa,{dataTransfer:0}),gC=hn(pC),yC=p({},Zr,{relatedTarget:0}),Ff=hn(yC),bC=p({},il,{animationName:0,elapsedTime:0,pseudoElement:0}),vC=hn(bC),xC=p({},il,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),SC=hn(xC),wC=p({},il,{data:0}),Ug=hn(wC),CC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},AC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function MC(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=AC[s])?!!r[s]:!1}function Zf(){return MC}var TC=p({},Zr,{key:function(s){if(s.key){var r=CC[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=Ga(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?kC[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zf,charCode:function(s){return s.type==="keypress"?Ga(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ga(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),DC=hn(TC),OC=p({},Qa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qg=hn(OC),EC=p({},Zr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zf}),RC=hn(EC),NC=p({},il,{propertyName:0,elapsedTime:0,pseudoElement:0}),BC=hn(NC),LC=p({},Qa,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),zC=hn(LC),HC=p({},il,{newState:0,oldState:0}),jC=hn(HC),_C=[9,13,27,32],Jf=Ii&&"CompositionEvent"in window,$r=null;Ii&&"documentMode"in document&&($r=document.documentMode);var UC=Ii&&"TextEvent"in window&&!$r,Vg=Ii&&(!Jf||$r&&8<$r&&11>=$r),Pg=" ",Yg=!1;function Gg(s,r){switch(s){case"keyup":return _C.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xg(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Yl=!1;function qC(s,r){switch(s){case"compositionend":return Xg(r);case"keypress":return r.which!==32?null:(Yg=!0,Pg);case"textInput":return s=r.data,s===Pg&&Yg?null:s;default:return null}}function VC(s,r){if(Yl)return s==="compositionend"||!Jf&&Gg(s,r)?(s=Hg(),Ya=Qf=ys=null,Yl=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Vg&&r.locale!=="ko"?null:r.data;default:return null}}var PC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ig(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!PC[s.type]:r==="textarea"}function Qg(s,r,u,f){Vl?Pl?Pl.push(f):Pl=[f]:Vl=f,r=Bu(r,"onChange"),0<r.length&&(u=new Ia("onChange","change",null,u,f),s.push({event:u,listeners:r}))}var to=null,eo=null;function YC(s){Tb(s,0)}function Ka(s){var r=Kr(s);if(Dg(r))return s}function Kg(s,r){if(s==="change")return r}var Wg=!1;if(Ii){var $f;if(Ii){var th="oninput"in document;if(!th){var Fg=document.createElement("div");Fg.setAttribute("oninput","return;"),th=typeof Fg.oninput=="function"}$f=th}else $f=!1;Wg=$f&&(!document.documentMode||9<document.documentMode)}function Zg(){to&&(to.detachEvent("onpropertychange",Jg),eo=to=null)}function Jg(s){if(s.propertyName==="value"&&Ka(eo)){var r=[];Qg(r,eo,s,Gf(s)),zg(YC,r)}}function GC(s,r,u){s==="focusin"?(Zg(),to=r,eo=u,to.attachEvent("onpropertychange",Jg)):s==="focusout"&&Zg()}function XC(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Ka(eo)}function IC(s,r){if(s==="click")return Ka(r)}function QC(s,r){if(s==="input"||s==="change")return Ka(r)}function KC(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var Tn=typeof Object.is=="function"?Object.is:KC;function no(s,r){if(Tn(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var u=Object.keys(s),f=Object.keys(r);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var m=u[f];if(!pe.call(r,m)||!Tn(s[m],r[m]))return!1}return!0}function $g(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function t0(s,r){var u=$g(s);s=0;for(var f;u;){if(u.nodeType===3){if(f=s+u.textContent.length,s<=r&&f>=r)return{node:u,offset:r-s};s=f}t:{for(;u;){if(u.nextSibling){u=u.nextSibling;break t}u=u.parentNode}u=void 0}u=$g(u)}}function e0(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?e0(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function n0(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=Va(s.document);r instanceof s.HTMLIFrameElement;){try{var u=typeof r.contentWindow.location.href=="string"}catch{u=!1}if(u)s=r.contentWindow;else break;r=Va(s.document)}return r}function eh(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}var WC=Ii&&"documentMode"in document&&11>=document.documentMode,Gl=null,nh=null,io=null,ih=!1;function i0(s,r,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;ih||Gl==null||Gl!==Va(f)||(f=Gl,"selectionStart"in f&&eh(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),io&&no(io,f)||(io=f,f=Bu(nh,"onSelect"),0<f.length&&(r=new Ia("onSelect","select",null,r,u),s.push({event:r,listeners:f}),r.target=Gl)))}function sl(s,r){var u={};return u[s.toLowerCase()]=r.toLowerCase(),u["Webkit"+s]="webkit"+r,u["Moz"+s]="moz"+r,u}var Xl={animationend:sl("Animation","AnimationEnd"),animationiteration:sl("Animation","AnimationIteration"),animationstart:sl("Animation","AnimationStart"),transitionrun:sl("Transition","TransitionRun"),transitionstart:sl("Transition","TransitionStart"),transitioncancel:sl("Transition","TransitionCancel"),transitionend:sl("Transition","TransitionEnd")},sh={},s0={};Ii&&(s0=document.createElement("div").style,"AnimationEvent"in window||(delete Xl.animationend.animation,delete Xl.animationiteration.animation,delete Xl.animationstart.animation),"TransitionEvent"in window||delete Xl.transitionend.transition);function ll(s){if(sh[s])return sh[s];if(!Xl[s])return s;var r=Xl[s],u;for(u in r)if(r.hasOwnProperty(u)&&u in s0)return sh[s]=r[u];return s}var l0=ll("animationend"),r0=ll("animationiteration"),o0=ll("animationstart"),FC=ll("transitionrun"),ZC=ll("transitionstart"),JC=ll("transitioncancel"),a0=ll("transitionend"),u0=new Map,lh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");lh.push("scrollEnd");function fi(s,r){u0.set(s,r),nl(r,[s])}var c0=new WeakMap;function Xn(s,r){if(typeof s=="object"&&s!==null){var u=c0.get(s);return u!==void 0?u:(r={value:s,source:r,stack:Mg(r)},c0.set(s,r),r)}return{value:s,source:r,stack:Mg(r)}}var In=[],Il=0,rh=0;function Wa(){for(var s=Il,r=rh=Il=0;r<s;){var u=In[r];In[r++]=null;var f=In[r];In[r++]=null;var m=In[r];In[r++]=null;var y=In[r];if(In[r++]=null,f!==null&&m!==null){var x=f.pending;x===null?m.next=m:(m.next=x.next,x.next=m),f.pending=m}y!==0&&f0(u,m,y)}}function Fa(s,r,u,f){In[Il++]=s,In[Il++]=r,In[Il++]=u,In[Il++]=f,rh|=f,s.lanes|=f,s=s.alternate,s!==null&&(s.lanes|=f)}function oh(s,r,u,f){return Fa(s,r,u,f),Za(s)}function Ql(s,r){return Fa(s,null,null,r),Za(s)}function f0(s,r,u){s.lanes|=u;var f=s.alternate;f!==null&&(f.lanes|=u);for(var m=!1,y=s.return;y!==null;)y.childLanes|=u,f=y.alternate,f!==null&&(f.childLanes|=u),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(m=!0)),s=y,y=y.return;return s.tag===3?(y=s.stateNode,m&&r!==null&&(m=31-ce(u),s=y.hiddenUpdates,f=s[m],f===null?s[m]=[r]:f.push(r),r.lane=u|536870912),y):null}function Za(s){if(50<Oo)throw Oo=0,dd=null,Error(n(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var Kl={};function $C(s,r,u,f){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(s,r,u,f){return new $C(s,r,u,f)}function ah(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Qi(s,r){var u=s.alternate;return u===null?(u=Dn(s.tag,r,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=r,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&65011712,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,r=s.dependencies,u.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u.refCleanup=s.refCleanup,u}function h0(s,r){s.flags&=65011714;var u=s.alternate;return u===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,r=u.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function Ja(s,r,u,f,m,y){var x=0;if(f=s,typeof s=="function")ah(s)&&(x=1);else if(typeof s=="string")x=eA(s,u,nt.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case tt:return s=Dn(31,u,r,m),s.elementType=tt,s.lanes=y,s;case w:return rl(u.children,m,y,r);case C:x=8,m|=24;break;case k:return s=Dn(12,u,r,m|2),s.elementType=k,s.lanes=y,s;case D:return s=Dn(13,u,r,m),s.elementType=D,s.lanes=y,s;case z:return s=Dn(19,u,r,m),s.elementType=z,s.lanes=y,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case A:case j:x=10;break t;case N:x=9;break t;case E:x=11;break t;case U:x=14;break t;case K:x=16,f=null;break t}x=29,u=Error(n(130,s===null?"null":typeof s,"")),f=null}return r=Dn(x,u,r,m),r.elementType=s,r.type=f,r.lanes=y,r}function rl(s,r,u,f){return s=Dn(7,s,f,r),s.lanes=u,s}function uh(s,r,u){return s=Dn(6,s,null,r),s.lanes=u,s}function ch(s,r,u){return r=Dn(4,s.children!==null?s.children:[],s.key,r),r.lanes=u,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}var Wl=[],Fl=0,$a=null,tu=0,Qn=[],Kn=0,ol=null,Ki=1,Wi="";function al(s,r){Wl[Fl++]=tu,Wl[Fl++]=$a,$a=s,tu=r}function d0(s,r,u){Qn[Kn++]=Ki,Qn[Kn++]=Wi,Qn[Kn++]=ol,ol=s;var f=Ki;s=Wi;var m=32-ce(f)-1;f&=~(1<<m),u+=1;var y=32-ce(r)+m;if(30<y){var x=m-m%5;y=(f&(1<<x)-1).toString(32),f>>=x,m-=x,Ki=1<<32-ce(r)+m|u<<m|f,Wi=y+s}else Ki=1<<y|u<<m|f,Wi=s}function fh(s){s.return!==null&&(al(s,1),d0(s,1,0))}function hh(s){for(;s===$a;)$a=Wl[--Fl],Wl[Fl]=null,tu=Wl[--Fl],Wl[Fl]=null;for(;s===ol;)ol=Qn[--Kn],Qn[Kn]=null,Wi=Qn[--Kn],Qn[Kn]=null,Ki=Qn[--Kn],Qn[Kn]=null}var rn=null,de=null,Vt=!1,ul=null,Si=!1,dh=Error(n(519));function cl(s){var r=Error(n(418,""));throw ro(Xn(r,s)),dh}function m0(s){var r=s.stateNode,u=s.type,f=s.memoizedProps;switch(r[Gt]=s,r[Rt]=f,u){case"dialog":Bt("cancel",r),Bt("close",r);break;case"iframe":case"object":case"embed":Bt("load",r);break;case"video":case"audio":for(u=0;u<Ro.length;u++)Bt(Ro[u],r);break;case"source":Bt("error",r);break;case"img":case"image":case"link":Bt("error",r),Bt("load",r);break;case"details":Bt("toggle",r);break;case"input":Bt("invalid",r),Og(r,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),qa(r);break;case"select":Bt("invalid",r);break;case"textarea":Bt("invalid",r),Rg(r,f.value,f.defaultValue,f.children),qa(r)}u=f.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||r.textContent===""+u||f.suppressHydrationWarning===!0||Rb(r.textContent,u)?(f.popover!=null&&(Bt("beforetoggle",r),Bt("toggle",r)),f.onScroll!=null&&Bt("scroll",r),f.onScrollEnd!=null&&Bt("scrollend",r),f.onClick!=null&&(r.onclick=Lu),r=!0):r=!1,r||cl(s)}function p0(s){for(rn=s.return;rn;)switch(rn.tag){case 5:case 13:Si=!1;return;case 27:case 3:Si=!0;return;default:rn=rn.return}}function so(s){if(s!==rn)return!1;if(!Vt)return p0(s),Vt=!0,!1;var r=s.tag,u;if((u=r!==3&&r!==27)&&((u=r===5)&&(u=s.type,u=!(u!=="form"&&u!=="button")||Od(s.type,s.memoizedProps)),u=!u),u&&de&&cl(s),p0(s),r===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));t:{for(s=s.nextSibling,r=0;s;){if(s.nodeType===8)if(u=s.data,u==="/$"){if(r===0){de=di(s.nextSibling);break t}r--}else u!=="$"&&u!=="$!"&&u!=="$?"||r++;s=s.nextSibling}de=null}}else r===27?(r=de,Bs(s.type)?(s=Bd,Bd=null,de=s):de=r):de=rn?di(s.stateNode.nextSibling):null;return!0}function lo(){de=rn=null,Vt=!1}function g0(){var s=ul;return s!==null&&(pn===null?pn=s:pn.push.apply(pn,s),ul=null),s}function ro(s){ul===null?ul=[s]:ul.push(s)}var mh=Y(null),fl=null,Fi=null;function bs(s,r,u){X(mh,r._currentValue),r._currentValue=u}function Zi(s){s._currentValue=mh.current,J(mh)}function ph(s,r,u){for(;s!==null;){var f=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,f!==null&&(f.childLanes|=r)):f!==null&&(f.childLanes&r)!==r&&(f.childLanes|=r),s===u)break;s=s.return}}function gh(s,r,u,f){var m=s.child;for(m!==null&&(m.return=s);m!==null;){var y=m.dependencies;if(y!==null){var x=m.child;y=y.firstContext;t:for(;y!==null;){var S=y;y=m;for(var T=0;T<r.length;T++)if(S.context===r[T]){y.lanes|=u,S=y.alternate,S!==null&&(S.lanes|=u),ph(y.return,u,s),f||(x=null);break t}y=S.next}}else if(m.tag===18){if(x=m.return,x===null)throw Error(n(341));x.lanes|=u,y=x.alternate,y!==null&&(y.lanes|=u),ph(x,u,s),x=null}else x=m.child;if(x!==null)x.return=m;else for(x=m;x!==null;){if(x===s){x=null;break}if(m=x.sibling,m!==null){m.return=x.return,x=m;break}x=x.return}m=x}}function oo(s,r,u,f){s=null;for(var m=r,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var x=m.alternate;if(x===null)throw Error(n(387));if(x=x.memoizedProps,x!==null){var S=m.type;Tn(m.pendingProps.value,x.value)||(s!==null?s.push(S):s=[S])}}else if(m===Qt.current){if(x=m.alternate,x===null)throw Error(n(387));x.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(s!==null?s.push(jo):s=[jo])}m=m.return}s!==null&&gh(r,s,u,f),r.flags|=262144}function eu(s){for(s=s.firstContext;s!==null;){if(!Tn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function hl(s){fl=s,Fi=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Ze(s){return y0(fl,s)}function nu(s,r){return fl===null&&hl(s),y0(s,r)}function y0(s,r){var u=r._currentValue;if(r={context:r,memoizedValue:u,next:null},Fi===null){if(s===null)throw Error(n(308));Fi=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else Fi=Fi.next=r;return u}var tk=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(u,f){s.push(f)}};this.abort=function(){r.aborted=!0,s.forEach(function(u){return u()})}},ek=i.unstable_scheduleCallback,nk=i.unstable_NormalPriority,Me={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yh(){return{controller:new tk,data:new Map,refCount:0}}function ao(s){s.refCount--,s.refCount===0&&ek(nk,function(){s.controller.abort()})}var uo=null,bh=0,Zl=0,Jl=null;function ik(s,r){if(uo===null){var u=uo=[];bh=0,Zl=xd(),Jl={status:"pending",value:void 0,then:function(f){u.push(f)}}}return bh++,r.then(b0,b0),r}function b0(){if(--bh===0&&uo!==null){Jl!==null&&(Jl.status="fulfilled");var s=uo;uo=null,Zl=0,Jl=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function sk(s,r){var u=[],f={status:"pending",value:null,reason:null,then:function(m){u.push(m)}};return s.then(function(){f.status="fulfilled",f.value=r;for(var m=0;m<u.length;m++)(0,u[m])(r)},function(m){for(f.status="rejected",f.reason=m,m=0;m<u.length;m++)(0,u[m])(void 0)}),f}var v0=B.S;B.S=function(s,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&ik(s,r),v0!==null&&v0(s,r)};var dl=Y(null);function vh(){var s=dl.current;return s!==null?s:ie.pooledCache}function iu(s,r){r===null?X(dl,dl.current):X(dl,r.pool)}function x0(){var s=vh();return s===null?null:{parent:Me._currentValue,pool:s}}var co=Error(n(460)),S0=Error(n(474)),su=Error(n(542)),xh={then:function(){}};function w0(s){return s=s.status,s==="fulfilled"||s==="rejected"}function lu(){}function C0(s,r,u){switch(u=s[u],u===void 0?s.push(r):u!==r&&(r.then(lu,lu),r=u),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,A0(s),s;default:if(typeof r.status=="string")r.then(lu,lu);else{if(s=ie,s!==null&&100<s.shellSuspendCounter)throw Error(n(482));s=r,s.status="pending",s.then(function(f){if(r.status==="pending"){var m=r;m.status="fulfilled",m.value=f}},function(f){if(r.status==="pending"){var m=r;m.status="rejected",m.reason=f}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,A0(s),s}throw fo=r,co}}var fo=null;function k0(){if(fo===null)throw Error(n(459));var s=fo;return fo=null,s}function A0(s){if(s===co||s===su)throw Error(n(483))}var vs=!1;function Sh(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wh(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function xs(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Ss(s,r,u){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,(Xt&2)!==0){var m=f.pending;return m===null?r.next=r:(r.next=m.next,m.next=r),f.pending=r,r=Za(s),f0(s,null,u),r}return Fa(s,f,r,u),Za(s)}function ho(s,r,u){if(r=r.updateQueue,r!==null&&(r=r.shared,(u&4194048)!==0)){var f=r.lanes;f&=s.pendingLanes,u|=f,r.lanes=u,Yt(s,u)}}function Ch(s,r){var u=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var m=null,y=null;if(u=u.firstBaseUpdate,u!==null){do{var x={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};y===null?m=y=x:y=y.next=x,u=u.next}while(u!==null);y===null?m=y=r:y=y.next=r}else m=y=r;u={baseState:f.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:f.shared,callbacks:f.callbacks},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=r:s.next=r,u.lastBaseUpdate=r}var kh=!1;function mo(){if(kh){var s=Jl;if(s!==null)throw s}}function po(s,r,u,f){kh=!1;var m=s.updateQueue;vs=!1;var y=m.firstBaseUpdate,x=m.lastBaseUpdate,S=m.shared.pending;if(S!==null){m.shared.pending=null;var T=S,_=T.next;T.next=null,x===null?y=_:x.next=_,x=T;var Q=s.alternate;Q!==null&&(Q=Q.updateQueue,S=Q.lastBaseUpdate,S!==x&&(S===null?Q.firstBaseUpdate=_:S.next=_,Q.lastBaseUpdate=T))}if(y!==null){var F=m.baseState;x=0,Q=_=T=null,S=y;do{var q=S.lane&-536870913,V=q!==S.lane;if(V?(zt&q)===q:(f&q)===q){q!==0&&q===Zl&&(kh=!0),Q!==null&&(Q=Q.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var Ct=s,St=S;q=r;var Zt=u;switch(St.tag){case 1:if(Ct=St.payload,typeof Ct=="function"){F=Ct.call(Zt,F,q);break t}F=Ct;break t;case 3:Ct.flags=Ct.flags&-65537|128;case 0:if(Ct=St.payload,q=typeof Ct=="function"?Ct.call(Zt,F,q):Ct,q==null)break t;F=p({},F,q);break t;case 2:vs=!0}}q=S.callback,q!==null&&(s.flags|=64,V&&(s.flags|=8192),V=m.callbacks,V===null?m.callbacks=[q]:V.push(q))}else V={lane:q,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Q===null?(_=Q=V,T=F):Q=Q.next=V,x|=q;if(S=S.next,S===null){if(S=m.shared.pending,S===null)break;V=S,S=V.next,V.next=null,m.lastBaseUpdate=V,m.shared.pending=null}}while(!0);Q===null&&(T=F),m.baseState=T,m.firstBaseUpdate=_,m.lastBaseUpdate=Q,y===null&&(m.shared.lanes=0),Os|=x,s.lanes=x,s.memoizedState=F}}function M0(s,r){if(typeof s!="function")throw Error(n(191,s));s.call(r)}function T0(s,r){var u=s.callbacks;if(u!==null)for(s.callbacks=null,s=0;s<u.length;s++)M0(u[s],r)}var $l=Y(null),ru=Y(0);function D0(s,r){s=ss,X(ru,s),X($l,r),ss=s|r.baseLanes}function Ah(){X(ru,ss),X($l,$l.current)}function Mh(){ss=ru.current,J($l),J(ru)}var ws=0,Tt=null,Wt=null,Se=null,ou=!1,tr=!1,ml=!1,au=0,go=0,er=null,lk=0;function ge(){throw Error(n(321))}function Th(s,r){if(r===null)return!1;for(var u=0;u<r.length&&u<s.length;u++)if(!Tn(s[u],r[u]))return!1;return!0}function Dh(s,r,u,f,m,y){return ws=y,Tt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,B.H=s===null||s.memoizedState===null?fy:hy,ml=!1,y=u(f,m),ml=!1,tr&&(y=E0(r,u,f,m)),O0(s),y}function O0(s){B.H=mu;var r=Wt!==null&&Wt.next!==null;if(ws=0,Se=Wt=Tt=null,ou=!1,go=0,er=null,r)throw Error(n(300));s===null||ze||(s=s.dependencies,s!==null&&eu(s)&&(ze=!0))}function E0(s,r,u,f){Tt=s;var m=0;do{if(tr&&(er=null),go=0,tr=!1,25<=m)throw Error(n(301));if(m+=1,Se=Wt=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}B.H=hk,y=r(u,f)}while(tr);return y}function rk(){var s=B.H,r=s.useState()[0];return r=typeof r.then=="function"?yo(r):r,s=s.useState()[0],(Wt!==null?Wt.memoizedState:null)!==s&&(Tt.flags|=1024),r}function Oh(){var s=au!==0;return au=0,s}function Eh(s,r,u){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~u}function Rh(s){if(ou){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}ou=!1}ws=0,Se=Wt=Tt=null,tr=!1,go=au=0,er=null}function dn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?Tt.memoizedState=Se=s:Se=Se.next=s,Se}function we(){if(Wt===null){var s=Tt.alternate;s=s!==null?s.memoizedState:null}else s=Wt.next;var r=Se===null?Tt.memoizedState:Se.next;if(r!==null)Se=r,Wt=s;else{if(s===null)throw Tt.alternate===null?Error(n(467)):Error(n(310));Wt=s,s={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Se===null?Tt.memoizedState=Se=s:Se=Se.next=s}return Se}function Nh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yo(s){var r=go;return go+=1,er===null&&(er=[]),s=C0(er,s,r),r=Tt,(Se===null?r.memoizedState:Se.next)===null&&(r=r.alternate,B.H=r===null||r.memoizedState===null?fy:hy),s}function uu(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return yo(s);if(s.$$typeof===j)return Ze(s)}throw Error(n(438,String(s)))}function Bh(s){var r=null,u=Tt.updateQueue;if(u!==null&&(r=u.memoCache),r==null){var f=Tt.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(r={data:f.data.map(function(m){return m.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),u===null&&(u=Nh(),Tt.updateQueue=u),u.memoCache=r,u=r.data[r.index],u===void 0)for(u=r.data[r.index]=Array(s),f=0;f<s;f++)u[f]=ct;return r.index++,u}function Ji(s,r){return typeof r=="function"?r(s):r}function cu(s){var r=we();return Lh(r,Wt,s)}function Lh(s,r,u){var f=s.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=u;var m=s.baseQueue,y=f.pending;if(y!==null){if(m!==null){var x=m.next;m.next=y.next,y.next=x}r.baseQueue=m=y,f.pending=null}if(y=s.baseState,m===null)s.memoizedState=y;else{r=m.next;var S=x=null,T=null,_=r,Q=!1;do{var F=_.lane&-536870913;if(F!==_.lane?(zt&F)===F:(ws&F)===F){var q=_.revertLane;if(q===0)T!==null&&(T=T.next={lane:0,revertLane:0,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null}),F===Zl&&(Q=!0);else if((ws&q)===q){_=_.next,q===Zl&&(Q=!0);continue}else F={lane:0,revertLane:_.revertLane,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null},T===null?(S=T=F,x=y):T=T.next=F,Tt.lanes|=q,Os|=q;F=_.action,ml&&u(y,F),y=_.hasEagerState?_.eagerState:u(y,F)}else q={lane:F,revertLane:_.revertLane,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null},T===null?(S=T=q,x=y):T=T.next=q,Tt.lanes|=F,Os|=F;_=_.next}while(_!==null&&_!==r);if(T===null?x=y:T.next=S,!Tn(y,s.memoizedState)&&(ze=!0,Q&&(u=Jl,u!==null)))throw u;s.memoizedState=y,s.baseState=x,s.baseQueue=T,f.lastRenderedState=y}return m===null&&(f.lanes=0),[s.memoizedState,f.dispatch]}function zh(s){var r=we(),u=r.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=s;var f=u.dispatch,m=u.pending,y=r.memoizedState;if(m!==null){u.pending=null;var x=m=m.next;do y=s(y,x.action),x=x.next;while(x!==m);Tn(y,r.memoizedState)||(ze=!0),r.memoizedState=y,r.baseQueue===null&&(r.baseState=y),u.lastRenderedState=y}return[y,f]}function R0(s,r,u){var f=Tt,m=we(),y=Vt;if(y){if(u===void 0)throw Error(n(407));u=u()}else u=r();var x=!Tn((Wt||m).memoizedState,u);x&&(m.memoizedState=u,ze=!0),m=m.queue;var S=L0.bind(null,f,m,s);if(bo(2048,8,S,[s]),m.getSnapshot!==r||x||Se!==null&&Se.memoizedState.tag&1){if(f.flags|=2048,nr(9,fu(),B0.bind(null,f,m,u,r),null),ie===null)throw Error(n(349));y||(ws&124)!==0||N0(f,r,u)}return u}function N0(s,r,u){s.flags|=16384,s={getSnapshot:r,value:u},r=Tt.updateQueue,r===null?(r=Nh(),Tt.updateQueue=r,r.stores=[s]):(u=r.stores,u===null?r.stores=[s]:u.push(s))}function B0(s,r,u,f){r.value=u,r.getSnapshot=f,z0(r)&&H0(s)}function L0(s,r,u){return u(function(){z0(r)&&H0(s)})}function z0(s){var r=s.getSnapshot;s=s.value;try{var u=r();return!Tn(s,u)}catch{return!0}}function H0(s){var r=Ql(s,2);r!==null&&Bn(r,s,2)}function Hh(s){var r=dn();if(typeof s=="function"){var u=s;if(s=u(),ml){Re(!0);try{u()}finally{Re(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:s},r}function j0(s,r,u,f){return s.baseState=u,Lh(s,Wt,typeof f=="function"?f:Ji)}function ok(s,r,u,f,m){if(du(s))throw Error(n(485));if(s=r.action,s!==null){var y={payload:m,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){y.listeners.push(x)}};B.T!==null?u(!0):y.isTransition=!1,f(y),u=r.pending,u===null?(y.next=r.pending=y,_0(r,y)):(y.next=u.next,r.pending=u.next=y)}}function _0(s,r){var u=r.action,f=r.payload,m=s.state;if(r.isTransition){var y=B.T,x={};B.T=x;try{var S=u(m,f),T=B.S;T!==null&&T(x,S),U0(s,r,S)}catch(_){jh(s,r,_)}finally{B.T=y}}else try{y=u(m,f),U0(s,r,y)}catch(_){jh(s,r,_)}}function U0(s,r,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(f){q0(s,r,f)},function(f){return jh(s,r,f)}):q0(s,r,u)}function q0(s,r,u){r.status="fulfilled",r.value=u,V0(r),s.state=u,r=s.pending,r!==null&&(u=r.next,u===r?s.pending=null:(u=u.next,r.next=u,_0(s,u)))}function jh(s,r,u){var f=s.pending;if(s.pending=null,f!==null){f=f.next;do r.status="rejected",r.reason=u,V0(r),r=r.next;while(r!==f)}s.action=null}function V0(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function P0(s,r){return r}function Y0(s,r){if(Vt){var u=ie.formState;if(u!==null){t:{var f=Tt;if(Vt){if(de){e:{for(var m=de,y=Si;m.nodeType!==8;){if(!y){m=null;break e}if(m=di(m.nextSibling),m===null){m=null;break e}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){de=di(m.nextSibling),f=m.data==="F!";break t}}cl(f)}f=!1}f&&(r=u[0])}}return u=dn(),u.memoizedState=u.baseState=r,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:P0,lastRenderedState:r},u.queue=f,u=ay.bind(null,Tt,f),f.dispatch=u,f=Hh(!1),y=Ph.bind(null,Tt,!1,f.queue),f=dn(),m={state:r,dispatch:null,action:s,pending:null},f.queue=m,u=ok.bind(null,Tt,m,y,u),m.dispatch=u,f.memoizedState=s,[r,u,!1]}function G0(s){var r=we();return X0(r,Wt,s)}function X0(s,r,u){if(r=Lh(s,r,P0)[0],s=cu(Ji)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var f=yo(r)}catch(x){throw x===co?su:x}else f=r;r=we();var m=r.queue,y=m.dispatch;return u!==r.memoizedState&&(Tt.flags|=2048,nr(9,fu(),ak.bind(null,m,u),null)),[f,y,s]}function ak(s,r){s.action=r}function I0(s){var r=we(),u=Wt;if(u!==null)return X0(r,u,s);we(),r=r.memoizedState,u=we();var f=u.queue.dispatch;return u.memoizedState=s,[r,f,!1]}function nr(s,r,u,f){return s={tag:s,create:u,deps:f,inst:r,next:null},r=Tt.updateQueue,r===null&&(r=Nh(),Tt.updateQueue=r),u=r.lastEffect,u===null?r.lastEffect=s.next=s:(f=u.next,u.next=s,s.next=f,r.lastEffect=s),s}function fu(){return{destroy:void 0,resource:void 0}}function Q0(){return we().memoizedState}function hu(s,r,u,f){var m=dn();f=f===void 0?null:f,Tt.flags|=s,m.memoizedState=nr(1|r,fu(),u,f)}function bo(s,r,u,f){var m=we();f=f===void 0?null:f;var y=m.memoizedState.inst;Wt!==null&&f!==null&&Th(f,Wt.memoizedState.deps)?m.memoizedState=nr(r,y,u,f):(Tt.flags|=s,m.memoizedState=nr(1|r,y,u,f))}function K0(s,r){hu(8390656,8,s,r)}function W0(s,r){bo(2048,8,s,r)}function F0(s,r){return bo(4,2,s,r)}function Z0(s,r){return bo(4,4,s,r)}function J0(s,r){if(typeof r=="function"){s=s();var u=r(s);return function(){typeof u=="function"?u():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function $0(s,r,u){u=u!=null?u.concat([s]):null,bo(4,4,J0.bind(null,r,s),u)}function _h(){}function ty(s,r){var u=we();r=r===void 0?null:r;var f=u.memoizedState;return r!==null&&Th(r,f[1])?f[0]:(u.memoizedState=[s,r],s)}function ey(s,r){var u=we();r=r===void 0?null:r;var f=u.memoizedState;if(r!==null&&Th(r,f[1]))return f[0];if(f=s(),ml){Re(!0);try{s()}finally{Re(!1)}}return u.memoizedState=[f,r],f}function Uh(s,r,u){return u===void 0||(ws&1073741824)!==0?s.memoizedState=r:(s.memoizedState=u,s=sb(),Tt.lanes|=s,Os|=s,u)}function ny(s,r,u,f){return Tn(u,r)?u:$l.current!==null?(s=Uh(s,u,f),Tn(s,r)||(ze=!0),s):(ws&42)===0?(ze=!0,s.memoizedState=u):(s=sb(),Tt.lanes|=s,Os|=s,r)}function iy(s,r,u,f,m){var y=I.p;I.p=y!==0&&8>y?y:8;var x=B.T,S={};B.T=S,Ph(s,!1,r,u);try{var T=m(),_=B.S;if(_!==null&&_(S,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var Q=sk(T,f);vo(s,r,Q,Nn(s))}else vo(s,r,f,Nn(s))}catch(F){vo(s,r,{then:function(){},status:"rejected",reason:F},Nn())}finally{I.p=y,B.T=x}}function uk(){}function qh(s,r,u,f){if(s.tag!==5)throw Error(n(476));var m=sy(s).queue;iy(s,m,r,st,u===null?uk:function(){return ly(s),u(f)})}function sy(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:st,baseState:st,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:st},next:null};var u={};return r.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:u},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function ly(s){var r=sy(s).next.queue;vo(s,r,{},Nn())}function Vh(){return Ze(jo)}function ry(){return we().memoizedState}function oy(){return we().memoizedState}function ck(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var u=Nn();s=xs(u);var f=Ss(r,s,u);f!==null&&(Bn(f,r,u),ho(f,r,u)),r={cache:yh()},s.payload=r;return}r=r.return}}function fk(s,r,u){var f=Nn();u={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},du(s)?uy(r,u):(u=oh(s,r,u,f),u!==null&&(Bn(u,s,f),cy(u,r,f)))}function ay(s,r,u){var f=Nn();vo(s,r,u,f)}function vo(s,r,u,f){var m={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(du(s))uy(r,m);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=r.lastRenderedReducer,y!==null))try{var x=r.lastRenderedState,S=y(x,u);if(m.hasEagerState=!0,m.eagerState=S,Tn(S,x))return Fa(s,r,m,0),ie===null&&Wa(),!1}catch{}finally{}if(u=oh(s,r,m,f),u!==null)return Bn(u,s,f),cy(u,r,f),!0}return!1}function Ph(s,r,u,f){if(f={lane:2,revertLane:xd(),action:f,hasEagerState:!1,eagerState:null,next:null},du(s)){if(r)throw Error(n(479))}else r=oh(s,u,f,2),r!==null&&Bn(r,s,2)}function du(s){var r=s.alternate;return s===Tt||r!==null&&r===Tt}function uy(s,r){tr=ou=!0;var u=s.pending;u===null?r.next=r:(r.next=u.next,u.next=r),s.pending=r}function cy(s,r,u){if((u&4194048)!==0){var f=r.lanes;f&=s.pendingLanes,u|=f,r.lanes=u,Yt(s,u)}}var mu={readContext:Ze,use:uu,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useLayoutEffect:ge,useInsertionEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useSyncExternalStore:ge,useId:ge,useHostTransitionStatus:ge,useFormState:ge,useActionState:ge,useOptimistic:ge,useMemoCache:ge,useCacheRefresh:ge},fy={readContext:Ze,use:uu,useCallback:function(s,r){return dn().memoizedState=[s,r===void 0?null:r],s},useContext:Ze,useEffect:K0,useImperativeHandle:function(s,r,u){u=u!=null?u.concat([s]):null,hu(4194308,4,J0.bind(null,r,s),u)},useLayoutEffect:function(s,r){return hu(4194308,4,s,r)},useInsertionEffect:function(s,r){hu(4,2,s,r)},useMemo:function(s,r){var u=dn();r=r===void 0?null:r;var f=s();if(ml){Re(!0);try{s()}finally{Re(!1)}}return u.memoizedState=[f,r],f},useReducer:function(s,r,u){var f=dn();if(u!==void 0){var m=u(r);if(ml){Re(!0);try{u(r)}finally{Re(!1)}}}else m=r;return f.memoizedState=f.baseState=m,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:m},f.queue=s,s=s.dispatch=fk.bind(null,Tt,s),[f.memoizedState,s]},useRef:function(s){var r=dn();return s={current:s},r.memoizedState=s},useState:function(s){s=Hh(s);var r=s.queue,u=ay.bind(null,Tt,r);return r.dispatch=u,[s.memoizedState,u]},useDebugValue:_h,useDeferredValue:function(s,r){var u=dn();return Uh(u,s,r)},useTransition:function(){var s=Hh(!1);return s=iy.bind(null,Tt,s.queue,!0,!1),dn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,u){var f=Tt,m=dn();if(Vt){if(u===void 0)throw Error(n(407));u=u()}else{if(u=r(),ie===null)throw Error(n(349));(zt&124)!==0||N0(f,r,u)}m.memoizedState=u;var y={value:u,getSnapshot:r};return m.queue=y,K0(L0.bind(null,f,y,s),[s]),f.flags|=2048,nr(9,fu(),B0.bind(null,f,y,u,r),null),u},useId:function(){var s=dn(),r=ie.identifierPrefix;if(Vt){var u=Wi,f=Ki;u=(f&~(1<<32-ce(f)-1)).toString(32)+u,r=""+r+"R"+u,u=au++,0<u&&(r+="H"+u.toString(32)),r+=""}else u=lk++,r=""+r+"r"+u.toString(32)+"";return s.memoizedState=r},useHostTransitionStatus:Vh,useFormState:Y0,useActionState:Y0,useOptimistic:function(s){var r=dn();r.memoizedState=r.baseState=s;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=u,r=Ph.bind(null,Tt,!0,u),u.dispatch=r,[s,r]},useMemoCache:Bh,useCacheRefresh:function(){return dn().memoizedState=ck.bind(null,Tt)}},hy={readContext:Ze,use:uu,useCallback:ty,useContext:Ze,useEffect:W0,useImperativeHandle:$0,useInsertionEffect:F0,useLayoutEffect:Z0,useMemo:ey,useReducer:cu,useRef:Q0,useState:function(){return cu(Ji)},useDebugValue:_h,useDeferredValue:function(s,r){var u=we();return ny(u,Wt.memoizedState,s,r)},useTransition:function(){var s=cu(Ji)[0],r=we().memoizedState;return[typeof s=="boolean"?s:yo(s),r]},useSyncExternalStore:R0,useId:ry,useHostTransitionStatus:Vh,useFormState:G0,useActionState:G0,useOptimistic:function(s,r){var u=we();return j0(u,Wt,s,r)},useMemoCache:Bh,useCacheRefresh:oy},hk={readContext:Ze,use:uu,useCallback:ty,useContext:Ze,useEffect:W0,useImperativeHandle:$0,useInsertionEffect:F0,useLayoutEffect:Z0,useMemo:ey,useReducer:zh,useRef:Q0,useState:function(){return zh(Ji)},useDebugValue:_h,useDeferredValue:function(s,r){var u=we();return Wt===null?Uh(u,s,r):ny(u,Wt.memoizedState,s,r)},useTransition:function(){var s=zh(Ji)[0],r=we().memoizedState;return[typeof s=="boolean"?s:yo(s),r]},useSyncExternalStore:R0,useId:ry,useHostTransitionStatus:Vh,useFormState:I0,useActionState:I0,useOptimistic:function(s,r){var u=we();return Wt!==null?j0(u,Wt,s,r):(u.baseState=s,[s,u.queue.dispatch])},useMemoCache:Bh,useCacheRefresh:oy},ir=null,xo=0;function pu(s){var r=xo;return xo+=1,ir===null&&(ir=[]),C0(ir,s,r)}function So(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function gu(s,r){throw r.$$typeof===g?Error(n(525)):(s=Object.prototype.toString.call(r),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function dy(s){var r=s._init;return r(s._payload)}function my(s){function r(R,O){if(s){var H=R.deletions;H===null?(R.deletions=[O],R.flags|=16):H.push(O)}}function u(R,O){if(!s)return null;for(;O!==null;)r(R,O),O=O.sibling;return null}function f(R){for(var O=new Map;R!==null;)R.key!==null?O.set(R.key,R):O.set(R.index,R),R=R.sibling;return O}function m(R,O){return R=Qi(R,O),R.index=0,R.sibling=null,R}function y(R,O,H){return R.index=H,s?(H=R.alternate,H!==null?(H=H.index,H<O?(R.flags|=67108866,O):H):(R.flags|=67108866,O)):(R.flags|=1048576,O)}function x(R){return s&&R.alternate===null&&(R.flags|=67108866),R}function S(R,O,H,W){return O===null||O.tag!==6?(O=uh(H,R.mode,W),O.return=R,O):(O=m(O,H),O.return=R,O)}function T(R,O,H,W){var mt=H.type;return mt===w?Q(R,O,H.props.children,W,H.key):O!==null&&(O.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===K&&dy(mt)===O.type)?(O=m(O,H.props),So(O,H),O.return=R,O):(O=Ja(H.type,H.key,H.props,null,R.mode,W),So(O,H),O.return=R,O)}function _(R,O,H,W){return O===null||O.tag!==4||O.stateNode.containerInfo!==H.containerInfo||O.stateNode.implementation!==H.implementation?(O=ch(H,R.mode,W),O.return=R,O):(O=m(O,H.children||[]),O.return=R,O)}function Q(R,O,H,W,mt){return O===null||O.tag!==7?(O=rl(H,R.mode,W,mt),O.return=R,O):(O=m(O,H),O.return=R,O)}function F(R,O,H){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=uh(""+O,R.mode,H),O.return=R,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case b:return H=Ja(O.type,O.key,O.props,null,R.mode,H),So(H,O),H.return=R,H;case v:return O=ch(O,R.mode,H),O.return=R,O;case K:var W=O._init;return O=W(O._payload),F(R,O,H)}if(gt(O)||et(O))return O=rl(O,R.mode,H,null),O.return=R,O;if(typeof O.then=="function")return F(R,pu(O),H);if(O.$$typeof===j)return F(R,nu(R,O),H);gu(R,O)}return null}function q(R,O,H,W){var mt=O!==null?O.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return mt!==null?null:S(R,O,""+H,W);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case b:return H.key===mt?T(R,O,H,W):null;case v:return H.key===mt?_(R,O,H,W):null;case K:return mt=H._init,H=mt(H._payload),q(R,O,H,W)}if(gt(H)||et(H))return mt!==null?null:Q(R,O,H,W,null);if(typeof H.then=="function")return q(R,O,pu(H),W);if(H.$$typeof===j)return q(R,O,nu(R,H),W);gu(R,H)}return null}function V(R,O,H,W,mt){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return R=R.get(H)||null,S(O,R,""+W,mt);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case b:return R=R.get(W.key===null?H:W.key)||null,T(O,R,W,mt);case v:return R=R.get(W.key===null?H:W.key)||null,_(O,R,W,mt);case K:var Dt=W._init;return W=Dt(W._payload),V(R,O,H,W,mt)}if(gt(W)||et(W))return R=R.get(H)||null,Q(O,R,W,mt,null);if(typeof W.then=="function")return V(R,O,H,pu(W),mt);if(W.$$typeof===j)return V(R,O,H,nu(O,W),mt);gu(O,W)}return null}function Ct(R,O,H,W){for(var mt=null,Dt=null,vt=O,wt=O=0,je=null;vt!==null&&wt<H.length;wt++){vt.index>wt?(je=vt,vt=null):je=vt.sibling;var Ut=q(R,vt,H[wt],W);if(Ut===null){vt===null&&(vt=je);break}s&&vt&&Ut.alternate===null&&r(R,vt),O=y(Ut,O,wt),Dt===null?mt=Ut:Dt.sibling=Ut,Dt=Ut,vt=je}if(wt===H.length)return u(R,vt),Vt&&al(R,wt),mt;if(vt===null){for(;wt<H.length;wt++)vt=F(R,H[wt],W),vt!==null&&(O=y(vt,O,wt),Dt===null?mt=vt:Dt.sibling=vt,Dt=vt);return Vt&&al(R,wt),mt}for(vt=f(vt);wt<H.length;wt++)je=V(vt,R,wt,H[wt],W),je!==null&&(s&&je.alternate!==null&&vt.delete(je.key===null?wt:je.key),O=y(je,O,wt),Dt===null?mt=je:Dt.sibling=je,Dt=je);return s&&vt.forEach(function(_s){return r(R,_s)}),Vt&&al(R,wt),mt}function St(R,O,H,W){if(H==null)throw Error(n(151));for(var mt=null,Dt=null,vt=O,wt=O=0,je=null,Ut=H.next();vt!==null&&!Ut.done;wt++,Ut=H.next()){vt.index>wt?(je=vt,vt=null):je=vt.sibling;var _s=q(R,vt,Ut.value,W);if(_s===null){vt===null&&(vt=je);break}s&&vt&&_s.alternate===null&&r(R,vt),O=y(_s,O,wt),Dt===null?mt=_s:Dt.sibling=_s,Dt=_s,vt=je}if(Ut.done)return u(R,vt),Vt&&al(R,wt),mt;if(vt===null){for(;!Ut.done;wt++,Ut=H.next())Ut=F(R,Ut.value,W),Ut!==null&&(O=y(Ut,O,wt),Dt===null?mt=Ut:Dt.sibling=Ut,Dt=Ut);return Vt&&al(R,wt),mt}for(vt=f(vt);!Ut.done;wt++,Ut=H.next())Ut=V(vt,R,wt,Ut.value,W),Ut!==null&&(s&&Ut.alternate!==null&&vt.delete(Ut.key===null?wt:Ut.key),O=y(Ut,O,wt),Dt===null?mt=Ut:Dt.sibling=Ut,Dt=Ut);return s&&vt.forEach(function(dA){return r(R,dA)}),Vt&&al(R,wt),mt}function Zt(R,O,H,W){if(typeof H=="object"&&H!==null&&H.type===w&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case b:t:{for(var mt=H.key;O!==null;){if(O.key===mt){if(mt=H.type,mt===w){if(O.tag===7){u(R,O.sibling),W=m(O,H.props.children),W.return=R,R=W;break t}}else if(O.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===K&&dy(mt)===O.type){u(R,O.sibling),W=m(O,H.props),So(W,H),W.return=R,R=W;break t}u(R,O);break}else r(R,O);O=O.sibling}H.type===w?(W=rl(H.props.children,R.mode,W,H.key),W.return=R,R=W):(W=Ja(H.type,H.key,H.props,null,R.mode,W),So(W,H),W.return=R,R=W)}return x(R);case v:t:{for(mt=H.key;O!==null;){if(O.key===mt)if(O.tag===4&&O.stateNode.containerInfo===H.containerInfo&&O.stateNode.implementation===H.implementation){u(R,O.sibling),W=m(O,H.children||[]),W.return=R,R=W;break t}else{u(R,O);break}else r(R,O);O=O.sibling}W=ch(H,R.mode,W),W.return=R,R=W}return x(R);case K:return mt=H._init,H=mt(H._payload),Zt(R,O,H,W)}if(gt(H))return Ct(R,O,H,W);if(et(H)){if(mt=et(H),typeof mt!="function")throw Error(n(150));return H=mt.call(H),St(R,O,H,W)}if(typeof H.then=="function")return Zt(R,O,pu(H),W);if(H.$$typeof===j)return Zt(R,O,nu(R,H),W);gu(R,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,O!==null&&O.tag===6?(u(R,O.sibling),W=m(O,H),W.return=R,R=W):(u(R,O),W=uh(H,R.mode,W),W.return=R,R=W),x(R)):u(R,O)}return function(R,O,H,W){try{xo=0;var mt=Zt(R,O,H,W);return ir=null,mt}catch(vt){if(vt===co||vt===su)throw vt;var Dt=Dn(29,vt,null,R.mode);return Dt.lanes=W,Dt.return=R,Dt}finally{}}}var sr=my(!0),py=my(!1),Wn=Y(null),wi=null;function Cs(s){var r=s.alternate;X(Te,Te.current&1),X(Wn,s),wi===null&&(r===null||$l.current!==null||r.memoizedState!==null)&&(wi=s)}function gy(s){if(s.tag===22){if(X(Te,Te.current),X(Wn,s),wi===null){var r=s.alternate;r!==null&&r.memoizedState!==null&&(wi=s)}}else ks()}function ks(){X(Te,Te.current),X(Wn,Wn.current)}function $i(s){J(Wn),wi===s&&(wi=null),J(Te)}var Te=Y(0);function yu(s){for(var r=s;r!==null;){if(r.tag===13){var u=r.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||Nd(u)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Yh(s,r,u,f){r=s.memoizedState,u=u(f,r),u=u==null?r:p({},r,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var Gh={enqueueSetState:function(s,r,u){s=s._reactInternals;var f=Nn(),m=xs(f);m.payload=r,u!=null&&(m.callback=u),r=Ss(s,m,f),r!==null&&(Bn(r,s,f),ho(r,s,f))},enqueueReplaceState:function(s,r,u){s=s._reactInternals;var f=Nn(),m=xs(f);m.tag=1,m.payload=r,u!=null&&(m.callback=u),r=Ss(s,m,f),r!==null&&(Bn(r,s,f),ho(r,s,f))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var u=Nn(),f=xs(u);f.tag=2,r!=null&&(f.callback=r),r=Ss(s,f,u),r!==null&&(Bn(r,s,u),ho(r,s,u))}};function yy(s,r,u,f,m,y,x){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,y,x):r.prototype&&r.prototype.isPureReactComponent?!no(u,f)||!no(m,y):!0}function by(s,r,u,f){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(u,f),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(u,f),r.state!==s&&Gh.enqueueReplaceState(r,r.state,null)}function pl(s,r){var u=r;if("ref"in r){u={};for(var f in r)f!=="ref"&&(u[f]=r[f])}if(s=s.defaultProps){u===r&&(u=p({},u));for(var m in s)u[m]===void 0&&(u[m]=s[m])}return u}var bu=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function vy(s){bu(s)}function xy(s){console.error(s)}function Sy(s){bu(s)}function vu(s,r){try{var u=s.onUncaughtError;u(r.value,{componentStack:r.stack})}catch(f){setTimeout(function(){throw f})}}function wy(s,r,u){try{var f=s.onCaughtError;f(u.value,{componentStack:u.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Xh(s,r,u){return u=xs(u),u.tag=3,u.payload={element:null},u.callback=function(){vu(s,r)},u}function Cy(s){return s=xs(s),s.tag=3,s}function ky(s,r,u,f){var m=u.type.getDerivedStateFromError;if(typeof m=="function"){var y=f.value;s.payload=function(){return m(y)},s.callback=function(){wy(r,u,f)}}var x=u.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(s.callback=function(){wy(r,u,f),typeof m!="function"&&(Es===null?Es=new Set([this]):Es.add(this));var S=f.stack;this.componentDidCatch(f.value,{componentStack:S!==null?S:""})})}function dk(s,r,u,f,m){if(u.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(r=u.alternate,r!==null&&oo(r,u,m,!0),u=Wn.current,u!==null){switch(u.tag){case 13:return wi===null?pd():u.alternate===null&&me===0&&(me=3),u.flags&=-257,u.flags|=65536,u.lanes=m,f===xh?u.flags|=16384:(r=u.updateQueue,r===null?u.updateQueue=new Set([f]):r.add(f),yd(s,f,m)),!1;case 22:return u.flags|=65536,f===xh?u.flags|=16384:(r=u.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([f])},u.updateQueue=r):(u=r.retryQueue,u===null?r.retryQueue=new Set([f]):u.add(f)),yd(s,f,m)),!1}throw Error(n(435,u.tag))}return yd(s,f,m),pd(),!1}if(Vt)return r=Wn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=m,f!==dh&&(s=Error(n(422),{cause:f}),ro(Xn(s,u)))):(f!==dh&&(r=Error(n(423),{cause:f}),ro(Xn(r,u))),s=s.current.alternate,s.flags|=65536,m&=-m,s.lanes|=m,f=Xn(f,u),m=Xh(s.stateNode,f,m),Ch(s,m),me!==4&&(me=2)),!1;var y=Error(n(520),{cause:f});if(y=Xn(y,u),Do===null?Do=[y]:Do.push(y),me!==4&&(me=2),r===null)return!0;f=Xn(f,u),u=r;do{switch(u.tag){case 3:return u.flags|=65536,s=m&-m,u.lanes|=s,s=Xh(u.stateNode,f,s),Ch(u,s),!1;case 1:if(r=u.type,y=u.stateNode,(u.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Es===null||!Es.has(y))))return u.flags|=65536,m&=-m,u.lanes|=m,m=Cy(m),ky(m,s,u,f),Ch(u,m),!1}u=u.return}while(u!==null);return!1}var Ay=Error(n(461)),ze=!1;function Pe(s,r,u,f){r.child=s===null?py(r,null,u,f):sr(r,s.child,u,f)}function My(s,r,u,f,m){u=u.render;var y=r.ref;if("ref"in f){var x={};for(var S in f)S!=="ref"&&(x[S]=f[S])}else x=f;return hl(r),f=Dh(s,r,u,x,y,m),S=Oh(),s!==null&&!ze?(Eh(s,r,m),ts(s,r,m)):(Vt&&S&&fh(r),r.flags|=1,Pe(s,r,f,m),r.child)}function Ty(s,r,u,f,m){if(s===null){var y=u.type;return typeof y=="function"&&!ah(y)&&y.defaultProps===void 0&&u.compare===null?(r.tag=15,r.type=y,Dy(s,r,y,f,m)):(s=Ja(u.type,null,f,r,r.mode,m),s.ref=r.ref,s.return=r,r.child=s)}if(y=s.child,!$h(s,m)){var x=y.memoizedProps;if(u=u.compare,u=u!==null?u:no,u(x,f)&&s.ref===r.ref)return ts(s,r,m)}return r.flags|=1,s=Qi(y,f),s.ref=r.ref,s.return=r,r.child=s}function Dy(s,r,u,f,m){if(s!==null){var y=s.memoizedProps;if(no(y,f)&&s.ref===r.ref)if(ze=!1,r.pendingProps=f=y,$h(s,m))(s.flags&131072)!==0&&(ze=!0);else return r.lanes=s.lanes,ts(s,r,m)}return Ih(s,r,u,f,m)}function Oy(s,r,u){var f=r.pendingProps,m=f.children,y=s!==null?s.memoizedState:null;if(f.mode==="hidden"){if((r.flags&128)!==0){if(f=y!==null?y.baseLanes|u:u,s!==null){for(m=r.child=s.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;r.childLanes=y&~f}else r.childLanes=0,r.child=null;return Ey(s,r,f,u)}if((u&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&iu(r,y!==null?y.cachePool:null),y!==null?D0(r,y):Ah(),gy(r);else return r.lanes=r.childLanes=536870912,Ey(s,r,y!==null?y.baseLanes|u:u,u)}else y!==null?(iu(r,y.cachePool),D0(r,y),ks(),r.memoizedState=null):(s!==null&&iu(r,null),Ah(),ks());return Pe(s,r,m,u),r.child}function Ey(s,r,u,f){var m=vh();return m=m===null?null:{parent:Me._currentValue,pool:m},r.memoizedState={baseLanes:u,cachePool:m},s!==null&&iu(r,null),Ah(),gy(r),s!==null&&oo(s,r,f,!0),null}function xu(s,r){var u=r.ref;if(u===null)s!==null&&s.ref!==null&&(r.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(n(284));(s===null||s.ref!==u)&&(r.flags|=4194816)}}function Ih(s,r,u,f,m){return hl(r),u=Dh(s,r,u,f,void 0,m),f=Oh(),s!==null&&!ze?(Eh(s,r,m),ts(s,r,m)):(Vt&&f&&fh(r),r.flags|=1,Pe(s,r,u,m),r.child)}function Ry(s,r,u,f,m,y){return hl(r),r.updateQueue=null,u=E0(r,f,u,m),O0(s),f=Oh(),s!==null&&!ze?(Eh(s,r,y),ts(s,r,y)):(Vt&&f&&fh(r),r.flags|=1,Pe(s,r,u,y),r.child)}function Ny(s,r,u,f,m){if(hl(r),r.stateNode===null){var y=Kl,x=u.contextType;typeof x=="object"&&x!==null&&(y=Ze(x)),y=new u(f,y),r.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Gh,r.stateNode=y,y._reactInternals=r,y=r.stateNode,y.props=f,y.state=r.memoizedState,y.refs={},Sh(r),x=u.contextType,y.context=typeof x=="object"&&x!==null?Ze(x):Kl,y.state=r.memoizedState,x=u.getDerivedStateFromProps,typeof x=="function"&&(Yh(r,u,x,f),y.state=r.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(x=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),x!==y.state&&Gh.enqueueReplaceState(y,y.state,null),po(r,f,y,m),mo(),y.state=r.memoizedState),typeof y.componentDidMount=="function"&&(r.flags|=4194308),f=!0}else if(s===null){y=r.stateNode;var S=r.memoizedProps,T=pl(u,S);y.props=T;var _=y.context,Q=u.contextType;x=Kl,typeof Q=="object"&&Q!==null&&(x=Ze(Q));var F=u.getDerivedStateFromProps;Q=typeof F=="function"||typeof y.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,Q||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S||_!==x)&&by(r,y,f,x),vs=!1;var q=r.memoizedState;y.state=q,po(r,f,y,m),mo(),_=r.memoizedState,S||q!==_||vs?(typeof F=="function"&&(Yh(r,u,F,f),_=r.memoizedState),(T=vs||yy(r,u,T,f,q,_,x))?(Q||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(r.flags|=4194308)):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=f,r.memoizedState=_),y.props=f,y.state=_,y.context=x,f=T):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),f=!1)}else{y=r.stateNode,wh(s,r),x=r.memoizedProps,Q=pl(u,x),y.props=Q,F=r.pendingProps,q=y.context,_=u.contextType,T=Kl,typeof _=="object"&&_!==null&&(T=Ze(_)),S=u.getDerivedStateFromProps,(_=typeof S=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(x!==F||q!==T)&&by(r,y,f,T),vs=!1,q=r.memoizedState,y.state=q,po(r,f,y,m),mo();var V=r.memoizedState;x!==F||q!==V||vs||s!==null&&s.dependencies!==null&&eu(s.dependencies)?(typeof S=="function"&&(Yh(r,u,S,f),V=r.memoizedState),(Q=vs||yy(r,u,Q,f,q,V,T)||s!==null&&s.dependencies!==null&&eu(s.dependencies))?(_||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(f,V,T),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(f,V,T)),typeof y.componentDidUpdate=="function"&&(r.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof y.componentDidUpdate!="function"||x===s.memoizedProps&&q===s.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||x===s.memoizedProps&&q===s.memoizedState||(r.flags|=1024),r.memoizedProps=f,r.memoizedState=V),y.props=f,y.state=V,y.context=T,f=Q):(typeof y.componentDidUpdate!="function"||x===s.memoizedProps&&q===s.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||x===s.memoizedProps&&q===s.memoizedState||(r.flags|=1024),f=!1)}return y=f,xu(s,r),f=(r.flags&128)!==0,y||f?(y=r.stateNode,u=f&&typeof u.getDerivedStateFromError!="function"?null:y.render(),r.flags|=1,s!==null&&f?(r.child=sr(r,s.child,null,m),r.child=sr(r,null,u,m)):Pe(s,r,u,m),r.memoizedState=y.state,s=r.child):s=ts(s,r,m),s}function By(s,r,u,f){return lo(),r.flags|=256,Pe(s,r,u,f),r.child}var Qh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Kh(s){return{baseLanes:s,cachePool:x0()}}function Wh(s,r,u){return s=s!==null?s.childLanes&~u:0,r&&(s|=Fn),s}function Ly(s,r,u){var f=r.pendingProps,m=!1,y=(r.flags&128)!==0,x;if((x=y)||(x=s!==null&&s.memoizedState===null?!1:(Te.current&2)!==0),x&&(m=!0,r.flags&=-129),x=(r.flags&32)!==0,r.flags&=-33,s===null){if(Vt){if(m?Cs(r):ks(),Vt){var S=de,T;if(T=S){t:{for(T=S,S=Si;T.nodeType!==8;){if(!S){S=null;break t}if(T=di(T.nextSibling),T===null){S=null;break t}}S=T}S!==null?(r.memoizedState={dehydrated:S,treeContext:ol!==null?{id:Ki,overflow:Wi}:null,retryLane:536870912,hydrationErrors:null},T=Dn(18,null,null,0),T.stateNode=S,T.return=r,r.child=T,rn=r,de=null,T=!0):T=!1}T||cl(r)}if(S=r.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return Nd(S)?r.lanes=32:r.lanes=536870912,null;$i(r)}return S=f.children,f=f.fallback,m?(ks(),m=r.mode,S=Su({mode:"hidden",children:S},m),f=rl(f,m,u,null),S.return=r,f.return=r,S.sibling=f,r.child=S,m=r.child,m.memoizedState=Kh(u),m.childLanes=Wh(s,x,u),r.memoizedState=Qh,f):(Cs(r),Fh(r,S))}if(T=s.memoizedState,T!==null&&(S=T.dehydrated,S!==null)){if(y)r.flags&256?(Cs(r),r.flags&=-257,r=Zh(s,r,u)):r.memoizedState!==null?(ks(),r.child=s.child,r.flags|=128,r=null):(ks(),m=f.fallback,S=r.mode,f=Su({mode:"visible",children:f.children},S),m=rl(m,S,u,null),m.flags|=2,f.return=r,m.return=r,f.sibling=m,r.child=f,sr(r,s.child,null,u),f=r.child,f.memoizedState=Kh(u),f.childLanes=Wh(s,x,u),r.memoizedState=Qh,r=m);else if(Cs(r),Nd(S)){if(x=S.nextSibling&&S.nextSibling.dataset,x)var _=x.dgst;x=_,f=Error(n(419)),f.stack="",f.digest=x,ro({value:f,source:null,stack:null}),r=Zh(s,r,u)}else if(ze||oo(s,r,u,!1),x=(u&s.childLanes)!==0,ze||x){if(x=ie,x!==null&&(f=u&-u,f=(f&42)!==0?1:Ht(f),f=(f&(x.suspendedLanes|u))!==0?0:f,f!==0&&f!==T.retryLane))throw T.retryLane=f,Ql(s,f),Bn(x,s,f),Ay;S.data==="$?"||pd(),r=Zh(s,r,u)}else S.data==="$?"?(r.flags|=192,r.child=s.child,r=null):(s=T.treeContext,de=di(S.nextSibling),rn=r,Vt=!0,ul=null,Si=!1,s!==null&&(Qn[Kn++]=Ki,Qn[Kn++]=Wi,Qn[Kn++]=ol,Ki=s.id,Wi=s.overflow,ol=r),r=Fh(r,f.children),r.flags|=4096);return r}return m?(ks(),m=f.fallback,S=r.mode,T=s.child,_=T.sibling,f=Qi(T,{mode:"hidden",children:f.children}),f.subtreeFlags=T.subtreeFlags&65011712,_!==null?m=Qi(_,m):(m=rl(m,S,u,null),m.flags|=2),m.return=r,f.return=r,f.sibling=m,r.child=f,f=m,m=r.child,S=s.child.memoizedState,S===null?S=Kh(u):(T=S.cachePool,T!==null?(_=Me._currentValue,T=T.parent!==_?{parent:_,pool:_}:T):T=x0(),S={baseLanes:S.baseLanes|u,cachePool:T}),m.memoizedState=S,m.childLanes=Wh(s,x,u),r.memoizedState=Qh,f):(Cs(r),u=s.child,s=u.sibling,u=Qi(u,{mode:"visible",children:f.children}),u.return=r,u.sibling=null,s!==null&&(x=r.deletions,x===null?(r.deletions=[s],r.flags|=16):x.push(s)),r.child=u,r.memoizedState=null,u)}function Fh(s,r){return r=Su({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function Su(s,r){return s=Dn(22,s,null,r),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function Zh(s,r,u){return sr(r,s.child,null,u),s=Fh(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function zy(s,r,u){s.lanes|=r;var f=s.alternate;f!==null&&(f.lanes|=r),ph(s.return,r,u)}function Jh(s,r,u,f,m){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:m}:(y.isBackwards=r,y.rendering=null,y.renderingStartTime=0,y.last=f,y.tail=u,y.tailMode=m)}function Hy(s,r,u){var f=r.pendingProps,m=f.revealOrder,y=f.tail;if(Pe(s,r,f.children,u),f=Te.current,(f&2)!==0)f=f&1|2,r.flags|=128;else{if(s!==null&&(s.flags&128)!==0)t:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&zy(s,u,r);else if(s.tag===19)zy(s,u,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break t;for(;s.sibling===null;){if(s.return===null||s.return===r)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}switch(X(Te,f),m){case"forwards":for(u=r.child,m=null;u!==null;)s=u.alternate,s!==null&&yu(s)===null&&(m=u),u=u.sibling;u=m,u===null?(m=r.child,r.child=null):(m=u.sibling,u.sibling=null),Jh(r,!1,m,u,y);break;case"backwards":for(u=null,m=r.child,r.child=null;m!==null;){if(s=m.alternate,s!==null&&yu(s)===null){r.child=m;break}s=m.sibling,m.sibling=u,u=m,m=s}Jh(r,!0,u,null,y);break;case"together":Jh(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function ts(s,r,u){if(s!==null&&(r.dependencies=s.dependencies),Os|=r.lanes,(u&r.childLanes)===0)if(s!==null){if(oo(s,r,u,!1),(u&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(n(153));if(r.child!==null){for(s=r.child,u=Qi(s,s.pendingProps),r.child=u,u.return=r;s.sibling!==null;)s=s.sibling,u=u.sibling=Qi(s,s.pendingProps),u.return=r;u.sibling=null}return r.child}function $h(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&eu(s)))}function mk(s,r,u){switch(r.tag){case 3:yt(r,r.stateNode.containerInfo),bs(r,Me,s.memoizedState.cache),lo();break;case 27:case 5:Et(r);break;case 4:yt(r,r.stateNode.containerInfo);break;case 10:bs(r,r.type,r.memoizedProps.value);break;case 13:var f=r.memoizedState;if(f!==null)return f.dehydrated!==null?(Cs(r),r.flags|=128,null):(u&r.child.childLanes)!==0?Ly(s,r,u):(Cs(r),s=ts(s,r,u),s!==null?s.sibling:null);Cs(r);break;case 19:var m=(s.flags&128)!==0;if(f=(u&r.childLanes)!==0,f||(oo(s,r,u,!1),f=(u&r.childLanes)!==0),m){if(f)return Hy(s,r,u);r.flags|=128}if(m=r.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),X(Te,Te.current),f)break;return null;case 22:case 23:return r.lanes=0,Oy(s,r,u);case 24:bs(r,Me,s.memoizedState.cache)}return ts(s,r,u)}function jy(s,r,u){if(s!==null)if(s.memoizedProps!==r.pendingProps)ze=!0;else{if(!$h(s,u)&&(r.flags&128)===0)return ze=!1,mk(s,r,u);ze=(s.flags&131072)!==0}else ze=!1,Vt&&(r.flags&1048576)!==0&&d0(r,tu,r.index);switch(r.lanes=0,r.tag){case 16:t:{s=r.pendingProps;var f=r.elementType,m=f._init;if(f=m(f._payload),r.type=f,typeof f=="function")ah(f)?(s=pl(f,s),r.tag=1,r=Ny(null,r,f,s,u)):(r.tag=0,r=Ih(null,r,f,s,u));else{if(f!=null){if(m=f.$$typeof,m===E){r.tag=11,r=My(null,r,f,s,u);break t}else if(m===U){r.tag=14,r=Ty(null,r,f,s,u);break t}}throw r=pt(f)||f,Error(n(306,r,""))}}return r;case 0:return Ih(s,r,r.type,r.pendingProps,u);case 1:return f=r.type,m=pl(f,r.pendingProps),Ny(s,r,f,m,u);case 3:t:{if(yt(r,r.stateNode.containerInfo),s===null)throw Error(n(387));f=r.pendingProps;var y=r.memoizedState;m=y.element,wh(s,r),po(r,f,null,u);var x=r.memoizedState;if(f=x.cache,bs(r,Me,f),f!==y.cache&&gh(r,[Me],u,!0),mo(),f=x.element,y.isDehydrated)if(y={element:f,isDehydrated:!1,cache:x.cache},r.updateQueue.baseState=y,r.memoizedState=y,r.flags&256){r=By(s,r,f,u);break t}else if(f!==m){m=Xn(Error(n(424)),r),ro(m),r=By(s,r,f,u);break t}else{switch(s=r.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(de=di(s.firstChild),rn=r,Vt=!0,ul=null,Si=!0,u=py(r,null,f,u),r.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(lo(),f===m){r=ts(s,r,u);break t}Pe(s,r,f,u)}r=r.child}return r;case 26:return xu(s,r),s===null?(u=Vb(r.type,null,r.pendingProps,null))?r.memoizedState=u:Vt||(u=r.type,s=r.pendingProps,f=zu(rt.current).createElement(u),f[Gt]=r,f[Rt]=s,Ge(f,u,s),Le(f),r.stateNode=f):r.memoizedState=Vb(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return Et(r),s===null&&Vt&&(f=r.stateNode=_b(r.type,r.pendingProps,rt.current),rn=r,Si=!0,m=de,Bs(r.type)?(Bd=m,de=di(f.firstChild)):de=m),Pe(s,r,r.pendingProps.children,u),xu(s,r),s===null&&(r.flags|=4194304),r.child;case 5:return s===null&&Vt&&((m=f=de)&&(f=Pk(f,r.type,r.pendingProps,Si),f!==null?(r.stateNode=f,rn=r,de=di(f.firstChild),Si=!1,m=!0):m=!1),m||cl(r)),Et(r),m=r.type,y=r.pendingProps,x=s!==null?s.memoizedProps:null,f=y.children,Od(m,y)?f=null:x!==null&&Od(m,x)&&(r.flags|=32),r.memoizedState!==null&&(m=Dh(s,r,rk,null,null,u),jo._currentValue=m),xu(s,r),Pe(s,r,f,u),r.child;case 6:return s===null&&Vt&&((s=u=de)&&(u=Yk(u,r.pendingProps,Si),u!==null?(r.stateNode=u,rn=r,de=null,s=!0):s=!1),s||cl(r)),null;case 13:return Ly(s,r,u);case 4:return yt(r,r.stateNode.containerInfo),f=r.pendingProps,s===null?r.child=sr(r,null,f,u):Pe(s,r,f,u),r.child;case 11:return My(s,r,r.type,r.pendingProps,u);case 7:return Pe(s,r,r.pendingProps,u),r.child;case 8:return Pe(s,r,r.pendingProps.children,u),r.child;case 12:return Pe(s,r,r.pendingProps.children,u),r.child;case 10:return f=r.pendingProps,bs(r,r.type,f.value),Pe(s,r,f.children,u),r.child;case 9:return m=r.type._context,f=r.pendingProps.children,hl(r),m=Ze(m),f=f(m),r.flags|=1,Pe(s,r,f,u),r.child;case 14:return Ty(s,r,r.type,r.pendingProps,u);case 15:return Dy(s,r,r.type,r.pendingProps,u);case 19:return Hy(s,r,u);case 31:return f=r.pendingProps,u=r.mode,f={mode:f.mode,children:f.children},s===null?(u=Su(f,u),u.ref=r.ref,r.child=u,u.return=r,r=u):(u=Qi(s.child,f),u.ref=r.ref,r.child=u,u.return=r,r=u),r;case 22:return Oy(s,r,u);case 24:return hl(r),f=Ze(Me),s===null?(m=vh(),m===null&&(m=ie,y=yh(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=u),m=y),r.memoizedState={parent:f,cache:m},Sh(r),bs(r,Me,m)):((s.lanes&u)!==0&&(wh(s,r),po(r,null,null,u),mo()),m=s.memoizedState,y=r.memoizedState,m.parent!==f?(m={parent:f,cache:f},r.memoizedState=m,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=m),bs(r,Me,f)):(f=y.cache,bs(r,Me,f),f!==m.cache&&gh(r,[Me],u,!0))),Pe(s,r,r.pendingProps.children,u),r.child;case 29:throw r.pendingProps}throw Error(n(156,r.tag))}function es(s){s.flags|=4}function _y(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!Ib(r)){if(r=Wn.current,r!==null&&((zt&4194048)===zt?wi!==null:(zt&62914560)!==zt&&(zt&536870912)===0||r!==wi))throw fo=xh,S0;s.flags|=8192}}function wu(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?Bl():536870912,s.lanes|=r,ar|=r)}function wo(s,r){if(!Vt)switch(s.tailMode){case"hidden":r=s.tail;for(var u=null;r!==null;)r.alternate!==null&&(u=r),r=r.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function fe(s){var r=s.alternate!==null&&s.alternate.child===s.child,u=0,f=0;if(r)for(var m=s.child;m!==null;)u|=m.lanes|m.childLanes,f|=m.subtreeFlags&65011712,f|=m.flags&65011712,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)u|=m.lanes|m.childLanes,f|=m.subtreeFlags,f|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=f,s.childLanes=u,r}function pk(s,r,u){var f=r.pendingProps;switch(hh(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fe(r),null;case 1:return fe(r),null;case 3:return u=r.stateNode,f=null,s!==null&&(f=s.memoizedState.cache),r.memoizedState.cache!==f&&(r.flags|=2048),Zi(Me),se(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(s===null||s.child===null)&&(so(r)?es(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,g0())),fe(r),null;case 26:return u=r.memoizedState,s===null?(es(r),u!==null?(fe(r),_y(r,u)):(fe(r),r.flags&=-16777217)):u?u!==s.memoizedState?(es(r),fe(r),_y(r,u)):(fe(r),r.flags&=-16777217):(s.memoizedProps!==f&&es(r),fe(r),r.flags&=-16777217),null;case 27:sn(r),u=rt.current;var m=r.type;if(s!==null&&r.stateNode!=null)s.memoizedProps!==f&&es(r);else{if(!f){if(r.stateNode===null)throw Error(n(166));return fe(r),null}s=nt.current,so(r)?m0(r):(s=_b(m,f,u),r.stateNode=s,es(r))}return fe(r),null;case 5:if(sn(r),u=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==f&&es(r);else{if(!f){if(r.stateNode===null)throw Error(n(166));return fe(r),null}if(s=nt.current,so(r))m0(r);else{switch(m=zu(rt.current),s){case 1:s=m.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:s=m.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":s=m.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":s=m.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":s=m.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof f.is=="string"?m.createElement("select",{is:f.is}):m.createElement("select"),f.multiple?s.multiple=!0:f.size&&(s.size=f.size);break;default:s=typeof f.is=="string"?m.createElement(u,{is:f.is}):m.createElement(u)}}s[Gt]=r,s[Rt]=f;t:for(m=r.child;m!==null;){if(m.tag===5||m.tag===6)s.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===r)break t;for(;m.sibling===null;){if(m.return===null||m.return===r)break t;m=m.return}m.sibling.return=m.return,m=m.sibling}r.stateNode=s;t:switch(Ge(s,u,f),u){case"button":case"input":case"select":case"textarea":s=!!f.autoFocus;break t;case"img":s=!0;break t;default:s=!1}s&&es(r)}}return fe(r),r.flags&=-16777217,null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==f&&es(r);else{if(typeof f!="string"&&r.stateNode===null)throw Error(n(166));if(s=rt.current,so(r)){if(s=r.stateNode,u=r.memoizedProps,f=null,m=rn,m!==null)switch(m.tag){case 27:case 5:f=m.memoizedProps}s[Gt]=r,s=!!(s.nodeValue===u||f!==null&&f.suppressHydrationWarning===!0||Rb(s.nodeValue,u)),s||cl(r)}else s=zu(s).createTextNode(f),s[Gt]=r,r.stateNode=s}return fe(r),null;case 13:if(f=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(m=so(r),f!==null&&f.dehydrated!==null){if(s===null){if(!m)throw Error(n(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(n(317));m[Gt]=r}else lo(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;fe(r),m=!1}else m=g0(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=m),m=!0;if(!m)return r.flags&256?($i(r),r):($i(r),null)}if($i(r),(r.flags&128)!==0)return r.lanes=u,r;if(u=f!==null,s=s!==null&&s.memoizedState!==null,u){f=r.child,m=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(m=f.alternate.memoizedState.cachePool.pool);var y=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(y=f.memoizedState.cachePool.pool),y!==m&&(f.flags|=2048)}return u!==s&&u&&(r.child.flags|=8192),wu(r,r.updateQueue),fe(r),null;case 4:return se(),s===null&&kd(r.stateNode.containerInfo),fe(r),null;case 10:return Zi(r.type),fe(r),null;case 19:if(J(Te),m=r.memoizedState,m===null)return fe(r),null;if(f=(r.flags&128)!==0,y=m.rendering,y===null)if(f)wo(m,!1);else{if(me!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(y=yu(s),y!==null){for(r.flags|=128,wo(m,!1),s=y.updateQueue,r.updateQueue=s,wu(r,s),r.subtreeFlags=0,s=u,u=r.child;u!==null;)h0(u,s),u=u.sibling;return X(Te,Te.current&1|2),r.child}s=s.sibling}m.tail!==null&&Ae()>Au&&(r.flags|=128,f=!0,wo(m,!1),r.lanes=4194304)}else{if(!f)if(s=yu(y),s!==null){if(r.flags|=128,f=!0,s=s.updateQueue,r.updateQueue=s,wu(r,s),wo(m,!0),m.tail===null&&m.tailMode==="hidden"&&!y.alternate&&!Vt)return fe(r),null}else 2*Ae()-m.renderingStartTime>Au&&u!==536870912&&(r.flags|=128,f=!0,wo(m,!1),r.lanes=4194304);m.isBackwards?(y.sibling=r.child,r.child=y):(s=m.last,s!==null?s.sibling=y:r.child=y,m.last=y)}return m.tail!==null?(r=m.tail,m.rendering=r,m.tail=r.sibling,m.renderingStartTime=Ae(),r.sibling=null,s=Te.current,X(Te,f?s&1|2:s&1),r):(fe(r),null);case 22:case 23:return $i(r),Mh(),f=r.memoizedState!==null,s!==null?s.memoizedState!==null!==f&&(r.flags|=8192):f&&(r.flags|=8192),f?(u&536870912)!==0&&(r.flags&128)===0&&(fe(r),r.subtreeFlags&6&&(r.flags|=8192)):fe(r),u=r.updateQueue,u!==null&&wu(r,u.retryQueue),u=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),f=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(f=r.memoizedState.cachePool.pool),f!==u&&(r.flags|=2048),s!==null&&J(dl),null;case 24:return u=null,s!==null&&(u=s.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),Zi(Me),fe(r),null;case 25:return null;case 30:return null}throw Error(n(156,r.tag))}function gk(s,r){switch(hh(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return Zi(Me),se(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return sn(r),null;case 13:if($i(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(n(340));lo()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return J(Te),null;case 4:return se(),null;case 10:return Zi(r.type),null;case 22:case 23:return $i(r),Mh(),s!==null&&J(dl),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return Zi(Me),null;case 25:return null;default:return null}}function Uy(s,r){switch(hh(r),r.tag){case 3:Zi(Me),se();break;case 26:case 27:case 5:sn(r);break;case 4:se();break;case 13:$i(r);break;case 19:J(Te);break;case 10:Zi(r.type);break;case 22:case 23:$i(r),Mh(),s!==null&&J(dl);break;case 24:Zi(Me)}}function Co(s,r){try{var u=r.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var m=f.next;u=m;do{if((u.tag&s)===s){f=void 0;var y=u.create,x=u.inst;f=y(),x.destroy=f}u=u.next}while(u!==m)}}catch(S){Jt(r,r.return,S)}}function As(s,r,u){try{var f=r.updateQueue,m=f!==null?f.lastEffect:null;if(m!==null){var y=m.next;f=y;do{if((f.tag&s)===s){var x=f.inst,S=x.destroy;if(S!==void 0){x.destroy=void 0,m=r;var T=u,_=S;try{_()}catch(Q){Jt(m,T,Q)}}}f=f.next}while(f!==y)}}catch(Q){Jt(r,r.return,Q)}}function qy(s){var r=s.updateQueue;if(r!==null){var u=s.stateNode;try{T0(r,u)}catch(f){Jt(s,s.return,f)}}}function Vy(s,r,u){u.props=pl(s.type,s.memoizedProps),u.state=s.memoizedState;try{u.componentWillUnmount()}catch(f){Jt(s,r,f)}}function ko(s,r){try{var u=s.ref;if(u!==null){switch(s.tag){case 26:case 27:case 5:var f=s.stateNode;break;case 30:f=s.stateNode;break;default:f=s.stateNode}typeof u=="function"?s.refCleanup=u(f):u.current=f}}catch(m){Jt(s,r,m)}}function Ci(s,r){var u=s.ref,f=s.refCleanup;if(u!==null)if(typeof f=="function")try{f()}catch(m){Jt(s,r,m)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(m){Jt(s,r,m)}else u.current=null}function Py(s){var r=s.type,u=s.memoizedProps,f=s.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":u.autoFocus&&f.focus();break t;case"img":u.src?f.src=u.src:u.srcSet&&(f.srcset=u.srcSet)}}catch(m){Jt(s,s.return,m)}}function td(s,r,u){try{var f=s.stateNode;jk(f,s.type,u,r),f[Rt]=r}catch(m){Jt(s,s.return,m)}}function Yy(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Bs(s.type)||s.tag===4}function ed(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||Yy(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Bs(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function nd(s,r,u){var f=s.tag;if(f===5||f===6)s=s.stateNode,r?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(s,r):(r=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,r.appendChild(s),u=u._reactRootContainer,u!=null||r.onclick!==null||(r.onclick=Lu));else if(f!==4&&(f===27&&Bs(s.type)&&(u=s.stateNode,r=null),s=s.child,s!==null))for(nd(s,r,u),s=s.sibling;s!==null;)nd(s,r,u),s=s.sibling}function Cu(s,r,u){var f=s.tag;if(f===5||f===6)s=s.stateNode,r?u.insertBefore(s,r):u.appendChild(s);else if(f!==4&&(f===27&&Bs(s.type)&&(u=s.stateNode),s=s.child,s!==null))for(Cu(s,r,u),s=s.sibling;s!==null;)Cu(s,r,u),s=s.sibling}function Gy(s){var r=s.stateNode,u=s.memoizedProps;try{for(var f=s.type,m=r.attributes;m.length;)r.removeAttributeNode(m[0]);Ge(r,f,u),r[Gt]=s,r[Rt]=u}catch(y){Jt(s,s.return,y)}}var ns=!1,ye=!1,id=!1,Xy=typeof WeakSet=="function"?WeakSet:Set,He=null;function yk(s,r){if(s=s.containerInfo,Td=Vu,s=n0(s),eh(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else t:{u=(u=s.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var m=f.anchorOffset,y=f.focusNode;f=f.focusOffset;try{u.nodeType,y.nodeType}catch{u=null;break t}var x=0,S=-1,T=-1,_=0,Q=0,F=s,q=null;e:for(;;){for(var V;F!==u||m!==0&&F.nodeType!==3||(S=x+m),F!==y||f!==0&&F.nodeType!==3||(T=x+f),F.nodeType===3&&(x+=F.nodeValue.length),(V=F.firstChild)!==null;)q=F,F=V;for(;;){if(F===s)break e;if(q===u&&++_===m&&(S=x),q===y&&++Q===f&&(T=x),(V=F.nextSibling)!==null)break;F=q,q=F.parentNode}F=V}u=S===-1||T===-1?null:{start:S,end:T}}else u=null}u=u||{start:0,end:0}}else u=null;for(Dd={focusedElem:s,selectionRange:u},Vu=!1,He=r;He!==null;)if(r=He,s=r.child,(r.subtreeFlags&1024)!==0&&s!==null)s.return=r,He=s;else for(;He!==null;){switch(r=He,y=r.alternate,s=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&y!==null){s=void 0,u=r,m=y.memoizedProps,y=y.memoizedState,f=u.stateNode;try{var Ct=pl(u.type,m,u.elementType===u.type);s=f.getSnapshotBeforeUpdate(Ct,y),f.__reactInternalSnapshotBeforeUpdate=s}catch(St){Jt(u,u.return,St)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,u=s.nodeType,u===9)Rd(s);else if(u===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Rd(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(n(163))}if(s=r.sibling,s!==null){s.return=r.return,He=s;break}He=r.return}}function Iy(s,r,u){var f=u.flags;switch(u.tag){case 0:case 11:case 15:Ms(s,u),f&4&&Co(5,u);break;case 1:if(Ms(s,u),f&4)if(s=u.stateNode,r===null)try{s.componentDidMount()}catch(x){Jt(u,u.return,x)}else{var m=pl(u.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(m,r,s.__reactInternalSnapshotBeforeUpdate)}catch(x){Jt(u,u.return,x)}}f&64&&qy(u),f&512&&ko(u,u.return);break;case 3:if(Ms(s,u),f&64&&(s=u.updateQueue,s!==null)){if(r=null,u.child!==null)switch(u.child.tag){case 27:case 5:r=u.child.stateNode;break;case 1:r=u.child.stateNode}try{T0(s,r)}catch(x){Jt(u,u.return,x)}}break;case 27:r===null&&f&4&&Gy(u);case 26:case 5:Ms(s,u),r===null&&f&4&&Py(u),f&512&&ko(u,u.return);break;case 12:Ms(s,u);break;case 13:Ms(s,u),f&4&&Wy(s,u),f&64&&(s=u.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(u=Mk.bind(null,u),Gk(s,u))));break;case 22:if(f=u.memoizedState!==null||ns,!f){r=r!==null&&r.memoizedState!==null||ye,m=ns;var y=ye;ns=f,(ye=r)&&!y?Ts(s,u,(u.subtreeFlags&8772)!==0):Ms(s,u),ns=m,ye=y}break;case 30:break;default:Ms(s,u)}}function Qy(s){var r=s.alternate;r!==null&&(s.alternate=null,Qy(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&Hf(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var ae=null,mn=!1;function is(s,r,u){for(u=u.child;u!==null;)Ky(s,r,u),u=u.sibling}function Ky(s,r,u){if(he&&typeof he.onCommitFiberUnmount=="function")try{he.onCommitFiberUnmount(Vn,u)}catch{}switch(u.tag){case 26:ye||Ci(u,r),is(s,r,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:ye||Ci(u,r);var f=ae,m=mn;Bs(u.type)&&(ae=u.stateNode,mn=!1),is(s,r,u),Bo(u.stateNode),ae=f,mn=m;break;case 5:ye||Ci(u,r);case 6:if(f=ae,m=mn,ae=null,is(s,r,u),ae=f,mn=m,ae!==null)if(mn)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(u.stateNode)}catch(y){Jt(u,r,y)}else try{ae.removeChild(u.stateNode)}catch(y){Jt(u,r,y)}break;case 18:ae!==null&&(mn?(s=ae,Hb(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,u.stateNode),Vo(s)):Hb(ae,u.stateNode));break;case 4:f=ae,m=mn,ae=u.stateNode.containerInfo,mn=!0,is(s,r,u),ae=f,mn=m;break;case 0:case 11:case 14:case 15:ye||As(2,u,r),ye||As(4,u,r),is(s,r,u);break;case 1:ye||(Ci(u,r),f=u.stateNode,typeof f.componentWillUnmount=="function"&&Vy(u,r,f)),is(s,r,u);break;case 21:is(s,r,u);break;case 22:ye=(f=ye)||u.memoizedState!==null,is(s,r,u),ye=f;break;default:is(s,r,u)}}function Wy(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Vo(s)}catch(u){Jt(r,r.return,u)}}function bk(s){switch(s.tag){case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new Xy),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new Xy),r;default:throw Error(n(435,s.tag))}}function sd(s,r){var u=bk(s);r.forEach(function(f){var m=Tk.bind(null,s,f);u.has(f)||(u.add(f),f.then(m,m))})}function On(s,r){var u=r.deletions;if(u!==null)for(var f=0;f<u.length;f++){var m=u[f],y=s,x=r,S=x;t:for(;S!==null;){switch(S.tag){case 27:if(Bs(S.type)){ae=S.stateNode,mn=!1;break t}break;case 5:ae=S.stateNode,mn=!1;break t;case 3:case 4:ae=S.stateNode.containerInfo,mn=!0;break t}S=S.return}if(ae===null)throw Error(n(160));Ky(y,x,m),ae=null,mn=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Fy(r,s),r=r.sibling}var hi=null;function Fy(s,r){var u=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:On(r,s),En(s),f&4&&(As(3,s,s.return),Co(3,s),As(5,s,s.return));break;case 1:On(r,s),En(s),f&512&&(ye||u===null||Ci(u,u.return)),f&64&&ns&&(s=s.updateQueue,s!==null&&(f=s.callbacks,f!==null&&(u=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=u===null?f:u.concat(f))));break;case 26:var m=hi;if(On(r,s),En(s),f&512&&(ye||u===null||Ci(u,u.return)),f&4){var y=u!==null?u.memoizedState:null;if(f=s.memoizedState,u===null)if(f===null)if(s.stateNode===null){t:{f=s.type,u=s.memoizedProps,m=m.ownerDocument||m;e:switch(f){case"title":y=m.getElementsByTagName("title")[0],(!y||y[Gi]||y[Gt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(f),m.head.insertBefore(y,m.querySelector("head > title"))),Ge(y,f,u),y[Gt]=s,Le(y),f=y;break t;case"link":var x=Gb("link","href",m).get(f+(u.href||""));if(x){for(var S=0;S<x.length;S++)if(y=x[S],y.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&y.getAttribute("rel")===(u.rel==null?null:u.rel)&&y.getAttribute("title")===(u.title==null?null:u.title)&&y.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){x.splice(S,1);break e}}y=m.createElement(f),Ge(y,f,u),m.head.appendChild(y);break;case"meta":if(x=Gb("meta","content",m).get(f+(u.content||""))){for(S=0;S<x.length;S++)if(y=x[S],y.getAttribute("content")===(u.content==null?null:""+u.content)&&y.getAttribute("name")===(u.name==null?null:u.name)&&y.getAttribute("property")===(u.property==null?null:u.property)&&y.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&y.getAttribute("charset")===(u.charSet==null?null:u.charSet)){x.splice(S,1);break e}}y=m.createElement(f),Ge(y,f,u),m.head.appendChild(y);break;default:throw Error(n(468,f))}y[Gt]=s,Le(y),f=y}s.stateNode=f}else Xb(m,s.type,s.stateNode);else s.stateNode=Yb(m,f,s.memoizedProps);else y!==f?(y===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):y.count--,f===null?Xb(m,s.type,s.stateNode):Yb(m,f,s.memoizedProps)):f===null&&s.stateNode!==null&&td(s,s.memoizedProps,u.memoizedProps)}break;case 27:On(r,s),En(s),f&512&&(ye||u===null||Ci(u,u.return)),u!==null&&f&4&&td(s,s.memoizedProps,u.memoizedProps);break;case 5:if(On(r,s),En(s),f&512&&(ye||u===null||Ci(u,u.return)),s.flags&32){m=s.stateNode;try{ql(m,"")}catch(V){Jt(s,s.return,V)}}f&4&&s.stateNode!=null&&(m=s.memoizedProps,td(s,m,u!==null?u.memoizedProps:m)),f&1024&&(id=!0);break;case 6:if(On(r,s),En(s),f&4){if(s.stateNode===null)throw Error(n(162));f=s.memoizedProps,u=s.stateNode;try{u.nodeValue=f}catch(V){Jt(s,s.return,V)}}break;case 3:if(_u=null,m=hi,hi=Hu(r.containerInfo),On(r,s),hi=m,En(s),f&4&&u!==null&&u.memoizedState.isDehydrated)try{Vo(r.containerInfo)}catch(V){Jt(s,s.return,V)}id&&(id=!1,Zy(s));break;case 4:f=hi,hi=Hu(s.stateNode.containerInfo),On(r,s),En(s),hi=f;break;case 12:On(r,s),En(s);break;case 13:On(r,s),En(s),s.child.flags&8192&&s.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(cd=Ae()),f&4&&(f=s.updateQueue,f!==null&&(s.updateQueue=null,sd(s,f)));break;case 22:m=s.memoizedState!==null;var T=u!==null&&u.memoizedState!==null,_=ns,Q=ye;if(ns=_||m,ye=Q||T,On(r,s),ye=Q,ns=_,En(s),f&8192)t:for(r=s.stateNode,r._visibility=m?r._visibility&-2:r._visibility|1,m&&(u===null||T||ns||ye||gl(s)),u=null,r=s;;){if(r.tag===5||r.tag===26){if(u===null){T=u=r;try{if(y=T.stateNode,m)x=y.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{S=T.stateNode;var F=T.memoizedProps.style,q=F!=null&&F.hasOwnProperty("display")?F.display:null;S.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(V){Jt(T,T.return,V)}}}else if(r.tag===6){if(u===null){T=r;try{T.stateNode.nodeValue=m?"":T.memoizedProps}catch(V){Jt(T,T.return,V)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break t;for(;r.sibling===null;){if(r.return===null||r.return===s)break t;u===r&&(u=null),r=r.return}u===r&&(u=null),r.sibling.return=r.return,r=r.sibling}f&4&&(f=s.updateQueue,f!==null&&(u=f.retryQueue,u!==null&&(f.retryQueue=null,sd(s,u))));break;case 19:On(r,s),En(s),f&4&&(f=s.updateQueue,f!==null&&(s.updateQueue=null,sd(s,f)));break;case 30:break;case 21:break;default:On(r,s),En(s)}}function En(s){var r=s.flags;if(r&2){try{for(var u,f=s.return;f!==null;){if(Yy(f)){u=f;break}f=f.return}if(u==null)throw Error(n(160));switch(u.tag){case 27:var m=u.stateNode,y=ed(s);Cu(s,y,m);break;case 5:var x=u.stateNode;u.flags&32&&(ql(x,""),u.flags&=-33);var S=ed(s);Cu(s,S,x);break;case 3:case 4:var T=u.stateNode.containerInfo,_=ed(s);nd(s,_,T);break;default:throw Error(n(161))}}catch(Q){Jt(s,s.return,Q)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function Zy(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;Zy(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function Ms(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Iy(s,r.alternate,r),r=r.sibling}function gl(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:As(4,r,r.return),gl(r);break;case 1:Ci(r,r.return);var u=r.stateNode;typeof u.componentWillUnmount=="function"&&Vy(r,r.return,u),gl(r);break;case 27:Bo(r.stateNode);case 26:case 5:Ci(r,r.return),gl(r);break;case 22:r.memoizedState===null&&gl(r);break;case 30:gl(r);break;default:gl(r)}s=s.sibling}}function Ts(s,r,u){for(u=u&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var f=r.alternate,m=s,y=r,x=y.flags;switch(y.tag){case 0:case 11:case 15:Ts(m,y,u),Co(4,y);break;case 1:if(Ts(m,y,u),f=y,m=f.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(_){Jt(f,f.return,_)}if(f=y,m=f.updateQueue,m!==null){var S=f.stateNode;try{var T=m.shared.hiddenCallbacks;if(T!==null)for(m.shared.hiddenCallbacks=null,m=0;m<T.length;m++)M0(T[m],S)}catch(_){Jt(f,f.return,_)}}u&&x&64&&qy(y),ko(y,y.return);break;case 27:Gy(y);case 26:case 5:Ts(m,y,u),u&&f===null&&x&4&&Py(y),ko(y,y.return);break;case 12:Ts(m,y,u);break;case 13:Ts(m,y,u),u&&x&4&&Wy(m,y);break;case 22:y.memoizedState===null&&Ts(m,y,u),ko(y,y.return);break;case 30:break;default:Ts(m,y,u)}r=r.sibling}}function ld(s,r){var u=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==u&&(s!=null&&s.refCount++,u!=null&&ao(u))}function rd(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&ao(s))}function ki(s,r,u,f){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Jy(s,r,u,f),r=r.sibling}function Jy(s,r,u,f){var m=r.flags;switch(r.tag){case 0:case 11:case 15:ki(s,r,u,f),m&2048&&Co(9,r);break;case 1:ki(s,r,u,f);break;case 3:ki(s,r,u,f),m&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&ao(s)));break;case 12:if(m&2048){ki(s,r,u,f),s=r.stateNode;try{var y=r.memoizedProps,x=y.id,S=y.onPostCommit;typeof S=="function"&&S(x,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(T){Jt(r,r.return,T)}}else ki(s,r,u,f);break;case 13:ki(s,r,u,f);break;case 23:break;case 22:y=r.stateNode,x=r.alternate,r.memoizedState!==null?y._visibility&2?ki(s,r,u,f):Ao(s,r):y._visibility&2?ki(s,r,u,f):(y._visibility|=2,lr(s,r,u,f,(r.subtreeFlags&10256)!==0)),m&2048&&ld(x,r);break;case 24:ki(s,r,u,f),m&2048&&rd(r.alternate,r);break;default:ki(s,r,u,f)}}function lr(s,r,u,f,m){for(m=m&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var y=s,x=r,S=u,T=f,_=x.flags;switch(x.tag){case 0:case 11:case 15:lr(y,x,S,T,m),Co(8,x);break;case 23:break;case 22:var Q=x.stateNode;x.memoizedState!==null?Q._visibility&2?lr(y,x,S,T,m):Ao(y,x):(Q._visibility|=2,lr(y,x,S,T,m)),m&&_&2048&&ld(x.alternate,x);break;case 24:lr(y,x,S,T,m),m&&_&2048&&rd(x.alternate,x);break;default:lr(y,x,S,T,m)}r=r.sibling}}function Ao(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var u=s,f=r,m=f.flags;switch(f.tag){case 22:Ao(u,f),m&2048&&ld(f.alternate,f);break;case 24:Ao(u,f),m&2048&&rd(f.alternate,f);break;default:Ao(u,f)}r=r.sibling}}var Mo=8192;function rr(s){if(s.subtreeFlags&Mo)for(s=s.child;s!==null;)$y(s),s=s.sibling}function $y(s){switch(s.tag){case 26:rr(s),s.flags&Mo&&s.memoizedState!==null&&iA(hi,s.memoizedState,s.memoizedProps);break;case 5:rr(s);break;case 3:case 4:var r=hi;hi=Hu(s.stateNode.containerInfo),rr(s),hi=r;break;case 22:s.memoizedState===null&&(r=s.alternate,r!==null&&r.memoizedState!==null?(r=Mo,Mo=16777216,rr(s),Mo=r):rr(s));break;default:rr(s)}}function tb(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function To(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var u=0;u<r.length;u++){var f=r[u];He=f,nb(f,s)}tb(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)eb(s),s=s.sibling}function eb(s){switch(s.tag){case 0:case 11:case 15:To(s),s.flags&2048&&As(9,s,s.return);break;case 3:To(s);break;case 12:To(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&2&&(s.return===null||s.return.tag!==13)?(r._visibility&=-3,ku(s)):To(s);break;default:To(s)}}function ku(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var u=0;u<r.length;u++){var f=r[u];He=f,nb(f,s)}tb(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:As(8,r,r.return),ku(r);break;case 22:u=r.stateNode,u._visibility&2&&(u._visibility&=-3,ku(r));break;default:ku(r)}s=s.sibling}}function nb(s,r){for(;He!==null;){var u=He;switch(u.tag){case 0:case 11:case 15:As(8,u,r);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var f=u.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:ao(u.memoizedState.cache)}if(f=u.child,f!==null)f.return=u,He=f;else t:for(u=s;He!==null;){f=He;var m=f.sibling,y=f.return;if(Qy(f),f===u){He=null;break t}if(m!==null){m.return=y,He=m;break t}He=y}}}var vk={getCacheForType:function(s){var r=Ze(Me),u=r.data.get(s);return u===void 0&&(u=s(),r.data.set(s,u)),u}},xk=typeof WeakMap=="function"?WeakMap:Map,Xt=0,ie=null,Nt=null,zt=0,It=0,Rn=null,Ds=!1,or=!1,od=!1,ss=0,me=0,Os=0,yl=0,ad=0,Fn=0,ar=0,Do=null,pn=null,ud=!1,cd=0,Au=1/0,Mu=null,Es=null,Ye=0,Rs=null,ur=null,cr=0,fd=0,hd=null,ib=null,Oo=0,dd=null;function Nn(){if((Xt&2)!==0&&zt!==0)return zt&-zt;if(B.T!==null){var s=Zl;return s!==0?s:xd()}return Be()}function sb(){Fn===0&&(Fn=(zt&536870912)===0||Vt?Mn():536870912);var s=Wn.current;return s!==null&&(s.flags|=32),Fn}function Bn(s,r,u){(s===ie&&(It===2||It===9)||s.cancelPendingCommit!==null)&&(fr(s,0),Ns(s,zt,Fn,!1)),le(s,u),((Xt&2)===0||s!==ie)&&(s===ie&&((Xt&2)===0&&(yl|=u),me===4&&Ns(s,zt,Fn,!1)),Ai(s))}function lb(s,r,u){if((Xt&6)!==0)throw Error(n(327));var f=!u&&(r&124)===0&&(r&s.expiredLanes)===0||Yi(s,r),m=f?Ck(s,r):gd(s,r,!0),y=f;do{if(m===0){or&&!f&&Ns(s,r,0,!1);break}else{if(u=s.current.alternate,y&&!Sk(u)){m=gd(s,r,!1),y=!1;continue}if(m===2){if(y=r,s.errorRecoveryDisabledLanes&y)var x=0;else x=s.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){r=x;t:{var S=s;m=Do;var T=S.current.memoizedState.isDehydrated;if(T&&(fr(S,x).flags|=256),x=gd(S,x,!1),x!==2){if(od&&!T){S.errorRecoveryDisabledLanes|=y,yl|=y,m=4;break t}y=pn,pn=m,y!==null&&(pn===null?pn=y:pn.push.apply(pn,y))}m=x}if(y=!1,m!==2)continue}}if(m===1){fr(s,0),Ns(s,r,0,!0);break}t:{switch(f=s,y=m,y){case 0:case 1:throw Error(n(345));case 4:if((r&4194048)!==r)break;case 6:Ns(f,r,Fn,!Ds);break t;case 2:pn=null;break;case 3:case 5:break;default:throw Error(n(329))}if((r&62914560)===r&&(m=cd+300-Ae(),10<m)){if(Ns(f,r,Fn,!Ds),xi(f,0,!0)!==0)break t;f.timeoutHandle=Lb(rb.bind(null,f,u,pn,Mu,ud,r,Fn,yl,ar,Ds,y,2,-0,0),m);break t}rb(f,u,pn,Mu,ud,r,Fn,yl,ar,Ds,y,0,-0,0)}}break}while(!0);Ai(s)}function rb(s,r,u,f,m,y,x,S,T,_,Q,F,q,V){if(s.timeoutHandle=-1,F=r.subtreeFlags,(F&8192||(F&16785408)===16785408)&&(Ho={stylesheets:null,count:0,unsuspend:nA},$y(r),F=sA(),F!==null)){s.cancelPendingCommit=F(db.bind(null,s,r,y,u,f,m,x,S,T,Q,1,q,V)),Ns(s,y,x,!_);return}db(s,r,y,u,f,m,x,S,T)}function Sk(s){for(var r=s;;){var u=r.tag;if((u===0||u===11||u===15)&&r.flags&16384&&(u=r.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var f=0;f<u.length;f++){var m=u[f],y=m.getSnapshot;m=m.value;try{if(!Tn(y(),m))return!1}catch{return!1}}if(u=r.child,r.subtreeFlags&16384&&u!==null)u.return=r,r=u;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ns(s,r,u,f){r&=~ad,r&=~yl,s.suspendedLanes|=r,s.pingedLanes&=~r,f&&(s.warmLanes|=r),f=s.expirationTimes;for(var m=r;0<m;){var y=31-ce(m),x=1<<y;f[y]=-1,m&=~x}u!==0&&bt(s,u,r)}function Tu(){return(Xt&6)===0?(Eo(0),!1):!0}function md(){if(Nt!==null){if(It===0)var s=Nt.return;else s=Nt,Fi=fl=null,Rh(s),ir=null,xo=0,s=Nt;for(;s!==null;)Uy(s.alternate,s),s=s.return;Nt=null}}function fr(s,r){var u=s.timeoutHandle;u!==-1&&(s.timeoutHandle=-1,Uk(u)),u=s.cancelPendingCommit,u!==null&&(s.cancelPendingCommit=null,u()),md(),ie=s,Nt=u=Qi(s.current,null),zt=r,It=0,Rn=null,Ds=!1,or=Yi(s,r),od=!1,ar=Fn=ad=yl=Os=me=0,pn=Do=null,ud=!1,(r&8)!==0&&(r|=r&32);var f=s.entangledLanes;if(f!==0)for(s=s.entanglements,f&=r;0<f;){var m=31-ce(f),y=1<<m;r|=s[m],f&=~y}return ss=r,Wa(),u}function ob(s,r){Tt=null,B.H=mu,r===co||r===su?(r=k0(),It=3):r===S0?(r=k0(),It=4):It=r===Ay?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Rn=r,Nt===null&&(me=1,vu(s,Xn(r,s.current)))}function ab(){var s=B.H;return B.H=mu,s===null?mu:s}function ub(){var s=B.A;return B.A=vk,s}function pd(){me=4,Ds||(zt&4194048)!==zt&&Wn.current!==null||(or=!0),(Os&134217727)===0&&(yl&134217727)===0||ie===null||Ns(ie,zt,Fn,!1)}function gd(s,r,u){var f=Xt;Xt|=2;var m=ab(),y=ub();(ie!==s||zt!==r)&&(Mu=null,fr(s,r)),r=!1;var x=me;t:do try{if(It!==0&&Nt!==null){var S=Nt,T=Rn;switch(It){case 8:md(),x=6;break t;case 3:case 2:case 9:case 6:Wn.current===null&&(r=!0);var _=It;if(It=0,Rn=null,hr(s,S,T,_),u&&or){x=0;break t}break;default:_=It,It=0,Rn=null,hr(s,S,T,_)}}wk(),x=me;break}catch(Q){ob(s,Q)}while(!0);return r&&s.shellSuspendCounter++,Fi=fl=null,Xt=f,B.H=m,B.A=y,Nt===null&&(ie=null,zt=0,Wa()),x}function wk(){for(;Nt!==null;)cb(Nt)}function Ck(s,r){var u=Xt;Xt|=2;var f=ab(),m=ub();ie!==s||zt!==r?(Mu=null,Au=Ae()+500,fr(s,r)):or=Yi(s,r);t:do try{if(It!==0&&Nt!==null){r=Nt;var y=Rn;e:switch(It){case 1:It=0,Rn=null,hr(s,r,y,1);break;case 2:case 9:if(w0(y)){It=0,Rn=null,fb(r);break}r=function(){It!==2&&It!==9||ie!==s||(It=7),Ai(s)},y.then(r,r);break t;case 3:It=7;break t;case 4:It=5;break t;case 7:w0(y)?(It=0,Rn=null,fb(r)):(It=0,Rn=null,hr(s,r,y,7));break;case 5:var x=null;switch(Nt.tag){case 26:x=Nt.memoizedState;case 5:case 27:var S=Nt;if(!x||Ib(x)){It=0,Rn=null;var T=S.sibling;if(T!==null)Nt=T;else{var _=S.return;_!==null?(Nt=_,Du(_)):Nt=null}break e}}It=0,Rn=null,hr(s,r,y,5);break;case 6:It=0,Rn=null,hr(s,r,y,6);break;case 8:md(),me=6;break t;default:throw Error(n(462))}}kk();break}catch(Q){ob(s,Q)}while(!0);return Fi=fl=null,B.H=f,B.A=m,Xt=u,Nt!==null?0:(ie=null,zt=0,Wa(),me)}function kk(){for(;Nt!==null&&!vi();)cb(Nt)}function cb(s){var r=jy(s.alternate,s,ss);s.memoizedProps=s.pendingProps,r===null?Du(s):Nt=r}function fb(s){var r=s,u=r.alternate;switch(r.tag){case 15:case 0:r=Ry(u,r,r.pendingProps,r.type,void 0,zt);break;case 11:r=Ry(u,r,r.pendingProps,r.type.render,r.ref,zt);break;case 5:Rh(r);default:Uy(u,r),r=Nt=h0(r,ss),r=jy(u,r,ss)}s.memoizedProps=s.pendingProps,r===null?Du(s):Nt=r}function hr(s,r,u,f){Fi=fl=null,Rh(r),ir=null,xo=0;var m=r.return;try{if(dk(s,m,r,u,zt)){me=1,vu(s,Xn(u,s.current)),Nt=null;return}}catch(y){if(m!==null)throw Nt=m,y;me=1,vu(s,Xn(u,s.current)),Nt=null;return}r.flags&32768?(Vt||f===1?s=!0:or||(zt&536870912)!==0?s=!1:(Ds=s=!0,(f===2||f===9||f===3||f===6)&&(f=Wn.current,f!==null&&f.tag===13&&(f.flags|=16384))),hb(r,s)):Du(r)}function Du(s){var r=s;do{if((r.flags&32768)!==0){hb(r,Ds);return}s=r.return;var u=pk(r.alternate,r,ss);if(u!==null){Nt=u;return}if(r=r.sibling,r!==null){Nt=r;return}Nt=r=s}while(r!==null);me===0&&(me=5)}function hb(s,r){do{var u=gk(s.alternate,s);if(u!==null){u.flags&=32767,Nt=u;return}if(u=s.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!r&&(s=s.sibling,s!==null)){Nt=s;return}Nt=s=u}while(s!==null);me=6,Nt=null}function db(s,r,u,f,m,y,x,S,T){s.cancelPendingCommit=null;do Ou();while(Ye!==0);if((Xt&6)!==0)throw Error(n(327));if(r!==null){if(r===s.current)throw Error(n(177));if(y=r.lanes|r.childLanes,y|=rh,Ne(s,u,y,x,S,T),s===ie&&(Nt=ie=null,zt=0),ur=r,Rs=s,cr=u,fd=y,hd=m,ib=f,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,Dk(oi,function(){return bb(),null})):(s.callbackNode=null,s.callbackPriority=0),f=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||f){f=B.T,B.T=null,m=I.p,I.p=2,x=Xt,Xt|=4;try{yk(s,r,u)}finally{Xt=x,I.p=m,B.T=f}}Ye=1,mb(),pb(),gb()}}function mb(){if(Ye===1){Ye=0;var s=Rs,r=ur,u=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||u){u=B.T,B.T=null;var f=I.p;I.p=2;var m=Xt;Xt|=4;try{Fy(r,s);var y=Dd,x=n0(s.containerInfo),S=y.focusedElem,T=y.selectionRange;if(x!==S&&S&&S.ownerDocument&&e0(S.ownerDocument.documentElement,S)){if(T!==null&&eh(S)){var _=T.start,Q=T.end;if(Q===void 0&&(Q=_),"selectionStart"in S)S.selectionStart=_,S.selectionEnd=Math.min(Q,S.value.length);else{var F=S.ownerDocument||document,q=F&&F.defaultView||window;if(q.getSelection){var V=q.getSelection(),Ct=S.textContent.length,St=Math.min(T.start,Ct),Zt=T.end===void 0?St:Math.min(T.end,Ct);!V.extend&&St>Zt&&(x=Zt,Zt=St,St=x);var R=t0(S,St),O=t0(S,Zt);if(R&&O&&(V.rangeCount!==1||V.anchorNode!==R.node||V.anchorOffset!==R.offset||V.focusNode!==O.node||V.focusOffset!==O.offset)){var H=F.createRange();H.setStart(R.node,R.offset),V.removeAllRanges(),St>Zt?(V.addRange(H),V.extend(O.node,O.offset)):(H.setEnd(O.node,O.offset),V.addRange(H))}}}}for(F=[],V=S;V=V.parentNode;)V.nodeType===1&&F.push({element:V,left:V.scrollLeft,top:V.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<F.length;S++){var W=F[S];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Vu=!!Td,Dd=Td=null}finally{Xt=m,I.p=f,B.T=u}}s.current=r,Ye=2}}function pb(){if(Ye===2){Ye=0;var s=Rs,r=ur,u=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||u){u=B.T,B.T=null;var f=I.p;I.p=2;var m=Xt;Xt|=4;try{Iy(s,r.alternate,r)}finally{Xt=m,I.p=f,B.T=u}}Ye=3}}function gb(){if(Ye===4||Ye===3){Ye=0,ri();var s=Rs,r=ur,u=cr,f=ib;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ye=5:(Ye=0,ur=Rs=null,yb(s,s.pendingLanes));var m=s.pendingLanes;if(m===0&&(Es=null),qt(u),r=r.stateNode,he&&typeof he.onCommitFiberRoot=="function")try{he.onCommitFiberRoot(Vn,r,void 0,(r.current.flags&128)===128)}catch{}if(f!==null){r=B.T,m=I.p,I.p=2,B.T=null;try{for(var y=s.onRecoverableError,x=0;x<f.length;x++){var S=f[x];y(S.value,{componentStack:S.stack})}}finally{B.T=r,I.p=m}}(cr&3)!==0&&Ou(),Ai(s),m=s.pendingLanes,(u&4194090)!==0&&(m&42)!==0?s===dd?Oo++:(Oo=0,dd=s):Oo=0,Eo(0)}}function yb(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,ao(r)))}function Ou(s){return mb(),pb(),gb(),bb()}function bb(){if(Ye!==5)return!1;var s=Rs,r=fd;fd=0;var u=qt(cr),f=B.T,m=I.p;try{I.p=32>u?32:u,B.T=null,u=hd,hd=null;var y=Rs,x=cr;if(Ye=0,ur=Rs=null,cr=0,(Xt&6)!==0)throw Error(n(331));var S=Xt;if(Xt|=4,eb(y.current),Jy(y,y.current,x,u),Xt=S,Eo(0,!1),he&&typeof he.onPostCommitFiberRoot=="function")try{he.onPostCommitFiberRoot(Vn,y)}catch{}return!0}finally{I.p=m,B.T=f,yb(s,r)}}function vb(s,r,u){r=Xn(u,r),r=Xh(s.stateNode,r,2),s=Ss(s,r,2),s!==null&&(le(s,2),Ai(s))}function Jt(s,r,u){if(s.tag===3)vb(s,s,u);else for(;r!==null;){if(r.tag===3){vb(r,s,u);break}else if(r.tag===1){var f=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Es===null||!Es.has(f))){s=Xn(u,s),u=Cy(2),f=Ss(r,u,2),f!==null&&(ky(u,f,r,s),le(f,2),Ai(f));break}}r=r.return}}function yd(s,r,u){var f=s.pingCache;if(f===null){f=s.pingCache=new xk;var m=new Set;f.set(r,m)}else m=f.get(r),m===void 0&&(m=new Set,f.set(r,m));m.has(u)||(od=!0,m.add(u),s=Ak.bind(null,s,r,u),r.then(s,s))}function Ak(s,r,u){var f=s.pingCache;f!==null&&f.delete(r),s.pingedLanes|=s.suspendedLanes&u,s.warmLanes&=~u,ie===s&&(zt&u)===u&&(me===4||me===3&&(zt&62914560)===zt&&300>Ae()-cd?(Xt&2)===0&&fr(s,0):ad|=u,ar===zt&&(ar=0)),Ai(s)}function xb(s,r){r===0&&(r=Bl()),s=Ql(s,r),s!==null&&(le(s,r),Ai(s))}function Mk(s){var r=s.memoizedState,u=0;r!==null&&(u=r.retryLane),xb(s,u)}function Tk(s,r){var u=0;switch(s.tag){case 13:var f=s.stateNode,m=s.memoizedState;m!==null&&(u=m.retryLane);break;case 19:f=s.stateNode;break;case 22:f=s.stateNode._retryCache;break;default:throw Error(n(314))}f!==null&&f.delete(r),xb(s,u)}function Dk(s,r){return Un(s,r)}var Eu=null,dr=null,bd=!1,Ru=!1,vd=!1,bl=0;function Ai(s){s!==dr&&s.next===null&&(dr===null?Eu=dr=s:dr=dr.next=s),Ru=!0,bd||(bd=!0,Ek())}function Eo(s,r){if(!vd&&Ru){vd=!0;do for(var u=!1,f=Eu;f!==null;){if(s!==0){var m=f.pendingLanes;if(m===0)var y=0;else{var x=f.suspendedLanes,S=f.pingedLanes;y=(1<<31-ce(42|s)+1)-1,y&=m&~(x&~S),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(u=!0,kb(f,y))}else y=zt,y=xi(f,f===ie?y:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(y&3)===0||Yi(f,y)||(u=!0,kb(f,y));f=f.next}while(u);vd=!1}}function Ok(){Sb()}function Sb(){Ru=bd=!1;var s=0;bl!==0&&(_k()&&(s=bl),bl=0);for(var r=Ae(),u=null,f=Eu;f!==null;){var m=f.next,y=wb(f,r);y===0?(f.next=null,u===null?Eu=m:u.next=m,m===null&&(dr=u)):(u=f,(s!==0||(y&3)!==0)&&(Ru=!0)),f=m}Eo(s)}function wb(s,r){for(var u=s.suspendedLanes,f=s.pingedLanes,m=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var x=31-ce(y),S=1<<x,T=m[x];T===-1?((S&u)===0||(S&f)!==0)&&(m[x]=ps(S,r)):T<=r&&(s.expiredLanes|=S),y&=~S}if(r=ie,u=zt,u=xi(s,s===r?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),f=s.callbackNode,u===0||s===r&&(It===2||It===9)||s.cancelPendingCommit!==null)return f!==null&&f!==null&&Ve(f),s.callbackNode=null,s.callbackPriority=0;if((u&3)===0||Yi(s,u)){if(r=u&-u,r===s.callbackPriority)return r;switch(f!==null&&Ve(f),qt(u)){case 2:case 8:u=kn;break;case 32:u=oi;break;case 268435456:u=qn;break;default:u=oi}return f=Cb.bind(null,s),u=Un(u,f),s.callbackPriority=r,s.callbackNode=u,r}return f!==null&&f!==null&&Ve(f),s.callbackPriority=2,s.callbackNode=null,2}function Cb(s,r){if(Ye!==0&&Ye!==5)return s.callbackNode=null,s.callbackPriority=0,null;var u=s.callbackNode;if(Ou()&&s.callbackNode!==u)return null;var f=zt;return f=xi(s,s===ie?f:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),f===0?null:(lb(s,f,r),wb(s,Ae()),s.callbackNode!=null&&s.callbackNode===u?Cb.bind(null,s):null)}function kb(s,r){if(Ou())return null;lb(s,r,!0)}function Ek(){qk(function(){(Xt&6)!==0?Un(Fe,Ok):Sb()})}function xd(){return bl===0&&(bl=Mn()),bl}function Ab(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Pa(""+s)}function Mb(s,r){var u=r.ownerDocument.createElement("input");return u.name=r.name,u.value=r.value,s.id&&u.setAttribute("form",s.id),r.parentNode.insertBefore(u,r),s=new FormData(s),u.parentNode.removeChild(u),s}function Rk(s,r,u,f,m){if(r==="submit"&&u&&u.stateNode===m){var y=Ab((m[Rt]||null).action),x=f.submitter;x&&(r=(r=x[Rt]||null)?Ab(r.formAction):x.getAttribute("formAction"),r!==null&&(y=r,x=null));var S=new Ia("action","action",null,f,m);s.push({event:S,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(bl!==0){var T=x?Mb(m,x):new FormData(m);qh(u,{pending:!0,data:T,method:m.method,action:y},null,T)}}else typeof y=="function"&&(S.preventDefault(),T=x?Mb(m,x):new FormData(m),qh(u,{pending:!0,data:T,method:m.method,action:y},y,T))},currentTarget:m}]})}}for(var Sd=0;Sd<lh.length;Sd++){var wd=lh[Sd],Nk=wd.toLowerCase(),Bk=wd[0].toUpperCase()+wd.slice(1);fi(Nk,"on"+Bk)}fi(l0,"onAnimationEnd"),fi(r0,"onAnimationIteration"),fi(o0,"onAnimationStart"),fi("dblclick","onDoubleClick"),fi("focusin","onFocus"),fi("focusout","onBlur"),fi(FC,"onTransitionRun"),fi(ZC,"onTransitionStart"),fi(JC,"onTransitionCancel"),fi(a0,"onTransitionEnd"),jl("onMouseEnter",["mouseout","mouseover"]),jl("onMouseLeave",["mouseout","mouseover"]),jl("onPointerEnter",["pointerout","pointerover"]),jl("onPointerLeave",["pointerout","pointerover"]),nl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),nl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),nl("onBeforeInput",["compositionend","keypress","textInput","paste"]),nl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),nl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),nl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lk=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ro));function Tb(s,r){r=(r&4)!==0;for(var u=0;u<s.length;u++){var f=s[u],m=f.event;f=f.listeners;t:{var y=void 0;if(r)for(var x=f.length-1;0<=x;x--){var S=f[x],T=S.instance,_=S.currentTarget;if(S=S.listener,T!==y&&m.isPropagationStopped())break t;y=S,m.currentTarget=_;try{y(m)}catch(Q){bu(Q)}m.currentTarget=null,y=T}else for(x=0;x<f.length;x++){if(S=f[x],T=S.instance,_=S.currentTarget,S=S.listener,T!==y&&m.isPropagationStopped())break t;y=S,m.currentTarget=_;try{y(m)}catch(Q){bu(Q)}m.currentTarget=null,y=T}}}}function Bt(s,r){var u=r[Pn];u===void 0&&(u=r[Pn]=new Set);var f=s+"__bubble";u.has(f)||(Db(r,s,2,!1),u.add(f))}function Cd(s,r,u){var f=0;r&&(f|=4),Db(u,s,f,r)}var Nu="_reactListening"+Math.random().toString(36).slice(2);function kd(s){if(!s[Nu]){s[Nu]=!0,Sg.forEach(function(u){u!=="selectionchange"&&(Lk.has(u)||Cd(u,!1,s),Cd(u,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[Nu]||(r[Nu]=!0,Cd("selectionchange",!1,r))}}function Db(s,r,u,f){switch(Jb(r)){case 2:var m=oA;break;case 8:m=aA;break;default:m=_d}u=m.bind(null,r,u,s),m=void 0,!If||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(m=!0),f?m!==void 0?s.addEventListener(r,u,{capture:!0,passive:m}):s.addEventListener(r,u,!0):m!==void 0?s.addEventListener(r,u,{passive:m}):s.addEventListener(r,u,!1)}function Ad(s,r,u,f,m){var y=f;if((r&1)===0&&(r&2)===0&&f!==null)t:for(;;){if(f===null)return;var x=f.tag;if(x===3||x===4){var S=f.stateNode.containerInfo;if(S===m)break;if(x===4)for(x=f.return;x!==null;){var T=x.tag;if((T===3||T===4)&&x.stateNode.containerInfo===m)return;x=x.return}for(;S!==null;){if(x=Ll(S),x===null)return;if(T=x.tag,T===5||T===6||T===26||T===27){f=y=x;continue t}S=S.parentNode}}f=f.return}zg(function(){var _=y,Q=Gf(u),F=[];t:{var q=u0.get(s);if(q!==void 0){var V=Ia,Ct=s;switch(s){case"keypress":if(Ga(u)===0)break t;case"keydown":case"keyup":V=DC;break;case"focusin":Ct="focus",V=Ff;break;case"focusout":Ct="blur",V=Ff;break;case"beforeblur":case"afterblur":V=Ff;break;case"click":if(u.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=_g;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=gC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=RC;break;case l0:case r0:case o0:V=vC;break;case a0:V=BC;break;case"scroll":case"scrollend":V=mC;break;case"wheel":V=zC;break;case"copy":case"cut":case"paste":V=SC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=qg;break;case"toggle":case"beforetoggle":V=jC}var St=(r&4)!==0,Zt=!St&&(s==="scroll"||s==="scrollend"),R=St?q!==null?q+"Capture":null:q;St=[];for(var O=_,H;O!==null;){var W=O;if(H=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||H===null||R===null||(W=Wr(O,R),W!=null&&St.push(No(O,W,H))),Zt)break;O=O.return}0<St.length&&(q=new V(q,Ct,null,u,Q),F.push({event:q,listeners:St}))}}if((r&7)===0){t:{if(q=s==="mouseover"||s==="pointerover",V=s==="mouseout"||s==="pointerout",q&&u!==Yf&&(Ct=u.relatedTarget||u.fromElement)&&(Ll(Ct)||Ct[Kt]))break t;if((V||q)&&(q=Q.window===Q?Q:(q=Q.ownerDocument)?q.defaultView||q.parentWindow:window,V?(Ct=u.relatedTarget||u.toElement,V=_,Ct=Ct?Ll(Ct):null,Ct!==null&&(Zt=o(Ct),St=Ct.tag,Ct!==Zt||St!==5&&St!==27&&St!==6)&&(Ct=null)):(V=null,Ct=_),V!==Ct)){if(St=_g,W="onMouseLeave",R="onMouseEnter",O="mouse",(s==="pointerout"||s==="pointerover")&&(St=qg,W="onPointerLeave",R="onPointerEnter",O="pointer"),Zt=V==null?q:Kr(V),H=Ct==null?q:Kr(Ct),q=new St(W,O+"leave",V,u,Q),q.target=Zt,q.relatedTarget=H,W=null,Ll(Q)===_&&(St=new St(R,O+"enter",Ct,u,Q),St.target=H,St.relatedTarget=Zt,W=St),Zt=W,V&&Ct)e:{for(St=V,R=Ct,O=0,H=St;H;H=mr(H))O++;for(H=0,W=R;W;W=mr(W))H++;for(;0<O-H;)St=mr(St),O--;for(;0<H-O;)R=mr(R),H--;for(;O--;){if(St===R||R!==null&&St===R.alternate)break e;St=mr(St),R=mr(R)}St=null}else St=null;V!==null&&Ob(F,q,V,St,!1),Ct!==null&&Zt!==null&&Ob(F,Zt,Ct,St,!0)}}t:{if(q=_?Kr(_):window,V=q.nodeName&&q.nodeName.toLowerCase(),V==="select"||V==="input"&&q.type==="file")var mt=Kg;else if(Ig(q))if(Wg)mt=QC;else{mt=XC;var Dt=GC}else V=q.nodeName,!V||V.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?_&&Pf(_.elementType)&&(mt=Kg):mt=IC;if(mt&&(mt=mt(s,_))){Qg(F,mt,u,Q);break t}Dt&&Dt(s,q,_),s==="focusout"&&_&&q.type==="number"&&_.memoizedProps.value!=null&&Vf(q,"number",q.value)}switch(Dt=_?Kr(_):window,s){case"focusin":(Ig(Dt)||Dt.contentEditable==="true")&&(Gl=Dt,nh=_,io=null);break;case"focusout":io=nh=Gl=null;break;case"mousedown":ih=!0;break;case"contextmenu":case"mouseup":case"dragend":ih=!1,i0(F,u,Q);break;case"selectionchange":if(WC)break;case"keydown":case"keyup":i0(F,u,Q)}var vt;if(Jf)t:{switch(s){case"compositionstart":var wt="onCompositionStart";break t;case"compositionend":wt="onCompositionEnd";break t;case"compositionupdate":wt="onCompositionUpdate";break t}wt=void 0}else Yl?Gg(s,u)&&(wt="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(wt="onCompositionStart");wt&&(Vg&&u.locale!=="ko"&&(Yl||wt!=="onCompositionStart"?wt==="onCompositionEnd"&&Yl&&(vt=Hg()):(ys=Q,Qf="value"in ys?ys.value:ys.textContent,Yl=!0)),Dt=Bu(_,wt),0<Dt.length&&(wt=new Ug(wt,s,null,u,Q),F.push({event:wt,listeners:Dt}),vt?wt.data=vt:(vt=Xg(u),vt!==null&&(wt.data=vt)))),(vt=UC?qC(s,u):VC(s,u))&&(wt=Bu(_,"onBeforeInput"),0<wt.length&&(Dt=new Ug("onBeforeInput","beforeinput",null,u,Q),F.push({event:Dt,listeners:wt}),Dt.data=vt)),Rk(F,s,_,u,Q)}Tb(F,r)})}function No(s,r,u){return{instance:s,listener:r,currentTarget:u}}function Bu(s,r){for(var u=r+"Capture",f=[];s!==null;){var m=s,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=Wr(s,u),m!=null&&f.unshift(No(s,m,y)),m=Wr(s,r),m!=null&&f.push(No(s,m,y))),s.tag===3)return f;s=s.return}return[]}function mr(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Ob(s,r,u,f,m){for(var y=r._reactName,x=[];u!==null&&u!==f;){var S=u,T=S.alternate,_=S.stateNode;if(S=S.tag,T!==null&&T===f)break;S!==5&&S!==26&&S!==27||_===null||(T=_,m?(_=Wr(u,y),_!=null&&x.unshift(No(u,_,T))):m||(_=Wr(u,y),_!=null&&x.push(No(u,_,T)))),u=u.return}x.length!==0&&s.push({event:r,listeners:x})}var zk=/\r\n?/g,Hk=/\u0000|\uFFFD/g;function Eb(s){return(typeof s=="string"?s:""+s).replace(zk,`
`).replace(Hk,"")}function Rb(s,r){return r=Eb(r),Eb(s)===r}function Lu(){}function Ft(s,r,u,f,m,y){switch(u){case"children":typeof f=="string"?r==="body"||r==="textarea"&&f===""||ql(s,f):(typeof f=="number"||typeof f=="bigint")&&r!=="body"&&ql(s,""+f);break;case"className":Ua(s,"class",f);break;case"tabIndex":Ua(s,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":Ua(s,u,f);break;case"style":Bg(s,f,y);break;case"data":if(r!=="object"){Ua(s,"data",f);break}case"src":case"href":if(f===""&&(r!=="a"||u!=="href")){s.removeAttribute(u);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){s.removeAttribute(u);break}f=Pa(""+f),s.setAttribute(u,f);break;case"action":case"formAction":if(typeof f=="function"){s.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(u==="formAction"?(r!=="input"&&Ft(s,r,"name",m.name,m,null),Ft(s,r,"formEncType",m.formEncType,m,null),Ft(s,r,"formMethod",m.formMethod,m,null),Ft(s,r,"formTarget",m.formTarget,m,null)):(Ft(s,r,"encType",m.encType,m,null),Ft(s,r,"method",m.method,m,null),Ft(s,r,"target",m.target,m,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){s.removeAttribute(u);break}f=Pa(""+f),s.setAttribute(u,f);break;case"onClick":f!=null&&(s.onclick=Lu);break;case"onScroll":f!=null&&Bt("scroll",s);break;case"onScrollEnd":f!=null&&Bt("scrollend",s);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(n(61));if(u=f.__html,u!=null){if(m.children!=null)throw Error(n(60));s.innerHTML=u}}break;case"multiple":s.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":s.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){s.removeAttribute("xlink:href");break}u=Pa(""+f),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(u,""+f):s.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(u,""):s.removeAttribute(u);break;case"capture":case"download":f===!0?s.setAttribute(u,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(u,f):s.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?s.setAttribute(u,f):s.removeAttribute(u);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?s.removeAttribute(u):s.setAttribute(u,f);break;case"popover":Bt("beforetoggle",s),Bt("toggle",s),_a(s,"popover",f);break;case"xlinkActuate":Xi(s,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Xi(s,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Xi(s,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Xi(s,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Xi(s,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Xi(s,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Xi(s,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Xi(s,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Xi(s,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":_a(s,"is",f);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=hC.get(u)||u,_a(s,u,f))}}function Md(s,r,u,f,m,y){switch(u){case"style":Bg(s,f,y);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(n(61));if(u=f.__html,u!=null){if(m.children!=null)throw Error(n(60));s.innerHTML=u}}break;case"children":typeof f=="string"?ql(s,f):(typeof f=="number"||typeof f=="bigint")&&ql(s,""+f);break;case"onScroll":f!=null&&Bt("scroll",s);break;case"onScrollEnd":f!=null&&Bt("scrollend",s);break;case"onClick":f!=null&&(s.onclick=Lu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wg.hasOwnProperty(u))t:{if(u[0]==="o"&&u[1]==="n"&&(m=u.endsWith("Capture"),r=u.slice(2,m?u.length-7:void 0),y=s[Rt]||null,y=y!=null?y[u]:null,typeof y=="function"&&s.removeEventListener(r,y,m),typeof f=="function")){typeof y!="function"&&y!==null&&(u in s?s[u]=null:s.hasAttribute(u)&&s.removeAttribute(u)),s.addEventListener(r,f,m);break t}u in s?s[u]=f:f===!0?s.setAttribute(u,""):_a(s,u,f)}}}function Ge(s,r,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Bt("error",s),Bt("load",s);var f=!1,m=!1,y;for(y in u)if(u.hasOwnProperty(y)){var x=u[y];if(x!=null)switch(y){case"src":f=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,r));default:Ft(s,r,y,x,u,null)}}m&&Ft(s,r,"srcSet",u.srcSet,u,null),f&&Ft(s,r,"src",u.src,u,null);return;case"input":Bt("invalid",s);var S=y=x=m=null,T=null,_=null;for(f in u)if(u.hasOwnProperty(f)){var Q=u[f];if(Q!=null)switch(f){case"name":m=Q;break;case"type":x=Q;break;case"checked":T=Q;break;case"defaultChecked":_=Q;break;case"value":y=Q;break;case"defaultValue":S=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(n(137,r));break;default:Ft(s,r,f,Q,u,null)}}Og(s,y,S,T,_,x,m,!1),qa(s);return;case"select":Bt("invalid",s),f=x=y=null;for(m in u)if(u.hasOwnProperty(m)&&(S=u[m],S!=null))switch(m){case"value":y=S;break;case"defaultValue":x=S;break;case"multiple":f=S;default:Ft(s,r,m,S,u,null)}r=y,u=x,s.multiple=!!f,r!=null?Ul(s,!!f,r,!1):u!=null&&Ul(s,!!f,u,!0);return;case"textarea":Bt("invalid",s),y=m=f=null;for(x in u)if(u.hasOwnProperty(x)&&(S=u[x],S!=null))switch(x){case"value":f=S;break;case"defaultValue":m=S;break;case"children":y=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(n(91));break;default:Ft(s,r,x,S,u,null)}Rg(s,f,m,y),qa(s);return;case"option":for(T in u)if(u.hasOwnProperty(T)&&(f=u[T],f!=null))switch(T){case"selected":s.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:Ft(s,r,T,f,u,null)}return;case"dialog":Bt("beforetoggle",s),Bt("toggle",s),Bt("cancel",s),Bt("close",s);break;case"iframe":case"object":Bt("load",s);break;case"video":case"audio":for(f=0;f<Ro.length;f++)Bt(Ro[f],s);break;case"image":Bt("error",s),Bt("load",s);break;case"details":Bt("toggle",s);break;case"embed":case"source":case"link":Bt("error",s),Bt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(_ in u)if(u.hasOwnProperty(_)&&(f=u[_],f!=null))switch(_){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,r));default:Ft(s,r,_,f,u,null)}return;default:if(Pf(r)){for(Q in u)u.hasOwnProperty(Q)&&(f=u[Q],f!==void 0&&Md(s,r,Q,f,u,void 0));return}}for(S in u)u.hasOwnProperty(S)&&(f=u[S],f!=null&&Ft(s,r,S,f,u,null))}function jk(s,r,u,f){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,x=null,S=null,T=null,_=null,Q=null;for(V in u){var F=u[V];if(u.hasOwnProperty(V)&&F!=null)switch(V){case"checked":break;case"value":break;case"defaultValue":T=F;default:f.hasOwnProperty(V)||Ft(s,r,V,null,f,F)}}for(var q in f){var V=f[q];if(F=u[q],f.hasOwnProperty(q)&&(V!=null||F!=null))switch(q){case"type":y=V;break;case"name":m=V;break;case"checked":_=V;break;case"defaultChecked":Q=V;break;case"value":x=V;break;case"defaultValue":S=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(n(137,r));break;default:V!==F&&Ft(s,r,q,V,f,F)}}qf(s,x,S,T,_,Q,y,m);return;case"select":V=x=S=q=null;for(y in u)if(T=u[y],u.hasOwnProperty(y)&&T!=null)switch(y){case"value":break;case"multiple":V=T;default:f.hasOwnProperty(y)||Ft(s,r,y,null,f,T)}for(m in f)if(y=f[m],T=u[m],f.hasOwnProperty(m)&&(y!=null||T!=null))switch(m){case"value":q=y;break;case"defaultValue":S=y;break;case"multiple":x=y;default:y!==T&&Ft(s,r,m,y,f,T)}r=S,u=x,f=V,q!=null?Ul(s,!!u,q,!1):!!f!=!!u&&(r!=null?Ul(s,!!u,r,!0):Ul(s,!!u,u?[]:"",!1));return;case"textarea":V=q=null;for(S in u)if(m=u[S],u.hasOwnProperty(S)&&m!=null&&!f.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Ft(s,r,S,null,f,m)}for(x in f)if(m=f[x],y=u[x],f.hasOwnProperty(x)&&(m!=null||y!=null))switch(x){case"value":q=m;break;case"defaultValue":V=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(n(91));break;default:m!==y&&Ft(s,r,x,m,f,y)}Eg(s,q,V);return;case"option":for(var Ct in u)if(q=u[Ct],u.hasOwnProperty(Ct)&&q!=null&&!f.hasOwnProperty(Ct))switch(Ct){case"selected":s.selected=!1;break;default:Ft(s,r,Ct,null,f,q)}for(T in f)if(q=f[T],V=u[T],f.hasOwnProperty(T)&&q!==V&&(q!=null||V!=null))switch(T){case"selected":s.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Ft(s,r,T,q,f,V)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var St in u)q=u[St],u.hasOwnProperty(St)&&q!=null&&!f.hasOwnProperty(St)&&Ft(s,r,St,null,f,q);for(_ in f)if(q=f[_],V=u[_],f.hasOwnProperty(_)&&q!==V&&(q!=null||V!=null))switch(_){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(n(137,r));break;default:Ft(s,r,_,q,f,V)}return;default:if(Pf(r)){for(var Zt in u)q=u[Zt],u.hasOwnProperty(Zt)&&q!==void 0&&!f.hasOwnProperty(Zt)&&Md(s,r,Zt,void 0,f,q);for(Q in f)q=f[Q],V=u[Q],!f.hasOwnProperty(Q)||q===V||q===void 0&&V===void 0||Md(s,r,Q,q,f,V);return}}for(var R in u)q=u[R],u.hasOwnProperty(R)&&q!=null&&!f.hasOwnProperty(R)&&Ft(s,r,R,null,f,q);for(F in f)q=f[F],V=u[F],!f.hasOwnProperty(F)||q===V||q==null&&V==null||Ft(s,r,F,q,f,V)}var Td=null,Dd=null;function zu(s){return s.nodeType===9?s:s.ownerDocument}function Nb(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Bb(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function Od(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Ed=null;function _k(){var s=window.event;return s&&s.type==="popstate"?s===Ed?!1:(Ed=s,!0):(Ed=null,!1)}var Lb=typeof setTimeout=="function"?setTimeout:void 0,Uk=typeof clearTimeout=="function"?clearTimeout:void 0,zb=typeof Promise=="function"?Promise:void 0,qk=typeof queueMicrotask=="function"?queueMicrotask:typeof zb<"u"?function(s){return zb.resolve(null).then(s).catch(Vk)}:Lb;function Vk(s){setTimeout(function(){throw s})}function Bs(s){return s==="head"}function Hb(s,r){var u=r,f=0,m=0;do{var y=u.nextSibling;if(s.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"){if(0<f&&8>f){u=f;var x=s.ownerDocument;if(u&1&&Bo(x.documentElement),u&2&&Bo(x.body),u&4)for(u=x.head,Bo(u),x=u.firstChild;x;){var S=x.nextSibling,T=x.nodeName;x[Gi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&x.rel.toLowerCase()==="stylesheet"||u.removeChild(x),x=S}}if(m===0){s.removeChild(y),Vo(r);return}m--}else u==="$"||u==="$?"||u==="$!"?m++:f=u.charCodeAt(0)-48;else f=0;u=y}while(u);Vo(r)}function Rd(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var u=r;switch(r=r.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Rd(u),Hf(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}s.removeChild(u)}}function Pk(s,r,u,f){for(;s.nodeType===1;){var m=u;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!f&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(f){if(!s[Gi])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==m.rel||s.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||s.getAttribute("title")!==(m.title==null?null:m.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(m.src==null?null:m.src)||s.getAttribute("type")!==(m.type==null?null:m.type)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=di(s.nextSibling),s===null)break}return null}function Yk(s,r,u){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!u||(s=di(s.nextSibling),s===null))return null;return s}function Nd(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function Gk(s,r){var u=s.ownerDocument;if(s.data!=="$?"||u.readyState==="complete")r();else{var f=function(){r(),u.removeEventListener("DOMContentLoaded",f)};u.addEventListener("DOMContentLoaded",f),s._reactRetry=f}}function di(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return s}var Bd=null;function jb(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(r===0)return s;r--}else u==="/$"&&r++}s=s.previousSibling}return null}function _b(s,r,u){switch(r=zu(u),s){case"html":if(s=r.documentElement,!s)throw Error(n(452));return s;case"head":if(s=r.head,!s)throw Error(n(453));return s;case"body":if(s=r.body,!s)throw Error(n(454));return s;default:throw Error(n(451))}}function Bo(s){for(var r=s.attributes;r.length;)s.removeAttributeNode(r[0]);Hf(s)}var Zn=new Map,Ub=new Set;function Hu(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var ls=I.d;I.d={f:Xk,r:Ik,D:Qk,C:Kk,L:Wk,m:Fk,X:Jk,S:Zk,M:$k};function Xk(){var s=ls.f(),r=Tu();return s||r}function Ik(s){var r=zl(s);r!==null&&r.tag===5&&r.type==="form"?ly(r):ls.r(s)}var pr=typeof document>"u"?null:document;function qb(s,r,u){var f=pr;if(f&&typeof r=="string"&&r){var m=Gn(r);m='link[rel="'+s+'"][href="'+m+'"]',typeof u=="string"&&(m+='[crossorigin="'+u+'"]'),Ub.has(m)||(Ub.add(m),s={rel:s,crossOrigin:u,href:r},f.querySelector(m)===null&&(r=f.createElement("link"),Ge(r,"link",s),Le(r),f.head.appendChild(r)))}}function Qk(s){ls.D(s),qb("dns-prefetch",s,null)}function Kk(s,r){ls.C(s,r),qb("preconnect",s,r)}function Wk(s,r,u){ls.L(s,r,u);var f=pr;if(f&&s&&r){var m='link[rel="preload"][as="'+Gn(r)+'"]';r==="image"&&u&&u.imageSrcSet?(m+='[imagesrcset="'+Gn(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(m+='[imagesizes="'+Gn(u.imageSizes)+'"]')):m+='[href="'+Gn(s)+'"]';var y=m;switch(r){case"style":y=gr(s);break;case"script":y=yr(s)}Zn.has(y)||(s=p({rel:"preload",href:r==="image"&&u&&u.imageSrcSet?void 0:s,as:r},u),Zn.set(y,s),f.querySelector(m)!==null||r==="style"&&f.querySelector(Lo(y))||r==="script"&&f.querySelector(zo(y))||(r=f.createElement("link"),Ge(r,"link",s),Le(r),f.head.appendChild(r)))}}function Fk(s,r){ls.m(s,r);var u=pr;if(u&&s){var f=r&&typeof r.as=="string"?r.as:"script",m='link[rel="modulepreload"][as="'+Gn(f)+'"][href="'+Gn(s)+'"]',y=m;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=yr(s)}if(!Zn.has(y)&&(s=p({rel:"modulepreload",href:s},r),Zn.set(y,s),u.querySelector(m)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(zo(y)))return}f=u.createElement("link"),Ge(f,"link",s),Le(f),u.head.appendChild(f)}}}function Zk(s,r,u){ls.S(s,r,u);var f=pr;if(f&&s){var m=Hl(f).hoistableStyles,y=gr(s);r=r||"default";var x=m.get(y);if(!x){var S={loading:0,preload:null};if(x=f.querySelector(Lo(y)))S.loading=5;else{s=p({rel:"stylesheet",href:s,"data-precedence":r},u),(u=Zn.get(y))&&Ld(s,u);var T=x=f.createElement("link");Le(T),Ge(T,"link",s),T._p=new Promise(function(_,Q){T.onload=_,T.onerror=Q}),T.addEventListener("load",function(){S.loading|=1}),T.addEventListener("error",function(){S.loading|=2}),S.loading|=4,ju(x,r,f)}x={type:"stylesheet",instance:x,count:1,state:S},m.set(y,x)}}}function Jk(s,r){ls.X(s,r);var u=pr;if(u&&s){var f=Hl(u).hoistableScripts,m=yr(s),y=f.get(m);y||(y=u.querySelector(zo(m)),y||(s=p({src:s,async:!0},r),(r=Zn.get(m))&&zd(s,r),y=u.createElement("script"),Le(y),Ge(y,"link",s),u.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},f.set(m,y))}}function $k(s,r){ls.M(s,r);var u=pr;if(u&&s){var f=Hl(u).hoistableScripts,m=yr(s),y=f.get(m);y||(y=u.querySelector(zo(m)),y||(s=p({src:s,async:!0,type:"module"},r),(r=Zn.get(m))&&zd(s,r),y=u.createElement("script"),Le(y),Ge(y,"link",s),u.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},f.set(m,y))}}function Vb(s,r,u,f){var m=(m=rt.current)?Hu(m):null;if(!m)throw Error(n(446));switch(s){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(r=gr(u.href),u=Hl(m).hoistableStyles,f=u.get(r),f||(f={type:"style",instance:null,count:0,state:null},u.set(r,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){s=gr(u.href);var y=Hl(m).hoistableStyles,x=y.get(s);if(x||(m=m.ownerDocument||m,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,x),(y=m.querySelector(Lo(s)))&&!y._p&&(x.instance=y,x.state.loading=5),Zn.has(s)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Zn.set(s,u),y||tA(m,s,u,x.state))),r&&f===null)throw Error(n(528,""));return x}if(r&&f!==null)throw Error(n(529,""));return null;case"script":return r=u.async,u=u.src,typeof u=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=yr(u),u=Hl(m).hoistableScripts,f=u.get(r),f||(f={type:"script",instance:null,count:0,state:null},u.set(r,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,s))}}function gr(s){return'href="'+Gn(s)+'"'}function Lo(s){return'link[rel="stylesheet"]['+s+"]"}function Pb(s){return p({},s,{"data-precedence":s.precedence,precedence:null})}function tA(s,r,u,f){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?f.loading=1:(r=s.createElement("link"),f.preload=r,r.addEventListener("load",function(){return f.loading|=1}),r.addEventListener("error",function(){return f.loading|=2}),Ge(r,"link",u),Le(r),s.head.appendChild(r))}function yr(s){return'[src="'+Gn(s)+'"]'}function zo(s){return"script[async]"+s}function Yb(s,r,u){if(r.count++,r.instance===null)switch(r.type){case"style":var f=s.querySelector('style[data-href~="'+Gn(u.href)+'"]');if(f)return r.instance=f,Le(f),f;var m=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return f=(s.ownerDocument||s).createElement("style"),Le(f),Ge(f,"style",m),ju(f,u.precedence,s),r.instance=f;case"stylesheet":m=gr(u.href);var y=s.querySelector(Lo(m));if(y)return r.state.loading|=4,r.instance=y,Le(y),y;f=Pb(u),(m=Zn.get(m))&&Ld(f,m),y=(s.ownerDocument||s).createElement("link"),Le(y);var x=y;return x._p=new Promise(function(S,T){x.onload=S,x.onerror=T}),Ge(y,"link",f),r.state.loading|=4,ju(y,u.precedence,s),r.instance=y;case"script":return y=yr(u.src),(m=s.querySelector(zo(y)))?(r.instance=m,Le(m),m):(f=u,(m=Zn.get(y))&&(f=p({},u),zd(f,m)),s=s.ownerDocument||s,m=s.createElement("script"),Le(m),Ge(m,"link",f),s.head.appendChild(m),r.instance=m);case"void":return null;default:throw Error(n(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(f=r.instance,r.state.loading|=4,ju(f,u.precedence,s));return r.instance}function ju(s,r,u){for(var f=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=f.length?f[f.length-1]:null,y=m,x=0;x<f.length;x++){var S=f[x];if(S.dataset.precedence===r)y=S;else if(y!==m)break}y?y.parentNode.insertBefore(s,y.nextSibling):(r=u.nodeType===9?u.head:u,r.insertBefore(s,r.firstChild))}function Ld(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function zd(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var _u=null;function Gb(s,r,u){if(_u===null){var f=new Map,m=_u=new Map;m.set(u,f)}else m=_u,f=m.get(u),f||(f=new Map,m.set(u,f));if(f.has(s))return f;for(f.set(s,null),u=u.getElementsByTagName(s),m=0;m<u.length;m++){var y=u[m];if(!(y[Gi]||y[Gt]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var x=y.getAttribute(r)||"";x=s+x;var S=f.get(x);S?S.push(y):f.set(x,[y])}}return f}function Xb(s,r,u){s=s.ownerDocument||s,s.head.insertBefore(u,r==="title"?s.querySelector("head > title"):null)}function eA(s,r,u){if(u===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return s=r.disabled,typeof r.precedence=="string"&&s==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Ib(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var Ho=null;function nA(){}function iA(s,r,u){if(Ho===null)throw Error(n(475));var f=Ho;if(r.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var m=gr(u.href),y=s.querySelector(Lo(m));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(f.count++,f=Uu.bind(f),s.then(f,f)),r.state.loading|=4,r.instance=y,Le(y);return}y=s.ownerDocument||s,u=Pb(u),(m=Zn.get(m))&&Ld(u,m),y=y.createElement("link"),Le(y);var x=y;x._p=new Promise(function(S,T){x.onload=S,x.onerror=T}),Ge(y,"link",u),r.instance=y}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(r,s),(s=r.state.preload)&&(r.state.loading&3)===0&&(f.count++,r=Uu.bind(f),s.addEventListener("load",r),s.addEventListener("error",r))}}function sA(){if(Ho===null)throw Error(n(475));var s=Ho;return s.stylesheets&&s.count===0&&Hd(s,s.stylesheets),0<s.count?function(r){var u=setTimeout(function(){if(s.stylesheets&&Hd(s,s.stylesheets),s.unsuspend){var f=s.unsuspend;s.unsuspend=null,f()}},6e4);return s.unsuspend=r,function(){s.unsuspend=null,clearTimeout(u)}}:null}function Uu(){if(this.count--,this.count===0){if(this.stylesheets)Hd(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var qu=null;function Hd(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,qu=new Map,r.forEach(lA,s),qu=null,Uu.call(s))}function lA(s,r){if(!(r.state.loading&4)){var u=qu.get(s);if(u)var f=u.get(null);else{u=new Map,qu.set(s,u);for(var m=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var x=m[y];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(u.set(x.dataset.precedence,x),f=x)}f&&u.set(null,f)}m=r.instance,x=m.getAttribute("data-precedence"),y=u.get(x)||f,y===f&&u.set(null,m),u.set(x,m),this.count++,f=Uu.bind(this),m.addEventListener("load",f),m.addEventListener("error",f),y?y.parentNode.insertBefore(m,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(m,s.firstChild)),r.state.loading|=4}}var jo={$$typeof:j,Provider:null,Consumer:null,_currentValue:st,_currentValue2:st,_threadCount:0};function rA(s,r,u,f,m,y,x,S){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=el(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=el(0),this.hiddenUpdates=el(null),this.identifierPrefix=f,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function Qb(s,r,u,f,m,y,x,S,T,_,Q,F){return s=new rA(s,r,u,x,S,T,_,F),r=1,y===!0&&(r|=24),y=Dn(3,null,null,r),s.current=y,y.stateNode=s,r=yh(),r.refCount++,s.pooledCache=r,r.refCount++,y.memoizedState={element:f,isDehydrated:u,cache:r},Sh(y),s}function Kb(s){return s?(s=Kl,s):Kl}function Wb(s,r,u,f,m,y){m=Kb(m),f.context===null?f.context=m:f.pendingContext=m,f=xs(r),f.payload={element:u},y=y===void 0?null:y,y!==null&&(f.callback=y),u=Ss(s,f,r),u!==null&&(Bn(u,s,r),ho(u,s,r))}function Fb(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<r?u:r}}function jd(s,r){Fb(s,r),(s=s.alternate)&&Fb(s,r)}function Zb(s){if(s.tag===13){var r=Ql(s,67108864);r!==null&&Bn(r,s,67108864),jd(s,67108864)}}var Vu=!0;function oA(s,r,u,f){var m=B.T;B.T=null;var y=I.p;try{I.p=2,_d(s,r,u,f)}finally{I.p=y,B.T=m}}function aA(s,r,u,f){var m=B.T;B.T=null;var y=I.p;try{I.p=8,_d(s,r,u,f)}finally{I.p=y,B.T=m}}function _d(s,r,u,f){if(Vu){var m=Ud(f);if(m===null)Ad(s,r,f,Pu,u),$b(s,f);else if(cA(m,s,r,u,f))f.stopPropagation();else if($b(s,f),r&4&&-1<uA.indexOf(s)){for(;m!==null;){var y=zl(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var x=fn(y.pendingLanes);if(x!==0){var S=y;for(S.pendingLanes|=2,S.entangledLanes|=2;x;){var T=1<<31-ce(x);S.entanglements[1]|=T,x&=~T}Ai(y),(Xt&6)===0&&(Au=Ae()+500,Eo(0))}}break;case 13:S=Ql(y,2),S!==null&&Bn(S,y,2),Tu(),jd(y,2)}if(y=Ud(f),y===null&&Ad(s,r,f,Pu,u),y===m)break;m=y}m!==null&&f.stopPropagation()}else Ad(s,r,f,null,u)}}function Ud(s){return s=Gf(s),qd(s)}var Pu=null;function qd(s){if(Pu=null,s=Ll(s),s!==null){var r=o(s);if(r===null)s=null;else{var u=r.tag;if(u===13){if(s=a(r),s!==null)return s;s=null}else if(u===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return Pu=s,null}function Jb(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(tl()){case Fe:return 2;case kn:return 8;case oi:case xe:return 32;case qn:return 268435456;default:return 32}default:return 32}}var Vd=!1,Ls=null,zs=null,Hs=null,_o=new Map,Uo=new Map,js=[],uA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $b(s,r){switch(s){case"focusin":case"focusout":Ls=null;break;case"dragenter":case"dragleave":zs=null;break;case"mouseover":case"mouseout":Hs=null;break;case"pointerover":case"pointerout":_o.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Uo.delete(r.pointerId)}}function qo(s,r,u,f,m,y){return s===null||s.nativeEvent!==y?(s={blockedOn:r,domEventName:u,eventSystemFlags:f,nativeEvent:y,targetContainers:[m]},r!==null&&(r=zl(r),r!==null&&Zb(r)),s):(s.eventSystemFlags|=f,r=s.targetContainers,m!==null&&r.indexOf(m)===-1&&r.push(m),s)}function cA(s,r,u,f,m){switch(r){case"focusin":return Ls=qo(Ls,s,r,u,f,m),!0;case"dragenter":return zs=qo(zs,s,r,u,f,m),!0;case"mouseover":return Hs=qo(Hs,s,r,u,f,m),!0;case"pointerover":var y=m.pointerId;return _o.set(y,qo(_o.get(y)||null,s,r,u,f,m)),!0;case"gotpointercapture":return y=m.pointerId,Uo.set(y,qo(Uo.get(y)||null,s,r,u,f,m)),!0}return!1}function tv(s){var r=Ll(s.target);if(r!==null){var u=o(r);if(u!==null){if(r=u.tag,r===13){if(r=a(u),r!==null){s.blockedOn=r,ne(s.priority,function(){if(u.tag===13){var f=Nn();f=Ht(f);var m=Ql(u,f);m!==null&&Bn(m,u,f),jd(u,f)}});return}}else if(r===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Yu(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var u=Ud(s.nativeEvent);if(u===null){u=s.nativeEvent;var f=new u.constructor(u.type,u);Yf=f,u.target.dispatchEvent(f),Yf=null}else return r=zl(u),r!==null&&Zb(r),s.blockedOn=u,!1;r.shift()}return!0}function ev(s,r,u){Yu(s)&&u.delete(r)}function fA(){Vd=!1,Ls!==null&&Yu(Ls)&&(Ls=null),zs!==null&&Yu(zs)&&(zs=null),Hs!==null&&Yu(Hs)&&(Hs=null),_o.forEach(ev),Uo.forEach(ev)}function Gu(s,r){s.blockedOn===r&&(s.blockedOn=null,Vd||(Vd=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,fA)))}var Xu=null;function nv(s){Xu!==s&&(Xu=s,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Xu===s&&(Xu=null);for(var r=0;r<s.length;r+=3){var u=s[r],f=s[r+1],m=s[r+2];if(typeof f!="function"){if(qd(f||u)===null)continue;break}var y=zl(u);y!==null&&(s.splice(r,3),r-=3,qh(y,{pending:!0,data:m,method:u.method,action:f},f,m))}}))}function Vo(s){function r(T){return Gu(T,s)}Ls!==null&&Gu(Ls,s),zs!==null&&Gu(zs,s),Hs!==null&&Gu(Hs,s),_o.forEach(r),Uo.forEach(r);for(var u=0;u<js.length;u++){var f=js[u];f.blockedOn===s&&(f.blockedOn=null)}for(;0<js.length&&(u=js[0],u.blockedOn===null);)tv(u),u.blockedOn===null&&js.shift();if(u=(s.ownerDocument||s).$$reactFormReplay,u!=null)for(f=0;f<u.length;f+=3){var m=u[f],y=u[f+1],x=m[Rt]||null;if(typeof y=="function")x||nv(u);else if(x){var S=null;if(y&&y.hasAttribute("formAction")){if(m=y,x=y[Rt]||null)S=x.formAction;else if(qd(m)!==null)continue}else S=x.action;typeof S=="function"?u[f+1]=S:(u.splice(f,3),f-=3),nv(u)}}}function Pd(s){this._internalRoot=s}Iu.prototype.render=Pd.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(n(409));var u=r.current,f=Nn();Wb(u,f,s,r,null,null)},Iu.prototype.unmount=Pd.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;Wb(s.current,2,null,s,null,null),Tu(),r[Kt]=null}};function Iu(s){this._internalRoot=s}Iu.prototype.unstable_scheduleHydration=function(s){if(s){var r=Be();s={blockedOn:null,target:s,priority:r};for(var u=0;u<js.length&&r!==0&&r<js[u].priority;u++);js.splice(u,0,s),u===0&&tv(s)}};var iv=t.version;if(iv!=="19.1.1")throw Error(n(527,iv,"19.1.1"));I.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=h(r),s=s!==null?d(s):null,s=s===null?null:s.stateNode,s};var hA={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qu.isDisabled&&Qu.supportsFiber)try{Vn=Qu.inject(hA),he=Qu}catch{}}return Yo.createRoot=function(s,r){if(!l(s))throw Error(n(299));var u=!1,f="",m=vy,y=xy,x=Sy,S=null;return r!=null&&(r.unstable_strictMode===!0&&(u=!0),r.identifierPrefix!==void 0&&(f=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(x=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(S=r.unstable_transitionCallbacks)),r=Qb(s,1,!1,null,null,u,f,m,y,x,S,null),s[Kt]=r.current,kd(s),new Pd(r)},Yo.hydrateRoot=function(s,r,u){if(!l(s))throw Error(n(299));var f=!1,m="",y=vy,x=xy,S=Sy,T=null,_=null;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(m=u.identifierPrefix),u.onUncaughtError!==void 0&&(y=u.onUncaughtError),u.onCaughtError!==void 0&&(x=u.onCaughtError),u.onRecoverableError!==void 0&&(S=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(T=u.unstable_transitionCallbacks),u.formState!==void 0&&(_=u.formState)),r=Qb(s,1,!0,r,u??null,f,m,y,x,S,T,_),r.context=Kb(null),u=r.current,f=Nn(),f=Ht(f),m=xs(f),m.callback=null,Ss(u,m,f),u=f,r.current.lanes=u,le(r,u),Ai(r),s[Kt]=r.current,kd(s),new Iu(r)},Yo.version="19.1.1",Yo}var dv;function SA(){if(dv)return Xd.exports;dv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Xd.exports=xA(),Xd.exports}var wA=SA();const CA=Bp(wA);var Sr=zx();const kA=Bp(Sr);function AA(i){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",t.appendChild(e),e.styleSheet?e.styleSheet.cssText=i:e.appendChild(document.createTextNode(i))}const MA=i=>{switch(i){case"success":return OA;case"info":return RA;case"warning":return EA;case"error":return NA;default:return null}},TA=Array(12).fill(0),DA=({visible:i,className:t})=>$.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":i},$.createElement("div",{className:"sonner-spinner"},TA.map((e,n)=>$.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),OA=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),EA=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),RA=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),NA=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),BA=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},$.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),$.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),LA=()=>{const[i,t]=$.useState(document.hidden);return $.useEffect(()=>{const e=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)},[]),i};let Om=1;class zA{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;const{message:n,...l}=t,o=typeof t?.id=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:Om++,a=this.toasts.find(h=>h.id===o),c=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),a?this.toasts=this.toasts.map(h=>h.id===o?(this.publish({...h,...t,id:o,title:n}),{...h,...t,id:o,dismissible:c,title:n}):h):this.addToast({title:n,...l,dismissible:c,id:o}),o},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(e=>e({id:t,dismiss:!0})))):this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));const l=Promise.resolve(t instanceof Function?t():t);let o=n!==void 0,a;const c=l.then(async d=>{if(a=["resolve",d],$.isValidElement(d))o=!1,this.create({id:n,type:"default",message:d});else if(jA(d)&&!d.ok){o=!1;const g=typeof e.error=="function"?await e.error(`HTTP error! status: ${d.status}`):e.error,b=typeof e.description=="function"?await e.description(`HTTP error! status: ${d.status}`):e.description,w=typeof g=="object"&&!$.isValidElement(g)?g:{message:g};this.create({id:n,type:"error",description:b,...w})}else if(d instanceof Error){o=!1;const g=typeof e.error=="function"?await e.error(d):e.error,b=typeof e.description=="function"?await e.description(d):e.description,w=typeof g=="object"&&!$.isValidElement(g)?g:{message:g};this.create({id:n,type:"error",description:b,...w})}else if(e.success!==void 0){o=!1;const g=typeof e.success=="function"?await e.success(d):e.success,b=typeof e.description=="function"?await e.description(d):e.description,w=typeof g=="object"&&!$.isValidElement(g)?g:{message:g};this.create({id:n,type:"success",description:b,...w})}}).catch(async d=>{if(a=["reject",d],e.error!==void 0){o=!1;const p=typeof e.error=="function"?await e.error(d):e.error,g=typeof e.description=="function"?await e.description(d):e.description,v=typeof p=="object"&&!$.isValidElement(p)?p:{message:p};this.create({id:n,type:"error",description:g,...v})}}).finally(()=>{o&&(this.dismiss(n),n=void 0),e.finally==null||e.finally.call(e)}),h=()=>new Promise((d,p)=>c.then(()=>a[0]==="reject"?p(a[1]):d(a[1])).catch(p));return typeof n!="string"&&typeof n!="number"?{unwrap:h}:Object.assign(n,{unwrap:h})},this.custom=(t,e)=>{const n=e?.id||Om++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const gn=new zA,HA=(i,t)=>{const e=t?.id||Om++;return gn.addToast({title:i,...t,id:e}),e},jA=i=>i&&typeof i=="object"&&"ok"in i&&typeof i.ok=="boolean"&&"status"in i&&typeof i.status=="number",_A=HA,UA=()=>gn.toasts,qA=()=>gn.getActiveToasts(),on=Object.assign(_A,{success:gn.success,info:gn.info,warning:gn.warning,error:gn.error,custom:gn.custom,message:gn.message,promise:gn.promise,dismiss:gn.dismiss,loading:gn.loading},{getHistory:UA,getToasts:qA});AA("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Ku(i){return i.label!==void 0}const VA=3,PA="24px",YA="16px",mv=4e3,GA=356,XA=14,IA=45,QA=200;function Mi(...i){return i.filter(Boolean).join(" ")}function KA(i){const[t,e]=i.split("-"),n=[];return t&&n.push(t),e&&n.push(e),n}const WA=i=>{var t,e,n,l,o,a,c,h,d;const{invert:p,toast:g,unstyled:b,interacting:v,setHeights:w,visibleToasts:C,heights:k,index:A,toasts:N,expanded:j,removeToast:E,defaultRichColors:D,closeButton:z,style:U,cancelButtonStyle:K,actionButtonStyle:tt,className:ct="",descriptionClassName:it="",duration:et,position:ut,gap:pt,expandByDefault:gt,classNames:B,icons:I,closeButtonAriaLabel:st="Close toast"}=i,[ot,M]=$.useState(null),[Y,J]=$.useState(null),[X,nt]=$.useState(!1),[dt,rt]=$.useState(!1),[Qt,yt]=$.useState(!1),[se,Et]=$.useState(!1),[sn,pe]=$.useState(!1),[Un,Ve]=$.useState(0),[vi,ri]=$.useState(0),Ae=$.useRef(g.duration||et||mv),tl=$.useRef(null),Fe=$.useRef(null),kn=A===0,oi=A+1<=C,xe=g.type,qn=g.dismissible!==!1,Nl=g.className||"",Qr=g.descriptionClassName||"",Vn=$.useMemo(()=>k.findIndex(bt=>bt.toastId===g.id)||0,[k,g.id]),he=$.useMemo(()=>{var bt;return(bt=g.closeButton)!=null?bt:z},[g.closeButton,z]),Re=$.useMemo(()=>g.duration||et||mv,[g.duration,et]),ce=$.useRef(0),ai=$.useRef(0),An=$.useRef(0),ui=$.useRef(null),[ds,ms]=ut.split("-"),fn=$.useMemo(()=>k.reduce((bt,Yt,Ht)=>Ht>=Vn?bt:bt+Yt.height,0),[k,Vn]),xi=LA(),Yi=g.invert||p,ps=xe==="loading";ai.current=$.useMemo(()=>Vn*pt+fn,[Vn,fn]),$.useEffect(()=>{Ae.current=Re},[Re]),$.useEffect(()=>{nt(!0)},[]),$.useEffect(()=>{const bt=Fe.current;if(bt){const Yt=bt.getBoundingClientRect().height;return ri(Yt),w(Ht=>[{toastId:g.id,height:Yt,position:g.position},...Ht]),()=>w(Ht=>Ht.filter(qt=>qt.toastId!==g.id))}},[w,g.id]),$.useLayoutEffect(()=>{if(!X)return;const bt=Fe.current,Yt=bt.style.height;bt.style.height="auto";const Ht=bt.getBoundingClientRect().height;bt.style.height=Yt,ri(Ht),w(qt=>qt.find(ne=>ne.toastId===g.id)?qt.map(ne=>ne.toastId===g.id?{...ne,height:Ht}:ne):[{toastId:g.id,height:Ht,position:g.position},...qt])},[X,g.title,g.description,w,g.id,g.jsx,g.action,g.cancel]);const Mn=$.useCallback(()=>{rt(!0),Ve(ai.current),w(bt=>bt.filter(Yt=>Yt.toastId!==g.id)),setTimeout(()=>{E(g)},QA)},[g,E,w,ai]);$.useEffect(()=>{if(g.promise&&xe==="loading"||g.duration===1/0||g.type==="loading")return;let bt;return j||v||xi?(()=>{if(An.current<ce.current){const qt=new Date().getTime()-ce.current;Ae.current=Ae.current-qt}An.current=new Date().getTime()})():(()=>{Ae.current!==1/0&&(ce.current=new Date().getTime(),bt=setTimeout(()=>{g.onAutoClose==null||g.onAutoClose.call(g,g),Mn()},Ae.current))})(),()=>clearTimeout(bt)},[j,v,g,xe,xi,Mn]),$.useEffect(()=>{g.delete&&(Mn(),g.onDismiss==null||g.onDismiss.call(g,g))},[Mn,g.delete]);function Bl(){var bt;if(I?.loading){var Yt;return $.createElement("div",{className:Mi(B?.loader,g==null||(Yt=g.classNames)==null?void 0:Yt.loader,"sonner-loader"),"data-visible":xe==="loading"},I.loading)}return $.createElement(DA,{className:Mi(B?.loader,g==null||(bt=g.classNames)==null?void 0:bt.loader),visible:xe==="loading"})}const el=g.icon||I?.[xe]||MA(xe);var le,Ne;return $.createElement("li",{tabIndex:0,ref:Fe,className:Mi(ct,Nl,B?.toast,g==null||(t=g.classNames)==null?void 0:t.toast,B?.default,B?.[xe],g==null||(e=g.classNames)==null?void 0:e[xe]),"data-sonner-toast":"","data-rich-colors":(le=g.richColors)!=null?le:D,"data-styled":!(g.jsx||g.unstyled||b),"data-mounted":X,"data-promise":!!g.promise,"data-swiped":sn,"data-removed":dt,"data-visible":oi,"data-y-position":ds,"data-x-position":ms,"data-index":A,"data-front":kn,"data-swiping":Qt,"data-dismissible":qn,"data-type":xe,"data-invert":Yi,"data-swipe-out":se,"data-swipe-direction":Y,"data-expanded":!!(j||gt&&X),"data-testid":g.testId,style:{"--index":A,"--toasts-before":A,"--z-index":N.length-A,"--offset":`${dt?Un:ai.current}px`,"--initial-height":gt?"auto":`${vi}px`,...U,...g.style},onDragEnd:()=>{yt(!1),M(null),ui.current=null},onPointerDown:bt=>{bt.button!==2&&(ps||!qn||(tl.current=new Date,Ve(ai.current),bt.target.setPointerCapture(bt.pointerId),bt.target.tagName!=="BUTTON"&&(yt(!0),ui.current={x:bt.clientX,y:bt.clientY})))},onPointerUp:()=>{var bt,Yt,Ht;if(se||!qn)return;ui.current=null;const qt=Number(((bt=Fe.current)==null?void 0:bt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Be=Number(((Yt=Fe.current)==null?void 0:Yt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ne=new Date().getTime()-((Ht=tl.current)==null?void 0:Ht.getTime()),Mt=ot==="x"?qt:Be,Gt=Math.abs(Mt)/ne;if(Math.abs(Mt)>=IA||Gt>.11){Ve(ai.current),g.onDismiss==null||g.onDismiss.call(g,g),J(ot==="x"?qt>0?"right":"left":Be>0?"down":"up"),Mn(),Et(!0);return}else{var Rt,Kt;(Rt=Fe.current)==null||Rt.style.setProperty("--swipe-amount-x","0px"),(Kt=Fe.current)==null||Kt.style.setProperty("--swipe-amount-y","0px")}pe(!1),yt(!1),M(null)},onPointerMove:bt=>{var Yt,Ht,qt;if(!ui.current||!qn||((Yt=window.getSelection())==null?void 0:Yt.toString().length)>0)return;const ne=bt.clientY-ui.current.y,Mt=bt.clientX-ui.current.x;var Gt;const Rt=(Gt=i.swipeDirections)!=null?Gt:KA(ut);!ot&&(Math.abs(Mt)>1||Math.abs(ne)>1)&&M(Math.abs(Mt)>Math.abs(ne)?"x":"y");let Kt={x:0,y:0};const Pn=ln=>1/(1.5+Math.abs(ln)/20);if(ot==="y"){if(Rt.includes("top")||Rt.includes("bottom"))if(Rt.includes("top")&&ne<0||Rt.includes("bottom")&&ne>0)Kt.y=ne;else{const ln=ne*Pn(ne);Kt.y=Math.abs(ln)<Math.abs(ne)?ln:ne}}else if(ot==="x"&&(Rt.includes("left")||Rt.includes("right")))if(Rt.includes("left")&&Mt<0||Rt.includes("right")&&Mt>0)Kt.x=Mt;else{const ln=Mt*Pn(Mt);Kt.x=Math.abs(ln)<Math.abs(Mt)?ln:Mt}(Math.abs(Kt.x)>0||Math.abs(Kt.y)>0)&&pe(!0),(Ht=Fe.current)==null||Ht.style.setProperty("--swipe-amount-x",`${Kt.x}px`),(qt=Fe.current)==null||qt.style.setProperty("--swipe-amount-y",`${Kt.y}px`)}},he&&!g.jsx&&xe!=="loading"?$.createElement("button",{"aria-label":st,"data-disabled":ps,"data-close-button":!0,onClick:ps||!qn?()=>{}:()=>{Mn(),g.onDismiss==null||g.onDismiss.call(g,g)},className:Mi(B?.closeButton,g==null||(n=g.classNames)==null?void 0:n.closeButton)},(Ne=I?.close)!=null?Ne:BA):null,(xe||g.icon||g.promise)&&g.icon!==null&&(I?.[xe]!==null||g.icon)?$.createElement("div",{"data-icon":"",className:Mi(B?.icon,g==null||(l=g.classNames)==null?void 0:l.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||Bl():null,g.type!=="loading"?el:null):null,$.createElement("div",{"data-content":"",className:Mi(B?.content,g==null||(o=g.classNames)==null?void 0:o.content)},$.createElement("div",{"data-title":"",className:Mi(B?.title,g==null||(a=g.classNames)==null?void 0:a.title)},g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title),g.description?$.createElement("div",{"data-description":"",className:Mi(it,Qr,B?.description,g==null||(c=g.classNames)==null?void 0:c.description)},typeof g.description=="function"?g.description():g.description):null),$.isValidElement(g.cancel)?g.cancel:g.cancel&&Ku(g.cancel)?$.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||K,onClick:bt=>{Ku(g.cancel)&&qn&&(g.cancel.onClick==null||g.cancel.onClick.call(g.cancel,bt),Mn())},className:Mi(B?.cancelButton,g==null||(h=g.classNames)==null?void 0:h.cancelButton)},g.cancel.label):null,$.isValidElement(g.action)?g.action:g.action&&Ku(g.action)?$.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||tt,onClick:bt=>{Ku(g.action)&&(g.action.onClick==null||g.action.onClick.call(g.action,bt),!bt.defaultPrevented&&Mn())},className:Mi(B?.actionButton,g==null||(d=g.classNames)==null?void 0:d.actionButton)},g.action.label):null)};function pv(){if(typeof window>"u"||typeof document>"u")return"ltr";const i=document.documentElement.getAttribute("dir");return i==="auto"||!i?window.getComputedStyle(document.documentElement).direction:i}function FA(i,t){const e={};return[i,t].forEach((n,l)=>{const o=l===1,a=o?"--mobile-offset":"--offset",c=o?YA:PA;function h(d){["top","right","bottom","left"].forEach(p=>{e[`${a}-${p}`]=typeof d=="number"?`${d}px`:d})}typeof n=="number"||typeof n=="string"?h(n):typeof n=="object"?["top","right","bottom","left"].forEach(d=>{n[d]===void 0?e[`${a}-${d}`]=c:e[`${a}-${d}`]=typeof n[d]=="number"?`${n[d]}px`:n[d]}):h(c)}),e}const ZA=$.forwardRef(function(t,e){const{id:n,invert:l,position:o="bottom-right",hotkey:a=["altKey","KeyT"],expand:c,closeButton:h,className:d,offset:p,mobileOffset:g,theme:b="light",richColors:v,duration:w,style:C,visibleToasts:k=VA,toastOptions:A,dir:N=pv(),gap:j=XA,icons:E,containerAriaLabel:D="Notifications"}=t,[z,U]=$.useState([]),K=$.useMemo(()=>n?z.filter(X=>X.toasterId===n):z.filter(X=>!X.toasterId),[z,n]),tt=$.useMemo(()=>Array.from(new Set([o].concat(K.filter(X=>X.position).map(X=>X.position)))),[K,o]),[ct,it]=$.useState([]),[et,ut]=$.useState(!1),[pt,gt]=$.useState(!1),[B,I]=$.useState(b!=="system"?b:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),st=$.useRef(null),ot=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),M=$.useRef(null),Y=$.useRef(!1),J=$.useCallback(X=>{U(nt=>{var dt;return(dt=nt.find(rt=>rt.id===X.id))!=null&&dt.delete||gn.dismiss(X.id),nt.filter(({id:rt})=>rt!==X.id)})},[]);return $.useEffect(()=>gn.subscribe(X=>{if(X.dismiss){requestAnimationFrame(()=>{U(nt=>nt.map(dt=>dt.id===X.id?{...dt,delete:!0}:dt))});return}setTimeout(()=>{kA.flushSync(()=>{U(nt=>{const dt=nt.findIndex(rt=>rt.id===X.id);return dt!==-1?[...nt.slice(0,dt),{...nt[dt],...X},...nt.slice(dt+1)]:[X,...nt]})})})}),[z]),$.useEffect(()=>{if(b!=="system"){I(b);return}if(b==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?I("dark"):I("light")),typeof window>"u")return;const X=window.matchMedia("(prefers-color-scheme: dark)");try{X.addEventListener("change",({matches:nt})=>{I(nt?"dark":"light")})}catch{X.addListener(({matches:dt})=>{try{I(dt?"dark":"light")}catch(rt){console.error(rt)}})}},[b]),$.useEffect(()=>{z.length<=1&&ut(!1)},[z]),$.useEffect(()=>{const X=nt=>{var dt;if(a.every(yt=>nt[yt]||nt.code===yt)){var Qt;ut(!0),(Qt=st.current)==null||Qt.focus()}nt.code==="Escape"&&(document.activeElement===st.current||(dt=st.current)!=null&&dt.contains(document.activeElement))&&ut(!1)};return document.addEventListener("keydown",X),()=>document.removeEventListener("keydown",X)},[a]),$.useEffect(()=>{if(st.current)return()=>{M.current&&(M.current.focus({preventScroll:!0}),M.current=null,Y.current=!1)}},[st.current]),$.createElement("section",{ref:e,"aria-label":`${D} ${ot}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},tt.map((X,nt)=>{var dt;const[rt,Qt]=X.split("-");return K.length?$.createElement("ol",{key:X,dir:N==="auto"?pv():N,tabIndex:-1,ref:st,className:d,"data-sonner-toaster":!0,"data-sonner-theme":B,"data-y-position":rt,"data-x-position":Qt,style:{"--front-toast-height":`${((dt=ct[0])==null?void 0:dt.height)||0}px`,"--width":`${GA}px`,"--gap":`${j}px`,...C,...FA(p,g)},onBlur:yt=>{Y.current&&!yt.currentTarget.contains(yt.relatedTarget)&&(Y.current=!1,M.current&&(M.current.focus({preventScroll:!0}),M.current=null))},onFocus:yt=>{yt.target instanceof HTMLElement&&yt.target.dataset.dismissible==="false"||Y.current||(Y.current=!0,M.current=yt.relatedTarget)},onMouseEnter:()=>ut(!0),onMouseMove:()=>ut(!0),onMouseLeave:()=>{pt||ut(!1)},onDragEnd:()=>ut(!1),onPointerDown:yt=>{yt.target instanceof HTMLElement&&yt.target.dataset.dismissible==="false"||gt(!0)},onPointerUp:()=>gt(!1)},K.filter(yt=>!yt.position&&nt===0||yt.position===X).map((yt,se)=>{var Et,sn;return $.createElement(WA,{key:yt.id,icons:E,index:se,toast:yt,defaultRichColors:v,duration:(Et=A?.duration)!=null?Et:w,className:A?.className,descriptionClassName:A?.descriptionClassName,invert:l,visibleToasts:k,closeButton:(sn=A?.closeButton)!=null?sn:h,interacting:pt,position:X,style:A?.style,unstyled:A?.unstyled,classNames:A?.classNames,cancelButtonStyle:A?.cancelButtonStyle,actionButtonStyle:A?.actionButtonStyle,closeButtonAriaLabel:A?.closeButtonAriaLabel,removeToast:J,toasts:K.filter(pe=>pe.position==yt.position),heights:ct.filter(pe=>pe.position==yt.position),setHeights:it,expandByDefault:c,gap:j,expanded:et,swipeDirections:t.swipeDirections})})):null}))});/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JA=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$A=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,n)=>n?n.toUpperCase():e.toLowerCase()),gv=i=>{const t=$A(i);return t.charAt(0).toUpperCase()+t.slice(1)},Hx=(...i)=>i.filter((t,e,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===e).join(" ").trim(),tM=i=>{for(const t in i)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var eM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=P.forwardRef(({color:i="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:n,className:l="",children:o,iconNode:a,...c},h)=>P.createElement("svg",{ref:h,...eM,width:t,height:t,stroke:i,strokeWidth:n?Number(e)*24/Number(t):e,className:Hx("lucide",l),...!o&&!tM(c)&&{"aria-hidden":"true"},...c},[...a.map(([d,p])=>P.createElement(d,p)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _n=(i,t)=>{const e=P.forwardRef(({className:n,...l},o)=>P.createElement(nM,{ref:o,iconNode:t,className:Hx(`lucide-${JA(gv(i))}`,`lucide-${i}`,n),...l}));return e.displayName=gv(i),e};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iM=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],sM=_n("circle-check-big",iM);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],rM=_n("circle-x",lM);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oM=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Sc=_n("clock",oM);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],uM=_n("copy",aM);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cM=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],jx=_n("download",cM);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fM=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],yv=_n("grip-vertical",fM);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],dM=_n("plus",hM);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mM=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],pM=_n("send",mM);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gM=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],_x=_n("trash-2",gM);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yM=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],bv=_n("upload",yM);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],vM=_n("wifi-off",bM);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xM=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],SM=_n("wifi",xM);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Em=_n("x",wM);function Rm(){return Rm=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)({}).hasOwnProperty.call(e,n)&&(i[n]=e[n])}return i},Rm.apply(null,arguments)}function CM(i,t){if(i==null)return{};var e={};for(var n in i)if({}.hasOwnProperty.call(i,n)){if(t.indexOf(n)!==-1)continue;e[n]=i[n]}return e}let Nm=[],Ux=[];(()=>{let i="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(t=>t?parseInt(t,36):1);for(let t=0,e=0;t<i.length;t++)(t%2?Ux:Nm).push(e=e+i[t])})();function kM(i){if(i<768)return!1;for(let t=0,e=Nm.length;;){let n=t+e>>1;if(i<Nm[n])e=n;else if(i>=Ux[n])t=n+1;else return!0;if(t==e)return!1}}function vv(i){return i>=127462&&i<=127487}const xv=8205;function AM(i,t,e=!0,n=!0){return(e?qx:MM)(i,t,n)}function qx(i,t,e){if(t==i.length)return t;t&&Vx(i.charCodeAt(t))&&Px(i.charCodeAt(t-1))&&t--;let n=Wd(i,t);for(t+=Sv(n);t<i.length;){let l=Wd(i,t);if(n==xv||l==xv||e&&kM(l))t+=Sv(l),n=l;else if(vv(l)){let o=0,a=t-2;for(;a>=0&&vv(Wd(i,a));)o++,a-=2;if(o%2==0)break;t+=2}else break}return t}function MM(i,t,e){for(;t>0;){let n=qx(i,t-2,e);if(n<t)return n;t--}return 0}function Wd(i,t){let e=i.charCodeAt(t);if(!Px(e)||t+1==i.length)return e;let n=i.charCodeAt(t+1);return Vx(n)?(e-55296<<10)+(n-56320)+65536:e}function Vx(i){return i>=56320&&i<57344}function Px(i){return i>=55296&&i<56320}function Sv(i){return i<65536?1:2}class _t{lineAt(t){if(t<0||t>this.length)throw new RangeError(`Invalid position ${t} in document of length ${this.length}`);return this.lineInner(t,!1,1,0)}line(t){if(t<1||t>this.lines)throw new RangeError(`Invalid line number ${t} in ${this.lines}-line document`);return this.lineInner(t,!0,1,0)}replace(t,e,n){[t,e]=Br(this,t,e);let l=[];return this.decompose(0,t,l,2),n.length&&n.decompose(0,n.length,l,3),this.decompose(e,this.length,l,1),Ri.from(l,this.length-(e-t)+n.length)}append(t){return this.replace(this.length,this.length,t)}slice(t,e=this.length){[t,e]=Br(this,t,e);let n=[];return this.decompose(t,e,n,0),Ri.from(n,e-t)}eq(t){if(t==this)return!0;if(t.length!=this.length||t.lines!=this.lines)return!1;let e=this.scanIdentical(t,1),n=this.length-this.scanIdentical(t,-1),l=new ta(this),o=new ta(t);for(let a=e,c=e;;){if(l.next(a),o.next(a),a=0,l.lineBreak!=o.lineBreak||l.done!=o.done||l.value!=o.value)return!1;if(c+=l.value.length,l.done||c>=n)return!0}}iter(t=1){return new ta(this,t)}iterRange(t,e=this.length){return new Yx(this,t,e)}iterLines(t,e){let n;if(t==null)n=this.iter();else{e==null&&(e=this.lines+1);let l=this.line(t).from;n=this.iterRange(l,Math.max(l,e==this.lines+1?this.length:e<=1?0:this.line(e-1).to))}return new Gx(n)}toString(){return this.sliceString(0)}toJSON(){let t=[];return this.flatten(t),t}constructor(){}static of(t){if(t.length==0)throw new RangeError("A document must have at least one line");return t.length==1&&!t[0]?_t.empty:t.length<=32?new be(t):Ri.from(be.split(t,[]))}}class be extends _t{constructor(t,e=TM(t)){super(),this.text=t,this.length=e}get lines(){return this.text.length}get children(){return null}lineInner(t,e,n,l){for(let o=0;;o++){let a=this.text[o],c=l+a.length;if((e?n:c)>=t)return new DM(l,c,n,a);l=c+1,n++}}decompose(t,e,n,l){let o=t<=0&&e>=this.length?this:new be(wv(this.text,t,e),Math.min(e,this.length)-Math.max(0,t));if(l&1){let a=n.pop(),c=wc(o.text,a.text.slice(),0,o.length);if(c.length<=32)n.push(new be(c,a.length+o.length));else{let h=c.length>>1;n.push(new be(c.slice(0,h)),new be(c.slice(h)))}}else n.push(o)}replace(t,e,n){if(!(n instanceof be))return super.replace(t,e,n);[t,e]=Br(this,t,e);let l=wc(this.text,wc(n.text,wv(this.text,0,t)),e),o=this.length+n.length-(e-t);return l.length<=32?new be(l,o):Ri.from(be.split(l,[]),o)}sliceString(t,e=this.length,n=`
`){[t,e]=Br(this,t,e);let l="";for(let o=0,a=0;o<=e&&a<this.text.length;a++){let c=this.text[a],h=o+c.length;o>t&&a&&(l+=n),t<h&&e>o&&(l+=c.slice(Math.max(0,t-o),e-o)),o=h+1}return l}flatten(t){for(let e of this.text)t.push(e)}scanIdentical(){return 0}static split(t,e){let n=[],l=-1;for(let o of t)n.push(o),l+=o.length+1,n.length==32&&(e.push(new be(n,l)),n=[],l=-1);return l>-1&&e.push(new be(n,l)),e}}class Ri extends _t{constructor(t,e){super(),this.children=t,this.length=e,this.lines=0;for(let n of t)this.lines+=n.lines}lineInner(t,e,n,l){for(let o=0;;o++){let a=this.children[o],c=l+a.length,h=n+a.lines-1;if((e?h:c)>=t)return a.lineInner(t,e,n,l);l=c+1,n=h+1}}decompose(t,e,n,l){for(let o=0,a=0;a<=e&&o<this.children.length;o++){let c=this.children[o],h=a+c.length;if(t<=h&&e>=a){let d=l&((a<=t?1:0)|(h>=e?2:0));a>=t&&h<=e&&!d?n.push(c):c.decompose(t-a,e-a,n,d)}a=h+1}}replace(t,e,n){if([t,e]=Br(this,t,e),n.lines<this.lines)for(let l=0,o=0;l<this.children.length;l++){let a=this.children[l],c=o+a.length;if(t>=o&&e<=c){let h=a.replace(t-o,e-o,n),d=this.lines-a.lines+h.lines;if(h.lines<d>>4&&h.lines>d>>6){let p=this.children.slice();return p[l]=h,new Ri(p,this.length-(e-t)+n.length)}return super.replace(o,c,h)}o=c+1}return super.replace(t,e,n)}sliceString(t,e=this.length,n=`
`){[t,e]=Br(this,t,e);let l="";for(let o=0,a=0;o<this.children.length&&a<=e;o++){let c=this.children[o],h=a+c.length;a>t&&o&&(l+=n),t<h&&e>a&&(l+=c.sliceString(t-a,e-a,n)),a=h+1}return l}flatten(t){for(let e of this.children)e.flatten(t)}scanIdentical(t,e){if(!(t instanceof Ri))return 0;let n=0,[l,o,a,c]=e>0?[0,0,this.children.length,t.children.length]:[this.children.length-1,t.children.length-1,-1,-1];for(;;l+=e,o+=e){if(l==a||o==c)return n;let h=this.children[l],d=t.children[o];if(h!=d)return n+h.scanIdentical(d,e);n+=h.length+1}}static from(t,e=t.reduce((n,l)=>n+l.length+1,-1)){let n=0;for(let v of t)n+=v.lines;if(n<32){let v=[];for(let w of t)w.flatten(v);return new be(v,e)}let l=Math.max(32,n>>5),o=l<<1,a=l>>1,c=[],h=0,d=-1,p=[];function g(v){let w;if(v.lines>o&&v instanceof Ri)for(let C of v.children)g(C);else v.lines>a&&(h>a||!h)?(b(),c.push(v)):v instanceof be&&h&&(w=p[p.length-1])instanceof be&&v.lines+w.lines<=32?(h+=v.lines,d+=v.length+1,p[p.length-1]=new be(w.text.concat(v.text),w.length+1+v.length)):(h+v.lines>l&&b(),h+=v.lines,d+=v.length+1,p.push(v))}function b(){h!=0&&(c.push(p.length==1?p[0]:Ri.from(p,d)),d=-1,h=p.length=0)}for(let v of t)g(v);return b(),c.length==1?c[0]:new Ri(c,e)}}_t.empty=new be([""],0);function TM(i){let t=-1;for(let e of i)t+=e.length+1;return t}function wc(i,t,e=0,n=1e9){for(let l=0,o=0,a=!0;o<i.length&&l<=n;o++){let c=i[o],h=l+c.length;h>=e&&(h>n&&(c=c.slice(0,n-l)),l<e&&(c=c.slice(e-l)),a?(t[t.length-1]+=c,a=!1):t.push(c)),l=h+1}return t}function wv(i,t,e){return wc(i,[""],t,e)}class ta{constructor(t,e=1){this.dir=e,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[t],this.offsets=[e>0?1:(t instanceof be?t.text.length:t.children.length)<<1]}nextInner(t,e){for(this.done=this.lineBreak=!1;;){let n=this.nodes.length-1,l=this.nodes[n],o=this.offsets[n],a=o>>1,c=l instanceof be?l.text.length:l.children.length;if(a==(e>0?c:0)){if(n==0)return this.done=!0,this.value="",this;e>0&&this.offsets[n-1]++,this.nodes.pop(),this.offsets.pop()}else if((o&1)==(e>0?0:1)){if(this.offsets[n]+=e,t==0)return this.lineBreak=!0,this.value=`
`,this;t--}else if(l instanceof be){let h=l.text[a+(e<0?-1:0)];if(this.offsets[n]+=e,h.length>Math.max(0,t))return this.value=t==0?h:e>0?h.slice(t):h.slice(0,h.length-t),this;t-=h.length}else{let h=l.children[a+(e<0?-1:0)];t>h.length?(t-=h.length,this.offsets[n]+=e):(e<0&&this.offsets[n]--,this.nodes.push(h),this.offsets.push(e>0?1:(h instanceof be?h.text.length:h.children.length)<<1))}}}next(t=0){return t<0&&(this.nextInner(-t,-this.dir),t=this.value.length),this.nextInner(t,this.dir)}}class Yx{constructor(t,e,n){this.value="",this.done=!1,this.cursor=new ta(t,e>n?-1:1),this.pos=e>n?t.length:0,this.from=Math.min(e,n),this.to=Math.max(e,n)}nextInner(t,e){if(e<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;t+=Math.max(0,e<0?this.pos-this.to:this.from-this.pos);let n=e<0?this.pos-this.from:this.to-this.pos;t>n&&(t=n),n-=t;let{value:l}=this.cursor.next(t);return this.pos+=(l.length+t)*e,this.value=l.length<=n?l:e<0?l.slice(l.length-n):l.slice(0,n),this.done=!this.value,this}next(t=0){return t<0?t=Math.max(t,this.from-this.pos):t>0&&(t=Math.min(t,this.to-this.pos)),this.nextInner(t,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class Gx{constructor(t){this.inner=t,this.afterBreak=!0,this.value="",this.done=!1}next(t=0){let{done:e,lineBreak:n,value:l}=this.inner.next(t);return e&&this.afterBreak?(this.value="",this.afterBreak=!1):e?(this.done=!0,this.value=""):n?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=l,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(_t.prototype[Symbol.iterator]=function(){return this.iter()},ta.prototype[Symbol.iterator]=Yx.prototype[Symbol.iterator]=Gx.prototype[Symbol.iterator]=function(){return this});class DM{constructor(t,e,n,l){this.from=t,this.to=e,this.number=n,this.text=l}get length(){return this.to-this.from}}function Br(i,t,e){return t=Math.max(0,Math.min(i.length,t)),[t,Math.max(t,Math.min(i.length,e))]}function Ke(i,t,e=!0,n=!0){return AM(i,t,e,n)}function OM(i){return i>=56320&&i<57344}function EM(i){return i>=55296&&i<56320}function yn(i,t){let e=i.charCodeAt(t);if(!EM(e)||t+1==i.length)return e;let n=i.charCodeAt(t+1);return OM(n)?(e-55296<<10)+(n-56320)+65536:e}function zp(i){return i<=65535?String.fromCharCode(i):(i-=65536,String.fromCharCode((i>>10)+55296,(i&1023)+56320))}function Ni(i){return i<65536?1:2}const Bm=/\r\n?|\n/;var an=(function(i){return i[i.Simple=0]="Simple",i[i.TrackDel=1]="TrackDel",i[i.TrackBefore=2]="TrackBefore",i[i.TrackAfter=3]="TrackAfter",i})(an||(an={}));class ji{constructor(t){this.sections=t}get length(){let t=0;for(let e=0;e<this.sections.length;e+=2)t+=this.sections[e];return t}get newLength(){let t=0;for(let e=0;e<this.sections.length;e+=2){let n=this.sections[e+1];t+=n<0?this.sections[e]:n}return t}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(t){for(let e=0,n=0,l=0;e<this.sections.length;){let o=this.sections[e++],a=this.sections[e++];a<0?(t(n,l,o),l+=o):l+=a,n+=o}}iterChangedRanges(t,e=!1){Lm(this,t,e)}get invertedDesc(){let t=[];for(let e=0;e<this.sections.length;){let n=this.sections[e++],l=this.sections[e++];l<0?t.push(n,l):t.push(l,n)}return new ji(t)}composeDesc(t){return this.empty?t:t.empty?this:Xx(this,t)}mapDesc(t,e=!1){return t.empty?this:zm(this,t,e)}mapPos(t,e=-1,n=an.Simple){let l=0,o=0;for(let a=0;a<this.sections.length;){let c=this.sections[a++],h=this.sections[a++],d=l+c;if(h<0){if(d>t)return o+(t-l);o+=c}else{if(n!=an.Simple&&d>=t&&(n==an.TrackDel&&l<t&&d>t||n==an.TrackBefore&&l<t||n==an.TrackAfter&&d>t))return null;if(d>t||d==t&&e<0&&!c)return t==l||e<0?o:o+h;o+=h}l=d}if(t>l)throw new RangeError(`Position ${t} is out of range for changeset of length ${l}`);return o}touchesRange(t,e=t){for(let n=0,l=0;n<this.sections.length&&l<=e;){let o=this.sections[n++],a=this.sections[n++],c=l+o;if(a>=0&&l<=e&&c>=t)return l<t&&c>e?"cover":!0;l=c}return!1}toString(){let t="";for(let e=0;e<this.sections.length;){let n=this.sections[e++],l=this.sections[e++];t+=(t?" ":"")+n+(l>=0?":"+l:"")}return t}toJSON(){return this.sections}static fromJSON(t){if(!Array.isArray(t)||t.length%2||t.some(e=>typeof e!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new ji(t)}static create(t){return new ji(t)}}class De extends ji{constructor(t,e){super(t),this.inserted=e}apply(t){if(this.length!=t.length)throw new RangeError("Applying change set to a document with the wrong length");return Lm(this,(e,n,l,o,a)=>t=t.replace(l,l+(n-e),a),!1),t}mapDesc(t,e=!1){return zm(this,t,e,!0)}invert(t){let e=this.sections.slice(),n=[];for(let l=0,o=0;l<e.length;l+=2){let a=e[l],c=e[l+1];if(c>=0){e[l]=c,e[l+1]=a;let h=l>>1;for(;n.length<h;)n.push(_t.empty);n.push(a?t.slice(o,o+a):_t.empty)}o+=a}return new De(e,n)}compose(t){return this.empty?t:t.empty?this:Xx(this,t,!0)}map(t,e=!1){return t.empty?this:zm(this,t,e,!0)}iterChanges(t,e=!1){Lm(this,t,e)}get desc(){return ji.create(this.sections)}filter(t){let e=[],n=[],l=[],o=new ua(this);t:for(let a=0,c=0;;){let h=a==t.length?1e9:t[a++];for(;c<h||c==h&&o.len==0;){if(o.done)break t;let p=Math.min(o.len,h-c);$e(l,p,-1);let g=o.ins==-1?-1:o.off==0?o.ins:0;$e(e,p,g),g>0&&Ys(n,e,o.text),o.forward(p),c+=p}let d=t[a++];for(;c<d;){if(o.done)break t;let p=Math.min(o.len,d-c);$e(e,p,-1),$e(l,p,o.ins==-1?-1:o.off==0?o.ins:0),o.forward(p),c+=p}}return{changes:new De(e,n),filtered:ji.create(l)}}toJSON(){let t=[];for(let e=0;e<this.sections.length;e+=2){let n=this.sections[e],l=this.sections[e+1];l<0?t.push(n):l==0?t.push([n]):t.push([n].concat(this.inserted[e>>1].toJSON()))}return t}static of(t,e,n){let l=[],o=[],a=0,c=null;function h(p=!1){if(!p&&!l.length)return;a<e&&$e(l,e-a,-1);let g=new De(l,o);c=c?c.compose(g.map(c)):g,l=[],o=[],a=0}function d(p){if(Array.isArray(p))for(let g of p)d(g);else if(p instanceof De){if(p.length!=e)throw new RangeError(`Mismatched change set length (got ${p.length}, expected ${e})`);h(),c=c?c.compose(p.map(c)):p}else{let{from:g,to:b=g,insert:v}=p;if(g>b||g<0||b>e)throw new RangeError(`Invalid change range ${g} to ${b} (in doc of length ${e})`);let w=v?typeof v=="string"?_t.of(v.split(n||Bm)):v:_t.empty,C=w.length;if(g==b&&C==0)return;g<a&&h(),g>a&&$e(l,g-a,-1),$e(l,b-g,C),Ys(o,l,w),a=b}}return d(t),h(!c),c}static empty(t){return new De(t?[t,-1]:[],[])}static fromJSON(t){if(!Array.isArray(t))throw new RangeError("Invalid JSON representation of ChangeSet");let e=[],n=[];for(let l=0;l<t.length;l++){let o=t[l];if(typeof o=="number")e.push(o,-1);else{if(!Array.isArray(o)||typeof o[0]!="number"||o.some((a,c)=>c&&typeof a!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(o.length==1)e.push(o[0],0);else{for(;n.length<l;)n.push(_t.empty);n[l]=_t.of(o.slice(1)),e.push(o[0],n[l].length)}}}return new De(e,n)}static createSet(t,e){return new De(t,e)}}function $e(i,t,e,n=!1){if(t==0&&e<=0)return;let l=i.length-2;l>=0&&e<=0&&e==i[l+1]?i[l]+=t:l>=0&&t==0&&i[l]==0?i[l+1]+=e:n?(i[l]+=t,i[l+1]+=e):i.push(t,e)}function Ys(i,t,e){if(e.length==0)return;let n=t.length-2>>1;if(n<i.length)i[i.length-1]=i[i.length-1].append(e);else{for(;i.length<n;)i.push(_t.empty);i.push(e)}}function Lm(i,t,e){let n=i.inserted;for(let l=0,o=0,a=0;a<i.sections.length;){let c=i.sections[a++],h=i.sections[a++];if(h<0)l+=c,o+=c;else{let d=l,p=o,g=_t.empty;for(;d+=c,p+=h,h&&n&&(g=g.append(n[a-2>>1])),!(e||a==i.sections.length||i.sections[a+1]<0);)c=i.sections[a++],h=i.sections[a++];t(l,d,o,p,g),l=d,o=p}}}function zm(i,t,e,n=!1){let l=[],o=n?[]:null,a=new ua(i),c=new ua(t);for(let h=-1;;){if(a.done&&c.len||c.done&&a.len)throw new Error("Mismatched change set lengths");if(a.ins==-1&&c.ins==-1){let d=Math.min(a.len,c.len);$e(l,d,-1),a.forward(d),c.forward(d)}else if(c.ins>=0&&(a.ins<0||h==a.i||a.off==0&&(c.len<a.len||c.len==a.len&&!e))){let d=c.len;for($e(l,c.ins,-1);d;){let p=Math.min(a.len,d);a.ins>=0&&h<a.i&&a.len<=p&&($e(l,0,a.ins),o&&Ys(o,l,a.text),h=a.i),a.forward(p),d-=p}c.next()}else if(a.ins>=0){let d=0,p=a.len;for(;p;)if(c.ins==-1){let g=Math.min(p,c.len);d+=g,p-=g,c.forward(g)}else if(c.ins==0&&c.len<p)p-=c.len,c.next();else break;$e(l,d,h<a.i?a.ins:0),o&&h<a.i&&Ys(o,l,a.text),h=a.i,a.forward(a.len-p)}else{if(a.done&&c.done)return o?De.createSet(l,o):ji.create(l);throw new Error("Mismatched change set lengths")}}}function Xx(i,t,e=!1){let n=[],l=e?[]:null,o=new ua(i),a=new ua(t);for(let c=!1;;){if(o.done&&a.done)return l?De.createSet(n,l):ji.create(n);if(o.ins==0)$e(n,o.len,0,c),o.next();else if(a.len==0&&!a.done)$e(n,0,a.ins,c),l&&Ys(l,n,a.text),a.next();else{if(o.done||a.done)throw new Error("Mismatched change set lengths");{let h=Math.min(o.len2,a.len),d=n.length;if(o.ins==-1){let p=a.ins==-1?-1:a.off?0:a.ins;$e(n,h,p,c),l&&p&&Ys(l,n,a.text)}else a.ins==-1?($e(n,o.off?0:o.len,h,c),l&&Ys(l,n,o.textBit(h))):($e(n,o.off?0:o.len,a.off?0:a.ins,c),l&&!a.off&&Ys(l,n,a.text));c=(o.ins>h||a.ins>=0&&a.len>h)&&(c||n.length>d),o.forward2(h),a.forward(h)}}}}class ua{constructor(t){this.set=t,this.i=0,this.next()}next(){let{sections:t}=this.set;this.i<t.length?(this.len=t[this.i++],this.ins=t[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:t}=this.set,e=this.i-2>>1;return e>=t.length?_t.empty:t[e]}textBit(t){let{inserted:e}=this.set,n=this.i-2>>1;return n>=e.length&&!t?_t.empty:e[n].slice(this.off,t==null?void 0:this.off+t)}forward(t){t==this.len?this.next():(this.len-=t,this.off+=t)}forward2(t){this.ins==-1?this.forward(t):t==this.ins?this.next():(this.ins-=t,this.off+=t)}}class wl{constructor(t,e,n){this.from=t,this.to=e,this.flags=n}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let t=this.flags&7;return t==7?null:t}get goalColumn(){let t=this.flags>>6;return t==16777215?void 0:t}map(t,e=-1){let n,l;return this.empty?n=l=t.mapPos(this.from,e):(n=t.mapPos(this.from,1),l=t.mapPos(this.to,-1)),n==this.from&&l==this.to?this:new wl(n,l,this.flags)}extend(t,e=t){if(t<=this.anchor&&e>=this.anchor)return Z.range(t,e);let n=Math.abs(t-this.anchor)>Math.abs(e-this.anchor)?t:e;return Z.range(this.anchor,n)}eq(t,e=!1){return this.anchor==t.anchor&&this.head==t.head&&(!e||!this.empty||this.assoc==t.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(t){if(!t||typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return Z.range(t.anchor,t.head)}static create(t,e,n){return new wl(t,e,n)}}class Z{constructor(t,e){this.ranges=t,this.mainIndex=e}map(t,e=-1){return t.empty?this:Z.create(this.ranges.map(n=>n.map(t,e)),this.mainIndex)}eq(t,e=!1){if(this.ranges.length!=t.ranges.length||this.mainIndex!=t.mainIndex)return!1;for(let n=0;n<this.ranges.length;n++)if(!this.ranges[n].eq(t.ranges[n],e))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new Z([this.main],0)}addRange(t,e=!0){return Z.create([t].concat(this.ranges),e?0:this.mainIndex+1)}replaceRange(t,e=this.mainIndex){let n=this.ranges.slice();return n[e]=t,Z.create(n,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(t=>t.toJSON()),main:this.mainIndex}}static fromJSON(t){if(!t||!Array.isArray(t.ranges)||typeof t.main!="number"||t.main>=t.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new Z(t.ranges.map(e=>wl.fromJSON(e)),t.main)}static single(t,e=t){return new Z([Z.range(t,e)],0)}static create(t,e=0){if(t.length==0)throw new RangeError("A selection needs at least one range");for(let n=0,l=0;l<t.length;l++){let o=t[l];if(o.empty?o.from<=n:o.from<n)return Z.normalized(t.slice(),e);n=o.to}return new Z(t,e)}static cursor(t,e=0,n,l){return wl.create(t,t,(e==0?0:e<0?8:16)|(n==null?7:Math.min(6,n))|(l??16777215)<<6)}static range(t,e,n,l){let o=(n??16777215)<<6|(l==null?7:Math.min(6,l));return e<t?wl.create(e,t,48|o):wl.create(t,e,(e>t?8:0)|o)}static normalized(t,e=0){let n=t[e];t.sort((l,o)=>l.from-o.from),e=t.indexOf(n);for(let l=1;l<t.length;l++){let o=t[l],a=t[l-1];if(o.empty?o.from<=a.to:o.from<a.to){let c=a.from,h=Math.max(o.to,a.to);l<=e&&e--,t.splice(--l,2,o.anchor>o.head?Z.range(h,c):Z.range(c,h))}}return new Z(t,e)}}function Ix(i,t){for(let e of i.ranges)if(e.to>t)throw new RangeError("Selection points outside of document")}let Hp=0;class ht{constructor(t,e,n,l,o){this.combine=t,this.compareInput=e,this.compare=n,this.isStatic=l,this.id=Hp++,this.default=t([]),this.extensions=typeof o=="function"?o(this):o}get reader(){return this}static define(t={}){return new ht(t.combine||(e=>e),t.compareInput||((e,n)=>e===n),t.compare||(t.combine?(e,n)=>e===n:jp),!!t.static,t.enables)}of(t){return new Cc([],this,0,t)}compute(t,e){if(this.isStatic)throw new Error("Can't compute a static facet");return new Cc(t,this,1,e)}computeN(t,e){if(this.isStatic)throw new Error("Can't compute a static facet");return new Cc(t,this,2,e)}from(t,e){return e||(e=n=>n),this.compute([t],n=>e(n.field(t)))}}function jp(i,t){return i==t||i.length==t.length&&i.every((e,n)=>e===t[n])}class Cc{constructor(t,e,n,l){this.dependencies=t,this.facet=e,this.type=n,this.value=l,this.id=Hp++}dynamicSlot(t){var e;let n=this.value,l=this.facet.compareInput,o=this.id,a=t[o]>>1,c=this.type==2,h=!1,d=!1,p=[];for(let g of this.dependencies)g=="doc"?h=!0:g=="selection"?d=!0:(((e=t[g.id])!==null&&e!==void 0?e:1)&1)==0&&p.push(t[g.id]);return{create(g){return g.values[a]=n(g),1},update(g,b){if(h&&b.docChanged||d&&(b.docChanged||b.selection)||Hm(g,p)){let v=n(g);if(c?!Cv(v,g.values[a],l):!l(v,g.values[a]))return g.values[a]=v,1}return 0},reconfigure:(g,b)=>{let v,w=b.config.address[o];if(w!=null){let C=jc(b,w);if(this.dependencies.every(k=>k instanceof ht?b.facet(k)===g.facet(k):k instanceof We?b.field(k,!1)==g.field(k,!1):!0)||(c?Cv(v=n(g),C,l):l(v=n(g),C)))return g.values[a]=C,0}else v=n(g);return g.values[a]=v,1}}}}function Cv(i,t,e){if(i.length!=t.length)return!1;for(let n=0;n<i.length;n++)if(!e(i[n],t[n]))return!1;return!0}function Hm(i,t){let e=!1;for(let n of t)ea(i,n)&1&&(e=!0);return e}function RM(i,t,e){let n=e.map(h=>i[h.id]),l=e.map(h=>h.type),o=n.filter(h=>!(h&1)),a=i[t.id]>>1;function c(h){let d=[];for(let p=0;p<n.length;p++){let g=jc(h,n[p]);if(l[p]==2)for(let b of g)d.push(b);else d.push(g)}return t.combine(d)}return{create(h){for(let d of n)ea(h,d);return h.values[a]=c(h),1},update(h,d){if(!Hm(h,o))return 0;let p=c(h);return t.compare(p,h.values[a])?0:(h.values[a]=p,1)},reconfigure(h,d){let p=Hm(h,n),g=d.config.facets[t.id],b=d.facet(t);if(g&&!p&&jp(e,g))return h.values[a]=b,0;let v=c(h);return t.compare(v,b)?(h.values[a]=b,0):(h.values[a]=v,1)}}}const Wu=ht.define({static:!0});class We{constructor(t,e,n,l,o){this.id=t,this.createF=e,this.updateF=n,this.compareF=l,this.spec=o,this.provides=void 0}static define(t){let e=new We(Hp++,t.create,t.update,t.compare||((n,l)=>n===l),t);return t.provide&&(e.provides=t.provide(e)),e}create(t){let e=t.facet(Wu).find(n=>n.field==this);return(e?.create||this.createF)(t)}slot(t){let e=t[this.id]>>1;return{create:n=>(n.values[e]=this.create(n),1),update:(n,l)=>{let o=n.values[e],a=this.updateF(o,l);return this.compareF(o,a)?0:(n.values[e]=a,1)},reconfigure:(n,l)=>{let o=n.facet(Wu),a=l.facet(Wu),c;return(c=o.find(h=>h.field==this))&&c!=a.find(h=>h.field==this)?(n.values[e]=c.create(n),1):l.config.address[this.id]!=null?(n.values[e]=l.field(this),0):(n.values[e]=this.create(n),1)}}}init(t){return[this,Wu.of({field:this,create:t})]}get extension(){return this}}const xl={lowest:4,low:3,default:2,high:1,highest:0};function Go(i){return t=>new Qx(t,i)}const Rl={highest:Go(xl.highest),high:Go(xl.high),default:Go(xl.default),low:Go(xl.low),lowest:Go(xl.lowest)};class Qx{constructor(t,e){this.inner=t,this.prec=e}}class vf{of(t){return new jm(this,t)}reconfigure(t){return vf.reconfigure.of({compartment:this,extension:t})}get(t){return t.config.compartments.get(this)}}class jm{constructor(t,e){this.compartment=t,this.inner=e}}class Hc{constructor(t,e,n,l,o,a){for(this.base=t,this.compartments=e,this.dynamicSlots=n,this.address=l,this.staticValues=o,this.facets=a,this.statusTemplate=[];this.statusTemplate.length<n.length;)this.statusTemplate.push(0)}staticFacet(t){let e=this.address[t.id];return e==null?t.default:this.staticValues[e>>1]}static resolve(t,e,n){let l=[],o=Object.create(null),a=new Map;for(let b of NM(t,e,a))b instanceof We?l.push(b):(o[b.facet.id]||(o[b.facet.id]=[])).push(b);let c=Object.create(null),h=[],d=[];for(let b of l)c[b.id]=d.length<<1,d.push(v=>b.slot(v));let p=n?.config.facets;for(let b in o){let v=o[b],w=v[0].facet,C=p&&p[b]||[];if(v.every(k=>k.type==0))if(c[w.id]=h.length<<1|1,jp(C,v))h.push(n.facet(w));else{let k=w.combine(v.map(A=>A.value));h.push(n&&w.compare(k,n.facet(w))?n.facet(w):k)}else{for(let k of v)k.type==0?(c[k.id]=h.length<<1|1,h.push(k.value)):(c[k.id]=d.length<<1,d.push(A=>k.dynamicSlot(A)));c[w.id]=d.length<<1,d.push(k=>RM(k,w,v))}}let g=d.map(b=>b(c));return new Hc(t,a,g,c,h,o)}}function NM(i,t,e){let n=[[],[],[],[],[]],l=new Map;function o(a,c){let h=l.get(a);if(h!=null){if(h<=c)return;let d=n[h].indexOf(a);d>-1&&n[h].splice(d,1),a instanceof jm&&e.delete(a.compartment)}if(l.set(a,c),Array.isArray(a))for(let d of a)o(d,c);else if(a instanceof jm){if(e.has(a.compartment))throw new RangeError("Duplicate use of compartment in extensions");let d=t.get(a.compartment)||a.inner;e.set(a.compartment,d),o(d,c)}else if(a instanceof Qx)o(a.inner,a.prec);else if(a instanceof We)n[c].push(a),a.provides&&o(a.provides,c);else if(a instanceof Cc)n[c].push(a),a.facet.extensions&&o(a.facet.extensions,xl.default);else{let d=a.extension;if(!d)throw new Error(`Unrecognized extension value in extension set (${a}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);o(d,c)}}return o(i,xl.default),n.reduce((a,c)=>a.concat(c))}function ea(i,t){if(t&1)return 2;let e=t>>1,n=i.status[e];if(n==4)throw new Error("Cyclic dependency between fields and/or facets");if(n&2)return n;i.status[e]=4;let l=i.computeSlot(i,i.config.dynamicSlots[e]);return i.status[e]=2|l}function jc(i,t){return t&1?i.config.staticValues[t>>1]:i.values[t>>1]}const Kx=ht.define(),_m=ht.define({combine:i=>i.some(t=>t),static:!0}),Wx=ht.define({combine:i=>i.length?i[0]:void 0,static:!0}),Fx=ht.define(),Zx=ht.define(),Jx=ht.define(),$x=ht.define({combine:i=>i.length?i[0]:!1});class qi{constructor(t,e){this.type=t,this.value=e}static define(){return new BM}}class BM{of(t){return new qi(this,t)}}class LM{constructor(t){this.map=t}of(t){return new kt(this,t)}}class kt{constructor(t,e){this.type=t,this.value=e}map(t){let e=this.type.map(this.value,t);return e===void 0?void 0:e==this.value?this:new kt(this.type,e)}is(t){return this.type==t}static define(t={}){return new LM(t.map||(e=>e))}static mapEffects(t,e){if(!t.length)return t;let n=[];for(let l of t){let o=l.map(e);o&&n.push(o)}return n}}kt.reconfigure=kt.define();kt.appendConfig=kt.define();class Ee{constructor(t,e,n,l,o,a){this.startState=t,this.changes=e,this.selection=n,this.effects=l,this.annotations=o,this.scrollIntoView=a,this._doc=null,this._state=null,n&&Ix(n,e.newLength),o.some(c=>c.type==Ee.time)||(this.annotations=o.concat(Ee.time.of(Date.now())))}static create(t,e,n,l,o,a){return new Ee(t,e,n,l,o,a)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(t){for(let e of this.annotations)if(e.type==t)return e.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(t){let e=this.annotation(Ee.userEvent);return!!(e&&(e==t||e.length>t.length&&e.slice(0,t.length)==t&&e[t.length]=="."))}}Ee.time=qi.define();Ee.userEvent=qi.define();Ee.addToHistory=qi.define();Ee.remote=qi.define();function zM(i,t){let e=[];for(let n=0,l=0;;){let o,a;if(n<i.length&&(l==t.length||t[l]>=i[n]))o=i[n++],a=i[n++];else if(l<t.length)o=t[l++],a=t[l++];else return e;!e.length||e[e.length-1]<o?e.push(o,a):e[e.length-1]<a&&(e[e.length-1]=a)}}function tS(i,t,e){var n;let l,o,a;return e?(l=t.changes,o=De.empty(t.changes.length),a=i.changes.compose(t.changes)):(l=t.changes.map(i.changes),o=i.changes.mapDesc(t.changes,!0),a=i.changes.compose(l)),{changes:a,selection:t.selection?t.selection.map(o):(n=i.selection)===null||n===void 0?void 0:n.map(l),effects:kt.mapEffects(i.effects,l).concat(kt.mapEffects(t.effects,o)),annotations:i.annotations.length?i.annotations.concat(t.annotations):t.annotations,scrollIntoView:i.scrollIntoView||t.scrollIntoView}}function Um(i,t,e){let n=t.selection,l=Mr(t.annotations);return t.userEvent&&(l=l.concat(Ee.userEvent.of(t.userEvent))),{changes:t.changes instanceof De?t.changes:De.of(t.changes||[],e,i.facet(Wx)),selection:n&&(n instanceof Z?n:Z.single(n.anchor,n.head)),effects:Mr(t.effects),annotations:l,scrollIntoView:!!t.scrollIntoView}}function eS(i,t,e){let n=Um(i,t.length?t[0]:{},i.doc.length);t.length&&t[0].filter===!1&&(e=!1);for(let o=1;o<t.length;o++){t[o].filter===!1&&(e=!1);let a=!!t[o].sequential;n=tS(n,Um(i,t[o],a?n.changes.newLength:i.doc.length),a)}let l=Ee.create(i,n.changes,n.selection,n.effects,n.annotations,n.scrollIntoView);return jM(e?HM(l):l)}function HM(i){let t=i.startState,e=!0;for(let l of t.facet(Fx)){let o=l(i);if(o===!1){e=!1;break}Array.isArray(o)&&(e=e===!0?o:zM(e,o))}if(e!==!0){let l,o;if(e===!1)o=i.changes.invertedDesc,l=De.empty(t.doc.length);else{let a=i.changes.filter(e);l=a.changes,o=a.filtered.mapDesc(a.changes).invertedDesc}i=Ee.create(t,l,i.selection&&i.selection.map(o),kt.mapEffects(i.effects,o),i.annotations,i.scrollIntoView)}let n=t.facet(Zx);for(let l=n.length-1;l>=0;l--){let o=n[l](i);o instanceof Ee?i=o:Array.isArray(o)&&o.length==1&&o[0]instanceof Ee?i=o[0]:i=eS(t,Mr(o),!1)}return i}function jM(i){let t=i.startState,e=t.facet(Jx),n=i;for(let l=e.length-1;l>=0;l--){let o=e[l](i);o&&Object.keys(o).length&&(n=tS(n,Um(t,o,i.changes.newLength),!0))}return n==i?i:Ee.create(t,i.changes,i.selection,n.effects,n.annotations,n.scrollIntoView)}const _M=[];function Mr(i){return i==null?_M:Array.isArray(i)?i:[i]}var ue=(function(i){return i[i.Word=0]="Word",i[i.Space=1]="Space",i[i.Other=2]="Other",i})(ue||(ue={}));const UM=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let qm;try{qm=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function qM(i){if(qm)return qm.test(i);for(let t=0;t<i.length;t++){let e=i[t];if(/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||UM.test(e)))return!0}return!1}function VM(i){return t=>{if(!/\S/.test(t))return ue.Space;if(qM(t))return ue.Word;for(let e=0;e<i.length;e++)if(t.indexOf(i[e])>-1)return ue.Word;return ue.Other}}class Lt{constructor(t,e,n,l,o,a){this.config=t,this.doc=e,this.selection=n,this.values=l,this.status=t.statusTemplate.slice(),this.computeSlot=o,a&&(a._state=this);for(let c=0;c<this.config.dynamicSlots.length;c++)ea(this,c<<1);this.computeSlot=null}field(t,e=!0){let n=this.config.address[t.id];if(n==null){if(e)throw new RangeError("Field is not present in this state");return}return ea(this,n),jc(this,n)}update(...t){return eS(this,t,!0)}applyTransaction(t){let e=this.config,{base:n,compartments:l}=e;for(let c of t.effects)c.is(vf.reconfigure)?(e&&(l=new Map,e.compartments.forEach((h,d)=>l.set(d,h)),e=null),l.set(c.value.compartment,c.value.extension)):c.is(kt.reconfigure)?(e=null,n=c.value):c.is(kt.appendConfig)&&(e=null,n=Mr(n).concat(c.value));let o;e?o=t.startState.values.slice():(e=Hc.resolve(n,l,this),o=new Lt(e,this.doc,this.selection,e.dynamicSlots.map(()=>null),(h,d)=>d.reconfigure(h,this),null).values);let a=t.startState.facet(_m)?t.newSelection:t.newSelection.asSingle();new Lt(e,t.newDoc,a,o,(c,h)=>h.update(c,t),t)}replaceSelection(t){return typeof t=="string"&&(t=this.toText(t)),this.changeByRange(e=>({changes:{from:e.from,to:e.to,insert:t},range:Z.cursor(e.from+t.length)}))}changeByRange(t){let e=this.selection,n=t(e.ranges[0]),l=this.changes(n.changes),o=[n.range],a=Mr(n.effects);for(let c=1;c<e.ranges.length;c++){let h=t(e.ranges[c]),d=this.changes(h.changes),p=d.map(l);for(let b=0;b<c;b++)o[b]=o[b].map(p);let g=l.mapDesc(d,!0);o.push(h.range.map(g)),l=l.compose(p),a=kt.mapEffects(a,p).concat(kt.mapEffects(Mr(h.effects),g))}return{changes:l,selection:Z.create(o,e.mainIndex),effects:a}}changes(t=[]){return t instanceof De?t:De.of(t,this.doc.length,this.facet(Lt.lineSeparator))}toText(t){return _t.of(t.split(this.facet(Lt.lineSeparator)||Bm))}sliceDoc(t=0,e=this.doc.length){return this.doc.sliceString(t,e,this.lineBreak)}facet(t){let e=this.config.address[t.id];return e==null?t.default:(ea(this,e),jc(this,e))}toJSON(t){let e={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(t)for(let n in t){let l=t[n];l instanceof We&&this.config.address[l.id]!=null&&(e[n]=l.spec.toJSON(this.field(t[n]),this))}return e}static fromJSON(t,e={},n){if(!t||typeof t.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let l=[];if(n){for(let o in n)if(Object.prototype.hasOwnProperty.call(t,o)){let a=n[o],c=t[o];l.push(a.init(h=>a.spec.fromJSON(c,h)))}}return Lt.create({doc:t.doc,selection:Z.fromJSON(t.selection),extensions:e.extensions?l.concat([e.extensions]):l})}static create(t={}){let e=Hc.resolve(t.extensions||[],new Map),n=t.doc instanceof _t?t.doc:_t.of((t.doc||"").split(e.staticFacet(Lt.lineSeparator)||Bm)),l=t.selection?t.selection instanceof Z?t.selection:Z.single(t.selection.anchor,t.selection.head):Z.single(0);return Ix(l,n.length),e.staticFacet(_m)||(l=l.asSingle()),new Lt(e,n,l,e.dynamicSlots.map(()=>null),(o,a)=>a.create(o),null)}get tabSize(){return this.facet(Lt.tabSize)}get lineBreak(){return this.facet(Lt.lineSeparator)||`
`}get readOnly(){return this.facet($x)}phrase(t,...e){for(let n of this.facet(Lt.phrases))if(Object.prototype.hasOwnProperty.call(n,t)){t=n[t];break}return e.length&&(t=t.replace(/\$(\$|\d*)/g,(n,l)=>{if(l=="$")return"$";let o=+(l||1);return!o||o>e.length?n:e[o-1]})),t}languageDataAt(t,e,n=-1){let l=[];for(let o of this.facet(Kx))for(let a of o(this,e,n))Object.prototype.hasOwnProperty.call(a,t)&&l.push(a[t]);return l}charCategorizer(t){return VM(this.languageDataAt("wordChars",t).join(""))}wordAt(t){let{text:e,from:n,length:l}=this.doc.lineAt(t),o=this.charCategorizer(t),a=t-n,c=t-n;for(;a>0;){let h=Ke(e,a,!1);if(o(e.slice(h,a))!=ue.Word)break;a=h}for(;c<l;){let h=Ke(e,c);if(o(e.slice(c,h))!=ue.Word)break;c=h}return a==c?null:Z.range(a+n,c+n)}}Lt.allowMultipleSelections=_m;Lt.tabSize=ht.define({combine:i=>i.length?i[0]:4});Lt.lineSeparator=Wx;Lt.readOnly=$x;Lt.phrases=ht.define({compare(i,t){let e=Object.keys(i),n=Object.keys(t);return e.length==n.length&&e.every(l=>i[l]==t[l])}});Lt.languageData=Kx;Lt.changeFilter=Fx;Lt.transactionFilter=Zx;Lt.transactionExtender=Jx;vf.reconfigure=kt.define();function Vi(i,t,e={}){let n={};for(let l of i)for(let o of Object.keys(l)){let a=l[o],c=n[o];if(c===void 0)n[o]=a;else if(!(c===a||a===void 0))if(Object.hasOwnProperty.call(e,o))n[o]=e[o](c,a);else throw new Error("Config merge conflict for field "+o)}for(let l in t)n[l]===void 0&&(n[l]=t[l]);return n}class Ml{eq(t){return this==t}range(t,e=t){return Vm.create(t,e,this)}}Ml.prototype.startSide=Ml.prototype.endSide=0;Ml.prototype.point=!1;Ml.prototype.mapMode=an.TrackDel;let Vm=class nS{constructor(t,e,n){this.from=t,this.to=e,this.value=n}static create(t,e,n){return new nS(t,e,n)}};function Pm(i,t){return i.from-t.from||i.value.startSide-t.value.startSide}class _p{constructor(t,e,n,l){this.from=t,this.to=e,this.value=n,this.maxPoint=l}get length(){return this.to[this.to.length-1]}findIndex(t,e,n,l=0){let o=n?this.to:this.from;for(let a=l,c=o.length;;){if(a==c)return a;let h=a+c>>1,d=o[h]-t||(n?this.value[h].endSide:this.value[h].startSide)-e;if(h==a)return d>=0?a:c;d>=0?c=h:a=h+1}}between(t,e,n,l){for(let o=this.findIndex(e,-1e9,!0),a=this.findIndex(n,1e9,!1,o);o<a;o++)if(l(this.from[o]+t,this.to[o]+t,this.value[o])===!1)return!1}map(t,e){let n=[],l=[],o=[],a=-1,c=-1;for(let h=0;h<this.value.length;h++){let d=this.value[h],p=this.from[h]+t,g=this.to[h]+t,b,v;if(p==g){let w=e.mapPos(p,d.startSide,d.mapMode);if(w==null||(b=v=w,d.startSide!=d.endSide&&(v=e.mapPos(p,d.endSide),v<b)))continue}else if(b=e.mapPos(p,d.startSide),v=e.mapPos(g,d.endSide),b>v||b==v&&d.startSide>0&&d.endSide<=0)continue;(v-b||d.endSide-d.startSide)<0||(a<0&&(a=b),d.point&&(c=Math.max(c,v-b)),n.push(d),l.push(b-a),o.push(v-a))}return{mapped:n.length?new _p(l,o,n,c):null,pos:a}}}class jt{constructor(t,e,n,l){this.chunkPos=t,this.chunk=e,this.nextLayer=n,this.maxPoint=l}static create(t,e,n,l){return new jt(t,e,n,l)}get length(){let t=this.chunk.length-1;return t<0?0:Math.max(this.chunkEnd(t),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let t=this.nextLayer.size;for(let e of this.chunk)t+=e.value.length;return t}chunkEnd(t){return this.chunkPos[t]+this.chunk[t].length}update(t){let{add:e=[],sort:n=!1,filterFrom:l=0,filterTo:o=this.length}=t,a=t.filter;if(e.length==0&&!a)return this;if(n&&(e=e.slice().sort(Pm)),this.isEmpty)return e.length?jt.of(e):this;let c=new iS(this,null,-1).goto(0),h=0,d=[],p=new us;for(;c.value||h<e.length;)if(h<e.length&&(c.from-e[h].from||c.startSide-e[h].value.startSide)>=0){let g=e[h++];p.addInner(g.from,g.to,g.value)||d.push(g)}else c.rangeIndex==1&&c.chunkIndex<this.chunk.length&&(h==e.length||this.chunkEnd(c.chunkIndex)<e[h].from)&&(!a||l>this.chunkEnd(c.chunkIndex)||o<this.chunkPos[c.chunkIndex])&&p.addChunk(this.chunkPos[c.chunkIndex],this.chunk[c.chunkIndex])?c.nextChunk():((!a||l>c.to||o<c.from||a(c.from,c.to,c.value))&&(p.addInner(c.from,c.to,c.value)||d.push(Vm.create(c.from,c.to,c.value))),c.next());return p.finishInner(this.nextLayer.isEmpty&&!d.length?jt.empty:this.nextLayer.update({add:d,filter:a,filterFrom:l,filterTo:o}))}map(t){if(t.empty||this.isEmpty)return this;let e=[],n=[],l=-1;for(let a=0;a<this.chunk.length;a++){let c=this.chunkPos[a],h=this.chunk[a],d=t.touchesRange(c,c+h.length);if(d===!1)l=Math.max(l,h.maxPoint),e.push(h),n.push(t.mapPos(c));else if(d===!0){let{mapped:p,pos:g}=h.map(c,t);p&&(l=Math.max(l,p.maxPoint),e.push(p),n.push(g))}}let o=this.nextLayer.map(t);return e.length==0?o:new jt(n,e,o||jt.empty,l)}between(t,e,n){if(!this.isEmpty){for(let l=0;l<this.chunk.length;l++){let o=this.chunkPos[l],a=this.chunk[l];if(e>=o&&t<=o+a.length&&a.between(o,t-o,e-o,n)===!1)return}this.nextLayer.between(t,e,n)}}iter(t=0){return ca.from([this]).goto(t)}get isEmpty(){return this.nextLayer==this}static iter(t,e=0){return ca.from(t).goto(e)}static compare(t,e,n,l,o=-1){let a=t.filter(g=>g.maxPoint>0||!g.isEmpty&&g.maxPoint>=o),c=e.filter(g=>g.maxPoint>0||!g.isEmpty&&g.maxPoint>=o),h=kv(a,c,n),d=new Xo(a,h,o),p=new Xo(c,h,o);n.iterGaps((g,b,v)=>Av(d,g,p,b,v,l)),n.empty&&n.length==0&&Av(d,0,p,0,0,l)}static eq(t,e,n=0,l){l==null&&(l=999999999);let o=t.filter(p=>!p.isEmpty&&e.indexOf(p)<0),a=e.filter(p=>!p.isEmpty&&t.indexOf(p)<0);if(o.length!=a.length)return!1;if(!o.length)return!0;let c=kv(o,a),h=new Xo(o,c,0).goto(n),d=new Xo(a,c,0).goto(n);for(;;){if(h.to!=d.to||!Ym(h.active,d.active)||h.point&&(!d.point||!h.point.eq(d.point)))return!1;if(h.to>l)return!0;h.next(),d.next()}}static spans(t,e,n,l,o=-1){let a=new Xo(t,null,o).goto(e),c=e,h=a.openStart;for(;;){let d=Math.min(a.to,n);if(a.point){let p=a.activeForPoint(a.to),g=a.pointFrom<e?p.length+1:a.point.startSide<0?p.length:Math.min(p.length,h);l.point(c,d,a.point,p,g,a.pointRank),h=Math.min(a.openEnd(d),p.length)}else d>c&&(l.span(c,d,a.active,h),h=a.openEnd(d));if(a.to>n)return h+(a.point&&a.to>n?1:0);c=a.to,a.next()}}static of(t,e=!1){let n=new us;for(let l of t instanceof Vm?[t]:e?PM(t):t)n.add(l.from,l.to,l.value);return n.finish()}static join(t){if(!t.length)return jt.empty;let e=t[t.length-1];for(let n=t.length-2;n>=0;n--)for(let l=t[n];l!=jt.empty;l=l.nextLayer)e=new jt(l.chunkPos,l.chunk,e,Math.max(l.maxPoint,e.maxPoint));return e}}jt.empty=new jt([],[],null,-1);function PM(i){if(i.length>1)for(let t=i[0],e=1;e<i.length;e++){let n=i[e];if(Pm(t,n)>0)return i.slice().sort(Pm);t=n}return i}jt.empty.nextLayer=jt.empty;class us{finishChunk(t){this.chunks.push(new _p(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,t&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(t,e,n){this.addInner(t,e,n)||(this.nextLayer||(this.nextLayer=new us)).add(t,e,n)}addInner(t,e,n){let l=t-this.lastTo||n.startSide-this.last.endSide;if(l<=0&&(t-this.lastFrom||n.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return l<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=t),this.from.push(t-this.chunkStart),this.to.push(e-this.chunkStart),this.last=n,this.lastFrom=t,this.lastTo=e,this.value.push(n),n.point&&(this.maxPoint=Math.max(this.maxPoint,e-t)),!0)}addChunk(t,e){if((t-this.lastTo||e.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,e.maxPoint),this.chunks.push(e),this.chunkPos.push(t);let n=e.value.length-1;return this.last=e.value[n],this.lastFrom=e.from[n]+t,this.lastTo=e.to[n]+t,!0}finish(){return this.finishInner(jt.empty)}finishInner(t){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return t;let e=jt.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(t):t,this.setMaxPoint);return this.from=null,e}}function kv(i,t,e){let n=new Map;for(let o of i)for(let a=0;a<o.chunk.length;a++)o.chunk[a].maxPoint<=0&&n.set(o.chunk[a],o.chunkPos[a]);let l=new Set;for(let o of t)for(let a=0;a<o.chunk.length;a++){let c=n.get(o.chunk[a]);c!=null&&(e?e.mapPos(c):c)==o.chunkPos[a]&&!e?.touchesRange(c,c+o.chunk[a].length)&&l.add(o.chunk[a])}return l}class iS{constructor(t,e,n,l=0){this.layer=t,this.skip=e,this.minPoint=n,this.rank=l}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(t,e=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(t,e,!1),this}gotoInner(t,e,n){for(;this.chunkIndex<this.layer.chunk.length;){let l=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(l)||this.layer.chunkEnd(this.chunkIndex)<t||l.maxPoint<this.minPoint))break;this.chunkIndex++,n=!1}if(this.chunkIndex<this.layer.chunk.length){let l=this.layer.chunk[this.chunkIndex].findIndex(t-this.layer.chunkPos[this.chunkIndex],e,!0);(!n||this.rangeIndex<l)&&this.setRangeIndex(l)}this.next()}forward(t,e){(this.to-t||this.endSide-e)<0&&this.gotoInner(t,e,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let t=this.layer.chunkPos[this.chunkIndex],e=this.layer.chunk[this.chunkIndex],n=t+e.from[this.rangeIndex];if(this.from=n,this.to=t+e.to[this.rangeIndex],this.value=e.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(t){if(t==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=t}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(t){return this.from-t.from||this.startSide-t.startSide||this.rank-t.rank||this.to-t.to||this.endSide-t.endSide}}class ca{constructor(t){this.heap=t}static from(t,e=null,n=-1){let l=[];for(let o=0;o<t.length;o++)for(let a=t[o];!a.isEmpty;a=a.nextLayer)a.maxPoint>=n&&l.push(new iS(a,e,n,o));return l.length==1?l[0]:new ca(l)}get startSide(){return this.value?this.value.startSide:0}goto(t,e=-1e9){for(let n of this.heap)n.goto(t,e);for(let n=this.heap.length>>1;n>=0;n--)Fd(this.heap,n);return this.next(),this}forward(t,e){for(let n of this.heap)n.forward(t,e);for(let n=this.heap.length>>1;n>=0;n--)Fd(this.heap,n);(this.to-t||this.value.endSide-e)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let t=this.heap[0];this.from=t.from,this.to=t.to,this.value=t.value,this.rank=t.rank,t.value&&t.next(),Fd(this.heap,0)}}}function Fd(i,t){for(let e=i[t];;){let n=(t<<1)+1;if(n>=i.length)break;let l=i[n];if(n+1<i.length&&l.compare(i[n+1])>=0&&(l=i[n+1],n++),e.compare(l)<0)break;i[n]=e,i[t]=l,t=n}}class Xo{constructor(t,e,n){this.minPoint=n,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=ca.from(t,e,n)}goto(t,e=-1e9){return this.cursor.goto(t,e),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=t,this.endSide=e,this.openStart=-1,this.next(),this}forward(t,e){for(;this.minActive>-1&&(this.activeTo[this.minActive]-t||this.active[this.minActive].endSide-e)<0;)this.removeActive(this.minActive);this.cursor.forward(t,e)}removeActive(t){Fu(this.active,t),Fu(this.activeTo,t),Fu(this.activeRank,t),this.minActive=Mv(this.active,this.activeTo)}addActive(t){let e=0,{value:n,to:l,rank:o}=this.cursor;for(;e<this.activeRank.length&&(o-this.activeRank[e]||l-this.activeTo[e])>0;)e++;Zu(this.active,e,n),Zu(this.activeTo,e,l),Zu(this.activeRank,e,o),t&&Zu(t,e,this.cursor.from),this.minActive=Mv(this.active,this.activeTo)}next(){let t=this.to,e=this.point;this.point=null;let n=this.openStart<0?[]:null;for(;;){let l=this.minActive;if(l>-1&&(this.activeTo[l]-this.cursor.from||this.active[l].endSide-this.cursor.startSide)<0){if(this.activeTo[l]>t){this.to=this.activeTo[l],this.endSide=this.active[l].endSide;break}this.removeActive(l),n&&Fu(n,l)}else if(this.cursor.value)if(this.cursor.from>t){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let o=this.cursor.value;if(!o.point)this.addActive(n),this.cursor.next();else if(e&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=o,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=o.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(n){this.openStart=0;for(let l=n.length-1;l>=0&&n[l]<t;l--)this.openStart++}}activeForPoint(t){if(!this.active.length)return this.active;let e=[];for(let n=this.active.length-1;n>=0&&!(this.activeRank[n]<this.pointRank);n--)(this.activeTo[n]>t||this.activeTo[n]==t&&this.active[n].endSide>=this.point.endSide)&&e.push(this.active[n]);return e.reverse()}openEnd(t){let e=0;for(let n=this.activeTo.length-1;n>=0&&this.activeTo[n]>t;n--)e++;return e}}function Av(i,t,e,n,l,o){i.goto(t),e.goto(n);let a=n+l,c=n,h=n-t;for(;;){let d=i.to+h-e.to,p=d||i.endSide-e.endSide,g=p<0?i.to+h:e.to,b=Math.min(g,a);if(i.point||e.point?i.point&&e.point&&(i.point==e.point||i.point.eq(e.point))&&Ym(i.activeForPoint(i.to),e.activeForPoint(e.to))||o.comparePoint(c,b,i.point,e.point):b>c&&!Ym(i.active,e.active)&&o.compareRange(c,b,i.active,e.active),g>a)break;(d||i.openEnd!=e.openEnd)&&o.boundChange&&o.boundChange(g),c=g,p<=0&&i.next(),p>=0&&e.next()}}function Ym(i,t){if(i.length!=t.length)return!1;for(let e=0;e<i.length;e++)if(i[e]!=t[e]&&!i[e].eq(t[e]))return!1;return!0}function Fu(i,t){for(let e=t,n=i.length-1;e<n;e++)i[e]=i[e+1];i.pop()}function Zu(i,t,e){for(let n=i.length-1;n>=t;n--)i[n+1]=i[n];i[t]=e}function Mv(i,t){let e=-1,n=1e9;for(let l=0;l<t.length;l++)(t[l]-n||i[l].endSide-i[e].endSide)<0&&(e=l,n=t[l]);return e}function Vr(i,t,e=i.length){let n=0;for(let l=0;l<e&&l<i.length;)i.charCodeAt(l)==9?(n+=t-n%t,l++):(n++,l=Ke(i,l));return n}function Gm(i,t,e,n){for(let l=0,o=0;;){if(o>=t)return l;if(l==i.length)break;o+=i.charCodeAt(l)==9?e-o%e:1,l=Ke(i,l)}return n===!0?-1:i.length}const Xm="",Tv=typeof Symbol>"u"?"__"+Xm:Symbol.for(Xm),Im=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),Dv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class Ks{constructor(t,e){this.rules=[];let{finish:n}=e||{};function l(a){return/^@/.test(a)?[a]:a.split(/,\s*/)}function o(a,c,h,d){let p=[],g=/^@(\w+)\b/.exec(a[0]),b=g&&g[1]=="keyframes";if(g&&c==null)return h.push(a[0]+";");for(let v in c){let w=c[v];if(/&/.test(v))o(v.split(/,\s*/).map(C=>a.map(k=>C.replace(/&/,k))).reduce((C,k)=>C.concat(k)),w,h);else if(w&&typeof w=="object"){if(!g)throw new RangeError("The value of a property ("+v+") should be a primitive value.");o(l(v),w,p,b)}else w!=null&&p.push(v.replace(/_.*/,"").replace(/[A-Z]/g,C=>"-"+C.toLowerCase())+": "+w+";")}(p.length||b)&&h.push((n&&!g&&!d?a.map(n):a).join(", ")+" {"+p.join(" ")+"}")}for(let a in t)o(l(a),t[a],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let t=Dv[Tv]||1;return Dv[Tv]=t+1,Xm+t.toString(36)}static mount(t,e,n){let l=t[Im],o=n&&n.nonce;l?o&&l.setNonce(o):l=new YM(t,o),l.mount(Array.isArray(e)?e:[e],t)}}let Ov=new Map;class YM{constructor(t,e){let n=t.ownerDocument||t,l=n.defaultView;if(!t.head&&t.adoptedStyleSheets&&l.CSSStyleSheet){let o=Ov.get(n);if(o)return t[Im]=o;this.sheet=new l.CSSStyleSheet,Ov.set(n,this)}else this.styleTag=n.createElement("style"),e&&this.styleTag.setAttribute("nonce",e);this.modules=[],t[Im]=this}mount(t,e){let n=this.sheet,l=0,o=0;for(let a=0;a<t.length;a++){let c=t[a],h=this.modules.indexOf(c);if(h<o&&h>-1&&(this.modules.splice(h,1),o--,h=-1),h==-1){if(this.modules.splice(o++,0,c),n)for(let d=0;d<c.rules.length;d++)n.insertRule(c.rules[d],l++)}else{for(;o<h;)l+=this.modules[o++].rules.length;l+=c.rules.length,o++}}if(n)e.adoptedStyleSheets.indexOf(this.sheet)<0&&(e.adoptedStyleSheets=[this.sheet,...e.adoptedStyleSheets]);else{let a="";for(let h=0;h<this.modules.length;h++)a+=this.modules[h].getRules()+`
`;this.styleTag.textContent=a;let c=e.head||e;this.styleTag.parentNode!=c&&c.insertBefore(this.styleTag,c.firstChild)}}setNonce(t){this.styleTag&&this.styleTag.getAttribute("nonce")!=t&&this.styleTag.setAttribute("nonce",t)}}var Ws={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},fa={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},GM=typeof navigator<"u"&&/Mac/.test(navigator.platform),XM=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Qe=0;Qe<10;Qe++)Ws[48+Qe]=Ws[96+Qe]=String(Qe);for(var Qe=1;Qe<=24;Qe++)Ws[Qe+111]="F"+Qe;for(var Qe=65;Qe<=90;Qe++)Ws[Qe]=String.fromCharCode(Qe+32),fa[Qe]=String.fromCharCode(Qe);for(var Zd in Ws)fa.hasOwnProperty(Zd)||(fa[Zd]=Ws[Zd]);function IM(i){var t=GM&&i.metaKey&&i.shiftKey&&!i.ctrlKey&&!i.altKey||XM&&i.shiftKey&&i.key&&i.key.length==1||i.key=="Unidentified",e=!t&&i.key||(i.shiftKey?fa:Ws)[i.keyCode]||i.key||"Unidentified";return e=="Esc"&&(e="Escape"),e=="Del"&&(e="Delete"),e=="Left"&&(e="ArrowLeft"),e=="Up"&&(e="ArrowUp"),e=="Right"&&(e="ArrowRight"),e=="Down"&&(e="ArrowDown"),e}function $t(){var i=arguments[0];typeof i=="string"&&(i=document.createElement(i));var t=1,e=arguments[1];if(e&&typeof e=="object"&&e.nodeType==null&&!Array.isArray(e)){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var l=e[n];typeof l=="string"?i.setAttribute(n,l):l!=null&&(i[n]=l)}t++}for(;t<arguments.length;t++)sS(i,arguments[t]);return i}function sS(i,t){if(typeof t=="string")i.appendChild(document.createTextNode(t));else if(t!=null)if(t.nodeType!=null)i.appendChild(t);else if(Array.isArray(t))for(var e=0;e<t.length;e++)sS(i,t[e]);else throw new RangeError("Unsupported child node: "+t)}function ha(i){let t;return i.nodeType==11?t=i.getSelection?i:i.ownerDocument:t=i,t.getSelection()}function Qm(i,t){return t?i==t||i.contains(t.nodeType!=1?t.parentNode:t):!1}function kc(i,t){if(!t.anchorNode)return!1;try{return Qm(i,t.anchorNode)}catch{return!1}}function Lr(i){return i.nodeType==3?Dl(i,0,i.nodeValue.length).getClientRects():i.nodeType==1?i.getClientRects():[]}function na(i,t,e,n){return e?Ev(i,t,e,n,-1)||Ev(i,t,e,n,1):!1}function Tl(i){for(var t=0;;t++)if(i=i.previousSibling,!i)return t}function _c(i){return i.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(i.nodeName)}function Ev(i,t,e,n,l){for(;;){if(i==e&&t==n)return!0;if(t==(l<0?0:_i(i))){if(i.nodeName=="DIV")return!1;let o=i.parentNode;if(!o||o.nodeType!=1)return!1;t=Tl(i)+(l<0?0:1),i=o}else if(i.nodeType==1){if(i=i.childNodes[t+(l<0?-1:0)],i.nodeType==1&&i.contentEditable=="false")return!1;t=l<0?_i(i):0}else return!1}}function _i(i){return i.nodeType==3?i.nodeValue.length:i.childNodes.length}function Ta(i,t){let e=t?i.left:i.right;return{left:e,right:e,top:i.top,bottom:i.bottom}}function QM(i){let t=i.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:i.innerWidth,top:0,bottom:i.innerHeight}}function lS(i,t){let e=t.width/i.offsetWidth,n=t.height/i.offsetHeight;return(e>.995&&e<1.005||!isFinite(e)||Math.abs(t.width-i.offsetWidth)<1)&&(e=1),(n>.995&&n<1.005||!isFinite(n)||Math.abs(t.height-i.offsetHeight)<1)&&(n=1),{scaleX:e,scaleY:n}}function KM(i,t,e,n,l,o,a,c){let h=i.ownerDocument,d=h.defaultView||window;for(let p=i,g=!1;p&&!g;)if(p.nodeType==1){let b,v=p==h.body,w=1,C=1;if(v)b=QM(d);else{if(/^(fixed|sticky)$/.test(getComputedStyle(p).position)&&(g=!0),p.scrollHeight<=p.clientHeight&&p.scrollWidth<=p.clientWidth){p=p.assignedSlot||p.parentNode;continue}let N=p.getBoundingClientRect();({scaleX:w,scaleY:C}=lS(p,N)),b={left:N.left,right:N.left+p.clientWidth*w,top:N.top,bottom:N.top+p.clientHeight*C}}let k=0,A=0;if(l=="nearest")t.top<b.top?(A=t.top-(b.top+a),e>0&&t.bottom>b.bottom+A&&(A=t.bottom-b.bottom+a)):t.bottom>b.bottom&&(A=t.bottom-b.bottom+a,e<0&&t.top-A<b.top&&(A=t.top-(b.top+a)));else{let N=t.bottom-t.top,j=b.bottom-b.top;A=(l=="center"&&N<=j?t.top+N/2-j/2:l=="start"||l=="center"&&e<0?t.top-a:t.bottom-j+a)-b.top}if(n=="nearest"?t.left<b.left?(k=t.left-(b.left+o),e>0&&t.right>b.right+k&&(k=t.right-b.right+o)):t.right>b.right&&(k=t.right-b.right+o,e<0&&t.left<b.left+k&&(k=t.left-(b.left+o))):k=(n=="center"?t.left+(t.right-t.left)/2-(b.right-b.left)/2:n=="start"==c?t.left-o:t.right-(b.right-b.left)+o)-b.left,k||A)if(v)d.scrollBy(k,A);else{let N=0,j=0;if(A){let E=p.scrollTop;p.scrollTop+=A/C,j=(p.scrollTop-E)*C}if(k){let E=p.scrollLeft;p.scrollLeft+=k/w,N=(p.scrollLeft-E)*w}t={left:t.left-N,top:t.top-j,right:t.right-N,bottom:t.bottom-j},N&&Math.abs(N-k)<1&&(n="nearest"),j&&Math.abs(j-A)<1&&(l="nearest")}if(v)break;(t.top<b.top||t.bottom>b.bottom||t.left<b.left||t.right>b.right)&&(t={left:Math.max(t.left,b.left),right:Math.min(t.right,b.right),top:Math.max(t.top,b.top),bottom:Math.min(t.bottom,b.bottom)}),p=p.assignedSlot||p.parentNode}else if(p.nodeType==11)p=p.host;else break}function WM(i){let t=i.ownerDocument,e,n;for(let l=i.parentNode;l&&!(l==t.body||e&&n);)if(l.nodeType==1)!n&&l.scrollHeight>l.clientHeight&&(n=l),!e&&l.scrollWidth>l.clientWidth&&(e=l),l=l.assignedSlot||l.parentNode;else if(l.nodeType==11)l=l.host;else break;return{x:e,y:n}}class FM{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(t){return this.anchorNode==t.anchorNode&&this.anchorOffset==t.anchorOffset&&this.focusNode==t.focusNode&&this.focusOffset==t.focusOffset}setRange(t){let{anchorNode:e,focusNode:n}=t;this.set(e,Math.min(t.anchorOffset,e?_i(e):0),n,Math.min(t.focusOffset,n?_i(n):0))}set(t,e,n,l){this.anchorNode=t,this.anchorOffset=e,this.focusNode=n,this.focusOffset=l}}let br=null;function rS(i){if(i.setActive)return i.setActive();if(br)return i.focus(br);let t=[];for(let e=i;e&&(t.push(e,e.scrollTop,e.scrollLeft),e!=e.ownerDocument);e=e.parentNode);if(i.focus(br==null?{get preventScroll(){return br={preventScroll:!0},!0}}:void 0),!br){br=!1;for(let e=0;e<t.length;){let n=t[e++],l=t[e++],o=t[e++];n.scrollTop!=l&&(n.scrollTop=l),n.scrollLeft!=o&&(n.scrollLeft=o)}}}let Rv;function Dl(i,t,e=t){let n=Rv||(Rv=document.createRange());return n.setEnd(i,e),n.setStart(i,t),n}function Tr(i,t,e,n){let l={key:t,code:t,keyCode:e,which:e,cancelable:!0};n&&({altKey:l.altKey,ctrlKey:l.ctrlKey,shiftKey:l.shiftKey,metaKey:l.metaKey}=n);let o=new KeyboardEvent("keydown",l);o.synthetic=!0,i.dispatchEvent(o);let a=new KeyboardEvent("keyup",l);return a.synthetic=!0,i.dispatchEvent(a),o.defaultPrevented||a.defaultPrevented}function ZM(i){for(;i;){if(i&&(i.nodeType==9||i.nodeType==11&&i.host))return i;i=i.assignedSlot||i.parentNode}return null}function oS(i){for(;i.attributes.length;)i.removeAttributeNode(i.attributes[0])}function JM(i,t){let e=t.focusNode,n=t.focusOffset;if(!e||t.anchorNode!=e||t.anchorOffset!=n)return!1;for(n=Math.min(n,_i(e));;)if(n){if(e.nodeType!=1)return!1;let l=e.childNodes[n-1];l.contentEditable=="false"?n--:(e=l,n=_i(e))}else{if(e==i)return!0;n=Tl(e),e=e.parentNode}}function aS(i){return i.scrollTop>Math.max(1,i.scrollHeight-i.clientHeight-4)}function uS(i,t){for(let e=i,n=t;;){if(e.nodeType==3&&n>0)return{node:e,offset:n};if(e.nodeType==1&&n>0){if(e.contentEditable=="false")return null;e=e.childNodes[n-1],n=_i(e)}else if(e.parentNode&&!_c(e))n=Tl(e),e=e.parentNode;else return null}}function cS(i,t){for(let e=i,n=t;;){if(e.nodeType==3&&n<e.nodeValue.length)return{node:e,offset:n};if(e.nodeType==1&&n<e.childNodes.length){if(e.contentEditable=="false")return null;e=e.childNodes[n],n=0}else if(e.parentNode&&!_c(e))n=Tl(e)+1,e=e.parentNode;else return null}}class tn{constructor(t,e,n=!0){this.node=t,this.offset=e,this.precise=n}static before(t,e){return new tn(t.parentNode,Tl(t),e)}static after(t,e){return new tn(t.parentNode,Tl(t)+1,e)}}const Up=[];class ee{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(t){let e=this.posAtStart;for(let n of this.children){if(n==t)return e;e+=n.length+n.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(t){return this.posBefore(t)+t.length}sync(t,e){if(this.flags&2){let n=this.dom,l=null,o;for(let a of this.children){if(a.flags&7){if(!a.dom&&(o=l?l.nextSibling:n.firstChild)){let c=ee.get(o);(!c||!c.parent&&c.canReuseDOM(a))&&a.reuseDOM(o)}a.sync(t,e),a.flags&=-8}if(o=l?l.nextSibling:n.firstChild,e&&!e.written&&e.node==n&&o!=a.dom&&(e.written=!0),a.dom.parentNode==n)for(;o&&o!=a.dom;)o=Nv(o);else n.insertBefore(a.dom,o);l=a.dom}for(o=l?l.nextSibling:n.firstChild,o&&e&&e.node==n&&(e.written=!0);o;)o=Nv(o)}else if(this.flags&1)for(let n of this.children)n.flags&7&&(n.sync(t,e),n.flags&=-8)}reuseDOM(t){}localPosFromDOM(t,e){let n;if(t==this.dom)n=this.dom.childNodes[e];else{let l=_i(t)==0?0:e==0?-1:1;for(;;){let o=t.parentNode;if(o==this.dom)break;l==0&&o.firstChild!=o.lastChild&&(t==o.firstChild?l=-1:l=1),t=o}l<0?n=t:n=t.nextSibling}if(n==this.dom.firstChild)return 0;for(;n&&!ee.get(n);)n=n.nextSibling;if(!n)return this.length;for(let l=0,o=0;;l++){let a=this.children[l];if(a.dom==n)return o;o+=a.length+a.breakAfter}}domBoundsAround(t,e,n=0){let l=-1,o=-1,a=-1,c=-1;for(let h=0,d=n,p=n;h<this.children.length;h++){let g=this.children[h],b=d+g.length;if(d<t&&b>e)return g.domBoundsAround(t,e,d);if(b>=t&&l==-1&&(l=h,o=d),d>e&&g.dom.parentNode==this.dom){a=h,c=p;break}p=b,d=b+g.breakAfter}return{from:o,to:c<0?n+this.length:c,startDOM:(l?this.children[l-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:a<this.children.length&&a>=0?this.children[a].dom:null}}markDirty(t=!1){this.flags|=2,this.markParentsDirty(t)}markParentsDirty(t){for(let e=this.parent;e;e=e.parent){if(t&&(e.flags|=2),e.flags&1)return;e.flags|=1,t=!1}}setParent(t){this.parent!=t&&(this.parent=t,this.flags&7&&this.markParentsDirty(!0))}setDOM(t){this.dom!=t&&(this.dom&&(this.dom.cmView=null),this.dom=t,t.cmView=this)}get rootView(){for(let t=this;;){let e=t.parent;if(!e)return t;t=e}}replaceChildren(t,e,n=Up){this.markDirty();for(let l=t;l<e;l++){let o=this.children[l];o.parent==this&&n.indexOf(o)<0&&o.destroy()}n.length<250?this.children.splice(t,e-t,...n):this.children=[].concat(this.children.slice(0,t),n,this.children.slice(e));for(let l=0;l<n.length;l++)n[l].setParent(this)}ignoreMutation(t){return!1}ignoreEvent(t){return!1}childCursor(t=this.length){return new fS(this.children,t,this.children.length)}childPos(t,e=1){return this.childCursor().findPos(t,e)}toString(){let t=this.constructor.name.replace("View","");return t+(this.children.length?"("+this.children.join()+")":this.length?"["+(t=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(t){return t.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(t,e,n,l,o,a){return!1}become(t){return!1}canReuseDOM(t){return t.constructor==this.constructor&&!((this.flags|t.flags)&8)}getSide(){return 0}destroy(){for(let t of this.children)t.parent==this&&t.destroy();this.parent=null}}ee.prototype.breakAfter=0;function Nv(i){let t=i.nextSibling;return i.parentNode.removeChild(i),t}class fS{constructor(t,e,n){this.children=t,this.pos=e,this.i=n,this.off=0}findPos(t,e=1){for(;;){if(t>this.pos||t==this.pos&&(e>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=t-this.pos,this;let n=this.children[--this.i];this.pos-=n.length+n.breakAfter}}}function hS(i,t,e,n,l,o,a,c,h){let{children:d}=i,p=d.length?d[t]:null,g=o.length?o[o.length-1]:null,b=g?g.breakAfter:a;if(!(t==n&&p&&!a&&!b&&o.length<2&&p.merge(e,l,o.length?g:null,e==0,c,h))){if(n<d.length){let v=d[n];v&&(l<v.length||v.breakAfter&&g?.breakAfter)?(t==n&&(v=v.split(l),l=0),!b&&g&&v.merge(0,l,g,!0,0,h)?o[o.length-1]=v:((l||v.children.length&&!v.children[0].length)&&v.merge(0,l,null,!1,0,h),o.push(v))):v?.breakAfter&&(g?g.breakAfter=1:a=1),n++}for(p&&(p.breakAfter=a,e>0&&(!a&&o.length&&p.merge(e,p.length,o[0],!1,c,0)?p.breakAfter=o.shift().breakAfter:(e<p.length||p.children.length&&p.children[p.children.length-1].length==0)&&p.merge(e,p.length,null,!1,c,0),t++));t<n&&o.length;)if(d[n-1].become(o[o.length-1]))n--,o.pop(),h=o.length?0:c;else if(d[t].become(o[0]))t++,o.shift(),c=o.length?0:h;else break;!o.length&&t&&n<d.length&&!d[t-1].breakAfter&&d[n].merge(0,0,d[t-1],!1,c,h)&&t--,(t<n||o.length)&&i.replaceChildren(t,n,o)}}function dS(i,t,e,n,l,o){let a=i.childCursor(),{i:c,off:h}=a.findPos(e,1),{i:d,off:p}=a.findPos(t,-1),g=t-e;for(let b of n)g+=b.length;i.length+=g,hS(i,d,p,c,h,n,0,l,o)}let bn=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},Km=typeof document<"u"?document:{documentElement:{style:{}}};const Wm=/Edge\/(\d+)/.exec(bn.userAgent),mS=/MSIE \d/.test(bn.userAgent),Fm=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(bn.userAgent),xf=!!(mS||Fm||Wm),Bv=!xf&&/gecko\/(\d+)/i.test(bn.userAgent),Jd=!xf&&/Chrome\/(\d+)/.exec(bn.userAgent),$M="webkitFontSmoothing"in Km.documentElement.style,pS=!xf&&/Apple Computer/.test(bn.vendor),Lv=pS&&(/Mobile\/\w+/.test(bn.userAgent)||bn.maxTouchPoints>2);var ft={mac:Lv||/Mac/.test(bn.platform),windows:/Win/.test(bn.platform),linux:/Linux|X11/.test(bn.platform),ie:xf,ie_version:mS?Km.documentMode||6:Fm?+Fm[1]:Wm?+Wm[1]:0,gecko:Bv,gecko_version:Bv?+(/Firefox\/(\d+)/.exec(bn.userAgent)||[0,0])[1]:0,chrome:!!Jd,chrome_version:Jd?+Jd[1]:0,ios:Lv,android:/Android\b/.test(bn.userAgent),safari:pS,webkit_version:$M?+(/\bAppleWebKit\/(\d+)/.exec(bn.userAgent)||[0,0])[1]:0,tabSize:Km.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const tT=256;class pi extends ee{constructor(t){super(),this.text=t}get length(){return this.text.length}createDOM(t){this.setDOM(t||document.createTextNode(this.text))}sync(t,e){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(e&&e.node==this.dom&&(e.written=!0),this.dom.nodeValue=this.text)}reuseDOM(t){t.nodeType==3&&this.createDOM(t)}merge(t,e,n){return this.flags&8||n&&(!(n instanceof pi)||this.length-(e-t)+n.length>tT||n.flags&8)?!1:(this.text=this.text.slice(0,t)+(n?n.text:"")+this.text.slice(e),this.markDirty(),!0)}split(t){let e=new pi(this.text.slice(t));return this.text=this.text.slice(0,t),this.markDirty(),e.flags|=this.flags&8,e}localPosFromDOM(t,e){return t==this.dom?e:e?this.text.length:0}domAtPos(t){return new tn(this.dom,t)}domBoundsAround(t,e,n){return{from:n,to:n+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(t,e){return eT(this.dom,t,e)}}class cs extends ee{constructor(t,e=[],n=0){super(),this.mark=t,this.children=e,this.length=n;for(let l of e)l.setParent(this)}setAttrs(t){if(oS(t),this.mark.class&&(t.className=this.mark.class),this.mark.attrs)for(let e in this.mark.attrs)t.setAttribute(e,this.mark.attrs[e]);return t}canReuseDOM(t){return super.canReuseDOM(t)&&!((this.flags|t.flags)&8)}reuseDOM(t){t.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(t),this.flags|=6)}sync(t,e){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(t,e)}merge(t,e,n,l,o,a){return n&&(!(n instanceof cs&&n.mark.eq(this.mark))||t&&o<=0||e<this.length&&a<=0)?!1:(dS(this,t,e,n?n.children.slice():[],o-1,a-1),this.markDirty(),!0)}split(t){let e=[],n=0,l=-1,o=0;for(let c of this.children){let h=n+c.length;h>t&&e.push(n<t?c.split(t-n):c),l<0&&n>=t&&(l=o),n=h,o++}let a=this.length-t;return this.length=t,l>-1&&(this.children.length=l,this.markDirty()),new cs(this.mark,e,a)}domAtPos(t){return gS(this,t)}coordsAt(t,e){return bS(this,t,e)}}function eT(i,t,e){let n=i.nodeValue.length;t>n&&(t=n);let l=t,o=t,a=0;t==0&&e<0||t==n&&e>=0?ft.chrome||ft.gecko||(t?(l--,a=1):o<n&&(o++,a=-1)):e<0?l--:o<n&&o++;let c=Dl(i,l,o).getClientRects();if(!c.length)return null;let h=c[(a?a<0:e>=0)?0:c.length-1];return ft.safari&&!a&&h.width==0&&(h=Array.prototype.find.call(c,d=>d.width)||h),a?Ta(h,a<0):h||null}class Gs extends ee{static create(t,e,n){return new Gs(t,e,n)}constructor(t,e,n){super(),this.widget=t,this.length=e,this.side=n,this.prevWidget=null}split(t){let e=Gs.create(this.widget,this.length-t,this.side);return this.length-=t,e}sync(t){(!this.dom||!this.widget.updateDOM(this.dom,t))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(t)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(t,e,n,l,o,a){return n&&(!(n instanceof Gs)||!this.widget.compare(n.widget)||t>0&&o<=0||e<this.length&&a<=0)?!1:(this.length=t+(n?n.length:0)+(this.length-e),!0)}become(t){return t instanceof Gs&&t.side==this.side&&this.widget.constructor==t.widget.constructor?(this.widget.compare(t.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=t.widget,this.length=t.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(t){return this.widget.ignoreEvent(t)}get overrideDOMText(){if(this.length==0)return _t.empty;let t=this;for(;t.parent;)t=t.parent;let{view:e}=t,n=e&&e.state.doc,l=this.posAtStart;return n?n.slice(l,l+this.length):_t.empty}domAtPos(t){return(this.length?t==0:this.side>0)?tn.before(this.dom):tn.after(this.dom,t==this.length)}domBoundsAround(){return null}coordsAt(t,e){let n=this.widget.coordsAt(this.dom,t,e);if(n)return n;let l=this.dom.getClientRects(),o=null;if(!l.length)return null;let a=this.side?this.side<0:t>0;for(let c=a?l.length-1:0;o=l[c],!(t>0?c==0:c==l.length-1||o.top<o.bottom);c+=a?-1:1);return Ta(o,!a)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class zr extends ee{constructor(t){super(),this.side=t}get length(){return 0}merge(){return!1}become(t){return t instanceof zr&&t.side==this.side}split(){return new zr(this.side)}sync(){if(!this.dom){let t=document.createElement("img");t.className="cm-widgetBuffer",t.setAttribute("aria-hidden","true"),this.setDOM(t)}}getSide(){return this.side}domAtPos(t){return this.side>0?tn.before(this.dom):tn.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(t){return this.dom.getBoundingClientRect()}get overrideDOMText(){return _t.empty}get isHidden(){return!0}}pi.prototype.children=Gs.prototype.children=zr.prototype.children=Up;function gS(i,t){let e=i.dom,{children:n}=i,l=0;for(let o=0;l<n.length;l++){let a=n[l],c=o+a.length;if(!(c==o&&a.getSide()<=0)){if(t>o&&t<c&&a.dom.parentNode==e)return a.domAtPos(t-o);if(t<=o)break;o=c}}for(let o=l;o>0;o--){let a=n[o-1];if(a.dom.parentNode==e)return a.domAtPos(a.length)}for(let o=l;o<n.length;o++){let a=n[o];if(a.dom.parentNode==e)return a.domAtPos(0)}return new tn(e,0)}function yS(i,t,e){let n,{children:l}=i;e>0&&t instanceof cs&&l.length&&(n=l[l.length-1])instanceof cs&&n.mark.eq(t.mark)?yS(n,t.children[0],e-1):(l.push(t),t.setParent(i)),i.length+=t.length}function bS(i,t,e){let n=null,l=-1,o=null,a=-1;function c(d,p){for(let g=0,b=0;g<d.children.length&&b<=p;g++){let v=d.children[g],w=b+v.length;w>=p&&(v.children.length?c(v,p-b):(!o||o.isHidden&&(e>0||iT(o,v)))&&(w>p||b==w&&v.getSide()>0)?(o=v,a=p-b):(b<p||b==w&&v.getSide()<0&&!v.isHidden)&&(n=v,l=p-b)),b=w}}c(i,t);let h=(e<0?n:o)||n||o;return h?h.coordsAt(Math.max(0,h==n?l:a),e):nT(i)}function nT(i){let t=i.dom.lastChild;if(!t)return i.dom.getBoundingClientRect();let e=Lr(t);return e[e.length-1]||null}function iT(i,t){let e=i.coordsAt(0,1),n=t.coordsAt(0,1);return e&&n&&n.top<e.bottom}function Zm(i,t){for(let e in i)e=="class"&&t.class?t.class+=" "+i.class:e=="style"&&t.style?t.style+=";"+i.style:t[e]=i[e];return t}const zv=Object.create(null);function Uc(i,t,e){if(i==t)return!0;i||(i=zv),t||(t=zv);let n=Object.keys(i),l=Object.keys(t);if(n.length-(e&&n.indexOf(e)>-1?1:0)!=l.length-(e&&l.indexOf(e)>-1?1:0))return!1;for(let o of n)if(o!=e&&(l.indexOf(o)==-1||i[o]!==t[o]))return!1;return!0}function Jm(i,t,e){let n=!1;if(t)for(let l in t)e&&l in e||(n=!0,l=="style"?i.style.cssText="":i.removeAttribute(l));if(e)for(let l in e)t&&t[l]==e[l]||(n=!0,l=="style"?i.style.cssText=e[l]:i.setAttribute(l,e[l]));return n}function sT(i){let t=Object.create(null);for(let e=0;e<i.attributes.length;e++){let n=i.attributes[e];t[n.name]=n.value}return t}class hs{eq(t){return!1}updateDOM(t,e){return!1}compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(t){return!0}coordsAt(t,e,n){return null}get isHidden(){return!1}get editable(){return!1}destroy(t){}}var un=(function(i){return i[i.Text=0]="Text",i[i.WidgetBefore=1]="WidgetBefore",i[i.WidgetAfter=2]="WidgetAfter",i[i.WidgetRange=3]="WidgetRange",i})(un||(un={}));class xt extends Ml{constructor(t,e,n,l){super(),this.startSide=t,this.endSide=e,this.widget=n,this.spec=l}get heightRelevant(){return!1}static mark(t){return new Da(t)}static widget(t){let e=Math.max(-1e4,Math.min(1e4,t.side||0)),n=!!t.block;return e+=n&&!t.inlineOrder?e>0?3e8:-4e8:e>0?1e8:-1e8,new Fs(t,e,e,n,t.widget||null,!1)}static replace(t){let e=!!t.block,n,l;if(t.isBlockGap)n=-5e8,l=4e8;else{let{start:o,end:a}=vS(t,e);n=(o?e?-3e8:-1:5e8)-1,l=(a?e?2e8:1:-6e8)+1}return new Fs(t,n,l,e,t.widget||null,!0)}static line(t){return new Oa(t)}static set(t,e=!1){return jt.of(t,e)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}xt.none=jt.empty;class Da extends xt{constructor(t){let{start:e,end:n}=vS(t);super(e?-1:5e8,n?1:-6e8,null,t),this.tagName=t.tagName||"span",this.class=t.class||"",this.attrs=t.attributes||null}eq(t){var e,n;return this==t||t instanceof Da&&this.tagName==t.tagName&&(this.class||((e=this.attrs)===null||e===void 0?void 0:e.class))==(t.class||((n=t.attrs)===null||n===void 0?void 0:n.class))&&Uc(this.attrs,t.attrs,"class")}range(t,e=t){if(t>=e)throw new RangeError("Mark decorations may not be empty");return super.range(t,e)}}Da.prototype.point=!1;class Oa extends xt{constructor(t){super(-2e8,-2e8,null,t)}eq(t){return t instanceof Oa&&this.spec.class==t.spec.class&&Uc(this.spec.attributes,t.spec.attributes)}range(t,e=t){if(e!=t)throw new RangeError("Line decoration ranges must be zero-length");return super.range(t,e)}}Oa.prototype.mapMode=an.TrackBefore;Oa.prototype.point=!0;class Fs extends xt{constructor(t,e,n,l,o,a){super(e,n,o,t),this.block=l,this.isReplace=a,this.mapMode=l?e<=0?an.TrackBefore:an.TrackAfter:an.TrackDel}get type(){return this.startSide!=this.endSide?un.WidgetRange:this.startSide<=0?un.WidgetBefore:un.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(t){return t instanceof Fs&&lT(this.widget,t.widget)&&this.block==t.block&&this.startSide==t.startSide&&this.endSide==t.endSide}range(t,e=t){if(this.isReplace&&(t>e||t==e&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&e!=t)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(t,e)}}Fs.prototype.point=!0;function vS(i,t=!1){let{inclusiveStart:e,inclusiveEnd:n}=i;return e==null&&(e=i.inclusive),n==null&&(n=i.inclusive),{start:e??t,end:n??t}}function lT(i,t){return i==t||!!(i&&t&&i.compare(t))}function Ac(i,t,e,n=0){let l=e.length-1;l>=0&&e[l]+n>=i?e[l]=Math.max(e[l],t):e.push(i,t)}class Ce extends ee{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(t,e,n,l,o,a){if(n){if(!(n instanceof Ce))return!1;this.dom||n.transferDOM(this)}return l&&this.setDeco(n?n.attrs:null),dS(this,t,e,n?n.children.slice():[],o,a),!0}split(t){let e=new Ce;if(e.breakAfter=this.breakAfter,this.length==0)return e;let{i:n,off:l}=this.childPos(t);l&&(e.append(this.children[n].split(l),0),this.children[n].merge(l,this.children[n].length,null,!1,0,0),n++);for(let o=n;o<this.children.length;o++)e.append(this.children[o],0);for(;n>0&&this.children[n-1].length==0;)this.children[--n].destroy();return this.children.length=n,this.markDirty(),this.length=t,e}transferDOM(t){this.dom&&(this.markDirty(),t.setDOM(this.dom),t.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(t){Uc(this.attrs,t)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=t)}append(t,e){yS(this,t,e)}addLineDeco(t){let e=t.spec.attributes,n=t.spec.class;e&&(this.attrs=Zm(e,this.attrs||{})),n&&(this.attrs=Zm({class:n},this.attrs||{}))}domAtPos(t){return gS(this,t)}reuseDOM(t){t.nodeName=="DIV"&&(this.setDOM(t),this.flags|=6)}sync(t,e){var n;this.dom?this.flags&4&&(oS(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(Jm(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(t,e);let l=this.dom.lastChild;for(;l&&ee.get(l)instanceof cs;)l=l.lastChild;if(!l||!this.length||l.nodeName!="BR"&&((n=ee.get(l))===null||n===void 0?void 0:n.isEditable)==!1&&(!ft.ios||!this.children.some(o=>o instanceof pi))){let o=document.createElement("BR");o.cmIgnore=!0,this.dom.appendChild(o)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let t=0,e;for(let n of this.children){if(!(n instanceof pi)||/[^ -~]/.test(n.text))return null;let l=Lr(n.dom);if(l.length!=1)return null;t+=l[0].width,e=l[0].height}return t?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:t/this.length,textHeight:e}:null}coordsAt(t,e){let n=bS(this,t,e);if(!this.children.length&&n&&this.parent){let{heightOracle:l}=this.parent.view.viewState,o=n.bottom-n.top;if(Math.abs(o-l.lineHeight)<2&&l.textHeight<o){let a=(o-l.textHeight)/2;return{top:n.top+a,bottom:n.bottom-a,left:n.left,right:n.left}}}return n}become(t){return t instanceof Ce&&this.children.length==0&&t.children.length==0&&Uc(this.attrs,t.attrs)&&this.breakAfter==t.breakAfter}covers(){return!0}static find(t,e){for(let n=0,l=0;n<t.children.length;n++){let o=t.children[n],a=l+o.length;if(a>=e){if(o instanceof Ce)return o;if(a>e)break}l=a+o.breakAfter}return null}}class as extends ee{constructor(t,e,n){super(),this.widget=t,this.length=e,this.deco=n,this.breakAfter=0,this.prevWidget=null}merge(t,e,n,l,o,a){return n&&(!(n instanceof as)||!this.widget.compare(n.widget)||t>0&&o<=0||e<this.length&&a<=0)?!1:(this.length=t+(n?n.length:0)+(this.length-e),!0)}domAtPos(t){return t==0?tn.before(this.dom):tn.after(this.dom,t==this.length)}split(t){let e=this.length-t;this.length=t;let n=new as(this.widget,e,this.deco);return n.breakAfter=this.breakAfter,n}get children(){return Up}sync(t){(!this.dom||!this.widget.updateDOM(this.dom,t))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(t)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):_t.empty}domBoundsAround(){return null}become(t){return t instanceof as&&t.widget.constructor==this.widget.constructor?(t.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=t.widget,this.length=t.length,this.deco=t.deco,this.breakAfter=t.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(t){return this.widget.ignoreEvent(t)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(t,e){let n=this.widget.coordsAt(this.dom,t,e);return n||(this.widget instanceof $m?null:Ta(this.dom.getBoundingClientRect(),this.length?t==0:e<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(t){let{startSide:e,endSide:n}=this.deco;return e==n?!1:t<0?e<0:n>0}}class $m extends hs{constructor(t){super(),this.height=t}toDOM(){let t=document.createElement("div");return t.className="cm-gap",this.updateDOM(t),t}eq(t){return t.height==this.height}updateDOM(t){return t.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class ia{constructor(t,e,n,l){this.doc=t,this.pos=e,this.end=n,this.disallowBlockEffectsFor=l,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=t.iter(),this.skip=e}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let t=this.content[this.content.length-1];return!(t.breakAfter||t instanceof as&&t.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new Ce),this.atCursorPos=!0),this.curLine}flushBuffer(t=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(Ju(new zr(-1),t),t.length),this.pendingBuffer=0)}addBlockWidget(t){this.flushBuffer(),this.curLine=null,this.content.push(t)}finish(t){this.pendingBuffer&&t<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(t&&this.content.length&&this.content[this.content.length-1]instanceof as)&&this.getLine()}buildText(t,e,n){for(;t>0;){if(this.textOff==this.text.length){let{value:o,lineBreak:a,done:c}=this.cursor.next(this.skip);if(this.skip=0,c)throw new Error("Ran out of text content when drawing inline views");if(a){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,t--;continue}else this.text=o,this.textOff=0}let l=Math.min(this.text.length-this.textOff,t,512);this.flushBuffer(e.slice(e.length-n)),this.getLine().append(Ju(new pi(this.text.slice(this.textOff,this.textOff+l)),e),n),this.atCursorPos=!0,this.textOff+=l,t-=l,n=0}}span(t,e,n,l){this.buildText(e-t,n,l),this.pos=e,this.openStart<0&&(this.openStart=l)}point(t,e,n,l,o,a){if(this.disallowBlockEffectsFor[a]&&n instanceof Fs){if(n.block)throw new RangeError("Block decorations may not be specified via plugins");if(e>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let c=e-t;if(n instanceof Fs)if(n.block)n.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new as(n.widget||Hr.block,c,n));else{let h=Gs.create(n.widget||Hr.inline,c,c?0:n.startSide),d=this.atCursorPos&&!h.isEditable&&o<=l.length&&(t<e||n.startSide>0),p=!h.isEditable&&(t<e||o>l.length||n.startSide<=0),g=this.getLine();this.pendingBuffer==2&&!d&&!h.isEditable&&(this.pendingBuffer=0),this.flushBuffer(l),d&&(g.append(Ju(new zr(1),l),o),o=l.length+Math.max(0,o-l.length)),g.append(Ju(h,l),o),this.atCursorPos=p,this.pendingBuffer=p?t<e||o>l.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=l.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(n);c&&(this.textOff+c<=this.text.length?this.textOff+=c:(this.skip+=c-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=e),this.openStart<0&&(this.openStart=o)}static build(t,e,n,l,o){let a=new ia(t,e,n,o);return a.openEnd=jt.spans(l,e,n,a),a.openStart<0&&(a.openStart=a.openEnd),a.finish(a.openEnd),a}}function Ju(i,t){for(let e of t)i=new cs(e,[i],i.length);return i}class Hr extends hs{constructor(t){super(),this.tag=t}eq(t){return t.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(t){return t.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}Hr.inline=new Hr("span");Hr.block=new Hr("div");var oe=(function(i){return i[i.LTR=0]="LTR",i[i.RTL=1]="RTL",i})(oe||(oe={}));const Ol=oe.LTR,qp=oe.RTL;function xS(i){let t=[];for(let e=0;e<i.length;e++)t.push(1<<+i[e]);return t}const rT=xS("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),oT=xS("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),tp=Object.create(null),Ti=[];for(let i of["()","[]","{}"]){let t=i.charCodeAt(0),e=i.charCodeAt(1);tp[t]=e,tp[e]=-t}function SS(i){return i<=247?rT[i]:1424<=i&&i<=1524?2:1536<=i&&i<=1785?oT[i-1536]:1774<=i&&i<=2220?4:8192<=i&&i<=8204?256:64336<=i&&i<=65023?4:1}const aT=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Xs{get dir(){return this.level%2?qp:Ol}constructor(t,e,n){this.from=t,this.to=e,this.level=n}side(t,e){return this.dir==e==t?this.to:this.from}forward(t,e){return t==(this.dir==e)}static find(t,e,n,l){let o=-1;for(let a=0;a<t.length;a++){let c=t[a];if(c.from<=e&&c.to>=e){if(c.level==n)return a;(o<0||(l!=0?l<0?c.from<e:c.to>e:t[o].level>c.level))&&(o=a)}}if(o<0)throw new RangeError("Index out of range");return o}}function wS(i,t){if(i.length!=t.length)return!1;for(let e=0;e<i.length;e++){let n=i[e],l=t[e];if(n.from!=l.from||n.to!=l.to||n.direction!=l.direction||!wS(n.inner,l.inner))return!1}return!0}const te=[];function uT(i,t,e,n,l){for(let o=0;o<=n.length;o++){let a=o?n[o-1].to:t,c=o<n.length?n[o].from:e,h=o?256:l;for(let d=a,p=h,g=h;d<c;d++){let b=SS(i.charCodeAt(d));b==512?b=p:b==8&&g==4&&(b=16),te[d]=b==4?2:b,b&7&&(g=b),p=b}for(let d=a,p=h,g=h;d<c;d++){let b=te[d];if(b==128)d<c-1&&p==te[d+1]&&p&24?b=te[d]=p:te[d]=256;else if(b==64){let v=d+1;for(;v<c&&te[v]==64;)v++;let w=d&&p==8||v<e&&te[v]==8?g==1?1:8:256;for(let C=d;C<v;C++)te[C]=w;d=v-1}else b==8&&g==1&&(te[d]=1);p=b,b&7&&(g=b)}}}function cT(i,t,e,n,l){let o=l==1?2:1;for(let a=0,c=0,h=0;a<=n.length;a++){let d=a?n[a-1].to:t,p=a<n.length?n[a].from:e;for(let g=d,b,v,w;g<p;g++)if(v=tp[b=i.charCodeAt(g)])if(v<0){for(let C=c-3;C>=0;C-=3)if(Ti[C+1]==-v){let k=Ti[C+2],A=k&2?l:k&4?k&1?o:l:0;A&&(te[g]=te[Ti[C]]=A),c=C;break}}else{if(Ti.length==189)break;Ti[c++]=g,Ti[c++]=b,Ti[c++]=h}else if((w=te[g])==2||w==1){let C=w==l;h=C?0:1;for(let k=c-3;k>=0;k-=3){let A=Ti[k+2];if(A&2)break;if(C)Ti[k+2]|=2;else{if(A&4)break;Ti[k+2]|=4}}}}}function fT(i,t,e,n){for(let l=0,o=n;l<=e.length;l++){let a=l?e[l-1].to:i,c=l<e.length?e[l].from:t;for(let h=a;h<c;){let d=te[h];if(d==256){let p=h+1;for(;;)if(p==c){if(l==e.length)break;p=e[l++].to,c=l<e.length?e[l].from:t}else if(te[p]==256)p++;else break;let g=o==1,b=(p<t?te[p]:n)==1,v=g==b?g?1:2:n;for(let w=p,C=l,k=C?e[C-1].to:i;w>h;)w==k&&(w=e[--C].from,k=C?e[C-1].to:i),te[--w]=v;h=p}else o=d,h++}}}function ep(i,t,e,n,l,o,a){let c=n%2?2:1;if(n%2==l%2)for(let h=t,d=0;h<e;){let p=!0,g=!1;if(d==o.length||h<o[d].from){let C=te[h];C!=c&&(p=!1,g=C==16)}let b=!p&&c==1?[]:null,v=p?n:n+1,w=h;t:for(;;)if(d<o.length&&w==o[d].from){if(g)break t;let C=o[d];if(!p)for(let k=C.to,A=d+1;;){if(k==e)break t;if(A<o.length&&o[A].from==k)k=o[A++].to;else{if(te[k]==c)break t;break}}if(d++,b)b.push(C);else{C.from>h&&a.push(new Xs(h,C.from,v));let k=C.direction==Ol!=!(v%2);np(i,k?n+1:n,l,C.inner,C.from,C.to,a),h=C.to}w=C.to}else{if(w==e||(p?te[w]!=c:te[w]==c))break;w++}b?ep(i,h,w,n+1,l,b,a):h<w&&a.push(new Xs(h,w,v)),h=w}else for(let h=e,d=o.length;h>t;){let p=!0,g=!1;if(!d||h>o[d-1].to){let C=te[h-1];C!=c&&(p=!1,g=C==16)}let b=!p&&c==1?[]:null,v=p?n:n+1,w=h;t:for(;;)if(d&&w==o[d-1].to){if(g)break t;let C=o[--d];if(!p)for(let k=C.from,A=d;;){if(k==t)break t;if(A&&o[A-1].to==k)k=o[--A].from;else{if(te[k-1]==c)break t;break}}if(b)b.push(C);else{C.to<h&&a.push(new Xs(C.to,h,v));let k=C.direction==Ol!=!(v%2);np(i,k?n+1:n,l,C.inner,C.from,C.to,a),h=C.from}w=C.from}else{if(w==t||(p?te[w-1]!=c:te[w-1]==c))break;w--}b?ep(i,w,h,n+1,l,b,a):w<h&&a.push(new Xs(w,h,v)),h=w}}function np(i,t,e,n,l,o,a){let c=t%2?2:1;uT(i,l,o,n,c),cT(i,l,o,n,c),fT(l,o,n,c),ep(i,l,o,t,e,n,a)}function hT(i,t,e){if(!i)return[new Xs(0,0,t==qp?1:0)];if(t==Ol&&!e.length&&!aT.test(i))return CS(i.length);if(e.length)for(;i.length>te.length;)te[te.length]=256;let n=[],l=t==Ol?0:1;return np(i,l,l,e,0,i.length,n),n}function CS(i){return[new Xs(0,i,0)]}let kS="";function dT(i,t,e,n,l){var o;let a=n.head-i.from,c=Xs.find(t,a,(o=n.bidiLevel)!==null&&o!==void 0?o:-1,n.assoc),h=t[c],d=h.side(l,e);if(a==d){let b=c+=l?1:-1;if(b<0||b>=t.length)return null;h=t[c=b],a=h.side(!l,e),d=h.side(l,e)}let p=Ke(i.text,a,h.forward(l,e));(p<h.from||p>h.to)&&(p=d),kS=i.text.slice(Math.min(a,p),Math.max(a,p));let g=c==(l?t.length-1:0)?null:t[c+(l?1:-1)];return g&&p==d&&g.level+(l?0:1)<h.level?Z.cursor(g.side(!l,e)+i.from,g.forward(l,e)?1:-1,g.level):Z.cursor(p+i.from,h.forward(l,e)?-1:1,h.level)}function mT(i,t,e){for(let n=t;n<e;n++){let l=SS(i.charCodeAt(n));if(l==1)return Ol;if(l==2||l==4)return qp}return Ol}const AS=ht.define(),MS=ht.define(),TS=ht.define(),DS=ht.define(),ip=ht.define(),OS=ht.define(),ES=ht.define(),Vp=ht.define(),Pp=ht.define(),RS=ht.define({combine:i=>i.some(t=>t)}),NS=ht.define({combine:i=>i.some(t=>t)}),BS=ht.define();class Dr{constructor(t,e="nearest",n="nearest",l=5,o=5,a=!1){this.range=t,this.y=e,this.x=n,this.yMargin=l,this.xMargin=o,this.isSnapshot=a}map(t){return t.empty?this:new Dr(this.range.map(t),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(t){return this.range.to<=t.doc.length?this:new Dr(Z.cursor(t.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const $u=kt.define({map:(i,t)=>i.map(t)}),LS=kt.define();function xn(i,t,e){let n=i.facet(DS);n.length?n[0](t):window.onerror&&window.onerror(String(t),e,void 0,void 0,t)||(e?console.error(e+":",t):console.error(t))}const os=ht.define({combine:i=>i.length?i[0]:!0});let pT=0;const wr=ht.define({combine(i){return i.filter((t,e)=>{for(let n=0;n<e;n++)if(i[n].plugin==t.plugin)return!1;return!0})}});class ve{constructor(t,e,n,l,o){this.id=t,this.create=e,this.domEventHandlers=n,this.domEventObservers=l,this.baseExtensions=o(this),this.extension=this.baseExtensions.concat(wr.of({plugin:this,arg:void 0}))}of(t){return this.baseExtensions.concat(wr.of({plugin:this,arg:t}))}static define(t,e){const{eventHandlers:n,eventObservers:l,provide:o,decorations:a}=e||{};return new ve(pT++,t,n,l,c=>{let h=[];return a&&h.push(da.of(d=>{let p=d.plugin(c);return p?a(p):xt.none})),o&&h.push(o(c)),h})}static fromClass(t,e){return ve.define((n,l)=>new t(n,l),e)}}class $d{constructor(t){this.spec=t,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(t){if(this.value){if(this.mustUpdate){let e=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(e)}catch(n){if(xn(e.state,n,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(t,this.spec.arg)}catch(e){xn(t.state,e,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(t){var e;if(!((e=this.value)===null||e===void 0)&&e.destroy)try{this.value.destroy()}catch(n){xn(t.state,n,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const zS=ht.define(),Yp=ht.define(),da=ht.define(),HS=ht.define(),Sf=ht.define(),jS=ht.define();function Hv(i,t){let e=i.state.facet(jS);if(!e.length)return e;let n=e.map(o=>o instanceof Function?o(i):o),l=[];return jt.spans(n,t.from,t.to,{point(){},span(o,a,c,h){let d=o-t.from,p=a-t.from,g=l;for(let b=c.length-1;b>=0;b--,h--){let v=c[b].spec.bidiIsolate,w;if(v==null&&(v=mT(t.text,d,p)),h>0&&g.length&&(w=g[g.length-1]).to==d&&w.direction==v)w.to=p,g=w.inner;else{let C={from:d,to:p,direction:v,inner:[]};g.push(C),g=C.inner}}}}),l}const _S=ht.define();function Gp(i){let t=0,e=0,n=0,l=0;for(let o of i.state.facet(_S)){let a=o(i);a&&(a.left!=null&&(t=Math.max(t,a.left)),a.right!=null&&(e=Math.max(e,a.right)),a.top!=null&&(n=Math.max(n,a.top)),a.bottom!=null&&(l=Math.max(l,a.bottom)))}return{left:t,right:e,top:n,bottom:l}}const Fo=ht.define();class ni{constructor(t,e,n,l){this.fromA=t,this.toA=e,this.fromB=n,this.toB=l}join(t){return new ni(Math.min(this.fromA,t.fromA),Math.max(this.toA,t.toA),Math.min(this.fromB,t.fromB),Math.max(this.toB,t.toB))}addToSet(t){let e=t.length,n=this;for(;e>0;e--){let l=t[e-1];if(!(l.fromA>n.toA)){if(l.toA<n.fromA)break;n=n.join(l),t.splice(e-1,1)}}return t.splice(e,0,n),t}static extendWithRanges(t,e){if(e.length==0)return t;let n=[];for(let l=0,o=0,a=0,c=0;;l++){let h=l==t.length?null:t[l],d=a-c,p=h?h.fromB:1e9;for(;o<e.length&&e[o]<p;){let g=e[o],b=e[o+1],v=Math.max(c,g),w=Math.min(p,b);if(v<=w&&new ni(v+d,w+d,v,w).addToSet(n),b>p)break;o+=2}if(!h)return n;new ni(h.fromA,h.toA,h.fromB,h.toB).addToSet(n),a=h.toA,c=h.toB}}}class qc{constructor(t,e,n){this.view=t,this.state=e,this.transactions=n,this.flags=0,this.startState=t.state,this.changes=De.empty(this.startState.doc.length);for(let o of n)this.changes=this.changes.compose(o.changes);let l=[];this.changes.iterChangedRanges((o,a,c,h)=>l.push(new ni(o,a,c,h))),this.changedRanges=l}static create(t,e,n){return new qc(t,e,n)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(t=>t.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class jv extends ee{get length(){return this.view.state.doc.length}constructor(t){super(),this.view=t,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=xt.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(t.contentDOM),this.children=[new Ce],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new ni(0,0,0,t.state.doc.length)],0,null)}update(t){var e;let n=t.changedRanges;this.minWidth>0&&n.length&&(n.every(({fromA:d,toA:p})=>p<this.minWidthFrom||d>this.minWidthTo)?(this.minWidthFrom=t.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=t.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(t);let l=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((e=this.domChanged)===null||e===void 0)&&e.newSel?l=this.domChanged.newSel.head:!wT(t.changes,this.hasComposition)&&!t.selectionSet&&(l=t.state.selection.main.head));let o=l>-1?yT(this.view,t.changes,l):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:d,to:p}=this.hasComposition;n=new ni(d,p,t.changes.mapPos(d,-1),t.changes.mapPos(p,1)).addToSet(n.slice())}this.hasComposition=o?{from:o.range.fromB,to:o.range.toB}:null,(ft.ie||ft.chrome)&&!o&&t&&t.state.doc.lines!=t.startState.doc.lines&&(this.forceSelection=!0);let a=this.decorations,c=this.updateDeco(),h=xT(a,c,t.changes);return n=ni.extendWithRanges(n,h),!(this.flags&7)&&n.length==0?!1:(this.updateInner(n,t.startState.doc.length,o),t.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(t,e,n){this.view.viewState.mustMeasureContent=!0,this.updateChildren(t,e,n);let{observer:l}=this.view;l.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let a=ft.chrome||ft.ios?{node:l.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,a),this.flags&=-8,a&&(a.written||l.selectionRange.focusNode!=a.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(a=>a.flags&=-9);let o=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let a of this.children)a instanceof as&&a.widget instanceof $m&&o.push(a.dom);l.updateGaps(o)}updateChildren(t,e,n){let l=n?n.range.addToSet(t.slice()):t,o=this.childCursor(e);for(let a=l.length-1;;a--){let c=a>=0?l[a]:null;if(!c)break;let{fromA:h,toA:d,fromB:p,toB:g}=c,b,v,w,C;if(n&&n.range.fromB<g&&n.range.toB>p){let E=ia.build(this.view.state.doc,p,n.range.fromB,this.decorations,this.dynamicDecorationMap),D=ia.build(this.view.state.doc,n.range.toB,g,this.decorations,this.dynamicDecorationMap);v=E.breakAtStart,w=E.openStart,C=D.openEnd;let z=this.compositionView(n);D.breakAtStart?z.breakAfter=1:D.content.length&&z.merge(z.length,z.length,D.content[0],!1,D.openStart,0)&&(z.breakAfter=D.content[0].breakAfter,D.content.shift()),E.content.length&&z.merge(0,0,E.content[E.content.length-1],!0,0,E.openEnd)&&E.content.pop(),b=E.content.concat(z).concat(D.content)}else({content:b,breakAtStart:v,openStart:w,openEnd:C}=ia.build(this.view.state.doc,p,g,this.decorations,this.dynamicDecorationMap));let{i:k,off:A}=o.findPos(d,1),{i:N,off:j}=o.findPos(h,-1);hS(this,N,j,k,A,b,v,w,C)}n&&this.fixCompositionDOM(n)}updateEditContextFormatting(t){this.editContextFormatting=this.editContextFormatting.map(t.changes);for(let e of t.transactions)for(let n of e.effects)n.is(LS)&&(this.editContextFormatting=n.value)}compositionView(t){let e=new pi(t.text.nodeValue);e.flags|=8;for(let{deco:l}of t.marks)e=new cs(l,[e],e.length);let n=new Ce;return n.append(e,0),n}fixCompositionDOM(t){let e=(o,a)=>{a.flags|=8|(a.children.some(h=>h.flags&7)?1:0),this.markedForComposition.add(a);let c=ee.get(o);c&&c!=a&&(c.dom=null),a.setDOM(o)},n=this.childPos(t.range.fromB,1),l=this.children[n.i];e(t.line,l);for(let o=t.marks.length-1;o>=-1;o--)n=l.childPos(n.off,1),l=l.children[n.i],e(o>=0?t.marks[o].node:t.text,l)}updateSelection(t=!1,e=!1){(t||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let n=this.view.root.activeElement,l=n==this.dom,o=!l&&!(this.view.state.facet(os)||this.dom.tabIndex>-1)&&kc(this.dom,this.view.observer.selectionRange)&&!(n&&this.dom.contains(n));if(!(l||e||o))return;let a=this.forceSelection;this.forceSelection=!1;let c=this.view.state.selection.main,h=this.moveToLine(this.domAtPos(c.anchor)),d=c.empty?h:this.moveToLine(this.domAtPos(c.head));if(ft.gecko&&c.empty&&!this.hasComposition&&gT(h)){let g=document.createTextNode("");this.view.observer.ignore(()=>h.node.insertBefore(g,h.node.childNodes[h.offset]||null)),h=d=new tn(g,0),a=!0}let p=this.view.observer.selectionRange;(a||!p.focusNode||(!na(h.node,h.offset,p.anchorNode,p.anchorOffset)||!na(d.node,d.offset,p.focusNode,p.focusOffset))&&!this.suppressWidgetCursorChange(p,c))&&(this.view.observer.ignore(()=>{ft.android&&ft.chrome&&this.dom.contains(p.focusNode)&&ST(p.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let g=ha(this.view.root);if(g)if(c.empty){if(ft.gecko){let b=bT(h.node,h.offset);if(b&&b!=3){let v=(b==1?uS:cS)(h.node,h.offset);v&&(h=new tn(v.node,v.offset))}}g.collapse(h.node,h.offset),c.bidiLevel!=null&&g.caretBidiLevel!==void 0&&(g.caretBidiLevel=c.bidiLevel)}else if(g.extend){g.collapse(h.node,h.offset);try{g.extend(d.node,d.offset)}catch{}}else{let b=document.createRange();c.anchor>c.head&&([h,d]=[d,h]),b.setEnd(d.node,d.offset),b.setStart(h.node,h.offset),g.removeAllRanges(),g.addRange(b)}o&&this.view.root.activeElement==this.dom&&(this.dom.blur(),n&&n.focus())}),this.view.observer.setSelectionRange(h,d)),this.impreciseAnchor=h.precise?null:new tn(p.anchorNode,p.anchorOffset),this.impreciseHead=d.precise?null:new tn(p.focusNode,p.focusOffset)}suppressWidgetCursorChange(t,e){return this.hasComposition&&e.empty&&na(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)&&this.posFromDOM(t.focusNode,t.focusOffset)==e.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:t}=this,e=t.state.selection.main,n=ha(t.root),{anchorNode:l,anchorOffset:o}=t.observer.selectionRange;if(!n||!e.empty||!e.assoc||!n.modify)return;let a=Ce.find(this,e.head);if(!a)return;let c=a.posAtStart;if(e.head==c||e.head==c+a.length)return;let h=this.coordsAt(e.head,-1),d=this.coordsAt(e.head,1);if(!h||!d||h.bottom>d.top)return;let p=this.domAtPos(e.head+e.assoc);n.collapse(p.node,p.offset),n.modify("move",e.assoc<0?"forward":"backward","lineboundary"),t.observer.readSelectionRange();let g=t.observer.selectionRange;t.docView.posFromDOM(g.anchorNode,g.anchorOffset)!=e.from&&n.collapse(l,o)}moveToLine(t){let e=this.dom,n;if(t.node!=e)return t;for(let l=t.offset;!n&&l<e.childNodes.length;l++){let o=ee.get(e.childNodes[l]);o instanceof Ce&&(n=o.domAtPos(0))}for(let l=t.offset-1;!n&&l>=0;l--){let o=ee.get(e.childNodes[l]);o instanceof Ce&&(n=o.domAtPos(o.length))}return n?new tn(n.node,n.offset,!0):t}nearest(t){for(let e=t;e;){let n=ee.get(e);if(n&&n.rootView==this)return n;e=e.parentNode}return null}posFromDOM(t,e){let n=this.nearest(t);if(!n)throw new RangeError("Trying to find position for a DOM position outside of the document");return n.localPosFromDOM(t,e)+n.posAtStart}domAtPos(t){let{i:e,off:n}=this.childCursor().findPos(t,-1);for(;e<this.children.length-1;){let l=this.children[e];if(n<l.length||l instanceof Ce)break;e++,n=0}return this.children[e].domAtPos(n)}coordsAt(t,e){let n=null,l=0;for(let o=this.length,a=this.children.length-1;a>=0;a--){let c=this.children[a],h=o-c.breakAfter,d=h-c.length;if(h<t)break;if(d<=t&&(d<t||c.covers(-1))&&(h>t||c.covers(1))&&(!n||c instanceof Ce&&!(n instanceof Ce&&e>=0)))n=c,l=d;else if(n&&d==t&&h==t&&c instanceof as&&Math.abs(e)<2){if(c.deco.startSide<0)break;a&&(n=null)}o=d}return n?n.coordsAt(t-l,e):null}coordsForChar(t){let{i:e,off:n}=this.childPos(t,1),l=this.children[e];if(!(l instanceof Ce))return null;for(;l.children.length;){let{i:c,off:h}=l.childPos(n,1);for(;;c++){if(c==l.children.length)return null;if((l=l.children[c]).length)break}n=h}if(!(l instanceof pi))return null;let o=Ke(l.text,n);if(o==n)return null;let a=Dl(l.dom,n,o).getClientRects();for(let c=0;c<a.length;c++){let h=a[c];if(c==a.length-1||h.top<h.bottom&&h.left<h.right)return h}return null}measureVisibleLineHeights(t){let e=[],{from:n,to:l}=t,o=this.view.contentDOM.clientWidth,a=o>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,c=-1,h=this.view.textDirection==oe.LTR;for(let d=0,p=0;p<this.children.length;p++){let g=this.children[p],b=d+g.length;if(b>l)break;if(d>=n){let v=g.dom.getBoundingClientRect();if(e.push(v.height),a){let w=g.dom.lastChild,C=w?Lr(w):[];if(C.length){let k=C[C.length-1],A=h?k.right-v.left:v.right-k.left;A>c&&(c=A,this.minWidth=o,this.minWidthFrom=d,this.minWidthTo=b)}}}d=b+g.breakAfter}return e}textDirectionAt(t){let{i:e}=this.childPos(t,1);return getComputedStyle(this.children[e].dom).direction=="rtl"?oe.RTL:oe.LTR}measureTextSize(){for(let o of this.children)if(o instanceof Ce){let a=o.measureTextSize();if(a)return a}let t=document.createElement("div"),e,n,l;return t.className="cm-line",t.style.width="99999px",t.style.position="absolute",t.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(t);let o=Lr(t.firstChild)[0];e=t.getBoundingClientRect().height,n=o?o.width/27:7,l=o?o.height:e,t.remove()}),{lineHeight:e,charWidth:n,textHeight:l}}childCursor(t=this.length){let e=this.children.length;return e&&(t-=this.children[--e].length),new fS(this.children,t,e)}computeBlockGapDeco(){let t=[],e=this.view.viewState;for(let n=0,l=0;;l++){let o=l==e.viewports.length?null:e.viewports[l],a=o?o.from-1:this.length;if(a>n){let c=(e.lineBlockAt(a).bottom-e.lineBlockAt(n).top)/this.view.scaleY;t.push(xt.replace({widget:new $m(c),block:!0,inclusive:!0,isBlockGap:!0}).range(n,a))}if(!o)break;n=o.to+1}return xt.set(t)}updateDeco(){let t=1,e=this.view.state.facet(da).map(o=>(this.dynamicDecorationMap[t++]=typeof o=="function")?o(this.view):o),n=!1,l=this.view.state.facet(HS).map((o,a)=>{let c=typeof o=="function";return c&&(n=!0),c?o(this.view):o});for(l.length&&(this.dynamicDecorationMap[t++]=n,e.push(jt.join(l))),this.decorations=[this.editContextFormatting,...e,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];t<this.decorations.length;)this.dynamicDecorationMap[t++]=!1;return this.decorations}scrollIntoView(t){if(t.isSnapshot){let d=this.view.viewState.lineBlockAt(t.range.head);this.view.scrollDOM.scrollTop=d.top-t.yMargin,this.view.scrollDOM.scrollLeft=t.xMargin;return}for(let d of this.view.state.facet(BS))try{if(d(this.view,t.range,t))return!0}catch(p){xn(this.view.state,p,"scroll handler")}let{range:e}=t,n=this.coordsAt(e.head,e.empty?e.assoc:e.head>e.anchor?-1:1),l;if(!n)return;!e.empty&&(l=this.coordsAt(e.anchor,e.anchor>e.head?-1:1))&&(n={left:Math.min(n.left,l.left),top:Math.min(n.top,l.top),right:Math.max(n.right,l.right),bottom:Math.max(n.bottom,l.bottom)});let o=Gp(this.view),a={left:n.left-o.left,top:n.top-o.top,right:n.right+o.right,bottom:n.bottom+o.bottom},{offsetWidth:c,offsetHeight:h}=this.view.scrollDOM;KM(this.view.scrollDOM,a,e.head<e.anchor?-1:1,t.x,t.y,Math.max(Math.min(t.xMargin,c),-c),Math.max(Math.min(t.yMargin,h),-h),this.view.textDirection==oe.LTR)}}function gT(i){return i.node.nodeType==1&&i.node.firstChild&&(i.offset==0||i.node.childNodes[i.offset-1].contentEditable=="false")&&(i.offset==i.node.childNodes.length||i.node.childNodes[i.offset].contentEditable=="false")}function US(i,t){let e=i.observer.selectionRange;if(!e.focusNode)return null;let n=uS(e.focusNode,e.focusOffset),l=cS(e.focusNode,e.focusOffset),o=n||l;if(l&&n&&l.node!=n.node){let c=ee.get(l.node);if(!c||c instanceof pi&&c.text!=l.node.nodeValue)o=l;else if(i.docView.lastCompositionAfterCursor){let h=ee.get(n.node);!h||h instanceof pi&&h.text!=n.node.nodeValue||(o=l)}}if(i.docView.lastCompositionAfterCursor=o!=n,!o)return null;let a=t-o.offset;return{from:a,to:a+o.node.nodeValue.length,node:o.node}}function yT(i,t,e){let n=US(i,e);if(!n)return null;let{node:l,from:o,to:a}=n,c=l.nodeValue;if(/[\n\r]/.test(c)||i.state.doc.sliceString(n.from,n.to)!=c)return null;let h=t.invertedDesc,d=new ni(h.mapPos(o),h.mapPos(a),o,a),p=[];for(let g=l.parentNode;;g=g.parentNode){let b=ee.get(g);if(b instanceof cs)p.push({node:g,deco:b.mark});else{if(b instanceof Ce||g.nodeName=="DIV"&&g.parentNode==i.contentDOM)return{range:d,text:l,marks:p,line:g};if(g!=i.contentDOM)p.push({node:g,deco:new Da({inclusive:!0,attributes:sT(g),tagName:g.tagName.toLowerCase()})});else return null}}}function bT(i,t){return i.nodeType!=1?0:(t&&i.childNodes[t-1].contentEditable=="false"?1:0)|(t<i.childNodes.length&&i.childNodes[t].contentEditable=="false"?2:0)}let vT=class{constructor(){this.changes=[]}compareRange(t,e){Ac(t,e,this.changes)}comparePoint(t,e){Ac(t,e,this.changes)}boundChange(t){Ac(t,t,this.changes)}};function xT(i,t,e){let n=new vT;return jt.compare(i,t,e,n),n.changes}function ST(i,t){for(let e=i;e&&e!=t;e=e.assignedSlot||e.parentNode)if(e.nodeType==1&&e.contentEditable=="false")return!0;return!1}function wT(i,t){let e=!1;return t&&i.iterChangedRanges((n,l)=>{n<t.to&&l>t.from&&(e=!0)}),e}function CT(i,t,e=1){let n=i.charCategorizer(t),l=i.doc.lineAt(t),o=t-l.from;if(l.length==0)return Z.cursor(t);o==0?e=1:o==l.length&&(e=-1);let a=o,c=o;e<0?a=Ke(l.text,o,!1):c=Ke(l.text,o);let h=n(l.text.slice(a,c));for(;a>0;){let d=Ke(l.text,a,!1);if(n(l.text.slice(d,a))!=h)break;a=d}for(;c<l.length;){let d=Ke(l.text,c);if(n(l.text.slice(c,d))!=h)break;c=d}return Z.range(a+l.from,c+l.from)}function kT(i,t){return t.left>i?t.left-i:Math.max(0,i-t.right)}function AT(i,t){return t.top>i?t.top-i:Math.max(0,i-t.bottom)}function tm(i,t){return i.top<t.bottom-1&&i.bottom>t.top+1}function _v(i,t){return t<i.top?{top:t,left:i.left,right:i.right,bottom:i.bottom}:i}function Uv(i,t){return t>i.bottom?{top:i.top,left:i.left,right:i.right,bottom:t}:i}function sp(i,t,e){let n,l,o,a,c=!1,h,d,p,g;for(let w=i.firstChild;w;w=w.nextSibling){let C=Lr(w);for(let k=0;k<C.length;k++){let A=C[k];l&&tm(l,A)&&(A=_v(Uv(A,l.bottom),l.top));let N=kT(t,A),j=AT(e,A);if(N==0&&j==0)return w.nodeType==3?qv(w,t,e):sp(w,t,e);(!n||a>j||a==j&&o>N)&&(n=w,l=A,o=N,a=j,c=N?t<A.left?k>0:k<C.length-1:!0),N==0?e>A.bottom&&(!p||p.bottom<A.bottom)?(h=w,p=A):e<A.top&&(!g||g.top>A.top)&&(d=w,g=A):p&&tm(p,A)?p=Uv(p,A.bottom):g&&tm(g,A)&&(g=_v(g,A.top))}}if(p&&p.bottom>=e?(n=h,l=p):g&&g.top<=e&&(n=d,l=g),!n)return{node:i,offset:0};let b=Math.max(l.left,Math.min(l.right,t));if(n.nodeType==3)return qv(n,b,e);if(c&&n.contentEditable!="false")return sp(n,b,e);let v=Array.prototype.indexOf.call(i.childNodes,n)+(t>=(l.left+l.right)/2?1:0);return{node:i,offset:v}}function qv(i,t,e){let n=i.nodeValue.length,l=-1,o=1e9,a=0;for(let c=0;c<n;c++){let h=Dl(i,c,c+1).getClientRects();for(let d=0;d<h.length;d++){let p=h[d];if(p.top==p.bottom)continue;a||(a=t-p.left);let g=(p.top>e?p.top-e:e-p.bottom)-1;if(p.left-1<=t&&p.right+1>=t&&g<o){let b=t>=(p.left+p.right)/2,v=b;if((ft.chrome||ft.gecko)&&Dl(i,c).getBoundingClientRect().left==p.right&&(v=!b),g<=0)return{node:i,offset:c+(v?1:0)};l=c+(v?1:0),o=g}}}return{node:i,offset:l>-1?l:a>0?i.nodeValue.length:0}}function qS(i,t,e,n=-1){var l,o;let a=i.contentDOM.getBoundingClientRect(),c=a.top+i.viewState.paddingTop,h,{docHeight:d}=i.viewState,{x:p,y:g}=t,b=g-c;if(b<0)return 0;if(b>d)return i.state.doc.length;for(let E=i.viewState.heightOracle.textHeight/2,D=!1;h=i.elementAtHeight(b),h.type!=un.Text;)for(;b=n>0?h.bottom+E:h.top-E,!(b>=0&&b<=d);){if(D)return e?null:0;D=!0,n=-n}g=c+b;let v=h.from;if(v<i.viewport.from)return i.viewport.from==0?0:e?null:Vv(i,a,h,p,g);if(v>i.viewport.to)return i.viewport.to==i.state.doc.length?i.state.doc.length:e?null:Vv(i,a,h,p,g);let w=i.dom.ownerDocument,C=i.root.elementFromPoint?i.root:w,k=C.elementFromPoint(p,g);k&&!i.contentDOM.contains(k)&&(k=null),k||(p=Math.max(a.left+1,Math.min(a.right-1,p)),k=C.elementFromPoint(p,g),k&&!i.contentDOM.contains(k)&&(k=null));let A,N=-1;if(k&&((l=i.docView.nearest(k))===null||l===void 0?void 0:l.isEditable)!=!1){if(w.caretPositionFromPoint){let E=w.caretPositionFromPoint(p,g);E&&({offsetNode:A,offset:N}=E)}else if(w.caretRangeFromPoint){let E=w.caretRangeFromPoint(p,g);E&&({startContainer:A,startOffset:N}=E,(!i.contentDOM.contains(A)||ft.safari&&MT(A,N,p)||ft.chrome&&TT(A,N,p))&&(A=void 0))}A&&(N=Math.min(_i(A),N))}if(!A||!i.docView.dom.contains(A)){let E=Ce.find(i.docView,v);if(!E)return b>h.top+h.height/2?h.to:h.from;({node:A,offset:N}=sp(E.dom,p,g))}let j=i.docView.nearest(A);if(!j)return null;if(j.isWidget&&((o=j.dom)===null||o===void 0?void 0:o.nodeType)==1){let E=j.dom.getBoundingClientRect();return t.y<E.top||t.y<=E.bottom&&t.x<=(E.left+E.right)/2?j.posAtStart:j.posAtEnd}else return j.localPosFromDOM(A,N)+j.posAtStart}function Vv(i,t,e,n,l){let o=Math.round((n-t.left)*i.defaultCharacterWidth);if(i.lineWrapping&&e.height>i.defaultLineHeight*1.5){let c=i.viewState.heightOracle.textHeight,h=Math.floor((l-e.top-(i.defaultLineHeight-c)*.5)/c);o+=h*i.viewState.heightOracle.lineLength}let a=i.state.sliceDoc(e.from,e.to);return e.from+Gm(a,o,i.state.tabSize)}function MT(i,t,e){let n,l=i;if(i.nodeType!=3||t!=(n=i.nodeValue.length))return!1;for(;;){let o=l.nextSibling;if(o){if(o.nodeName=="BR")break;return!1}else{let a=l.parentNode;if(!a||a.nodeName=="DIV")break;l=a}}return Dl(i,n-1,n).getBoundingClientRect().right>e}function TT(i,t,e){if(t!=0)return!1;for(let l=i;;){let o=l.parentNode;if(!o||o.nodeType!=1||o.firstChild!=l)return!1;if(o.classList.contains("cm-line"))break;l=o}let n=i.nodeType==1?i.getBoundingClientRect():Dl(i,0,Math.max(i.nodeValue.length,1)).getBoundingClientRect();return e-n.left>5}function lp(i,t,e){let n=i.lineBlockAt(t);if(Array.isArray(n.type)){let l;for(let o of n.type){if(o.from>t)break;if(!(o.to<t)){if(o.from<t&&o.to>t)return o;(!l||o.type==un.Text&&(l.type!=o.type||(e<0?o.from<t:o.to>t)))&&(l=o)}}return l||n}return n}function DT(i,t,e,n){let l=lp(i,t.head,t.assoc||-1),o=!n||l.type!=un.Text||!(i.lineWrapping||l.widgetLineBreaks)?null:i.coordsAtPos(t.assoc<0&&t.head>l.from?t.head-1:t.head);if(o){let a=i.dom.getBoundingClientRect(),c=i.textDirectionAt(l.from),h=i.posAtCoords({x:e==(c==oe.LTR)?a.right-1:a.left+1,y:(o.top+o.bottom)/2});if(h!=null)return Z.cursor(h,e?-1:1)}return Z.cursor(e?l.to:l.from,e?-1:1)}function Pv(i,t,e,n){let l=i.state.doc.lineAt(t.head),o=i.bidiSpans(l),a=i.textDirectionAt(l.from);for(let c=t,h=null;;){let d=dT(l,o,a,c,e),p=kS;if(!d){if(l.number==(e?i.state.doc.lines:1))return c;p=`
`,l=i.state.doc.line(l.number+(e?1:-1)),o=i.bidiSpans(l),d=i.visualLineSide(l,!e)}if(h){if(!h(p))return c}else{if(!n)return d;h=n(p)}c=d}}function OT(i,t,e){let n=i.state.charCategorizer(t),l=n(e);return o=>{let a=n(o);return l==ue.Space&&(l=a),l==a}}function ET(i,t,e,n){let l=t.head,o=e?1:-1;if(l==(e?i.state.doc.length:0))return Z.cursor(l,t.assoc);let a=t.goalColumn,c,h=i.contentDOM.getBoundingClientRect(),d=i.coordsAtPos(l,t.assoc||-1),p=i.documentTop;if(d)a==null&&(a=d.left-h.left),c=o<0?d.top:d.bottom;else{let v=i.viewState.lineBlockAt(l);a==null&&(a=Math.min(h.right-h.left,i.defaultCharacterWidth*(l-v.from))),c=(o<0?v.top:v.bottom)+p}let g=h.left+a,b=n??i.viewState.heightOracle.textHeight>>1;for(let v=0;;v+=10){let w=c+(b+v)*o,C=qS(i,{x:g,y:w},!1,o);if(w<h.top||w>h.bottom||(o<0?C<l:C>l)){let k=i.docView.coordsForChar(C),A=!k||w<k.top?-1:1;return Z.cursor(C,A,void 0,a)}}}function Mc(i,t,e){for(;;){let n=0;for(let l of i)l.between(t-1,t+1,(o,a,c)=>{if(t>o&&t<a){let h=n||e||(t-o<a-t?-1:1);t=h<0?o:a,n=h}});if(!n)return t}}function VS(i,t){let e=null;for(let n=0;n<t.ranges.length;n++){let l=t.ranges[n],o=null;if(l.empty){let a=Mc(i,l.from,0);a!=l.from&&(o=Z.cursor(a,-1))}else{let a=Mc(i,l.from,-1),c=Mc(i,l.to,1);(a!=l.from||c!=l.to)&&(o=Z.range(l.from==l.anchor?a:c,l.from==l.head?a:c))}o&&(e||(e=t.ranges.slice()),e[n]=o)}return e?Z.create(e,t.mainIndex):t}function em(i,t,e){let n=Mc(i.state.facet(Sf).map(l=>l(i)),e.from,t.head>e.from?-1:1);return n==e.from?e:Z.cursor(n,n<e.from?1:-1)}const Zo="";class RT{constructor(t,e){this.points=t,this.text="",this.lineSeparator=e.facet(Lt.lineSeparator)}append(t){this.text+=t}lineBreak(){this.text+=Zo}readRange(t,e){if(!t)return this;let n=t.parentNode;for(let l=t;;){this.findPointBefore(n,l);let o=this.text.length;this.readNode(l);let a=l.nextSibling;if(a==e)break;let c=ee.get(l),h=ee.get(a);(c&&h?c.breakAfter:(c?c.breakAfter:_c(l))||_c(a)&&(l.nodeName!="BR"||l.cmIgnore)&&this.text.length>o)&&this.lineBreak(),l=a}return this.findPointBefore(n,e),this}readTextNode(t){let e=t.nodeValue;for(let n of this.points)n.node==t&&(n.pos=this.text.length+Math.min(n.offset,e.length));for(let n=0,l=this.lineSeparator?null:/\r\n?|\n/g;;){let o=-1,a=1,c;if(this.lineSeparator?(o=e.indexOf(this.lineSeparator,n),a=this.lineSeparator.length):(c=l.exec(e))&&(o=c.index,a=c[0].length),this.append(e.slice(n,o<0?e.length:o)),o<0)break;if(this.lineBreak(),a>1)for(let h of this.points)h.node==t&&h.pos>this.text.length&&(h.pos-=a-1);n=o+a}}readNode(t){if(t.cmIgnore)return;let e=ee.get(t),n=e&&e.overrideDOMText;if(n!=null){this.findPointInside(t,n.length);for(let l=n.iter();!l.next().done;)l.lineBreak?this.lineBreak():this.append(l.value)}else t.nodeType==3?this.readTextNode(t):t.nodeName=="BR"?t.nextSibling&&this.lineBreak():t.nodeType==1&&this.readRange(t.firstChild,null)}findPointBefore(t,e){for(let n of this.points)n.node==t&&t.childNodes[n.offset]==e&&(n.pos=this.text.length)}findPointInside(t,e){for(let n of this.points)(t.nodeType==3?n.node==t:t.contains(n.node))&&(n.pos=this.text.length+(NT(t,n.node,n.offset)?e:0))}}function NT(i,t,e){for(;;){if(!t||e<_i(t))return!1;if(t==i)return!0;e=Tl(t)+1,t=t.parentNode}}class Yv{constructor(t,e){this.node=t,this.offset=e,this.pos=-1}}class BT{constructor(t,e,n,l){this.typeOver=l,this.bounds=null,this.text="",this.domChanged=e>-1;let{impreciseHead:o,impreciseAnchor:a}=t.docView;if(t.state.readOnly&&e>-1)this.newSel=null;else if(e>-1&&(this.bounds=t.docView.domBoundsAround(e,n,0))){let c=o||a?[]:HT(t),h=new RT(c,t.state);h.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=h.text,this.newSel=jT(c,this.bounds.from)}else{let c=t.observer.selectionRange,h=o&&o.node==c.focusNode&&o.offset==c.focusOffset||!Qm(t.contentDOM,c.focusNode)?t.state.selection.main.head:t.docView.posFromDOM(c.focusNode,c.focusOffset),d=a&&a.node==c.anchorNode&&a.offset==c.anchorOffset||!Qm(t.contentDOM,c.anchorNode)?t.state.selection.main.anchor:t.docView.posFromDOM(c.anchorNode,c.anchorOffset),p=t.viewport;if((ft.ios||ft.chrome)&&t.state.selection.main.empty&&h!=d&&(p.from>0||p.to<t.state.doc.length)){let g=Math.min(h,d),b=Math.max(h,d),v=p.from-g,w=p.to-b;(v==0||v==1||g==0)&&(w==0||w==-1||b==t.state.doc.length)&&(h=0,d=t.state.doc.length)}this.newSel=Z.single(d,h)}}}function PS(i,t){let e,{newSel:n}=t,l=i.state.selection.main,o=i.inputState.lastKeyTime>Date.now()-100?i.inputState.lastKeyCode:-1;if(t.bounds){let{from:a,to:c}=t.bounds,h=l.from,d=null;(o===8||ft.android&&t.text.length<c-a)&&(h=l.to,d="end");let p=zT(i.state.doc.sliceString(a,c,Zo),t.text,h-a,d);p&&(ft.chrome&&o==13&&p.toB==p.from+2&&t.text.slice(p.from,p.toB)==Zo+Zo&&p.toB--,e={from:a+p.from,to:a+p.toA,insert:_t.of(t.text.slice(p.from,p.toB).split(Zo))})}else n&&(!i.hasFocus&&i.state.facet(os)||n.main.eq(l))&&(n=null);if(!e&&!n)return!1;if(!e&&t.typeOver&&!l.empty&&n&&n.main.empty?e={from:l.from,to:l.to,insert:i.state.doc.slice(l.from,l.to)}:(ft.mac||ft.android)&&e&&e.from==e.to&&e.from==l.head-1&&/^\. ?$/.test(e.insert.toString())&&i.contentDOM.getAttribute("autocorrect")=="off"?(n&&e.insert.length==2&&(n=Z.single(n.main.anchor-1,n.main.head-1)),e={from:e.from,to:e.to,insert:_t.of([e.insert.toString().replace("."," ")])}):e&&e.from>=l.from&&e.to<=l.to&&(e.from!=l.from||e.to!=l.to)&&l.to-l.from-(e.to-e.from)<=4?e={from:l.from,to:l.to,insert:i.state.doc.slice(l.from,e.from).append(e.insert).append(i.state.doc.slice(e.to,l.to))}:ft.chrome&&e&&e.from==e.to&&e.from==l.head&&e.insert.toString()==`
 `&&i.lineWrapping&&(n&&(n=Z.single(n.main.anchor-1,n.main.head-1)),e={from:l.from,to:l.to,insert:_t.of([" "])}),e)return Xp(i,e,n,o);if(n&&!n.main.eq(l)){let a=!1,c="select";return i.inputState.lastSelectionTime>Date.now()-50&&(i.inputState.lastSelectionOrigin=="select"&&(a=!0),c=i.inputState.lastSelectionOrigin,c=="select.pointer"&&(n=VS(i.state.facet(Sf).map(h=>h(i)),n))),i.dispatch({selection:n,scrollIntoView:a,userEvent:c}),!0}else return!1}function Xp(i,t,e,n=-1){if(ft.ios&&i.inputState.flushIOSKey(t))return!0;let l=i.state.selection.main;if(ft.android&&(t.to==l.to&&(t.from==l.from||t.from==l.from-1&&i.state.sliceDoc(t.from,l.from)==" ")&&t.insert.length==1&&t.insert.lines==2&&Tr(i.contentDOM,"Enter",13)||(t.from==l.from-1&&t.to==l.to&&t.insert.length==0||n==8&&t.insert.length<t.to-t.from&&t.to>l.head)&&Tr(i.contentDOM,"Backspace",8)||t.from==l.from&&t.to==l.to+1&&t.insert.length==0&&Tr(i.contentDOM,"Delete",46)))return!0;let o=t.insert.toString();i.inputState.composing>=0&&i.inputState.composing++;let a,c=()=>a||(a=LT(i,t,e));return i.state.facet(OS).some(h=>h(i,t.from,t.to,o,c))||i.dispatch(c()),!0}function LT(i,t,e){let n,l=i.state,o=l.selection.main;if(t.from>=o.from&&t.to<=o.to&&t.to-t.from>=(o.to-o.from)/3&&(!e||e.main.empty&&e.main.from==t.from+t.insert.length)&&i.inputState.composing<0){let c=o.from<t.from?l.sliceDoc(o.from,t.from):"",h=o.to>t.to?l.sliceDoc(t.to,o.to):"";n=l.replaceSelection(i.state.toText(c+t.insert.sliceString(0,void 0,i.state.lineBreak)+h))}else{let c=l.changes(t),h=e&&e.main.to<=c.newLength?e.main:void 0;if(l.selection.ranges.length>1&&i.inputState.composing>=0&&t.to<=o.to&&t.to>=o.to-10){let d=i.state.sliceDoc(t.from,t.to),p,g=e&&US(i,e.main.head);if(g){let w=t.insert.length-(t.to-t.from);p={from:g.from,to:g.to-w}}else p=i.state.doc.lineAt(o.head);let b=o.to-t.to,v=o.to-o.from;n=l.changeByRange(w=>{if(w.from==o.from&&w.to==o.to)return{changes:c,range:h||w.map(c)};let C=w.to-b,k=C-d.length;if(w.to-w.from!=v||i.state.sliceDoc(k,C)!=d||w.to>=p.from&&w.from<=p.to)return{range:w};let A=l.changes({from:k,to:C,insert:t.insert}),N=w.to-o.to;return{changes:A,range:h?Z.range(Math.max(0,h.anchor+N),Math.max(0,h.head+N)):w.map(A)}})}else n={changes:c,selection:h&&l.selection.replaceRange(h)}}let a="input.type";return(i.composing||i.inputState.compositionPendingChange&&i.inputState.compositionEndedAt>Date.now()-50)&&(i.inputState.compositionPendingChange=!1,a+=".compose",i.inputState.compositionFirstChange&&(a+=".start",i.inputState.compositionFirstChange=!1)),l.update(n,{userEvent:a,scrollIntoView:!0})}function zT(i,t,e,n){let l=Math.min(i.length,t.length),o=0;for(;o<l&&i.charCodeAt(o)==t.charCodeAt(o);)o++;if(o==l&&i.length==t.length)return null;let a=i.length,c=t.length;for(;a>0&&c>0&&i.charCodeAt(a-1)==t.charCodeAt(c-1);)a--,c--;if(n=="end"){let h=Math.max(0,o-Math.min(a,c));e-=a+h-o}if(a<o&&i.length<t.length){let h=e<=o&&e>=a?o-e:0;o-=h,c=o+(c-a),a=o}else if(c<o){let h=e<=o&&e>=c?o-e:0;o-=h,a=o+(a-c),c=o}return{from:o,toA:a,toB:c}}function HT(i){let t=[];if(i.root.activeElement!=i.contentDOM)return t;let{anchorNode:e,anchorOffset:n,focusNode:l,focusOffset:o}=i.observer.selectionRange;return e&&(t.push(new Yv(e,n)),(l!=e||o!=n)&&t.push(new Yv(l,o))),t}function jT(i,t){if(i.length==0)return null;let e=i[0].pos,n=i.length==2?i[1].pos:e;return e>-1&&n>-1?Z.single(e+t,n+t):null}class _T{setSelectionOrigin(t){this.lastSelectionOrigin=t,this.lastSelectionTime=Date.now()}constructor(t){this.view=t,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=t.hasFocus,ft.safari&&t.contentDOM.addEventListener("input",()=>null),ft.gecko&&tD(t.contentDOM.ownerDocument)}handleEvent(t){!IT(this.view,t)||this.ignoreDuringComposition(t)||t.type=="keydown"&&this.keydown(t)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(t.type,t)):this.runHandlers(t.type,t))}runHandlers(t,e){let n=this.handlers[t];if(n){for(let l of n.observers)l(this.view,e);for(let l of n.handlers){if(e.defaultPrevented)break;if(l(this.view,e)){e.preventDefault();break}}}}ensureHandlers(t){let e=UT(t),n=this.handlers,l=this.view.contentDOM;for(let o in e)if(o!="scroll"){let a=!e[o].handlers.length,c=n[o];c&&a!=!c.handlers.length&&(l.removeEventListener(o,this.handleEvent),c=null),c||l.addEventListener(o,this.handleEvent,{passive:a})}for(let o in n)o!="scroll"&&!e[o]&&l.removeEventListener(o,this.handleEvent);this.handlers=e}keydown(t){if(this.lastKeyCode=t.keyCode,this.lastKeyTime=Date.now(),t.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&t.keyCode!=27&&GS.indexOf(t.keyCode)<0&&(this.tabFocusMode=-1),ft.android&&ft.chrome&&!t.synthetic&&(t.keyCode==13||t.keyCode==8))return this.view.observer.delayAndroidKey(t.key,t.keyCode),!0;let e;return ft.ios&&!t.synthetic&&!t.altKey&&!t.metaKey&&((e=YS.find(n=>n.keyCode==t.keyCode))&&!t.ctrlKey||qT.indexOf(t.key)>-1&&t.ctrlKey&&!t.shiftKey)?(this.pendingIOSKey=e||t,setTimeout(()=>this.flushIOSKey(),250),!0):(t.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(t){let e=this.pendingIOSKey;return!e||e.key=="Enter"&&t&&t.from<t.to&&/^\S+$/.test(t.insert.toString())?!1:(this.pendingIOSKey=void 0,Tr(this.view.contentDOM,e.key,e.keyCode,e instanceof KeyboardEvent?e:void 0))}ignoreDuringComposition(t){return/^key/.test(t.type)?this.composing>0?!0:ft.safari&&!ft.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(t){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=t}update(t){this.view.observer.update(t),this.mouseSelection&&this.mouseSelection.update(t),this.draggedContent&&t.docChanged&&(this.draggedContent=this.draggedContent.map(t.changes)),t.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function Gv(i,t){return(e,n)=>{try{return t.call(i,n,e)}catch(l){xn(e.state,l)}}}function UT(i){let t=Object.create(null);function e(n){return t[n]||(t[n]={observers:[],handlers:[]})}for(let n of i){let l=n.spec,o=l&&l.plugin.domEventHandlers,a=l&&l.plugin.domEventObservers;if(o)for(let c in o){let h=o[c];h&&e(c).handlers.push(Gv(n.value,h))}if(a)for(let c in a){let h=a[c];h&&e(c).observers.push(Gv(n.value,h))}}for(let n in gi)e(n).handlers.push(gi[n]);for(let n in si)e(n).observers.push(si[n]);return t}const YS=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],qT="dthko",GS=[16,17,18,20,91,92,224,225],tc=6;function ec(i){return Math.max(0,i)*.7+8}function VT(i,t){return Math.max(Math.abs(i.clientX-t.clientX),Math.abs(i.clientY-t.clientY))}class PT{constructor(t,e,n,l){this.view=t,this.startEvent=e,this.style=n,this.mustSelect=l,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=e,this.scrollParents=WM(t.contentDOM),this.atoms=t.state.facet(Sf).map(a=>a(t));let o=t.contentDOM.ownerDocument;o.addEventListener("mousemove",this.move=this.move.bind(this)),o.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=e.shiftKey,this.multiple=t.state.facet(Lt.allowMultipleSelections)&&YT(t,e),this.dragging=XT(t,e)&&QS(e)==1?null:!1}start(t){this.dragging===!1&&this.select(t)}move(t){if(t.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&VT(this.startEvent,t)<10)return;this.select(this.lastEvent=t);let e=0,n=0,l=0,o=0,a=this.view.win.innerWidth,c=this.view.win.innerHeight;this.scrollParents.x&&({left:l,right:a}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:o,bottom:c}=this.scrollParents.y.getBoundingClientRect());let h=Gp(this.view);t.clientX-h.left<=l+tc?e=-ec(l-t.clientX):t.clientX+h.right>=a-tc&&(e=ec(t.clientX-a)),t.clientY-h.top<=o+tc?n=-ec(o-t.clientY):t.clientY+h.bottom>=c-tc&&(n=ec(t.clientY-c)),this.setScrollSpeed(e,n)}up(t){this.dragging==null&&this.select(this.lastEvent),this.dragging||t.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let t=this.view.contentDOM.ownerDocument;t.removeEventListener("mousemove",this.move),t.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(t,e){this.scrollSpeed={x:t,y:e},t||e?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:t,y:e}=this.scrollSpeed;t&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=t,t=0),e&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=e,e=0),(t||e)&&this.view.win.scrollBy(t,e),this.dragging===!1&&this.select(this.lastEvent)}select(t){let{view:e}=this,n=VS(this.atoms,this.style.get(t,this.extend,this.multiple));(this.mustSelect||!n.eq(e.state.selection,this.dragging===!1))&&this.view.dispatch({selection:n,userEvent:"select.pointer"}),this.mustSelect=!1}update(t){t.transactions.some(e=>e.isUserEvent("input.type"))?this.destroy():this.style.update(t)&&setTimeout(()=>this.select(this.lastEvent),20)}}function YT(i,t){let e=i.state.facet(AS);return e.length?e[0](t):ft.mac?t.metaKey:t.ctrlKey}function GT(i,t){let e=i.state.facet(MS);return e.length?e[0](t):ft.mac?!t.altKey:!t.ctrlKey}function XT(i,t){let{main:e}=i.state.selection;if(e.empty)return!1;let n=ha(i.root);if(!n||n.rangeCount==0)return!0;let l=n.getRangeAt(0).getClientRects();for(let o=0;o<l.length;o++){let a=l[o];if(a.left<=t.clientX&&a.right>=t.clientX&&a.top<=t.clientY&&a.bottom>=t.clientY)return!0}return!1}function IT(i,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let e=t.target,n;e!=i.contentDOM;e=e.parentNode)if(!e||e.nodeType==11||(n=ee.get(e))&&n.ignoreEvent(t))return!1;return!0}const gi=Object.create(null),si=Object.create(null),XS=ft.ie&&ft.ie_version<15||ft.ios&&ft.webkit_version<604;function QT(i){let t=i.dom.parentNode;if(!t)return;let e=t.appendChild(document.createElement("textarea"));e.style.cssText="position: fixed; left: -10000px; top: 10px",e.focus(),setTimeout(()=>{i.focus(),e.remove(),IS(i,e.value)},50)}function wf(i,t,e){for(let n of i.facet(t))e=n(e,i);return e}function IS(i,t){t=wf(i.state,Vp,t);let{state:e}=i,n,l=1,o=e.toText(t),a=o.lines==e.selection.ranges.length;if(rp!=null&&e.selection.ranges.every(h=>h.empty)&&rp==o.toString()){let h=-1;n=e.changeByRange(d=>{let p=e.doc.lineAt(d.from);if(p.from==h)return{range:d};h=p.from;let g=e.toText((a?o.line(l++).text:t)+e.lineBreak);return{changes:{from:p.from,insert:g},range:Z.cursor(d.from+g.length)}})}else a?n=e.changeByRange(h=>{let d=o.line(l++);return{changes:{from:h.from,to:h.to,insert:d.text},range:Z.cursor(h.from+d.length)}}):n=e.replaceSelection(o);i.dispatch(n,{userEvent:"input.paste",scrollIntoView:!0})}si.scroll=i=>{i.inputState.lastScrollTop=i.scrollDOM.scrollTop,i.inputState.lastScrollLeft=i.scrollDOM.scrollLeft};gi.keydown=(i,t)=>(i.inputState.setSelectionOrigin("select"),t.keyCode==27&&i.inputState.tabFocusMode!=0&&(i.inputState.tabFocusMode=Date.now()+2e3),!1);si.touchstart=(i,t)=>{i.inputState.lastTouchTime=Date.now(),i.inputState.setSelectionOrigin("select.pointer")};si.touchmove=i=>{i.inputState.setSelectionOrigin("select.pointer")};gi.mousedown=(i,t)=>{if(i.observer.flush(),i.inputState.lastTouchTime>Date.now()-2e3)return!1;let e=null;for(let n of i.state.facet(TS))if(e=n(i,t),e)break;if(!e&&t.button==0&&(e=FT(i,t)),e){let n=!i.hasFocus;i.inputState.startMouseSelection(new PT(i,t,e,n)),n&&i.observer.ignore(()=>{rS(i.contentDOM);let o=i.root.activeElement;o&&!o.contains(i.contentDOM)&&o.blur()});let l=i.inputState.mouseSelection;if(l)return l.start(t),l.dragging===!1}else i.inputState.setSelectionOrigin("select.pointer");return!1};function Xv(i,t,e,n){if(n==1)return Z.cursor(t,e);if(n==2)return CT(i.state,t,e);{let l=Ce.find(i.docView,t),o=i.state.doc.lineAt(l?l.posAtEnd:t),a=l?l.posAtStart:o.from,c=l?l.posAtEnd:o.to;return c<i.state.doc.length&&c==o.to&&c++,Z.range(a,c)}}let Iv=(i,t,e)=>t>=e.top&&t<=e.bottom&&i>=e.left&&i<=e.right;function KT(i,t,e,n){let l=Ce.find(i.docView,t);if(!l)return 1;let o=t-l.posAtStart;if(o==0)return 1;if(o==l.length)return-1;let a=l.coordsAt(o,-1);if(a&&Iv(e,n,a))return-1;let c=l.coordsAt(o,1);return c&&Iv(e,n,c)?1:a&&a.bottom>=n?-1:1}function Qv(i,t){let e=i.posAtCoords({x:t.clientX,y:t.clientY},!1);return{pos:e,bias:KT(i,e,t.clientX,t.clientY)}}const WT=ft.ie&&ft.ie_version<=11;let Kv=null,Wv=0,Fv=0;function QS(i){if(!WT)return i.detail;let t=Kv,e=Fv;return Kv=i,Fv=Date.now(),Wv=!t||e>Date.now()-400&&Math.abs(t.clientX-i.clientX)<2&&Math.abs(t.clientY-i.clientY)<2?(Wv+1)%3:1}function FT(i,t){let e=Qv(i,t),n=QS(t),l=i.state.selection;return{update(o){o.docChanged&&(e.pos=o.changes.mapPos(e.pos),l=l.map(o.changes))},get(o,a,c){let h=Qv(i,o),d,p=Xv(i,h.pos,h.bias,n);if(e.pos!=h.pos&&!a){let g=Xv(i,e.pos,e.bias,n),b=Math.min(g.from,p.from),v=Math.max(g.to,p.to);p=b<p.from?Z.range(b,v):Z.range(v,b)}return a?l.replaceRange(l.main.extend(p.from,p.to)):c&&n==1&&l.ranges.length>1&&(d=ZT(l,h.pos))?d:c?l.addRange(p):Z.create([p])}}}function ZT(i,t){for(let e=0;e<i.ranges.length;e++){let{from:n,to:l}=i.ranges[e];if(n<=t&&l>=t)return Z.create(i.ranges.slice(0,e).concat(i.ranges.slice(e+1)),i.mainIndex==e?0:i.mainIndex-(i.mainIndex>e?1:0))}return null}gi.dragstart=(i,t)=>{let{selection:{main:e}}=i.state;if(t.target.draggable){let l=i.docView.nearest(t.target);if(l&&l.isWidget){let o=l.posAtStart,a=o+l.length;(o>=e.to||a<=e.from)&&(e=Z.range(o,a))}}let{inputState:n}=i;return n.mouseSelection&&(n.mouseSelection.dragging=!0),n.draggedContent=e,t.dataTransfer&&(t.dataTransfer.setData("Text",wf(i.state,Pp,i.state.sliceDoc(e.from,e.to))),t.dataTransfer.effectAllowed="copyMove"),!1};gi.dragend=i=>(i.inputState.draggedContent=null,!1);function Zv(i,t,e,n){if(e=wf(i.state,Vp,e),!e)return;let l=i.posAtCoords({x:t.clientX,y:t.clientY},!1),{draggedContent:o}=i.inputState,a=n&&o&&GT(i,t)?{from:o.from,to:o.to}:null,c={from:l,insert:e},h=i.state.changes(a?[a,c]:c);i.focus(),i.dispatch({changes:h,selection:{anchor:h.mapPos(l,-1),head:h.mapPos(l,1)},userEvent:a?"move.drop":"input.drop"}),i.inputState.draggedContent=null}gi.drop=(i,t)=>{if(!t.dataTransfer)return!1;if(i.state.readOnly)return!0;let e=t.dataTransfer.files;if(e&&e.length){let n=Array(e.length),l=0,o=()=>{++l==e.length&&Zv(i,t,n.filter(a=>a!=null).join(i.state.lineBreak),!1)};for(let a=0;a<e.length;a++){let c=new FileReader;c.onerror=o,c.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(c.result)||(n[a]=c.result),o()},c.readAsText(e[a])}return!0}else{let n=t.dataTransfer.getData("Text");if(n)return Zv(i,t,n,!0),!0}return!1};gi.paste=(i,t)=>{if(i.state.readOnly)return!0;i.observer.flush();let e=XS?null:t.clipboardData;return e?(IS(i,e.getData("text/plain")||e.getData("text/uri-list")),!0):(QT(i),!1)};function JT(i,t){let e=i.dom.parentNode;if(!e)return;let n=e.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.value=t,n.focus(),n.selectionEnd=t.length,n.selectionStart=0,setTimeout(()=>{n.remove(),i.focus()},50)}function $T(i){let t=[],e=[],n=!1;for(let l of i.selection.ranges)l.empty||(t.push(i.sliceDoc(l.from,l.to)),e.push(l));if(!t.length){let l=-1;for(let{from:o}of i.selection.ranges){let a=i.doc.lineAt(o);a.number>l&&(t.push(a.text),e.push({from:a.from,to:Math.min(i.doc.length,a.to+1)})),l=a.number}n=!0}return{text:wf(i,Pp,t.join(i.lineBreak)),ranges:e,linewise:n}}let rp=null;gi.copy=gi.cut=(i,t)=>{let{text:e,ranges:n,linewise:l}=$T(i.state);if(!e&&!l)return!1;rp=l?e:null,t.type=="cut"&&!i.state.readOnly&&i.dispatch({changes:n,scrollIntoView:!0,userEvent:"delete.cut"});let o=XS?null:t.clipboardData;return o?(o.clearData(),o.setData("text/plain",e),!0):(JT(i,e),!1)};const KS=qi.define();function WS(i,t){let e=[];for(let n of i.facet(ES)){let l=n(i,t);l&&e.push(l)}return e.length?i.update({effects:e,annotations:KS.of(!0)}):null}function FS(i){setTimeout(()=>{let t=i.hasFocus;if(t!=i.inputState.notifiedFocused){let e=WS(i.state,t);e?i.dispatch(e):i.update([])}},10)}si.focus=i=>{i.inputState.lastFocusTime=Date.now(),!i.scrollDOM.scrollTop&&(i.inputState.lastScrollTop||i.inputState.lastScrollLeft)&&(i.scrollDOM.scrollTop=i.inputState.lastScrollTop,i.scrollDOM.scrollLeft=i.inputState.lastScrollLeft),FS(i)};si.blur=i=>{i.observer.clearSelectionRange(),FS(i)};si.compositionstart=si.compositionupdate=i=>{i.observer.editContext||(i.inputState.compositionFirstChange==null&&(i.inputState.compositionFirstChange=!0),i.inputState.composing<0&&(i.inputState.composing=0))};si.compositionend=i=>{i.observer.editContext||(i.inputState.composing=-1,i.inputState.compositionEndedAt=Date.now(),i.inputState.compositionPendingKey=!0,i.inputState.compositionPendingChange=i.observer.pendingRecords().length>0,i.inputState.compositionFirstChange=null,ft.chrome&&ft.android?i.observer.flushSoon():i.inputState.compositionPendingChange?Promise.resolve().then(()=>i.observer.flush()):setTimeout(()=>{i.inputState.composing<0&&i.docView.hasComposition&&i.update([])},50))};si.contextmenu=i=>{i.inputState.lastContextMenu=Date.now()};gi.beforeinput=(i,t)=>{var e,n;if(t.inputType=="insertReplacementText"&&i.observer.editContext){let o=(e=t.dataTransfer)===null||e===void 0?void 0:e.getData("text/plain"),a=t.getTargetRanges();if(o&&a.length){let c=a[0],h=i.posAtDOM(c.startContainer,c.startOffset),d=i.posAtDOM(c.endContainer,c.endOffset);return Xp(i,{from:h,to:d,insert:i.state.toText(o)},null),!0}}let l;if(ft.chrome&&ft.android&&(l=YS.find(o=>o.inputType==t.inputType))&&(i.observer.delayAndroidKey(l.key,l.keyCode),l.key=="Backspace"||l.key=="Delete")){let o=((n=window.visualViewport)===null||n===void 0?void 0:n.height)||0;setTimeout(()=>{var a;(((a=window.visualViewport)===null||a===void 0?void 0:a.height)||0)>o+10&&i.hasFocus&&(i.contentDOM.blur(),i.focus())},100)}return ft.ios&&t.inputType=="deleteContentForward"&&i.observer.flushSoon(),ft.safari&&t.inputType=="insertText"&&i.inputState.composing>=0&&setTimeout(()=>si.compositionend(i,t),20),!1};const Jv=new Set;function tD(i){Jv.has(i)||(Jv.add(i),i.addEventListener("copy",()=>{}),i.addEventListener("cut",()=>{}))}const $v=["pre-wrap","normal","pre-line","break-spaces"];let jr=!1;function t1(){jr=!1}class eD{constructor(t){this.lineWrapping=t,this.doc=_t.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(t,e){let n=this.doc.lineAt(e).number-this.doc.lineAt(t).number+1;return this.lineWrapping&&(n+=Math.max(0,Math.ceil((e-t-n*this.lineLength*.5)/this.lineLength))),this.lineHeight*n}heightForLine(t){return this.lineWrapping?(1+Math.max(0,Math.ceil((t-this.lineLength)/Math.max(1,this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(t){return this.doc=t,this}mustRefreshForWrapping(t){return $v.indexOf(t)>-1!=this.lineWrapping}mustRefreshForHeights(t){let e=!1;for(let n=0;n<t.length;n++){let l=t[n];l<0?n++:this.heightSamples[Math.floor(l*10)]||(e=!0,this.heightSamples[Math.floor(l*10)]=!0)}return e}refresh(t,e,n,l,o,a){let c=$v.indexOf(t)>-1,h=Math.round(e)!=Math.round(this.lineHeight)||this.lineWrapping!=c;if(this.lineWrapping=c,this.lineHeight=e,this.charWidth=n,this.textHeight=l,this.lineLength=o,h){this.heightSamples={};for(let d=0;d<a.length;d++){let p=a[d];p<0?d++:this.heightSamples[Math.floor(p*10)]=!0}}return h}}class nD{constructor(t,e){this.from=t,this.heights=e,this.index=0}get more(){return this.index<this.heights.length}}class Bi{constructor(t,e,n,l,o){this.from=t,this.length=e,this.top=n,this.height=l,this._content=o}get type(){return typeof this._content=="number"?un.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof Fs?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(t){let e=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(t._content)?t._content:[t]);return new Bi(this.from,this.length+t.length,this.top,this.height+t.height,e)}}var re=(function(i){return i[i.ByPos=0]="ByPos",i[i.ByHeight=1]="ByHeight",i[i.ByPosNoHeight=2]="ByPosNoHeight",i})(re||(re={}));const Tc=.001;class cn{constructor(t,e,n=2){this.length=t,this.height=e,this.flags=n}get outdated(){return(this.flags&2)>0}set outdated(t){this.flags=(t?2:0)|this.flags&-3}setHeight(t){this.height!=t&&(Math.abs(this.height-t)>Tc&&(jr=!0),this.height=t)}replace(t,e,n){return cn.of(n)}decomposeLeft(t,e){e.push(this)}decomposeRight(t,e){e.push(this)}applyChanges(t,e,n,l){let o=this,a=n.doc;for(let c=l.length-1;c>=0;c--){let{fromA:h,toA:d,fromB:p,toB:g}=l[c],b=o.lineAt(h,re.ByPosNoHeight,n.setDoc(e),0,0),v=b.to>=d?b:o.lineAt(d,re.ByPosNoHeight,n,0,0);for(g+=v.to-d,d=v.to;c>0&&b.from<=l[c-1].toA;)h=l[c-1].fromA,p=l[c-1].fromB,c--,h<b.from&&(b=o.lineAt(h,re.ByPosNoHeight,n,0,0));p+=b.from-h,h=b.from;let w=Ip.build(n.setDoc(a),t,p,g);o=Vc(o,o.replace(h,d,w))}return o.updateHeight(n,0)}static empty(){return new Hn(0,0)}static of(t){if(t.length==1)return t[0];let e=0,n=t.length,l=0,o=0;for(;;)if(e==n)if(l>o*2){let c=t[e-1];c.break?t.splice(--e,1,c.left,null,c.right):t.splice(--e,1,c.left,c.right),n+=1+c.break,l-=c.size}else if(o>l*2){let c=t[n];c.break?t.splice(n,1,c.left,null,c.right):t.splice(n,1,c.left,c.right),n+=2+c.break,o-=c.size}else break;else if(l<o){let c=t[e++];c&&(l+=c.size)}else{let c=t[--n];c&&(o+=c.size)}let a=0;return t[e-1]==null?(a=1,e--):t[e]==null&&(a=1,n++),new iD(cn.of(t.slice(0,e)),a,cn.of(t.slice(n)))}}function Vc(i,t){return i==t?i:(i.constructor!=t.constructor&&(jr=!0),t)}cn.prototype.size=1;class ZS extends cn{constructor(t,e,n){super(t,e),this.deco=n}blockAt(t,e,n,l){return new Bi(l,this.length,n,this.height,this.deco||0)}lineAt(t,e,n,l,o){return this.blockAt(0,n,l,o)}forEachLine(t,e,n,l,o,a){t<=o+this.length&&e>=o&&a(this.blockAt(0,n,l,o))}updateHeight(t,e=0,n=!1,l){return l&&l.from<=e&&l.more&&this.setHeight(l.heights[l.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Hn extends ZS{constructor(t,e){super(t,e,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(t,e,n,l){return new Bi(l,this.length,n,this.height,this.breaks)}replace(t,e,n){let l=n[0];return n.length==1&&(l instanceof Hn||l instanceof Ie&&l.flags&4)&&Math.abs(this.length-l.length)<10?(l instanceof Ie?l=new Hn(l.length,this.height):l.height=this.height,this.outdated||(l.outdated=!1),l):cn.of(n)}updateHeight(t,e=0,n=!1,l){return l&&l.from<=e&&l.more?this.setHeight(l.heights[l.index++]):(n||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,t.heightForLine(this.length-this.collapsed))+this.breaks*t.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Ie extends cn{constructor(t){super(t,0)}heightMetrics(t,e){let n=t.doc.lineAt(e).number,l=t.doc.lineAt(e+this.length).number,o=l-n+1,a,c=0;if(t.lineWrapping){let h=Math.min(this.height,t.lineHeight*o);a=h/o,this.length>o+1&&(c=(this.height-h)/(this.length-o-1))}else a=this.height/o;return{firstLine:n,lastLine:l,perLine:a,perChar:c}}blockAt(t,e,n,l){let{firstLine:o,lastLine:a,perLine:c,perChar:h}=this.heightMetrics(e,l);if(e.lineWrapping){let d=l+(t<e.lineHeight?0:Math.round(Math.max(0,Math.min(1,(t-n)/this.height))*this.length)),p=e.doc.lineAt(d),g=c+p.length*h,b=Math.max(n,t-g/2);return new Bi(p.from,p.length,b,g,0)}else{let d=Math.max(0,Math.min(a-o,Math.floor((t-n)/c))),{from:p,length:g}=e.doc.line(o+d);return new Bi(p,g,n+c*d,c,0)}}lineAt(t,e,n,l,o){if(e==re.ByHeight)return this.blockAt(t,n,l,o);if(e==re.ByPosNoHeight){let{from:v,to:w}=n.doc.lineAt(t);return new Bi(v,w-v,0,0,0)}let{firstLine:a,perLine:c,perChar:h}=this.heightMetrics(n,o),d=n.doc.lineAt(t),p=c+d.length*h,g=d.number-a,b=l+c*g+h*(d.from-o-g);return new Bi(d.from,d.length,Math.max(l,Math.min(b,l+this.height-p)),p,0)}forEachLine(t,e,n,l,o,a){t=Math.max(t,o),e=Math.min(e,o+this.length);let{firstLine:c,perLine:h,perChar:d}=this.heightMetrics(n,o);for(let p=t,g=l;p<=e;){let b=n.doc.lineAt(p);if(p==t){let w=b.number-c;g+=h*w+d*(t-o-w)}let v=h+d*b.length;a(new Bi(b.from,b.length,g,v,0)),g+=v,p=b.to+1}}replace(t,e,n){let l=this.length-e;if(l>0){let o=n[n.length-1];o instanceof Ie?n[n.length-1]=new Ie(o.length+l):n.push(null,new Ie(l-1))}if(t>0){let o=n[0];o instanceof Ie?n[0]=new Ie(t+o.length):n.unshift(new Ie(t-1),null)}return cn.of(n)}decomposeLeft(t,e){e.push(new Ie(t-1),null)}decomposeRight(t,e){e.push(null,new Ie(this.length-t-1))}updateHeight(t,e=0,n=!1,l){let o=e+this.length;if(l&&l.from<=e+this.length&&l.more){let a=[],c=Math.max(e,l.from),h=-1;for(l.from>e&&a.push(new Ie(l.from-e-1).updateHeight(t,e));c<=o&&l.more;){let p=t.doc.lineAt(c).length;a.length&&a.push(null);let g=l.heights[l.index++];h==-1?h=g:Math.abs(g-h)>=Tc&&(h=-2);let b=new Hn(p,g);b.outdated=!1,a.push(b),c+=p+1}c<=o&&a.push(null,new Ie(o-c).updateHeight(t,c));let d=cn.of(a);return(h<0||Math.abs(d.height-this.height)>=Tc||Math.abs(h-this.heightMetrics(t,e).perLine)>=Tc)&&(jr=!0),Vc(this,d)}else(n||this.outdated)&&(this.setHeight(t.heightForGap(e,e+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class iD extends cn{constructor(t,e,n){super(t.length+e+n.length,t.height+n.height,e|(t.outdated||n.outdated?2:0)),this.left=t,this.right=n,this.size=t.size+n.size}get break(){return this.flags&1}blockAt(t,e,n,l){let o=n+this.left.height;return t<o?this.left.blockAt(t,e,n,l):this.right.blockAt(t,e,o,l+this.left.length+this.break)}lineAt(t,e,n,l,o){let a=l+this.left.height,c=o+this.left.length+this.break,h=e==re.ByHeight?t<a:t<c,d=h?this.left.lineAt(t,e,n,l,o):this.right.lineAt(t,e,n,a,c);if(this.break||(h?d.to<c:d.from>c))return d;let p=e==re.ByPosNoHeight?re.ByPosNoHeight:re.ByPos;return h?d.join(this.right.lineAt(c,p,n,a,c)):this.left.lineAt(c,p,n,l,o).join(d)}forEachLine(t,e,n,l,o,a){let c=l+this.left.height,h=o+this.left.length+this.break;if(this.break)t<h&&this.left.forEachLine(t,e,n,l,o,a),e>=h&&this.right.forEachLine(t,e,n,c,h,a);else{let d=this.lineAt(h,re.ByPos,n,l,o);t<d.from&&this.left.forEachLine(t,d.from-1,n,l,o,a),d.to>=t&&d.from<=e&&a(d),e>d.to&&this.right.forEachLine(d.to+1,e,n,c,h,a)}}replace(t,e,n){let l=this.left.length+this.break;if(e<l)return this.balanced(this.left.replace(t,e,n),this.right);if(t>this.left.length)return this.balanced(this.left,this.right.replace(t-l,e-l,n));let o=[];t>0&&this.decomposeLeft(t,o);let a=o.length;for(let c of n)o.push(c);if(t>0&&e1(o,a-1),e<this.length){let c=o.length;this.decomposeRight(e,o),e1(o,c)}return cn.of(o)}decomposeLeft(t,e){let n=this.left.length;if(t<=n)return this.left.decomposeLeft(t,e);e.push(this.left),this.break&&(n++,t>=n&&e.push(null)),t>n&&this.right.decomposeLeft(t-n,e)}decomposeRight(t,e){let n=this.left.length,l=n+this.break;if(t>=l)return this.right.decomposeRight(t-l,e);t<n&&this.left.decomposeRight(t,e),this.break&&t<l&&e.push(null),e.push(this.right)}balanced(t,e){return t.size>2*e.size||e.size>2*t.size?cn.of(this.break?[t,null,e]:[t,e]):(this.left=Vc(this.left,t),this.right=Vc(this.right,e),this.setHeight(t.height+e.height),this.outdated=t.outdated||e.outdated,this.size=t.size+e.size,this.length=t.length+this.break+e.length,this)}updateHeight(t,e=0,n=!1,l){let{left:o,right:a}=this,c=e+o.length+this.break,h=null;return l&&l.from<=e+o.length&&l.more?h=o=o.updateHeight(t,e,n,l):o.updateHeight(t,e,n),l&&l.from<=c+a.length&&l.more?h=a=a.updateHeight(t,c,n,l):a.updateHeight(t,c,n),h?this.balanced(o,a):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function e1(i,t){let e,n;i[t]==null&&(e=i[t-1])instanceof Ie&&(n=i[t+1])instanceof Ie&&i.splice(t-1,3,new Ie(e.length+1+n.length))}const sD=5;class Ip{constructor(t,e){this.pos=t,this.oracle=e,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=t}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(t,e){if(this.lineStart>-1){let n=Math.min(e,this.lineEnd),l=this.nodes[this.nodes.length-1];l instanceof Hn?l.length+=n-this.pos:(n>this.pos||!this.isCovered)&&this.nodes.push(new Hn(n-this.pos,-1)),this.writtenTo=n,e>n&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=e}point(t,e,n){if(t<e||n.heightRelevant){let l=n.widget?n.widget.estimatedHeight:0,o=n.widget?n.widget.lineBreaks:0;l<0&&(l=this.oracle.lineHeight);let a=e-t;n.block?this.addBlock(new ZS(a,l,n)):(a||o||l>=sD)&&this.addLineDeco(l,o,a)}else e>t&&this.span(t,e);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:t,to:e}=this.oracle.doc.lineAt(this.pos);this.lineStart=t,this.lineEnd=e,this.writtenTo<t&&((this.writtenTo<t-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,t-1)),this.nodes.push(null)),this.pos>t&&this.nodes.push(new Hn(this.pos-t,-1)),this.writtenTo=this.pos}blankContent(t,e){let n=new Ie(e-t);return this.oracle.doc.lineAt(t).to==e&&(n.flags|=4),n}ensureLine(){this.enterLine();let t=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(t instanceof Hn)return t;let e=new Hn(0,-1);return this.nodes.push(e),e}addBlock(t){this.enterLine();let e=t.deco;e&&e.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(t),this.writtenTo=this.pos=this.pos+t.length,e&&e.endSide>0&&(this.covering=t)}addLineDeco(t,e,n){let l=this.ensureLine();l.length+=n,l.collapsed+=n,l.widgetHeight=Math.max(l.widgetHeight,t),l.breaks+=e,this.writtenTo=this.pos=this.pos+n}finish(t){let e=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(e instanceof Hn)&&!this.isCovered?this.nodes.push(new Hn(0,-1)):(this.writtenTo<this.pos||e==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let n=t;for(let l of this.nodes)l instanceof Hn&&l.updateHeight(this.oracle,n),n+=l?l.length:1;return this.nodes}static build(t,e,n,l){let o=new Ip(n,t);return jt.spans(e,n,l,o,0),o.finish(n)}}function lD(i,t,e){let n=new rD;return jt.compare(i,t,e,n,0),n.changes}class rD{constructor(){this.changes=[]}compareRange(){}comparePoint(t,e,n,l){(t<e||n&&n.heightRelevant||l&&l.heightRelevant)&&Ac(t,e,this.changes,5)}}function oD(i,t){let e=i.getBoundingClientRect(),n=i.ownerDocument,l=n.defaultView||window,o=Math.max(0,e.left),a=Math.min(l.innerWidth,e.right),c=Math.max(0,e.top),h=Math.min(l.innerHeight,e.bottom);for(let d=i.parentNode;d&&d!=n.body;)if(d.nodeType==1){let p=d,g=window.getComputedStyle(p);if((p.scrollHeight>p.clientHeight||p.scrollWidth>p.clientWidth)&&g.overflow!="visible"){let b=p.getBoundingClientRect();o=Math.max(o,b.left),a=Math.min(a,b.right),c=Math.max(c,b.top),h=Math.min(d==i.parentNode?l.innerHeight:h,b.bottom)}d=g.position=="absolute"||g.position=="fixed"?p.offsetParent:p.parentNode}else if(d.nodeType==11)d=d.host;else break;return{left:o-e.left,right:Math.max(o,a)-e.left,top:c-(e.top+t),bottom:Math.max(c,h)-(e.top+t)}}function aD(i){let t=i.getBoundingClientRect(),e=i.ownerDocument.defaultView||window;return t.left<e.innerWidth&&t.right>0&&t.top<e.innerHeight&&t.bottom>0}function uD(i,t){let e=i.getBoundingClientRect();return{left:0,right:e.right-e.left,top:t,bottom:e.bottom-(e.top+t)}}class nm{constructor(t,e,n,l){this.from=t,this.to=e,this.size=n,this.displaySize=l}static same(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++){let l=t[n],o=e[n];if(l.from!=o.from||l.to!=o.to||l.size!=o.size)return!1}return!0}draw(t,e){return xt.replace({widget:new cD(this.displaySize*(e?t.scaleY:t.scaleX),e)}).range(this.from,this.to)}}class cD extends hs{constructor(t,e){super(),this.size=t,this.vertical=e}eq(t){return t.size==this.size&&t.vertical==this.vertical}toDOM(){let t=document.createElement("div");return this.vertical?t.style.height=this.size+"px":(t.style.width=this.size+"px",t.style.height="2px",t.style.display="inline-block"),t}get estimatedHeight(){return this.vertical?this.size:-1}}class n1{constructor(t){this.state=t,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=i1,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=oe.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let e=t.facet(Yp).some(n=>typeof n!="function"&&n.class=="cm-lineWrapping");this.heightOracle=new eD(e),this.stateDeco=t.facet(da).filter(n=>typeof n!="function"),this.heightMap=cn.empty().applyChanges(this.stateDeco,_t.empty,this.heightOracle.setDoc(t.doc),[new ni(0,0,0,t.doc.length)]);for(let n=0;n<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());n++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=xt.set(this.lineGaps.map(n=>n.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let t=[this.viewport],{main:e}=this.state.selection;for(let n=0;n<=1;n++){let l=n?e.head:e.anchor;if(!t.some(({from:o,to:a})=>l>=o&&l<=a)){let{from:o,to:a}=this.lineBlockAt(l);t.push(new nc(o,a))}}return this.viewports=t.sort((n,l)=>n.from-l.from),this.updateScaler()}updateScaler(){let t=this.scaler;return this.scaler=this.heightMap.height<=7e6?i1:new Qp(this.heightOracle,this.heightMap,this.viewports),t.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,t=>{this.viewportLines.push(Jo(t,this.scaler))})}update(t,e=null){this.state=t.state;let n=this.stateDeco;this.stateDeco=this.state.facet(da).filter(p=>typeof p!="function");let l=t.changedRanges,o=ni.extendWithRanges(l,lD(n,this.stateDeco,t?t.changes:De.empty(this.state.doc.length))),a=this.heightMap.height,c=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);t1(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,t.startState.doc,this.heightOracle.setDoc(this.state.doc),o),(this.heightMap.height!=a||jr)&&(t.flags|=2),c?(this.scrollAnchorPos=t.changes.mapPos(c.from,-1),this.scrollAnchorHeight=c.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=a);let h=o.length?this.mapViewport(this.viewport,t.changes):this.viewport;(e&&(e.range.head<h.from||e.range.head>h.to)||!this.viewportIsAppropriate(h))&&(h=this.getViewport(0,e));let d=h.from!=this.viewport.from||h.to!=this.viewport.to;this.viewport=h,t.flags|=this.updateForViewport(),(d||!t.changes.empty||t.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,t.changes))),t.flags|=this.computeVisibleRanges(t.changes),e&&(this.scrollTarget=e),!this.mustEnforceCursorAssoc&&t.selectionSet&&t.view.lineWrapping&&t.state.selection.main.empty&&t.state.selection.main.assoc&&!t.state.facet(NS)&&(this.mustEnforceCursorAssoc=!0)}measure(t){let e=t.contentDOM,n=window.getComputedStyle(e),l=this.heightOracle,o=n.whiteSpace;this.defaultTextDirection=n.direction=="rtl"?oe.RTL:oe.LTR;let a=this.heightOracle.mustRefreshForWrapping(o),c=e.getBoundingClientRect(),h=a||this.mustMeasureContent||this.contentDOMHeight!=c.height;this.contentDOMHeight=c.height,this.mustMeasureContent=!1;let d=0,p=0;if(c.width&&c.height){let{scaleX:E,scaleY:D}=lS(e,c);(E>.005&&Math.abs(this.scaleX-E)>.005||D>.005&&Math.abs(this.scaleY-D)>.005)&&(this.scaleX=E,this.scaleY=D,d|=16,a=h=!0)}let g=(parseInt(n.paddingTop)||0)*this.scaleY,b=(parseInt(n.paddingBottom)||0)*this.scaleY;(this.paddingTop!=g||this.paddingBottom!=b)&&(this.paddingTop=g,this.paddingBottom=b,d|=18),this.editorWidth!=t.scrollDOM.clientWidth&&(l.lineWrapping&&(h=!0),this.editorWidth=t.scrollDOM.clientWidth,d|=16);let v=t.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=v&&(this.scrollAnchorHeight=-1,this.scrollTop=v),this.scrolledToBottom=aS(t.scrollDOM);let w=(this.printing?uD:oD)(e,this.paddingTop),C=w.top-this.pixelViewport.top,k=w.bottom-this.pixelViewport.bottom;this.pixelViewport=w;let A=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(A!=this.inView&&(this.inView=A,A&&(h=!0)),!this.inView&&!this.scrollTarget&&!aD(t.dom))return 0;let N=c.width;if((this.contentDOMWidth!=N||this.editorHeight!=t.scrollDOM.clientHeight)&&(this.contentDOMWidth=c.width,this.editorHeight=t.scrollDOM.clientHeight,d|=16),h){let E=t.docView.measureVisibleLineHeights(this.viewport);if(l.mustRefreshForHeights(E)&&(a=!0),a||l.lineWrapping&&Math.abs(N-this.contentDOMWidth)>l.charWidth){let{lineHeight:D,charWidth:z,textHeight:U}=t.docView.measureTextSize();a=D>0&&l.refresh(o,D,z,U,Math.max(5,N/z),E),a&&(t.docView.minWidth=0,d|=16)}C>0&&k>0?p=Math.max(C,k):C<0&&k<0&&(p=Math.min(C,k)),t1();for(let D of this.viewports){let z=D.from==this.viewport.from?E:t.docView.measureVisibleLineHeights(D);this.heightMap=(a?cn.empty().applyChanges(this.stateDeco,_t.empty,this.heightOracle,[new ni(0,0,0,t.state.doc.length)]):this.heightMap).updateHeight(l,0,a,new nD(D.from,z))}jr&&(d|=2)}let j=!this.viewportIsAppropriate(this.viewport,p)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return j&&(d&2&&(d|=this.updateScaler()),this.viewport=this.getViewport(p,this.scrollTarget),d|=this.updateForViewport()),(d&2||j)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(a?[]:this.lineGaps,t)),d|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,t.docView.enforceCursorAssoc()),d}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(t,e){let n=.5-Math.max(-.5,Math.min(.5,t/1e3/2)),l=this.heightMap,o=this.heightOracle,{visibleTop:a,visibleBottom:c}=this,h=new nc(l.lineAt(a-n*1e3,re.ByHeight,o,0,0).from,l.lineAt(c+(1-n)*1e3,re.ByHeight,o,0,0).to);if(e){let{head:d}=e.range;if(d<h.from||d>h.to){let p=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),g=l.lineAt(d,re.ByPos,o,0,0),b;e.y=="center"?b=(g.top+g.bottom)/2-p/2:e.y=="start"||e.y=="nearest"&&d<h.from?b=g.top:b=g.bottom-p,h=new nc(l.lineAt(b-1e3/2,re.ByHeight,o,0,0).from,l.lineAt(b+p+1e3/2,re.ByHeight,o,0,0).to)}}return h}mapViewport(t,e){let n=e.mapPos(t.from,-1),l=e.mapPos(t.to,1);return new nc(this.heightMap.lineAt(n,re.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(l,re.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:t,to:e},n=0){if(!this.inView)return!0;let{top:l}=this.heightMap.lineAt(t,re.ByPos,this.heightOracle,0,0),{bottom:o}=this.heightMap.lineAt(e,re.ByPos,this.heightOracle,0,0),{visibleTop:a,visibleBottom:c}=this;return(t==0||l<=a-Math.max(10,Math.min(-n,250)))&&(e==this.state.doc.length||o>=c+Math.max(10,Math.min(n,250)))&&l>a-2*1e3&&o<c+2*1e3}mapLineGaps(t,e){if(!t.length||e.empty)return t;let n=[];for(let l of t)e.touchesRange(l.from,l.to)||n.push(new nm(e.mapPos(l.from),e.mapPos(l.to),l.size,l.displaySize));return n}ensureLineGaps(t,e){let n=this.heightOracle.lineWrapping,l=n?1e4:2e3,o=l>>1,a=l<<1;if(this.defaultTextDirection!=oe.LTR&&!n)return[];let c=[],h=(p,g,b,v)=>{if(g-p<o)return;let w=this.state.selection.main,C=[w.from];w.empty||C.push(w.to);for(let A of C)if(A>p&&A<g){h(p,A-10,b,v),h(A+10,g,b,v);return}let k=hD(t,A=>A.from>=b.from&&A.to<=b.to&&Math.abs(A.from-p)<o&&Math.abs(A.to-g)<o&&!C.some(N=>A.from<N&&A.to>N));if(!k){if(g<b.to&&e&&n&&e.visibleRanges.some(j=>j.from<=g&&j.to>=g)){let j=e.moveToLineBoundary(Z.cursor(g),!1,!0).head;j>p&&(g=j)}let A=this.gapSize(b,p,g,v),N=n||A<2e6?A:2e6;k=new nm(p,g,A,N)}c.push(k)},d=p=>{if(p.length<a||p.type!=un.Text)return;let g=fD(p.from,p.to,this.stateDeco);if(g.total<a)return;let b=this.scrollTarget?this.scrollTarget.range.head:null,v,w;if(n){let C=l/this.heightOracle.lineLength*this.heightOracle.lineHeight,k,A;if(b!=null){let N=sc(g,b),j=((this.visibleBottom-this.visibleTop)/2+C)/p.height;k=N-j,A=N+j}else k=(this.visibleTop-p.top-C)/p.height,A=(this.visibleBottom-p.top+C)/p.height;v=ic(g,k),w=ic(g,A)}else{let C=g.total*this.heightOracle.charWidth,k=l*this.heightOracle.charWidth,A=0;if(C>2e6)for(let z of t)z.from>=p.from&&z.from<p.to&&z.size!=z.displaySize&&z.from*this.heightOracle.charWidth+A<this.pixelViewport.left&&(A=z.size-z.displaySize);let N=this.pixelViewport.left+A,j=this.pixelViewport.right+A,E,D;if(b!=null){let z=sc(g,b),U=((j-N)/2+k)/C;E=z-U,D=z+U}else E=(N-k)/C,D=(j+k)/C;v=ic(g,E),w=ic(g,D)}v>p.from&&h(p.from,v,p,g),w<p.to&&h(w,p.to,p,g)};for(let p of this.viewportLines)Array.isArray(p.type)?p.type.forEach(d):d(p);return c}gapSize(t,e,n,l){let o=sc(l,n)-sc(l,e);return this.heightOracle.lineWrapping?t.height*o:l.total*this.heightOracle.charWidth*o}updateLineGaps(t){nm.same(t,this.lineGaps)||(this.lineGaps=t,this.lineGapDeco=xt.set(t.map(e=>e.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(t){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let n=[];jt.spans(e,this.viewport.from,this.viewport.to,{span(o,a){n.push({from:o,to:a})},point(){}},20);let l=0;if(n.length!=this.visibleRanges.length)l=12;else for(let o=0;o<n.length&&!(l&8);o++){let a=this.visibleRanges[o],c=n[o];(a.from!=c.from||a.to!=c.to)&&(l|=4,t&&t.mapPos(a.from,-1)==c.from&&t.mapPos(a.to,1)==c.to||(l|=8))}return this.visibleRanges=n,l}lineBlockAt(t){return t>=this.viewport.from&&t<=this.viewport.to&&this.viewportLines.find(e=>e.from<=t&&e.to>=t)||Jo(this.heightMap.lineAt(t,re.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(t){return t>=this.viewportLines[0].top&&t<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(e=>e.top<=t&&e.bottom>=t)||Jo(this.heightMap.lineAt(this.scaler.fromDOM(t),re.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(t){let e=this.lineBlockAtHeight(t+8);return e.from>=this.viewport.from||this.viewportLines[0].top-t>200?e:this.viewportLines[0]}elementAtHeight(t){return Jo(this.heightMap.blockAt(this.scaler.fromDOM(t),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class nc{constructor(t,e){this.from=t,this.to=e}}function fD(i,t,e){let n=[],l=i,o=0;return jt.spans(e,i,t,{span(){},point(a,c){a>l&&(n.push({from:l,to:a}),o+=a-l),l=c}},20),l<t&&(n.push({from:l,to:t}),o+=t-l),{total:o,ranges:n}}function ic({total:i,ranges:t},e){if(e<=0)return t[0].from;if(e>=1)return t[t.length-1].to;let n=Math.floor(i*e);for(let l=0;;l++){let{from:o,to:a}=t[l],c=a-o;if(n<=c)return o+n;n-=c}}function sc(i,t){let e=0;for(let{from:n,to:l}of i.ranges){if(t<=l){e+=t-n;break}e+=l-n}return e/i.total}function hD(i,t){for(let e of i)if(t(e))return e}const i1={toDOM(i){return i},fromDOM(i){return i},scale:1,eq(i){return i==this}};class Qp{constructor(t,e,n){let l=0,o=0,a=0;this.viewports=n.map(({from:c,to:h})=>{let d=e.lineAt(c,re.ByPos,t,0,0).top,p=e.lineAt(h,re.ByPos,t,0,0).bottom;return l+=p-d,{from:c,to:h,top:d,bottom:p,domTop:0,domBottom:0}}),this.scale=(7e6-l)/(e.height-l);for(let c of this.viewports)c.domTop=a+(c.top-o)*this.scale,a=c.domBottom=c.domTop+(c.bottom-c.top),o=c.bottom}toDOM(t){for(let e=0,n=0,l=0;;e++){let o=e<this.viewports.length?this.viewports[e]:null;if(!o||t<o.top)return l+(t-n)*this.scale;if(t<=o.bottom)return o.domTop+(t-o.top);n=o.bottom,l=o.domBottom}}fromDOM(t){for(let e=0,n=0,l=0;;e++){let o=e<this.viewports.length?this.viewports[e]:null;if(!o||t<o.domTop)return n+(t-l)/this.scale;if(t<=o.domBottom)return o.top+(t-o.domTop);n=o.bottom,l=o.domBottom}}eq(t){return t instanceof Qp?this.scale==t.scale&&this.viewports.length==t.viewports.length&&this.viewports.every((e,n)=>e.from==t.viewports[n].from&&e.to==t.viewports[n].to):!1}}function Jo(i,t){if(t.scale==1)return i;let e=t.toDOM(i.top),n=t.toDOM(i.bottom);return new Bi(i.from,i.length,e,n-e,Array.isArray(i._content)?i._content.map(l=>Jo(l,t)):i._content)}const lc=ht.define({combine:i=>i.join(" ")}),op=ht.define({combine:i=>i.indexOf(!0)>-1}),ap=Ks.newName(),JS=Ks.newName(),$S=Ks.newName(),tw={"&light":"."+JS,"&dark":"."+$S};function up(i,t,e){return new Ks(t,{finish(n){return/&/.test(n)?n.replace(/&\w*/,l=>{if(l=="&")return i;if(!e||!e[l])throw new RangeError(`Unsupported selector: ${l}`);return e[l]}):i+" "+n}})}const dD=up("."+ap,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},tw),mD={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},im=ft.ie&&ft.ie_version<=11;class pD{constructor(t){this.view=t,this.active=!1,this.editContext=null,this.selectionRange=new FM,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=t.contentDOM,this.observer=new MutationObserver(e=>{for(let n of e)this.queue.push(n);(ft.ie&&ft.ie_version<=11||ft.ios&&t.composing)&&e.some(n=>n.type=="childList"&&n.removedNodes.length||n.type=="characterData"&&n.oldValue.length>n.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&ft.android&&t.constructor.EDIT_CONTEXT!==!1&&!(ft.chrome&&ft.chrome_version<126)&&(this.editContext=new yD(t),t.state.facet(os)&&(t.contentDOM.editContext=this.editContext.editContext)),im&&(this.onCharData=e=>{this.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var e;((e=this.view.docView)===null||e===void 0?void 0:e.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(t.scrollDOM)),this.addWindowListeners(this.win=t.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(e=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),e.length>0&&e[e.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(e=>{e.length>0&&e[e.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(t){this.view.inputState.runHandlers("scroll",t),this.intersecting&&this.view.measure()}onScroll(t){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(t)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(t){(t.type=="change"||!t.type)&&!t.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(t){if(this.gapIntersection&&(t.length!=this.gaps.length||this.gaps.some((e,n)=>e!=t[n]))){this.gapIntersection.disconnect();for(let e of t)this.gapIntersection.observe(e);this.gaps=t}}onSelectionChange(t){let e=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:n}=this,l=this.selectionRange;if(n.state.facet(os)?n.root.activeElement!=this.dom:!kc(this.dom,l))return;let o=l.anchorNode&&n.docView.nearest(l.anchorNode);if(o&&o.ignoreEvent(t)){e||(this.selectionChanged=!1);return}(ft.ie&&ft.ie_version<=11||ft.android&&ft.chrome)&&!n.state.selection.main.empty&&l.focusNode&&na(l.focusNode,l.focusOffset,l.anchorNode,l.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:t}=this,e=ha(t.root);if(!e)return!1;let n=ft.safari&&t.root.nodeType==11&&t.root.activeElement==this.dom&&gD(this.view,e)||e;if(!n||this.selectionRange.eq(n))return!1;let l=kc(this.dom,n);return l&&!this.selectionChanged&&t.inputState.lastFocusTime>Date.now()-200&&t.inputState.lastTouchTime<Date.now()-300&&JM(this.dom,n)?(this.view.inputState.lastFocusTime=0,t.docView.updateSelection(),!1):(this.selectionRange.setRange(n),l&&(this.selectionChanged=!0),!0)}setSelectionRange(t,e){this.selectionRange.set(t.node,t.offset,e.node,e.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let t=0,e=null;for(let n=this.dom;n;)if(n.nodeType==1)!e&&t<this.scrollTargets.length&&this.scrollTargets[t]==n?t++:e||(e=this.scrollTargets.slice(0,t)),e&&e.push(n),n=n.assignedSlot||n.parentNode;else if(n.nodeType==11)n=n.host;else break;if(t<this.scrollTargets.length&&!e&&(e=this.scrollTargets.slice(0,t)),e){for(let n of this.scrollTargets)n.removeEventListener("scroll",this.onScroll);for(let n of this.scrollTargets=e)n.addEventListener("scroll",this.onScroll)}}ignore(t){if(!this.active)return t();try{return this.stop(),t()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,mD),im&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),im&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(t,e){var n;if(!this.delayedAndroidKey){let l=()=>{let o=this.delayedAndroidKey;o&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=o.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&o.force&&Tr(this.dom,o.key,o.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(l)}(!this.delayedAndroidKey||t=="Enter")&&(this.delayedAndroidKey={key:t,keyCode:e,force:this.lastChange<Date.now()-50||!!(!((n=this.delayedAndroidKey)===null||n===void 0)&&n.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}processRecords(){let t=this.pendingRecords();t.length&&(this.queue=[]);let e=-1,n=-1,l=!1;for(let o of t){let a=this.readMutation(o);a&&(a.typeOver&&(l=!0),e==-1?{from:e,to:n}=a:(e=Math.min(a.from,e),n=Math.max(a.to,n)))}return{from:e,to:n,typeOver:l}}readChange(){let{from:t,to:e,typeOver:n}=this.processRecords(),l=this.selectionChanged&&kc(this.dom,this.selectionRange);if(t<0&&!l)return null;t>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let o=new BT(this.view,t,e,n);return this.view.docView.domChanged={newSel:o.newSel?o.newSel.main:null},o}flush(t=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;t&&this.readSelectionRange();let e=this.readChange();if(!e)return this.view.requestMeasure(),!1;let n=this.view.state,l=PS(this.view,e);return this.view.state==n&&(e.domChanged||e.newSel&&!e.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),l}readMutation(t){let e=this.view.docView.nearest(t.target);if(!e||e.ignoreMutation(t))return null;if(e.markDirty(t.type=="attributes"),t.type=="attributes"&&(e.flags|=4),t.type=="childList"){let n=s1(e,t.previousSibling||t.target.previousSibling,-1),l=s1(e,t.nextSibling||t.target.nextSibling,1);return{from:n?e.posAfter(n):e.posAtStart,to:l?e.posBefore(l):e.posAtEnd,typeOver:!1}}else return t.type=="characterData"?{from:e.posAtStart,to:e.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}:null}setWindow(t){t!=this.win&&(this.removeWindowListeners(this.win),this.win=t,this.addWindowListeners(this.win))}addWindowListeners(t){t.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):t.addEventListener("beforeprint",this.onPrint),t.addEventListener("scroll",this.onScroll),t.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(t){t.removeEventListener("scroll",this.onScroll),t.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):t.removeEventListener("beforeprint",this.onPrint),t.document.removeEventListener("selectionchange",this.onSelectionChange)}update(t){this.editContext&&(this.editContext.update(t),t.startState.facet(os)!=t.state.facet(os)&&(t.view.contentDOM.editContext=t.state.facet(os)?this.editContext.editContext:null))}destroy(){var t,e,n;this.stop(),(t=this.intersection)===null||t===void 0||t.disconnect(),(e=this.gapIntersection)===null||e===void 0||e.disconnect(),(n=this.resizeScroll)===null||n===void 0||n.disconnect();for(let l of this.scrollTargets)l.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function s1(i,t,e){for(;t;){let n=ee.get(t);if(n&&n.parent==i)return n;let l=t.parentNode;t=l!=i.dom?l:e>0?t.nextSibling:t.previousSibling}return null}function l1(i,t){let e=t.startContainer,n=t.startOffset,l=t.endContainer,o=t.endOffset,a=i.docView.domAtPos(i.state.selection.main.anchor);return na(a.node,a.offset,l,o)&&([e,n,l,o]=[l,o,e,n]),{anchorNode:e,anchorOffset:n,focusNode:l,focusOffset:o}}function gD(i,t){if(t.getComposedRanges){let l=t.getComposedRanges(i.root)[0];if(l)return l1(i,l)}let e=null;function n(l){l.preventDefault(),l.stopImmediatePropagation(),e=l.getTargetRanges()[0]}return i.contentDOM.addEventListener("beforeinput",n,!0),i.dom.ownerDocument.execCommand("indent"),i.contentDOM.removeEventListener("beforeinput",n,!0),e?l1(i,e):null}class yD{constructor(t){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(t.state);let e=this.editContext=new window.EditContext({text:t.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,t.state.selection.main.anchor))),selectionEnd:this.toContextPos(t.state.selection.main.head)});this.handlers.textupdate=n=>{let l=t.state.selection.main,{anchor:o,head:a}=l,c=this.toEditorPos(n.updateRangeStart),h=this.toEditorPos(n.updateRangeEnd);t.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:n.updateRangeStart,editorBase:c,drifted:!1});let d={from:c,to:h,insert:_t.of(n.text.split(`
`))};if(d.from==this.from&&o<this.from?d.from=o:d.to==this.to&&o>this.to&&(d.to=o),d.from==d.to&&!d.insert.length){let p=Z.single(this.toEditorPos(n.selectionStart),this.toEditorPos(n.selectionEnd));p.main.eq(l)||t.dispatch({selection:p,userEvent:"select"});return}if((ft.mac||ft.android)&&d.from==a-1&&/^\. ?$/.test(n.text)&&t.contentDOM.getAttribute("autocorrect")=="off"&&(d={from:c,to:h,insert:_t.of([n.text.replace("."," ")])}),this.pendingContextChange=d,!t.state.readOnly){let p=this.to-this.from+(d.to-d.from+d.insert.length);Xp(t,d,Z.single(this.toEditorPos(n.selectionStart,p),this.toEditorPos(n.selectionEnd,p)))}this.pendingContextChange&&(this.revertPending(t.state),this.setSelection(t.state))},this.handlers.characterboundsupdate=n=>{let l=[],o=null;for(let a=this.toEditorPos(n.rangeStart),c=this.toEditorPos(n.rangeEnd);a<c;a++){let h=t.coordsForChar(a);o=h&&new DOMRect(h.left,h.top,h.right-h.left,h.bottom-h.top)||o||new DOMRect,l.push(o)}e.updateCharacterBounds(n.rangeStart,l)},this.handlers.textformatupdate=n=>{let l=[];for(let o of n.getTextFormats()){let a=o.underlineStyle,c=o.underlineThickness;if(a!="None"&&c!="None"){let h=this.toEditorPos(o.rangeStart),d=this.toEditorPos(o.rangeEnd);if(h<d){let p=`text-decoration: underline ${a=="Dashed"?"dashed ":a=="Squiggle"?"wavy ":""}${c=="Thin"?1:2}px`;l.push(xt.mark({attributes:{style:p}}).range(h,d))}}}t.dispatch({effects:LS.of(xt.set(l))})},this.handlers.compositionstart=()=>{t.inputState.composing<0&&(t.inputState.composing=0,t.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(t.inputState.composing=-1,t.inputState.compositionFirstChange=null,this.composing){let{drifted:n}=this.composing;this.composing=null,n&&this.reset(t.state)}};for(let n in this.handlers)e.addEventListener(n,this.handlers[n]);this.measureReq={read:n=>{this.editContext.updateControlBounds(n.contentDOM.getBoundingClientRect());let l=ha(n.root);l&&l.rangeCount&&this.editContext.updateSelectionBounds(l.getRangeAt(0).getBoundingClientRect())}}}applyEdits(t){let e=0,n=!1,l=this.pendingContextChange;return t.changes.iterChanges((o,a,c,h,d)=>{if(n)return;let p=d.length-(a-o);if(l&&a>=l.to)if(l.from==o&&l.to==a&&l.insert.eq(d)){l=this.pendingContextChange=null,e+=p,this.to+=p;return}else l=null,this.revertPending(t.state);if(o+=e,a+=e,a<=this.from)this.from+=p,this.to+=p;else if(o<this.to){if(o<this.from||a>this.to||this.to-this.from+d.length>3e4){n=!0;return}this.editContext.updateText(this.toContextPos(o),this.toContextPos(a),d.toString()),this.to+=p}e+=p}),l&&!n&&this.revertPending(t.state),!n}update(t){let e=this.pendingContextChange,n=t.startState.selection.main;this.composing&&(this.composing.drifted||!t.changes.touchesRange(n.from,n.to)&&t.transactions.some(l=>!l.isUserEvent("input.type")&&l.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=t.changes.mapPos(this.composing.editorBase)):!this.applyEdits(t)||!this.rangeIsValid(t.state)?(this.pendingContextChange=null,this.reset(t.state)):(t.docChanged||t.selectionSet||e)&&this.setSelection(t.state),(t.geometryChanged||t.docChanged||t.selectionSet)&&t.view.requestMeasure(this.measureReq)}resetRange(t){let{head:e}=t.selection.main;this.from=Math.max(0,e-1e4),this.to=Math.min(t.doc.length,e+1e4)}reset(t){this.resetRange(t),this.editContext.updateText(0,this.editContext.text.length,t.doc.sliceString(this.from,this.to)),this.setSelection(t)}revertPending(t){let e=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(e.from),this.toContextPos(e.from+e.insert.length),t.doc.sliceString(e.from,e.to))}setSelection(t){let{main:e}=t.selection,n=this.toContextPos(Math.max(this.from,Math.min(this.to,e.anchor))),l=this.toContextPos(e.head);(this.editContext.selectionStart!=n||this.editContext.selectionEnd!=l)&&this.editContext.updateSelection(n,l)}rangeIsValid(t){let{head:e}=t.selection.main;return!(this.from>0&&e-this.from<500||this.to<t.doc.length&&this.to-e<500||this.to-this.from>1e4*3)}toEditorPos(t,e=this.to-this.from){t=Math.min(t,e);let n=this.composing;return n&&n.drifted?n.editorBase+(t-n.contextBase):t+this.from}toContextPos(t){let e=this.composing;return e&&e.drifted?e.contextBase+(t-e.editorBase):t-this.from}destroy(){for(let t in this.handlers)this.editContext.removeEventListener(t,this.handlers[t])}}class at{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(t={}){var e;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),t.parent&&t.parent.appendChild(this.dom);let{dispatch:n}=t;this.dispatchTransactions=t.dispatchTransactions||n&&(l=>l.forEach(o=>n(o,this)))||(l=>this.update(l)),this.dispatch=this.dispatch.bind(this),this._root=t.root||ZM(t.parent)||document,this.viewState=new n1(t.state||Lt.create(t)),t.scrollTo&&t.scrollTo.is($u)&&(this.viewState.scrollTarget=t.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(wr).map(l=>new $d(l));for(let l of this.plugins)l.update(this);this.observer=new pD(this),this.inputState=new _T(this),this.inputState.ensureHandlers(this.plugins),this.docView=new jv(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((e=document.fonts)===null||e===void 0)&&e.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...t){let e=t.length==1&&t[0]instanceof Ee?t:t.length==1&&Array.isArray(t[0])?t[0]:[this.state.update(...t)];this.dispatchTransactions(e,this)}update(t){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let e=!1,n=!1,l,o=this.state;for(let b of t){if(b.startState!=o)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");o=b.state}if(this.destroyed){this.viewState.state=o;return}let a=this.hasFocus,c=0,h=null;t.some(b=>b.annotation(KS))?(this.inputState.notifiedFocused=a,c=1):a!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=a,h=WS(o,a),h||(c=1));let d=this.observer.delayedAndroidKey,p=null;if(d?(this.observer.clearDelayedAndroidKey(),p=this.observer.readChange(),(p&&!this.state.doc.eq(o.doc)||!this.state.selection.eq(o.selection))&&(p=null)):this.observer.clear(),o.facet(Lt.phrases)!=this.state.facet(Lt.phrases))return this.setState(o);l=qc.create(this,o,t),l.flags|=c;let g=this.viewState.scrollTarget;try{this.updateState=2;for(let b of t){if(g&&(g=g.map(b.changes)),b.scrollIntoView){let{main:v}=b.state.selection;g=new Dr(v.empty?v:Z.cursor(v.head,v.head>v.anchor?-1:1))}for(let v of b.effects)v.is($u)&&(g=v.value.clip(this.state))}this.viewState.update(l,g),this.bidiCache=Pc.update(this.bidiCache,l.changes),l.empty||(this.updatePlugins(l),this.inputState.update(l)),e=this.docView.update(l),this.state.facet(Fo)!=this.styleModules&&this.mountStyles(),n=this.updateAttrs(),this.showAnnouncements(t),this.docView.updateSelection(e,t.some(b=>b.isUserEvent("select.pointer")))}finally{this.updateState=0}if(l.startState.facet(lc)!=l.state.facet(lc)&&(this.viewState.mustMeasureContent=!0),(e||n||g||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),e&&this.docViewUpdate(),!l.empty)for(let b of this.state.facet(ip))try{b(l)}catch(v){xn(this.state,v,"update listener")}(h||p)&&Promise.resolve().then(()=>{h&&this.state==h.startState&&this.dispatch(h),p&&!PS(this,p)&&d.force&&Tr(this.contentDOM,d.key,d.keyCode)})}setState(t){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=t;return}this.updateState=2;let e=this.hasFocus;try{for(let n of this.plugins)n.destroy(this);this.viewState=new n1(t),this.plugins=t.facet(wr).map(n=>new $d(n)),this.pluginMap.clear();for(let n of this.plugins)n.update(this);this.docView.destroy(),this.docView=new jv(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}e&&this.focus(),this.requestMeasure()}updatePlugins(t){let e=t.startState.facet(wr),n=t.state.facet(wr);if(e!=n){let l=[];for(let o of n){let a=e.indexOf(o);if(a<0)l.push(new $d(o));else{let c=this.plugins[a];c.mustUpdate=t,l.push(c)}}for(let o of this.plugins)o.mustUpdate!=t&&o.destroy(this);this.plugins=l,this.pluginMap.clear()}else for(let l of this.plugins)l.mustUpdate=t;for(let l=0;l<this.plugins.length;l++)this.plugins[l].update(this);e!=n&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let t of this.plugins){let e=t.value;if(e&&e.docViewUpdate)try{e.docViewUpdate(this)}catch(n){xn(this.state,n,"doc view update listener")}}}measure(t=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,t&&this.observer.forceFlush();let e=null,n=this.scrollDOM,l=n.scrollTop*this.scaleY,{scrollAnchorPos:o,scrollAnchorHeight:a}=this.viewState;Math.abs(l-this.viewState.scrollTop)>1&&(a=-1),this.viewState.scrollAnchorHeight=-1;try{for(let c=0;;c++){if(a<0)if(aS(n))o=-1,a=this.viewState.heightMap.height;else{let v=this.viewState.scrollAnchorAt(l);o=v.from,a=v.top}this.updateState=1;let h=this.viewState.measure(this);if(!h&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(c>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let d=[];h&4||([this.measureRequests,d]=[d,this.measureRequests]);let p=d.map(v=>{try{return v.read(this)}catch(w){return xn(this.state,w),r1}}),g=qc.create(this,this.state,[]),b=!1;g.flags|=h,e?e.flags|=h:e=g,this.updateState=2,g.empty||(this.updatePlugins(g),this.inputState.update(g),this.updateAttrs(),b=this.docView.update(g),b&&this.docViewUpdate());for(let v=0;v<d.length;v++)if(p[v]!=r1)try{let w=d[v];w.write&&w.write(p[v],this)}catch(w){xn(this.state,w)}if(b&&this.docView.updateSelection(!0),!g.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,a=-1;continue}else{let w=(o<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(o).top)-a;if(w>1||w<-1){l=l+w,n.scrollTop=l/this.scaleY,a=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(e&&!e.empty)for(let c of this.state.facet(ip))c(e)}get themeClasses(){return ap+" "+(this.state.facet(op)?$S:JS)+" "+this.state.facet(lc)}updateAttrs(){let t=o1(this,zS,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),e={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(os)?"true":"false",class:"cm-content",style:`${ft.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(e["aria-readonly"]="true"),o1(this,Yp,e);let n=this.observer.ignore(()=>{let l=Jm(this.contentDOM,this.contentAttrs,e),o=Jm(this.dom,this.editorAttrs,t);return l||o});return this.editorAttrs=t,this.contentAttrs=e,n}showAnnouncements(t){let e=!0;for(let n of t)for(let l of n.effects)if(l.is(at.announce)){e&&(this.announceDOM.textContent=""),e=!1;let o=this.announceDOM.appendChild(document.createElement("div"));o.textContent=l.value}}mountStyles(){this.styleModules=this.state.facet(Fo);let t=this.state.facet(at.cspNonce);Ks.mount(this.root,this.styleModules.concat(dD).reverse(),t?{nonce:t}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(t){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),t){if(this.measureRequests.indexOf(t)>-1)return;if(t.key!=null){for(let e=0;e<this.measureRequests.length;e++)if(this.measureRequests[e].key===t.key){this.measureRequests[e]=t;return}}this.measureRequests.push(t)}}plugin(t){let e=this.pluginMap.get(t);return(e===void 0||e&&e.plugin!=t)&&this.pluginMap.set(t,e=this.plugins.find(n=>n.plugin==t)||null),e&&e.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(t){return this.readMeasured(),this.viewState.elementAtHeight(t)}lineBlockAtHeight(t){return this.readMeasured(),this.viewState.lineBlockAtHeight(t)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(t){return this.viewState.lineBlockAt(t)}get contentHeight(){return this.viewState.contentHeight}moveByChar(t,e,n){return em(this,t,Pv(this,t,e,n))}moveByGroup(t,e){return em(this,t,Pv(this,t,e,n=>OT(this,t.head,n)))}visualLineSide(t,e){let n=this.bidiSpans(t),l=this.textDirectionAt(t.from),o=n[e?n.length-1:0];return Z.cursor(o.side(e,l)+t.from,o.forward(!e,l)?1:-1)}moveToLineBoundary(t,e,n=!0){return DT(this,t,e,n)}moveVertically(t,e,n){return em(this,t,ET(this,t,e,n))}domAtPos(t){return this.docView.domAtPos(t)}posAtDOM(t,e=0){return this.docView.posFromDOM(t,e)}posAtCoords(t,e=!0){return this.readMeasured(),qS(this,t,e)}coordsAtPos(t,e=1){this.readMeasured();let n=this.docView.coordsAt(t,e);if(!n||n.left==n.right)return n;let l=this.state.doc.lineAt(t),o=this.bidiSpans(l),a=o[Xs.find(o,t-l.from,-1,e)];return Ta(n,a.dir==oe.LTR==e>0)}coordsForChar(t){return this.readMeasured(),this.docView.coordsForChar(t)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(t){return!this.state.facet(RS)||t<this.viewport.from||t>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(t))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(t){if(t.length>bD)return CS(t.length);let e=this.textDirectionAt(t.from),n;for(let o of this.bidiCache)if(o.from==t.from&&o.dir==e&&(o.fresh||wS(o.isolates,n=Hv(this,t))))return o.order;n||(n=Hv(this,t));let l=hT(t.text,e,n);return this.bidiCache.push(new Pc(t.from,t.to,e,n,!0,l)),l}get hasFocus(){var t;return(this.dom.ownerDocument.hasFocus()||ft.safari&&((t=this.inputState)===null||t===void 0?void 0:t.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{rS(this.contentDOM),this.docView.updateSelection()})}setRoot(t){this._root!=t&&(this._root=t,this.observer.setWindow((t.nodeType==9?t:t.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let t of this.plugins)t.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(t,e={}){return $u.of(new Dr(typeof t=="number"?Z.cursor(t):t,e.y,e.x,e.yMargin,e.xMargin))}scrollSnapshot(){let{scrollTop:t,scrollLeft:e}=this.scrollDOM,n=this.viewState.scrollAnchorAt(t);return $u.of(new Dr(Z.cursor(n.from),"start","start",n.top-t,e,!0))}setTabFocusMode(t){t==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof t=="boolean"?this.inputState.tabFocusMode=t?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+t)}static domEventHandlers(t){return ve.define(()=>({}),{eventHandlers:t})}static domEventObservers(t){return ve.define(()=>({}),{eventObservers:t})}static theme(t,e){let n=Ks.newName(),l=[lc.of(n),Fo.of(up(`.${n}`,t))];return e&&e.dark&&l.push(op.of(!0)),l}static baseTheme(t){return Rl.lowest(Fo.of(up("."+ap,t,tw)))}static findFromDOM(t){var e;let n=t.querySelector(".cm-content"),l=n&&ee.get(n)||ee.get(t);return((e=l?.rootView)===null||e===void 0?void 0:e.view)||null}}at.styleModule=Fo;at.inputHandler=OS;at.clipboardInputFilter=Vp;at.clipboardOutputFilter=Pp;at.scrollHandler=BS;at.focusChangeEffect=ES;at.perLineTextDirection=RS;at.exceptionSink=DS;at.updateListener=ip;at.editable=os;at.mouseSelectionStyle=TS;at.dragMovesSelection=MS;at.clickAddsSelectionRange=AS;at.decorations=da;at.outerDecorations=HS;at.atomicRanges=Sf;at.bidiIsolatedRanges=jS;at.scrollMargins=_S;at.darkTheme=op;at.cspNonce=ht.define({combine:i=>i.length?i[0]:""});at.contentAttributes=Yp;at.editorAttributes=zS;at.lineWrapping=at.contentAttributes.of({class:"cm-lineWrapping"});at.announce=kt.define();const bD=4096,r1={};class Pc{constructor(t,e,n,l,o,a){this.from=t,this.to=e,this.dir=n,this.isolates=l,this.fresh=o,this.order=a}static update(t,e){if(e.empty&&!t.some(o=>o.fresh))return t;let n=[],l=t.length?t[t.length-1].dir:oe.LTR;for(let o=Math.max(0,t.length-10);o<t.length;o++){let a=t[o];a.dir==l&&!e.touchesRange(a.from,a.to)&&n.push(new Pc(e.mapPos(a.from,1),e.mapPos(a.to,-1),a.dir,a.isolates,!1,a.order))}return n}}function o1(i,t,e){for(let n=i.state.facet(t),l=n.length-1;l>=0;l--){let o=n[l],a=typeof o=="function"?o(i):o;a&&Zm(a,e)}return e}const vD=ft.mac?"mac":ft.windows?"win":ft.linux?"linux":"key";function xD(i,t){const e=i.split(/-(?!$)/);let n=e[e.length-1];n=="Space"&&(n=" ");let l,o,a,c;for(let h=0;h<e.length-1;++h){const d=e[h];if(/^(cmd|meta|m)$/i.test(d))c=!0;else if(/^a(lt)?$/i.test(d))l=!0;else if(/^(c|ctrl|control)$/i.test(d))o=!0;else if(/^s(hift)?$/i.test(d))a=!0;else if(/^mod$/i.test(d))t=="mac"?c=!0:o=!0;else throw new Error("Unrecognized modifier name: "+d)}return l&&(n="Alt-"+n),o&&(n="Ctrl-"+n),c&&(n="Meta-"+n),a&&(n="Shift-"+n),n}function rc(i,t,e){return t.altKey&&(i="Alt-"+i),t.ctrlKey&&(i="Ctrl-"+i),t.metaKey&&(i="Meta-"+i),e!==!1&&t.shiftKey&&(i="Shift-"+i),i}const SD=Rl.default(at.domEventHandlers({keydown(i,t){return nw(ew(t.state),i,t,"editor")}})),Cf=ht.define({enables:SD}),a1=new WeakMap;function ew(i){let t=i.facet(Cf),e=a1.get(t);return e||a1.set(t,e=kD(t.reduce((n,l)=>n.concat(l),[]))),e}function wD(i,t,e){return nw(ew(i.state),t,i,e)}let Ps=null;const CD=4e3;function kD(i,t=vD){let e=Object.create(null),n=Object.create(null),l=(a,c)=>{let h=n[a];if(h==null)n[a]=c;else if(h!=c)throw new Error("Key binding "+a+" is used both as a regular binding and as a multi-stroke prefix")},o=(a,c,h,d,p)=>{var g,b;let v=e[a]||(e[a]=Object.create(null)),w=c.split(/ (?!$)/).map(A=>xD(A,t));for(let A=1;A<w.length;A++){let N=w.slice(0,A).join(" ");l(N,!0),v[N]||(v[N]={preventDefault:!0,stopPropagation:!1,run:[j=>{let E=Ps={view:j,prefix:N,scope:a};return setTimeout(()=>{Ps==E&&(Ps=null)},CD),!0}]})}let C=w.join(" ");l(C,!1);let k=v[C]||(v[C]={preventDefault:!1,stopPropagation:!1,run:((b=(g=v._any)===null||g===void 0?void 0:g.run)===null||b===void 0?void 0:b.slice())||[]});h&&k.run.push(h),d&&(k.preventDefault=!0),p&&(k.stopPropagation=!0)};for(let a of i){let c=a.scope?a.scope.split(" "):["editor"];if(a.any)for(let d of c){let p=e[d]||(e[d]=Object.create(null));p._any||(p._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:g}=a;for(let b in p)p[b].run.push(v=>g(v,cp))}let h=a[t]||a.key;if(h)for(let d of c)o(d,h,a.run,a.preventDefault,a.stopPropagation),a.shift&&o(d,"Shift-"+h,a.shift,a.preventDefault,a.stopPropagation)}return e}let cp=null;function nw(i,t,e,n){cp=t;let l=IM(t),o=yn(l,0),a=Ni(o)==l.length&&l!=" ",c="",h=!1,d=!1,p=!1;Ps&&Ps.view==e&&Ps.scope==n&&(c=Ps.prefix+" ",GS.indexOf(t.keyCode)<0&&(d=!0,Ps=null));let g=new Set,b=k=>{if(k){for(let A of k.run)if(!g.has(A)&&(g.add(A),A(e)))return k.stopPropagation&&(p=!0),!0;k.preventDefault&&(k.stopPropagation&&(p=!0),d=!0)}return!1},v=i[n],w,C;return v&&(b(v[c+rc(l,t,!a)])?h=!0:a&&(t.altKey||t.metaKey||t.ctrlKey)&&!(ft.windows&&t.ctrlKey&&t.altKey)&&!(ft.mac&&t.altKey&&!(t.ctrlKey||t.metaKey))&&(w=Ws[t.keyCode])&&w!=l?(b(v[c+rc(w,t,!0)])||t.shiftKey&&(C=fa[t.keyCode])!=l&&C!=w&&b(v[c+rc(C,t,!1)]))&&(h=!0):a&&t.shiftKey&&b(v[c+rc(l,t,!0)])&&(h=!0),!h&&b(v._any)&&(h=!0)),d&&(h=!0),h&&p&&t.stopPropagation(),cp=null,h}class Ea{constructor(t,e,n,l,o){this.className=t,this.left=e,this.top=n,this.width=l,this.height=o}draw(){let t=document.createElement("div");return t.className=this.className,this.adjust(t),t}update(t,e){return e.className!=this.className?!1:(this.adjust(t),!0)}adjust(t){t.style.left=this.left+"px",t.style.top=this.top+"px",this.width!=null&&(t.style.width=this.width+"px"),t.style.height=this.height+"px"}eq(t){return this.left==t.left&&this.top==t.top&&this.width==t.width&&this.height==t.height&&this.className==t.className}static forRange(t,e,n){if(n.empty){let l=t.coordsAtPos(n.head,n.assoc||1);if(!l)return[];let o=iw(t);return[new Ea(e,l.left-o.left,l.top-o.top,null,l.bottom-l.top)]}else return AD(t,e,n)}}function iw(i){let t=i.scrollDOM.getBoundingClientRect();return{left:(i.textDirection==oe.LTR?t.left:t.right-i.scrollDOM.clientWidth*i.scaleX)-i.scrollDOM.scrollLeft*i.scaleX,top:t.top-i.scrollDOM.scrollTop*i.scaleY}}function u1(i,t,e,n){let l=i.coordsAtPos(t,e*2);if(!l)return n;let o=i.dom.getBoundingClientRect(),a=(l.top+l.bottom)/2,c=i.posAtCoords({x:o.left+1,y:a}),h=i.posAtCoords({x:o.right-1,y:a});return c==null||h==null?n:{from:Math.max(n.from,Math.min(c,h)),to:Math.min(n.to,Math.max(c,h))}}function AD(i,t,e){if(e.to<=i.viewport.from||e.from>=i.viewport.to)return[];let n=Math.max(e.from,i.viewport.from),l=Math.min(e.to,i.viewport.to),o=i.textDirection==oe.LTR,a=i.contentDOM,c=a.getBoundingClientRect(),h=iw(i),d=a.querySelector(".cm-line"),p=d&&window.getComputedStyle(d),g=c.left+(p?parseInt(p.paddingLeft)+Math.min(0,parseInt(p.textIndent)):0),b=c.right-(p?parseInt(p.paddingRight):0),v=lp(i,n,1),w=lp(i,l,-1),C=v.type==un.Text?v:null,k=w.type==un.Text?w:null;if(C&&(i.lineWrapping||v.widgetLineBreaks)&&(C=u1(i,n,1,C)),k&&(i.lineWrapping||w.widgetLineBreaks)&&(k=u1(i,l,-1,k)),C&&k&&C.from==k.from&&C.to==k.to)return N(j(e.from,e.to,C));{let D=C?j(e.from,null,C):E(v,!1),z=k?j(null,e.to,k):E(w,!0),U=[];return(C||v).to<(k||w).from-(C&&k?1:0)||v.widgetLineBreaks>1&&D.bottom+i.defaultLineHeight/2<z.top?U.push(A(g,D.bottom,b,z.top)):D.bottom<z.top&&i.elementAtHeight((D.bottom+z.top)/2).type==un.Text&&(D.bottom=z.top=(D.bottom+z.top)/2),N(D).concat(U).concat(N(z))}function A(D,z,U,K){return new Ea(t,D-h.left,z-h.top,U-D,K-z)}function N({top:D,bottom:z,horizontal:U}){let K=[];for(let tt=0;tt<U.length;tt+=2)K.push(A(U[tt],D,U[tt+1],z));return K}function j(D,z,U){let K=1e9,tt=-1e9,ct=[];function it(pt,gt,B,I,st){let ot=i.coordsAtPos(pt,pt==U.to?-2:2),M=i.coordsAtPos(B,B==U.from?2:-2);!ot||!M||(K=Math.min(ot.top,M.top,K),tt=Math.max(ot.bottom,M.bottom,tt),st==oe.LTR?ct.push(o&&gt?g:ot.left,o&&I?b:M.right):ct.push(!o&&I?g:M.left,!o&&gt?b:ot.right))}let et=D??U.from,ut=z??U.to;for(let pt of i.visibleRanges)if(pt.to>et&&pt.from<ut)for(let gt=Math.max(pt.from,et),B=Math.min(pt.to,ut);;){let I=i.state.doc.lineAt(gt);for(let st of i.bidiSpans(I)){let ot=st.from+I.from,M=st.to+I.from;if(ot>=B)break;M>gt&&it(Math.max(ot,gt),D==null&&ot<=et,Math.min(M,B),z==null&&M>=ut,st.dir)}if(gt=I.to+1,gt>=B)break}return ct.length==0&&it(et,D==null,ut,z==null,i.textDirection),{top:K,bottom:tt,horizontal:ct}}function E(D,z){let U=c.top+(z?D.top:D.bottom);return{top:U,bottom:U,horizontal:[]}}}function MD(i,t){return i.constructor==t.constructor&&i.eq(t)}class TD{constructor(t,e){this.view=t,this.layer=e,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=t.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),e.above&&this.dom.classList.add("cm-layer-above"),e.class&&this.dom.classList.add(e.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(t.state),t.requestMeasure(this.measureReq),e.mount&&e.mount(this.dom,t)}update(t){t.startState.facet(Dc)!=t.state.facet(Dc)&&this.setOrder(t.state),(this.layer.update(t,this.dom)||t.geometryChanged)&&(this.scale(),t.view.requestMeasure(this.measureReq))}docViewUpdate(t){this.layer.updateOnDocViewUpdate!==!1&&t.requestMeasure(this.measureReq)}setOrder(t){let e=0,n=t.facet(Dc);for(;e<n.length&&n[e]!=this.layer;)e++;this.dom.style.zIndex=String((this.layer.above?150:-1)-e)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:t,scaleY:e}=this.view;(t!=this.scaleX||e!=this.scaleY)&&(this.scaleX=t,this.scaleY=e,this.dom.style.transform=`scale(${1/t}, ${1/e})`)}draw(t){if(t.length!=this.drawn.length||t.some((e,n)=>!MD(e,this.drawn[n]))){let e=this.dom.firstChild,n=0;for(let l of t)l.update&&e&&l.constructor&&this.drawn[n].constructor&&l.update(e,this.drawn[n])?(e=e.nextSibling,n++):this.dom.insertBefore(l.draw(),e);for(;e;){let l=e.nextSibling;e.remove(),e=l}this.drawn=t}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const Dc=ht.define();function sw(i){return[ve.define(t=>new TD(t,i)),Dc.of(i)]}const ma=ht.define({combine(i){return Vi(i,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(t,e)=>Math.min(t,e),drawRangeCursor:(t,e)=>t||e})}});function DD(i={}){return[ma.of(i),OD,ED,RD,NS.of(!0)]}function lw(i){return i.startState.facet(ma)!=i.state.facet(ma)}const OD=sw({above:!0,markers(i){let{state:t}=i,e=t.facet(ma),n=[];for(let l of t.selection.ranges){let o=l==t.selection.main;if(l.empty||e.drawRangeCursor){let a=o?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",c=l.empty?l:Z.cursor(l.head,l.head>l.anchor?-1:1);for(let h of Ea.forRange(i,a,c))n.push(h)}}return n},update(i,t){i.transactions.some(n=>n.selection)&&(t.style.animationName=t.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let e=lw(i);return e&&c1(i.state,t),i.docChanged||i.selectionSet||e},mount(i,t){c1(t.state,i)},class:"cm-cursorLayer"});function c1(i,t){t.style.animationDuration=i.facet(ma).cursorBlinkRate+"ms"}const ED=sw({above:!1,markers(i){return i.state.selection.ranges.map(t=>t.empty?[]:Ea.forRange(i,"cm-selectionBackground",t)).reduce((t,e)=>t.concat(e))},update(i,t){return i.docChanged||i.selectionSet||i.viewportChanged||lw(i)},class:"cm-selectionLayer"}),RD=Rl.highest(at.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),rw=kt.define({map(i,t){return i==null?null:t.mapPos(i)}}),$o=We.define({create(){return null},update(i,t){return i!=null&&(i=t.changes.mapPos(i)),t.effects.reduce((e,n)=>n.is(rw)?n.value:e,i)}}),ND=ve.fromClass(class{constructor(i){this.view=i,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(i){var t;let e=i.state.field($o);e==null?this.cursor!=null&&((t=this.cursor)===null||t===void 0||t.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(i.startState.field($o)!=e||i.docChanged||i.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:i}=this,t=i.state.field($o),e=t!=null&&i.coordsAtPos(t);if(!e)return null;let n=i.scrollDOM.getBoundingClientRect();return{left:e.left-n.left+i.scrollDOM.scrollLeft*i.scaleX,top:e.top-n.top+i.scrollDOM.scrollTop*i.scaleY,height:e.bottom-e.top}}drawCursor(i){if(this.cursor){let{scaleX:t,scaleY:e}=this.view;i?(this.cursor.style.left=i.left/t+"px",this.cursor.style.top=i.top/e+"px",this.cursor.style.height=i.height/e+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(i){this.view.state.field($o)!=i&&this.view.dispatch({effects:rw.of(i)})}},{eventObservers:{dragover(i){this.setDropPos(this.view.posAtCoords({x:i.clientX,y:i.clientY}))},dragleave(i){(i.target==this.view.contentDOM||!this.view.contentDOM.contains(i.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function BD(){return[$o,ND]}function f1(i,t,e,n,l){t.lastIndex=0;for(let o=i.iterRange(e,n),a=e,c;!o.next().done;a+=o.value.length)if(!o.lineBreak)for(;c=t.exec(o.value);)l(a+c.index,c)}function LD(i,t){let e=i.visibleRanges;if(e.length==1&&e[0].from==i.viewport.from&&e[0].to==i.viewport.to)return e;let n=[];for(let{from:l,to:o}of e)l=Math.max(i.state.doc.lineAt(l).from,l-t),o=Math.min(i.state.doc.lineAt(o).to,o+t),n.length&&n[n.length-1].to>=l?n[n.length-1].to=o:n.push({from:l,to:o});return n}class zD{constructor(t){const{regexp:e,decoration:n,decorate:l,boundary:o,maxLength:a=1e3}=t;if(!e.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=e,l)this.addMatch=(c,h,d,p)=>l(p,d,d+c[0].length,c,h);else if(typeof n=="function")this.addMatch=(c,h,d,p)=>{let g=n(c,h,d);g&&p(d,d+c[0].length,g)};else if(n)this.addMatch=(c,h,d,p)=>p(d,d+c[0].length,n);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=o,this.maxLength=a}createDeco(t){let e=new us,n=e.add.bind(e);for(let{from:l,to:o}of LD(t,this.maxLength))f1(t.state.doc,this.regexp,l,o,(a,c)=>this.addMatch(c,t,a,n));return e.finish()}updateDeco(t,e){let n=1e9,l=-1;return t.docChanged&&t.changes.iterChanges((o,a,c,h)=>{h>=t.view.viewport.from&&c<=t.view.viewport.to&&(n=Math.min(c,n),l=Math.max(h,l))}),t.viewportMoved||l-n>1e3?this.createDeco(t.view):l>-1?this.updateRange(t.view,e.map(t.changes),n,l):e}updateRange(t,e,n,l){for(let o of t.visibleRanges){let a=Math.max(o.from,n),c=Math.min(o.to,l);if(c>=a){let h=t.state.doc.lineAt(a),d=h.to<c?t.state.doc.lineAt(c):h,p=Math.max(o.from,h.from),g=Math.min(o.to,d.to);if(this.boundary){for(;a>h.from;a--)if(this.boundary.test(h.text[a-1-h.from])){p=a;break}for(;c<d.to;c++)if(this.boundary.test(d.text[c-d.from])){g=c;break}}let b=[],v,w=(C,k,A)=>b.push(A.range(C,k));if(h==d)for(this.regexp.lastIndex=p-h.from;(v=this.regexp.exec(h.text))&&v.index<g-h.from;)this.addMatch(v,t,v.index+h.from,w);else f1(t.state.doc,this.regexp,p,g,(C,k)=>this.addMatch(k,t,C,w));e=e.update({filterFrom:p,filterTo:g,filter:(C,k)=>C<p||k>g,add:b})}}return e}}const fp=/x/.unicode!=null?"gu":"g",HD=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,fp),jD={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let sm=null;function _D(){var i;if(sm==null&&typeof document<"u"&&document.body){let t=document.body.style;sm=((i=t.tabSize)!==null&&i!==void 0?i:t.MozTabSize)!=null}return sm||!1}const Oc=ht.define({combine(i){let t=Vi(i,{render:null,specialChars:HD,addSpecialChars:null});return(t.replaceTabs=!_D())&&(t.specialChars=new RegExp("	|"+t.specialChars.source,fp)),t.addSpecialChars&&(t.specialChars=new RegExp(t.specialChars.source+"|"+t.addSpecialChars.source,fp)),t}});function UD(i={}){return[Oc.of(i),qD()]}let h1=null;function qD(){return h1||(h1=ve.fromClass(class{constructor(i){this.view=i,this.decorations=xt.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(i.state.facet(Oc)),this.decorations=this.decorator.createDeco(i)}makeDecorator(i){return new zD({regexp:i.specialChars,decoration:(t,e,n)=>{let{doc:l}=e.state,o=yn(t[0],0);if(o==9){let a=l.lineAt(n),c=e.state.tabSize,h=Vr(a.text,c,n-a.from);return xt.replace({widget:new GD((c-h%c)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[o]||(this.decorationCache[o]=xt.replace({widget:new YD(i,o)}))},boundary:i.replaceTabs?void 0:/[^]/})}update(i){let t=i.state.facet(Oc);i.startState.facet(Oc)!=t?(this.decorator=this.makeDecorator(t),this.decorations=this.decorator.createDeco(i.view)):this.decorations=this.decorator.updateDeco(i,this.decorations)}},{decorations:i=>i.decorations}))}const VD="";function PD(i){return i>=32?VD:i==10?"":String.fromCharCode(9216+i)}class YD extends hs{constructor(t,e){super(),this.options=t,this.code=e}eq(t){return t.code==this.code}toDOM(t){let e=PD(this.code),n=t.state.phrase("Control character")+" "+(jD[this.code]||"0x"+this.code.toString(16)),l=this.options.render&&this.options.render(this.code,n,e);if(l)return l;let o=document.createElement("span");return o.textContent=e,o.title=n,o.setAttribute("aria-label",n),o.className="cm-specialChar",o}ignoreEvent(){return!1}}class GD extends hs{constructor(t){super(),this.width=t}eq(t){return t.width==this.width}toDOM(){let t=document.createElement("span");return t.textContent="	",t.className="cm-tab",t.style.width=this.width+"px",t}ignoreEvent(){return!1}}function XD(){return QD}const ID=xt.line({class:"cm-activeLine"}),QD=ve.fromClass(class{constructor(i){this.decorations=this.getDeco(i)}update(i){(i.docChanged||i.selectionSet)&&(this.decorations=this.getDeco(i.view))}getDeco(i){let t=-1,e=[];for(let n of i.state.selection.ranges){let l=i.lineBlockAt(n.head);l.from>t&&(e.push(ID.range(l.from)),t=l.from)}return xt.set(e)}},{decorations:i=>i.decorations});class KD extends hs{constructor(t){super(),this.content=t}toDOM(t){let e=document.createElement("span");return e.className="cm-placeholder",e.style.pointerEvents="none",e.appendChild(typeof this.content=="string"?document.createTextNode(this.content):typeof this.content=="function"?this.content(t):this.content.cloneNode(!0)),e.setAttribute("aria-hidden","true"),e}coordsAt(t){let e=t.firstChild?Lr(t.firstChild):[];if(!e.length)return null;let n=window.getComputedStyle(t.parentNode),l=Ta(e[0],n.direction!="rtl"),o=parseInt(n.lineHeight);return l.bottom-l.top>o*1.5?{left:l.left,right:l.right,top:l.top,bottom:l.top+o}:l}ignoreEvent(){return!1}}function WD(i){let t=ve.fromClass(class{constructor(e){this.view=e,this.placeholder=i?xt.set([xt.widget({widget:new KD(i),side:1}).range(0)]):xt.none}get decorations(){return this.view.state.doc.length?xt.none:this.placeholder}},{decorations:e=>e.decorations});return typeof i=="string"?[t,at.contentAttributes.of({"aria-placeholder":i})]:t}const hp=2e3;function FD(i,t,e){let n=Math.min(t.line,e.line),l=Math.max(t.line,e.line),o=[];if(t.off>hp||e.off>hp||t.col<0||e.col<0){let a=Math.min(t.off,e.off),c=Math.max(t.off,e.off);for(let h=n;h<=l;h++){let d=i.doc.line(h);d.length<=c&&o.push(Z.range(d.from+a,d.to+c))}}else{let a=Math.min(t.col,e.col),c=Math.max(t.col,e.col);for(let h=n;h<=l;h++){let d=i.doc.line(h),p=Gm(d.text,a,i.tabSize,!0);if(p<0)o.push(Z.cursor(d.to));else{let g=Gm(d.text,c,i.tabSize);o.push(Z.range(d.from+p,d.from+g))}}}return o}function ZD(i,t){let e=i.coordsAtPos(i.viewport.from);return e?Math.round(Math.abs((e.left-t)/i.defaultCharacterWidth)):-1}function d1(i,t){let e=i.posAtCoords({x:t.clientX,y:t.clientY},!1),n=i.state.doc.lineAt(e),l=e-n.from,o=l>hp?-1:l==n.length?ZD(i,t.clientX):Vr(n.text,i.state.tabSize,e-n.from);return{line:n.number,col:o,off:l}}function JD(i,t){let e=d1(i,t),n=i.state.selection;return e?{update(l){if(l.docChanged){let o=l.changes.mapPos(l.startState.doc.line(e.line).from),a=l.state.doc.lineAt(o);e={line:a.number,col:e.col,off:Math.min(e.off,a.length)},n=n.map(l.changes)}},get(l,o,a){let c=d1(i,l);if(!c)return n;let h=FD(i.state,e,c);return h.length?a?Z.create(h.concat(n.ranges)):Z.create(h):n}}:null}function $D(i){let t=(e=>e.altKey&&e.button==0);return at.mouseSelectionStyle.of((e,n)=>t(n)?JD(e,n):null)}const tO={Alt:[18,i=>!!i.altKey],Control:[17,i=>!!i.ctrlKey],Shift:[16,i=>!!i.shiftKey],Meta:[91,i=>!!i.metaKey]},eO={style:"cursor: crosshair"};function nO(i={}){let[t,e]=tO[i.key||"Alt"],n=ve.fromClass(class{constructor(l){this.view=l,this.isDown=!1}set(l){this.isDown!=l&&(this.isDown=l,this.view.update([]))}},{eventObservers:{keydown(l){this.set(l.keyCode==t||e(l))},keyup(l){(l.keyCode==t||!e(l))&&this.set(!1)},mousemove(l){this.set(e(l))}}});return[n,at.contentAttributes.of(l=>{var o;return!((o=l.plugin(n))===null||o===void 0)&&o.isDown?eO:null})]}const Io="-10000px";class ow{constructor(t,e,n,l){this.facet=e,this.createTooltipView=n,this.removeTooltipView=l,this.input=t.state.facet(e),this.tooltips=this.input.filter(a=>a);let o=null;this.tooltipViews=this.tooltips.map(a=>o=n(a,o))}update(t,e){var n;let l=t.state.facet(this.facet),o=l.filter(h=>h);if(l===this.input){for(let h of this.tooltipViews)h.update&&h.update(t);return!1}let a=[],c=e?[]:null;for(let h=0;h<o.length;h++){let d=o[h],p=-1;if(d){for(let g=0;g<this.tooltips.length;g++){let b=this.tooltips[g];b&&b.create==d.create&&(p=g)}if(p<0)a[h]=this.createTooltipView(d,h?a[h-1]:null),c&&(c[h]=!!d.above);else{let g=a[h]=this.tooltipViews[p];c&&(c[h]=e[p]),g.update&&g.update(t)}}}for(let h of this.tooltipViews)a.indexOf(h)<0&&(this.removeTooltipView(h),(n=h.destroy)===null||n===void 0||n.call(h));return e&&(c.forEach((h,d)=>e[d]=h),e.length=c.length),this.input=l,this.tooltips=o,this.tooltipViews=a,!0}}function iO(i){let t=i.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:t.clientHeight,right:t.clientWidth}}const lm=ht.define({combine:i=>{var t,e,n;return{position:ft.ios?"absolute":((t=i.find(l=>l.position))===null||t===void 0?void 0:t.position)||"fixed",parent:((e=i.find(l=>l.parent))===null||e===void 0?void 0:e.parent)||null,tooltipSpace:((n=i.find(l=>l.tooltipSpace))===null||n===void 0?void 0:n.tooltipSpace)||iO}}}),m1=new WeakMap,Kp=ve.fromClass(class{constructor(i){this.view=i,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let t=i.state.facet(lm);this.position=t.position,this.parent=t.parent,this.classes=i.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new ow(i,Wp,(e,n)=>this.createTooltip(e,n),e=>{this.resizeObserver&&this.resizeObserver.unobserve(e.dom),e.dom.remove()}),this.above=this.manager.tooltips.map(e=>!!e.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(e=>{Date.now()>this.lastTransaction-50&&e.length>0&&e[e.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),i.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let i of this.manager.tooltipViews)this.intersectionObserver.observe(i.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(i){i.transactions.length&&(this.lastTransaction=Date.now());let t=this.manager.update(i,this.above);t&&this.observeIntersection();let e=t||i.geometryChanged,n=i.state.facet(lm);if(n.position!=this.position&&!this.madeAbsolute){this.position=n.position;for(let l of this.manager.tooltipViews)l.dom.style.position=this.position;e=!0}if(n.parent!=this.parent){this.parent&&this.container.remove(),this.parent=n.parent,this.createContainer();for(let l of this.manager.tooltipViews)this.container.appendChild(l.dom);e=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);e&&this.maybeMeasure()}createTooltip(i,t){let e=i.create(this.view),n=t?t.dom:null;if(e.dom.classList.add("cm-tooltip"),i.arrow&&!e.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let l=document.createElement("div");l.className="cm-tooltip-arrow",e.dom.appendChild(l)}return e.dom.style.position=this.position,e.dom.style.top=Io,e.dom.style.left="0px",this.container.insertBefore(e.dom,n),e.mount&&e.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(e.dom),e}destroy(){var i,t,e;this.view.win.removeEventListener("resize",this.measureSoon);for(let n of this.manager.tooltipViews)n.dom.remove(),(i=n.destroy)===null||i===void 0||i.call(n);this.parent&&this.container.remove(),(t=this.resizeObserver)===null||t===void 0||t.disconnect(),(e=this.intersectionObserver)===null||e===void 0||e.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let i=1,t=1,e=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:o}=this.manager.tooltipViews[0];if(ft.gecko)e=o.offsetParent!=this.container.ownerDocument.body;else if(o.style.top==Io&&o.style.left=="0px"){let a=o.getBoundingClientRect();e=Math.abs(a.top+1e4)>1||Math.abs(a.left)>1}}if(e||this.position=="absolute")if(this.parent){let o=this.parent.getBoundingClientRect();o.width&&o.height&&(i=o.width/this.parent.offsetWidth,t=o.height/this.parent.offsetHeight)}else({scaleX:i,scaleY:t}=this.view.viewState);let n=this.view.scrollDOM.getBoundingClientRect(),l=Gp(this.view);return{visible:{left:n.left+l.left,top:n.top+l.top,right:n.right-l.right,bottom:n.bottom-l.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((o,a)=>{let c=this.manager.tooltipViews[a];return c.getCoords?c.getCoords(o.pos):this.view.coordsAtPos(o.pos)}),size:this.manager.tooltipViews.map(({dom:o})=>o.getBoundingClientRect()),space:this.view.state.facet(lm).tooltipSpace(this.view),scaleX:i,scaleY:t,makeAbsolute:e}}writeMeasure(i){var t;if(i.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let c of this.manager.tooltipViews)c.dom.style.position="absolute"}let{visible:e,space:n,scaleX:l,scaleY:o}=i,a=[];for(let c=0;c<this.manager.tooltips.length;c++){let h=this.manager.tooltips[c],d=this.manager.tooltipViews[c],{dom:p}=d,g=i.pos[c],b=i.size[c];if(!g||h.clip!==!1&&(g.bottom<=Math.max(e.top,n.top)||g.top>=Math.min(e.bottom,n.bottom)||g.right<Math.max(e.left,n.left)-.1||g.left>Math.min(e.right,n.right)+.1)){p.style.top=Io;continue}let v=h.arrow?d.dom.querySelector(".cm-tooltip-arrow"):null,w=v?7:0,C=b.right-b.left,k=(t=m1.get(d))!==null&&t!==void 0?t:b.bottom-b.top,A=d.offset||lO,N=this.view.textDirection==oe.LTR,j=b.width>n.right-n.left?N?n.left:n.right-b.width:N?Math.max(n.left,Math.min(g.left-(v?14:0)+A.x,n.right-C)):Math.min(Math.max(n.left,g.left-C+(v?14:0)-A.x),n.right-C),E=this.above[c];!h.strictSide&&(E?g.top-k-w-A.y<n.top:g.bottom+k+w+A.y>n.bottom)&&E==n.bottom-g.bottom>g.top-n.top&&(E=this.above[c]=!E);let D=(E?g.top-n.top:n.bottom-g.bottom)-w;if(D<k&&d.resize!==!1){if(D<this.view.defaultLineHeight){p.style.top=Io;continue}m1.set(d,k),p.style.height=(k=D)/o+"px"}else p.style.height&&(p.style.height="");let z=E?g.top-k-w-A.y:g.bottom+w+A.y,U=j+C;if(d.overlap!==!0)for(let K of a)K.left<U&&K.right>j&&K.top<z+k&&K.bottom>z&&(z=E?K.top-k-2-w:K.bottom+w+2);if(this.position=="absolute"?(p.style.top=(z-i.parent.top)/o+"px",p1(p,(j-i.parent.left)/l)):(p.style.top=z/o+"px",p1(p,j/l)),v){let K=g.left+(N?A.x:-A.x)-(j+14-7);v.style.left=K/l+"px"}d.overlap!==!0&&a.push({left:j,top:z,right:U,bottom:z+k}),p.classList.toggle("cm-tooltip-above",E),p.classList.toggle("cm-tooltip-below",!E),d.positioned&&d.positioned(i.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let i of this.manager.tooltipViews)i.dom.style.top=Io}},{eventObservers:{scroll(){this.maybeMeasure()}}});function p1(i,t){let e=parseInt(i.style.left,10);(isNaN(e)||Math.abs(t-e)>1)&&(i.style.left=t+"px")}const sO=at.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),lO={x:0,y:0},Wp=ht.define({enables:[Kp,sO]}),Yc=ht.define({combine:i=>i.reduce((t,e)=>t.concat(e),[])});class kf{static create(t){return new kf(t)}constructor(t){this.view=t,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new ow(t,Yc,(e,n)=>this.createHostedView(e,n),e=>e.dom.remove())}createHostedView(t,e){let n=t.create(this.view);return n.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(n.dom,e?e.dom.nextSibling:this.dom.firstChild),this.mounted&&n.mount&&n.mount(this.view),n}mount(t){for(let e of this.manager.tooltipViews)e.mount&&e.mount(t);this.mounted=!0}positioned(t){for(let e of this.manager.tooltipViews)e.positioned&&e.positioned(t)}update(t){this.manager.update(t)}destroy(){var t;for(let e of this.manager.tooltipViews)(t=e.destroy)===null||t===void 0||t.call(e)}passProp(t){let e;for(let n of this.manager.tooltipViews){let l=n[t];if(l!==void 0){if(e===void 0)e=l;else if(e!==l)return}}return e}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const rO=Wp.compute([Yc],i=>{let t=i.facet(Yc);return t.length===0?null:{pos:Math.min(...t.map(e=>e.pos)),end:Math.max(...t.map(e=>{var n;return(n=e.end)!==null&&n!==void 0?n:e.pos})),create:kf.create,above:t[0].above,arrow:t.some(e=>e.arrow)}});class oO{constructor(t,e,n,l,o){this.view=t,this.source=e,this.field=n,this.setHover=l,this.hoverTime=o,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:t.dom,time:0},this.checkHover=this.checkHover.bind(this),t.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),t.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let t=Date.now()-this.lastMove.time;t<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-t):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:t,lastMove:e}=this,n=t.docView.nearest(e.target);if(!n)return;let l,o=1;if(n instanceof Gs)l=n.posAtStart;else{if(l=t.posAtCoords(e),l==null)return;let c=t.coordsAtPos(l);if(!c||e.y<c.top||e.y>c.bottom||e.x<c.left-t.defaultCharacterWidth||e.x>c.right+t.defaultCharacterWidth)return;let h=t.bidiSpans(t.state.doc.lineAt(l)).find(p=>p.from<=l&&p.to>=l),d=h&&h.dir==oe.RTL?-1:1;o=e.x<c.left?-d:d}let a=this.source(t,l,o);if(a?.then){let c=this.pending={pos:l};a.then(h=>{this.pending==c&&(this.pending=null,h&&!(Array.isArray(h)&&!h.length)&&t.dispatch({effects:this.setHover.of(Array.isArray(h)?h:[h])}))},h=>xn(t.state,h,"hover tooltip"))}else a&&!(Array.isArray(a)&&!a.length)&&t.dispatch({effects:this.setHover.of(Array.isArray(a)?a:[a])})}get tooltip(){let t=this.view.plugin(Kp),e=t?t.manager.tooltips.findIndex(n=>n.create==kf.create):-1;return e>-1?t.manager.tooltipViews[e]:null}mousemove(t){var e,n;this.lastMove={x:t.clientX,y:t.clientY,target:t.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:l,tooltip:o}=this;if(l.length&&o&&!aO(o.dom,t)||this.pending){let{pos:a}=l[0]||this.pending,c=(n=(e=l[0])===null||e===void 0?void 0:e.end)!==null&&n!==void 0?n:a;(a==c?this.view.posAtCoords(this.lastMove)!=a:!uO(this.view,a,c,t.clientX,t.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(t){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:e}=this;if(e.length){let{tooltip:n}=this;n&&n.dom.contains(t.relatedTarget)?this.watchTooltipLeave(n.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(t){let e=n=>{t.removeEventListener("mouseleave",e),this.active.length&&!this.view.dom.contains(n.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};t.addEventListener("mouseleave",e)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const oc=4;function aO(i,t){let{left:e,right:n,top:l,bottom:o}=i.getBoundingClientRect(),a;if(a=i.querySelector(".cm-tooltip-arrow")){let c=a.getBoundingClientRect();l=Math.min(c.top,l),o=Math.max(c.bottom,o)}return t.clientX>=e-oc&&t.clientX<=n+oc&&t.clientY>=l-oc&&t.clientY<=o+oc}function uO(i,t,e,n,l,o){let a=i.scrollDOM.getBoundingClientRect(),c=i.documentTop+i.documentPadding.top+i.contentHeight;if(a.left>n||a.right<n||a.top>l||Math.min(a.bottom,c)<l)return!1;let h=i.posAtCoords({x:n,y:l},!1);return h>=t&&h<=e}function cO(i,t={}){let e=kt.define(),n=We.define({create(){return[]},update(l,o){if(l.length&&(t.hideOnChange&&(o.docChanged||o.selection)?l=[]:t.hideOn&&(l=l.filter(a=>!t.hideOn(o,a))),o.docChanged)){let a=[];for(let c of l){let h=o.changes.mapPos(c.pos,-1,an.TrackDel);if(h!=null){let d=Object.assign(Object.create(null),c);d.pos=h,d.end!=null&&(d.end=o.changes.mapPos(d.end)),a.push(d)}}l=a}for(let a of o.effects)a.is(e)&&(l=a.value),a.is(fO)&&(l=[]);return l},provide:l=>Yc.from(l)});return{active:n,extension:[n,ve.define(l=>new oO(l,i,n,e,t.hoverTime||300)),rO]}}function aw(i,t){let e=i.plugin(Kp);if(!e)return null;let n=e.manager.tooltips.indexOf(t);return n<0?null:e.manager.tooltipViews[n]}const fO=kt.define(),g1=ht.define({combine(i){let t,e;for(let n of i)t=t||n.topContainer,e=e||n.bottomContainer;return{topContainer:t,bottomContainer:e}}});function pa(i,t){let e=i.plugin(uw),n=e?e.specs.indexOf(t):-1;return n>-1?e.panels[n]:null}const uw=ve.fromClass(class{constructor(i){this.input=i.state.facet(ga),this.specs=this.input.filter(e=>e),this.panels=this.specs.map(e=>e(i));let t=i.state.facet(g1);this.top=new ac(i,!0,t.topContainer),this.bottom=new ac(i,!1,t.bottomContainer),this.top.sync(this.panels.filter(e=>e.top)),this.bottom.sync(this.panels.filter(e=>!e.top));for(let e of this.panels)e.dom.classList.add("cm-panel"),e.mount&&e.mount()}update(i){let t=i.state.facet(g1);this.top.container!=t.topContainer&&(this.top.sync([]),this.top=new ac(i.view,!0,t.topContainer)),this.bottom.container!=t.bottomContainer&&(this.bottom.sync([]),this.bottom=new ac(i.view,!1,t.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let e=i.state.facet(ga);if(e!=this.input){let n=e.filter(h=>h),l=[],o=[],a=[],c=[];for(let h of n){let d=this.specs.indexOf(h),p;d<0?(p=h(i.view),c.push(p)):(p=this.panels[d],p.update&&p.update(i)),l.push(p),(p.top?o:a).push(p)}this.specs=n,this.panels=l,this.top.sync(o),this.bottom.sync(a);for(let h of c)h.dom.classList.add("cm-panel"),h.mount&&h.mount()}else for(let n of this.panels)n.update&&n.update(i)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:i=>at.scrollMargins.of(t=>{let e=t.plugin(i);return e&&{top:e.top.scrollMargin(),bottom:e.bottom.scrollMargin()}})});class ac{constructor(t,e,n){this.view=t,this.top=e,this.container=n,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(t){for(let e of this.panels)e.destroy&&t.indexOf(e)<0&&e.destroy();this.panels=t,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let e=this.container||this.view.dom;e.insertBefore(this.dom,this.top?e.firstChild:null)}let t=this.dom.firstChild;for(let e of this.panels)if(e.dom.parentNode==this.dom){for(;t!=e.dom;)t=y1(t);t=t.nextSibling}else this.dom.insertBefore(e.dom,t);for(;t;)t=y1(t)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let t of this.classes.split(" "))t&&this.container.classList.remove(t);for(let t of(this.classes=this.view.themeClasses).split(" "))t&&this.container.classList.add(t)}}}function y1(i){let t=i.nextSibling;return i.remove(),t}const ga=ht.define({enables:uw});class fs extends Ml{compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}eq(t){return!1}destroy(t){}}fs.prototype.elementClass="";fs.prototype.toDOM=void 0;fs.prototype.mapMode=an.TrackBefore;fs.prototype.startSide=fs.prototype.endSide=-1;fs.prototype.point=!0;const Ec=ht.define(),hO=ht.define(),dO={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>jt.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{},side:"before"},sa=ht.define();function mO(i){return[cw(),sa.of({...dO,...i})]}const b1=ht.define({combine:i=>i.some(t=>t)});function cw(i){return[pO]}const pO=ve.fromClass(class{constructor(i){this.view=i,this.domAfter=null,this.prevViewport=i.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters cm-gutters-before",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=i.state.facet(sa).map(t=>new x1(i,t)),this.fixed=!i.state.facet(b1);for(let t of this.gutters)t.config.side=="after"?this.getDOMAfter().appendChild(t.dom):this.dom.appendChild(t.dom);this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),i.scrollDOM.insertBefore(this.dom,i.contentDOM)}getDOMAfter(){return this.domAfter||(this.domAfter=document.createElement("div"),this.domAfter.className="cm-gutters cm-gutters-after",this.domAfter.setAttribute("aria-hidden","true"),this.domAfter.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.domAfter.style.position=this.fixed?"sticky":"",this.view.scrollDOM.appendChild(this.domAfter)),this.domAfter}update(i){if(this.updateGutters(i)){let t=this.prevViewport,e=i.view.viewport,n=Math.min(t.to,e.to)-Math.max(t.from,e.from);this.syncGutters(n<(e.to-e.from)*.8)}if(i.geometryChanged){let t=this.view.contentHeight/this.view.scaleY+"px";this.dom.style.minHeight=t,this.domAfter&&(this.domAfter.style.minHeight=t)}this.view.state.facet(b1)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"",this.domAfter&&(this.domAfter.style.position=this.fixed?"sticky":"")),this.prevViewport=i.view.viewport}syncGutters(i){let t=this.dom.nextSibling;i&&(this.dom.remove(),this.domAfter&&this.domAfter.remove());let e=jt.iter(this.view.state.facet(Ec),this.view.viewport.from),n=[],l=this.gutters.map(o=>new gO(o,this.view.viewport,-this.view.documentPadding.top));for(let o of this.view.viewportLineBlocks)if(n.length&&(n=[]),Array.isArray(o.type)){let a=!0;for(let c of o.type)if(c.type==un.Text&&a){dp(e,n,c.from);for(let h of l)h.line(this.view,c,n);a=!1}else if(c.widget)for(let h of l)h.widget(this.view,c)}else if(o.type==un.Text){dp(e,n,o.from);for(let a of l)a.line(this.view,o,n)}else if(o.widget)for(let a of l)a.widget(this.view,o);for(let o of l)o.finish();i&&(this.view.scrollDOM.insertBefore(this.dom,t),this.domAfter&&this.view.scrollDOM.appendChild(this.domAfter))}updateGutters(i){let t=i.startState.facet(sa),e=i.state.facet(sa),n=i.docChanged||i.heightChanged||i.viewportChanged||!jt.eq(i.startState.facet(Ec),i.state.facet(Ec),i.view.viewport.from,i.view.viewport.to);if(t==e)for(let l of this.gutters)l.update(i)&&(n=!0);else{n=!0;let l=[];for(let o of e){let a=t.indexOf(o);a<0?l.push(new x1(this.view,o)):(this.gutters[a].update(i),l.push(this.gutters[a]))}for(let o of this.gutters)o.dom.remove(),l.indexOf(o)<0&&o.destroy();for(let o of l)o.config.side=="after"?this.getDOMAfter().appendChild(o.dom):this.dom.appendChild(o.dom);this.gutters=l}return n}destroy(){for(let i of this.gutters)i.destroy();this.dom.remove(),this.domAfter&&this.domAfter.remove()}},{provide:i=>at.scrollMargins.of(t=>{let e=t.plugin(i);if(!e||e.gutters.length==0||!e.fixed)return null;let n=e.dom.offsetWidth*t.scaleX,l=e.domAfter?e.domAfter.offsetWidth*t.scaleX:0;return t.textDirection==oe.LTR?{left:n,right:l}:{right:n,left:l}})});function v1(i){return Array.isArray(i)?i:[i]}function dp(i,t,e){for(;i.value&&i.from<=e;)i.from==e&&t.push(i.value),i.next()}class gO{constructor(t,e,n){this.gutter=t,this.height=n,this.i=0,this.cursor=jt.iter(t.markers,e.from)}addElement(t,e,n){let{gutter:l}=this,o=(e.top-this.height)/t.scaleY,a=e.height/t.scaleY;if(this.i==l.elements.length){let c=new fw(t,a,o,n);l.elements.push(c),l.dom.appendChild(c.dom)}else l.elements[this.i].update(t,a,o,n);this.height=e.bottom,this.i++}line(t,e,n){let l=[];dp(this.cursor,l,e.from),n.length&&(l=l.concat(n));let o=this.gutter.config.lineMarker(t,e,l);o&&l.unshift(o);let a=this.gutter;l.length==0&&!a.config.renderEmptyElements||this.addElement(t,e,l)}widget(t,e){let n=this.gutter.config.widgetMarker(t,e.widget,e),l=n?[n]:null;for(let o of t.state.facet(hO)){let a=o(t,e.widget,e);a&&(l||(l=[])).push(a)}l&&this.addElement(t,e,l)}finish(){let t=this.gutter;for(;t.elements.length>this.i;){let e=t.elements.pop();t.dom.removeChild(e.dom),e.destroy()}}}class x1{constructor(t,e){this.view=t,this.config=e,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let n in e.domEventHandlers)this.dom.addEventListener(n,l=>{let o=l.target,a;if(o!=this.dom&&this.dom.contains(o)){for(;o.parentNode!=this.dom;)o=o.parentNode;let h=o.getBoundingClientRect();a=(h.top+h.bottom)/2}else a=l.clientY;let c=t.lineBlockAtHeight(a-t.documentTop);e.domEventHandlers[n](t,c,l)&&l.preventDefault()});this.markers=v1(e.markers(t)),e.initialSpacer&&(this.spacer=new fw(t,0,0,[e.initialSpacer(t)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(t){let e=this.markers;if(this.markers=v1(this.config.markers(t.view)),this.spacer&&this.config.updateSpacer){let l=this.config.updateSpacer(this.spacer.markers[0],t);l!=this.spacer.markers[0]&&this.spacer.update(t.view,0,0,[l])}let n=t.view.viewport;return!jt.eq(this.markers,e,n.from,n.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(t):!1)}destroy(){for(let t of this.elements)t.destroy()}}class fw{constructor(t,e,n,l){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(t,e,n,l)}update(t,e,n,l){this.height!=e&&(this.height=e,this.dom.style.height=e+"px"),this.above!=n&&(this.dom.style.marginTop=(this.above=n)?n+"px":""),yO(this.markers,l)||this.setMarkers(t,l)}setMarkers(t,e){let n="cm-gutterElement",l=this.dom.firstChild;for(let o=0,a=0;;){let c=a,h=o<e.length?e[o++]:null,d=!1;if(h){let p=h.elementClass;p&&(n+=" "+p);for(let g=a;g<this.markers.length;g++)if(this.markers[g].compare(h)){c=g,d=!0;break}}else c=this.markers.length;for(;a<c;){let p=this.markers[a++];if(p.toDOM){p.destroy(l);let g=l.nextSibling;l.remove(),l=g}}if(!h)break;h.toDOM&&(d?l=l.nextSibling:this.dom.insertBefore(h.toDOM(t),l)),d&&a++}this.dom.className=n,this.markers=e}destroy(){this.setMarkers(null,[])}}function yO(i,t){if(i.length!=t.length)return!1;for(let e=0;e<i.length;e++)if(!i[e].compare(t[e]))return!1;return!0}const bO=ht.define(),vO=ht.define(),Cr=ht.define({combine(i){return Vi(i,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(t,e){let n=Object.assign({},t);for(let l in e){let o=n[l],a=e[l];n[l]=o?(c,h,d)=>o(c,h,d)||a(c,h,d):a}return n}})}});class rm extends fs{constructor(t){super(),this.number=t}eq(t){return this.number==t.number}toDOM(){return document.createTextNode(this.number)}}function om(i,t){return i.state.facet(Cr).formatNumber(t,i.state)}const xO=sa.compute([Cr],i=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(t){return t.state.facet(bO)},lineMarker(t,e,n){return n.some(l=>l.toDOM)?null:new rm(om(t,t.state.doc.lineAt(e.from).number))},widgetMarker:(t,e,n)=>{for(let l of t.state.facet(vO)){let o=l(t,e,n);if(o)return o}return null},lineMarkerChange:t=>t.startState.facet(Cr)!=t.state.facet(Cr),initialSpacer(t){return new rm(om(t,S1(t.state.doc.lines)))},updateSpacer(t,e){let n=om(e.view,S1(e.view.state.doc.lines));return n==t.number?t:new rm(n)},domEventHandlers:i.facet(Cr).domEventHandlers,side:"before"}));function Gc(i={}){return[Cr.of(i),cw(),xO]}function S1(i){let t=9;for(;t<i;)t=t*10+9;return t}const SO=new class extends fs{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},wO=Ec.compute(["selection"],i=>{let t=[],e=-1;for(let n of i.selection.ranges){let l=i.doc.lineAt(n.head).from;l>e&&(e=l,t.push(SO.range(l)))}return jt.of(t)});function CO(){return wO}const hw=1024;let kO=0;class am{constructor(t,e){this.from=t,this.to=e}}class Ot{constructor(t={}){this.id=kO++,this.perNode=!!t.perNode,this.deserialize=t.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(t){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof t!="function"&&(t=wn.match(t)),e=>{let n=t(e);return n===void 0?null:[this,n]}}}Ot.closedBy=new Ot({deserialize:i=>i.split(" ")});Ot.openedBy=new Ot({deserialize:i=>i.split(" ")});Ot.group=new Ot({deserialize:i=>i.split(" ")});Ot.isolate=new Ot({deserialize:i=>{if(i&&i!="rtl"&&i!="ltr"&&i!="auto")throw new RangeError("Invalid value for isolate: "+i);return i||"auto"}});Ot.contextHash=new Ot({perNode:!0});Ot.lookAhead=new Ot({perNode:!0});Ot.mounted=new Ot({perNode:!0});class Xc{constructor(t,e,n){this.tree=t,this.overlay=e,this.parser=n}static get(t){return t&&t.props&&t.props[Ot.mounted.id]}}const AO=Object.create(null);class wn{constructor(t,e,n,l=0){this.name=t,this.props=e,this.id=n,this.flags=l}static define(t){let e=t.props&&t.props.length?Object.create(null):AO,n=(t.top?1:0)|(t.skipped?2:0)|(t.error?4:0)|(t.name==null?8:0),l=new wn(t.name||"",e,t.id,n);if(t.props){for(let o of t.props)if(Array.isArray(o)||(o=o(l)),o){if(o[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");e[o[0].id]=o[1]}}return l}prop(t){return this.props[t.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(t){if(typeof t=="string"){if(this.name==t)return!0;let e=this.prop(Ot.group);return e?e.indexOf(t)>-1:!1}return this.id==t}static match(t){let e=Object.create(null);for(let n in t)for(let l of n.split(" "))e[l]=t[n];return n=>{for(let l=n.prop(Ot.group),o=-1;o<(l?l.length:0);o++){let a=e[o<0?n.name:l[o]];if(a)return a}}}}wn.none=new wn("",Object.create(null),0,8);class Fp{constructor(t){this.types=t;for(let e=0;e<t.length;e++)if(t[e].id!=e)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...t){let e=[];for(let n of this.types){let l=null;for(let o of t){let a=o(n);a&&(l||(l=Object.assign({},n.props)),l[a[0].id]=a[1])}e.push(l?new wn(n.name,l,n.id,n.flags):n)}return new Fp(e)}}const uc=new WeakMap,w1=new WeakMap;var Ue;(function(i){i[i.ExcludeBuffers=1]="ExcludeBuffers",i[i.IncludeAnonymous=2]="IncludeAnonymous",i[i.IgnoreMounts=4]="IgnoreMounts",i[i.IgnoreOverlays=8]="IgnoreOverlays"})(Ue||(Ue={}));class ke{constructor(t,e,n,l,o){if(this.type=t,this.children=e,this.positions=n,this.length=l,this.props=null,o&&o.length){this.props=Object.create(null);for(let[a,c]of o)this.props[typeof a=="number"?a:a.id]=c}}toString(){let t=Xc.get(this);if(t&&!t.overlay)return t.tree.toString();let e="";for(let n of this.children){let l=n.toString();l&&(e&&(e+=","),e+=l)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(e.length?"("+e+")":""):e}cursor(t=0){return new pp(this.topNode,t)}cursorAt(t,e=0,n=0){let l=uc.get(this)||this.topNode,o=new pp(l);return o.moveTo(t,e),uc.set(this,o._tree),o}get topNode(){return new ii(this,0,0,null)}resolve(t,e=0){let n=ya(uc.get(this)||this.topNode,t,e,!1);return uc.set(this,n),n}resolveInner(t,e=0){let n=ya(w1.get(this)||this.topNode,t,e,!0);return w1.set(this,n),n}resolveStack(t,e=0){return DO(this,t,e)}iterate(t){let{enter:e,leave:n,from:l=0,to:o=this.length}=t,a=t.mode||0,c=(a&Ue.IncludeAnonymous)>0;for(let h=this.cursor(a|Ue.IncludeAnonymous);;){let d=!1;if(h.from<=o&&h.to>=l&&(!c&&h.type.isAnonymous||e(h)!==!1)){if(h.firstChild())continue;d=!0}for(;d&&n&&(c||!h.type.isAnonymous)&&n(h),!h.nextSibling();){if(!h.parent())return;d=!0}}}prop(t){return t.perNode?this.props?this.props[t.id]:void 0:this.type.prop(t)}get propValues(){let t=[];if(this.props)for(let e in this.props)t.push([+e,this.props[e]]);return t}balance(t={}){return this.children.length<=8?this:$p(wn.none,this.children,this.positions,0,this.children.length,0,this.length,(e,n,l)=>new ke(this.type,e,n,l,this.propValues),t.makeTree||((e,n,l)=>new ke(wn.none,e,n,l)))}static build(t){return OO(t)}}ke.empty=new ke(wn.none,[],[],0);class Zp{constructor(t,e){this.buffer=t,this.index=e}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new Zp(this.buffer,this.index)}}class Zs{constructor(t,e,n){this.buffer=t,this.length=e,this.set=n}get type(){return wn.none}toString(){let t=[];for(let e=0;e<this.buffer.length;)t.push(this.childString(e)),e=this.buffer[e+3];return t.join(",")}childString(t){let e=this.buffer[t],n=this.buffer[t+3],l=this.set.types[e],o=l.name;if(/\W/.test(o)&&!l.isError&&(o=JSON.stringify(o)),t+=4,n==t)return o;let a=[];for(;t<n;)a.push(this.childString(t)),t=this.buffer[t+3];return o+"("+a.join(",")+")"}findChild(t,e,n,l,o){let{buffer:a}=this,c=-1;for(let h=t;h!=e&&!(dw(o,l,a[h+1],a[h+2])&&(c=h,n>0));h=a[h+3]);return c}slice(t,e,n){let l=this.buffer,o=new Uint16Array(e-t),a=0;for(let c=t,h=0;c<e;){o[h++]=l[c++],o[h++]=l[c++]-n;let d=o[h++]=l[c++]-n;o[h++]=l[c++]-t,a=Math.max(a,d)}return new Zs(o,a,this.set)}}function dw(i,t,e,n){switch(i){case-2:return e<t;case-1:return n>=t&&e<t;case 0:return e<t&&n>t;case 1:return e<=t&&n>t;case 2:return n>t;case 4:return!0}}function ya(i,t,e,n){for(var l;i.from==i.to||(e<1?i.from>=t:i.from>t)||(e>-1?i.to<=t:i.to<t);){let a=!n&&i instanceof ii&&i.index<0?null:i.parent;if(!a)return i;i=a}let o=n?0:Ue.IgnoreOverlays;if(n)for(let a=i,c=a.parent;c;a=c,c=a.parent)a instanceof ii&&a.index<0&&((l=c.enter(t,e,o))===null||l===void 0?void 0:l.from)!=a.from&&(i=c);for(;;){let a=i.enter(t,e,o);if(!a)return i;i=a}}class mw{cursor(t=0){return new pp(this,t)}getChild(t,e=null,n=null){let l=C1(this,t,e,n);return l.length?l[0]:null}getChildren(t,e=null,n=null){return C1(this,t,e,n)}resolve(t,e=0){return ya(this,t,e,!1)}resolveInner(t,e=0){return ya(this,t,e,!0)}matchContext(t){return mp(this.parent,t)}enterUnfinishedNodesBefore(t){let e=this.childBefore(t),n=this;for(;e;){let l=e.lastChild;if(!l||l.to!=e.to)break;l.type.isError&&l.from==l.to?(n=e,e=l.prevSibling):e=l}return n}get node(){return this}get next(){return this.parent}}class ii extends mw{constructor(t,e,n,l){super(),this._tree=t,this.from=e,this.index=n,this._parent=l}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(t,e,n,l,o=0){for(let a=this;;){for(let{children:c,positions:h}=a._tree,d=e>0?c.length:-1;t!=d;t+=e){let p=c[t],g=h[t]+a.from;if(dw(l,n,g,g+p.length)){if(p instanceof Zs){if(o&Ue.ExcludeBuffers)continue;let b=p.findChild(0,p.buffer.length,e,n-g,l);if(b>-1)return new Is(new MO(a,p,t,g),null,b)}else if(o&Ue.IncludeAnonymous||!p.type.isAnonymous||Jp(p)){let b;if(!(o&Ue.IgnoreMounts)&&(b=Xc.get(p))&&!b.overlay)return new ii(b.tree,g,t,a);let v=new ii(p,g,t,a);return o&Ue.IncludeAnonymous||!v.type.isAnonymous?v:v.nextChild(e<0?p.children.length-1:0,e,n,l)}}}if(o&Ue.IncludeAnonymous||!a.type.isAnonymous||(a.index>=0?t=a.index+e:t=e<0?-1:a._parent._tree.children.length,a=a._parent,!a))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(t){return this.nextChild(0,1,t,2)}childBefore(t){return this.nextChild(this._tree.children.length-1,-1,t,-2)}enter(t,e,n=0){let l;if(!(n&Ue.IgnoreOverlays)&&(l=Xc.get(this._tree))&&l.overlay){let o=t-this.from;for(let{from:a,to:c}of l.overlay)if((e>0?a<=o:a<o)&&(e<0?c>=o:c>o))return new ii(l.tree,l.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,t,e,n)}nextSignificantParent(){let t=this;for(;t.type.isAnonymous&&t._parent;)t=t._parent;return t}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function C1(i,t,e,n){let l=i.cursor(),o=[];if(!l.firstChild())return o;if(e!=null){for(let a=!1;!a;)if(a=l.type.is(e),!l.nextSibling())return o}for(;;){if(n!=null&&l.type.is(n))return o;if(l.type.is(t)&&o.push(l.node),!l.nextSibling())return n==null?o:[]}}function mp(i,t,e=t.length-1){for(let n=i;e>=0;n=n.parent){if(!n)return!1;if(!n.type.isAnonymous){if(t[e]&&t[e]!=n.name)return!1;e--}}return!0}class MO{constructor(t,e,n,l){this.parent=t,this.buffer=e,this.index=n,this.start=l}}class Is extends mw{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(t,e,n){super(),this.context=t,this._parent=e,this.index=n,this.type=t.buffer.set.types[t.buffer.buffer[n]]}child(t,e,n){let{buffer:l}=this.context,o=l.findChild(this.index+4,l.buffer[this.index+3],t,e-this.context.start,n);return o<0?null:new Is(this.context,this,o)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(t){return this.child(1,t,2)}childBefore(t){return this.child(-1,t,-2)}enter(t,e,n=0){if(n&Ue.ExcludeBuffers)return null;let{buffer:l}=this.context,o=l.findChild(this.index+4,l.buffer[this.index+3],e>0?1:-1,t-this.context.start,e);return o<0?null:new Is(this.context,this,o)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(t){return this._parent?null:this.context.parent.nextChild(this.context.index+t,t,0,4)}get nextSibling(){let{buffer:t}=this.context,e=t.buffer[this.index+3];return e<(this._parent?t.buffer[this._parent.index+3]:t.buffer.length)?new Is(this.context,this._parent,e):this.externalSibling(1)}get prevSibling(){let{buffer:t}=this.context,e=this._parent?this._parent.index+4:0;return this.index==e?this.externalSibling(-1):new Is(this.context,this._parent,t.findChild(e,this.index,-1,0,4))}get tree(){return null}toTree(){let t=[],e=[],{buffer:n}=this.context,l=this.index+4,o=n.buffer[this.index+3];if(o>l){let a=n.buffer[this.index+1];t.push(n.slice(l,o,a)),e.push(0)}return new ke(this.type,t,e,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function pw(i){if(!i.length)return null;let t=0,e=i[0];for(let o=1;o<i.length;o++){let a=i[o];(a.from>e.from||a.to<e.to)&&(e=a,t=o)}let n=e instanceof ii&&e.index<0?null:e.parent,l=i.slice();return n?l[t]=n:l.splice(t,1),new TO(l,e)}class TO{constructor(t,e){this.heads=t,this.node=e}get next(){return pw(this.heads)}}function DO(i,t,e){let n=i.resolveInner(t,e),l=null;for(let o=n instanceof ii?n:n.context.parent;o;o=o.parent)if(o.index<0){let a=o.parent;(l||(l=[n])).push(a.resolve(t,e)),o=a}else{let a=Xc.get(o.tree);if(a&&a.overlay&&a.overlay[0].from<=t&&a.overlay[a.overlay.length-1].to>=t){let c=new ii(a.tree,a.overlay[0].from+o.from,-1,o);(l||(l=[n])).push(ya(c,t,e,!1))}}return l?pw(l):n}class pp{get name(){return this.type.name}constructor(t,e=0){if(this.mode=e,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,t instanceof ii)this.yieldNode(t);else{this._tree=t.context.parent,this.buffer=t.context;for(let n=t._parent;n;n=n._parent)this.stack.unshift(n.index);this.bufferNode=t,this.yieldBuf(t.index)}}yieldNode(t){return t?(this._tree=t,this.type=t.type,this.from=t.from,this.to=t.to,!0):!1}yieldBuf(t,e){this.index=t;let{start:n,buffer:l}=this.buffer;return this.type=e||l.set.types[l.buffer[t]],this.from=n+l.buffer[t+1],this.to=n+l.buffer[t+2],!0}yield(t){return t?t instanceof ii?(this.buffer=null,this.yieldNode(t)):(this.buffer=t.context,this.yieldBuf(t.index,t.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(t,e,n){if(!this.buffer)return this.yield(this._tree.nextChild(t<0?this._tree._tree.children.length-1:0,t,e,n,this.mode));let{buffer:l}=this.buffer,o=l.findChild(this.index+4,l.buffer[this.index+3],t,e-this.buffer.start,n);return o<0?!1:(this.stack.push(this.index),this.yieldBuf(o))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(t){return this.enterChild(1,t,2)}childBefore(t){return this.enterChild(-1,t,-2)}enter(t,e,n=this.mode){return this.buffer?n&Ue.ExcludeBuffers?!1:this.enterChild(1,t,e):this.yield(this._tree.enter(t,e,n))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Ue.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let t=this.mode&Ue.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(t)}sibling(t){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+t,t,0,4,this.mode)):!1;let{buffer:e}=this.buffer,n=this.stack.length-1;if(t<0){let l=n<0?0:this.stack[n]+4;if(this.index!=l)return this.yieldBuf(e.findChild(l,this.index,-1,0,4))}else{let l=e.buffer[this.index+3];if(l<(n<0?e.buffer.length:e.buffer[this.stack[n]+3]))return this.yieldBuf(l)}return n<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+t,t,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(t){let e,n,{buffer:l}=this;if(l){if(t>0){if(this.index<l.buffer.buffer.length)return!1}else for(let o=0;o<this.index;o++)if(l.buffer.buffer[o+3]<this.index)return!1;({index:e,parent:n}=l)}else({index:e,_parent:n}=this._tree);for(;n;{index:e,_parent:n}=n)if(e>-1)for(let o=e+t,a=t<0?-1:n._tree.children.length;o!=a;o+=t){let c=n._tree.children[o];if(this.mode&Ue.IncludeAnonymous||c instanceof Zs||!c.type.isAnonymous||Jp(c))return!1}return!0}move(t,e){if(e&&this.enterChild(t,0,4))return!0;for(;;){if(this.sibling(t))return!0;if(this.atLastNode(t)||!this.parent())return!1}}next(t=!0){return this.move(1,t)}prev(t=!0){return this.move(-1,t)}moveTo(t,e=0){for(;(this.from==this.to||(e<1?this.from>=t:this.from>t)||(e>-1?this.to<=t:this.to<t))&&this.parent(););for(;this.enterChild(1,t,e););return this}get node(){if(!this.buffer)return this._tree;let t=this.bufferNode,e=null,n=0;if(t&&t.context==this.buffer)t:for(let l=this.index,o=this.stack.length;o>=0;){for(let a=t;a;a=a._parent)if(a.index==l){if(l==this.index)return a;e=a,n=o+1;break t}l=this.stack[--o]}for(let l=n;l<this.stack.length;l++)e=new Is(this.buffer,e,this.stack[l]);return this.bufferNode=new Is(this.buffer,e,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(t,e){for(let n=0;;){let l=!1;if(this.type.isAnonymous||t(this)!==!1){if(this.firstChild()){n++;continue}this.type.isAnonymous||(l=!0)}for(;;){if(l&&e&&e(this),l=this.type.isAnonymous,!n)return;if(this.nextSibling())break;this.parent(),n--,l=!0}}}matchContext(t){if(!this.buffer)return mp(this.node.parent,t);let{buffer:e}=this.buffer,{types:n}=e.set;for(let l=t.length-1,o=this.stack.length-1;l>=0;o--){if(o<0)return mp(this._tree,t,l);let a=n[e.buffer[this.stack[o]]];if(!a.isAnonymous){if(t[l]&&t[l]!=a.name)return!1;l--}}return!0}}function Jp(i){return i.children.some(t=>t instanceof Zs||!t.type.isAnonymous||Jp(t))}function OO(i){var t;let{buffer:e,nodeSet:n,maxBufferLength:l=hw,reused:o=[],minRepeatType:a=n.types.length}=i,c=Array.isArray(e)?new Zp(e,e.length):e,h=n.types,d=0,p=0;function g(D,z,U,K,tt,ct){let{id:it,start:et,end:ut,size:pt}=c,gt=p,B=d;for(;pt<0;)if(c.next(),pt==-1){let Y=o[it];U.push(Y),K.push(et-D);return}else if(pt==-3){d=it;return}else if(pt==-4){p=it;return}else throw new RangeError(`Unrecognized record size: ${pt}`);let I=h[it],st,ot,M=et-D;if(ut-et<=l&&(ot=k(c.pos-z,tt))){let Y=new Uint16Array(ot.size-ot.skip),J=c.pos-ot.size,X=Y.length;for(;c.pos>J;)X=A(ot.start,Y,X);st=new Zs(Y,ut-ot.start,n),M=ot.start-D}else{let Y=c.pos-pt;c.next();let J=[],X=[],nt=it>=a?it:-1,dt=0,rt=ut;for(;c.pos>Y;)nt>=0&&c.id==nt&&c.size>=0?(c.end<=rt-l&&(w(J,X,et,dt,c.end,rt,nt,gt,B),dt=J.length,rt=c.end),c.next()):ct>2500?b(et,Y,J,X):g(et,Y,J,X,nt,ct+1);if(nt>=0&&dt>0&&dt<J.length&&w(J,X,et,dt,et,rt,nt,gt,B),J.reverse(),X.reverse(),nt>-1&&dt>0){let Qt=v(I,B);st=$p(I,J,X,0,J.length,0,ut-et,Qt,Qt)}else st=C(I,J,X,ut-et,gt-ut,B)}U.push(st),K.push(M)}function b(D,z,U,K){let tt=[],ct=0,it=-1;for(;c.pos>z;){let{id:et,start:ut,end:pt,size:gt}=c;if(gt>4)c.next();else{if(it>-1&&ut<it)break;it<0&&(it=pt-l),tt.push(et,ut,pt),ct++,c.next()}}if(ct){let et=new Uint16Array(ct*4),ut=tt[tt.length-2];for(let pt=tt.length-3,gt=0;pt>=0;pt-=3)et[gt++]=tt[pt],et[gt++]=tt[pt+1]-ut,et[gt++]=tt[pt+2]-ut,et[gt++]=gt;U.push(new Zs(et,tt[2]-ut,n)),K.push(ut-D)}}function v(D,z){return(U,K,tt)=>{let ct=0,it=U.length-1,et,ut;if(it>=0&&(et=U[it])instanceof ke){if(!it&&et.type==D&&et.length==tt)return et;(ut=et.prop(Ot.lookAhead))&&(ct=K[it]+et.length+ut)}return C(D,U,K,tt,ct,z)}}function w(D,z,U,K,tt,ct,it,et,ut){let pt=[],gt=[];for(;D.length>K;)pt.push(D.pop()),gt.push(z.pop()+U-tt);D.push(C(n.types[it],pt,gt,ct-tt,et-ct,ut)),z.push(tt-U)}function C(D,z,U,K,tt,ct,it){if(ct){let et=[Ot.contextHash,ct];it=it?[et].concat(it):[et]}if(tt>25){let et=[Ot.lookAhead,tt];it=it?[et].concat(it):[et]}return new ke(D,z,U,K,it)}function k(D,z){let U=c.fork(),K=0,tt=0,ct=0,it=U.end-l,et={size:0,start:0,skip:0};t:for(let ut=U.pos-D;U.pos>ut;){let pt=U.size;if(U.id==z&&pt>=0){et.size=K,et.start=tt,et.skip=ct,ct+=4,K+=4,U.next();continue}let gt=U.pos-pt;if(pt<0||gt<ut||U.start<it)break;let B=U.id>=a?4:0,I=U.start;for(U.next();U.pos>gt;){if(U.size<0)if(U.size==-3)B+=4;else break t;else U.id>=a&&(B+=4);U.next()}tt=I,K+=pt,ct+=B}return(z<0||K==D)&&(et.size=K,et.start=tt,et.skip=ct),et.size>4?et:void 0}function A(D,z,U){let{id:K,start:tt,end:ct,size:it}=c;if(c.next(),it>=0&&K<a){let et=U;if(it>4){let ut=c.pos-(it-4);for(;c.pos>ut;)U=A(D,z,U)}z[--U]=et,z[--U]=ct-D,z[--U]=tt-D,z[--U]=K}else it==-3?d=K:it==-4&&(p=K);return U}let N=[],j=[];for(;c.pos>0;)g(i.start||0,i.bufferStart||0,N,j,-1,0);let E=(t=i.length)!==null&&t!==void 0?t:N.length?j[0]+N[0].length:0;return new ke(h[i.topID],N.reverse(),j.reverse(),E)}const k1=new WeakMap;function Rc(i,t){if(!i.isAnonymous||t instanceof Zs||t.type!=i)return 1;let e=k1.get(t);if(e==null){e=1;for(let n of t.children){if(n.type!=i||!(n instanceof ke)){e=1;break}e+=Rc(i,n)}k1.set(t,e)}return e}function $p(i,t,e,n,l,o,a,c,h){let d=0;for(let w=n;w<l;w++)d+=Rc(i,t[w]);let p=Math.ceil(d*1.5/8),g=[],b=[];function v(w,C,k,A,N){for(let j=k;j<A;){let E=j,D=C[j],z=Rc(i,w[j]);for(j++;j<A;j++){let U=Rc(i,w[j]);if(z+U>=p)break;z+=U}if(j==E+1){if(z>p){let U=w[E];v(U.children,U.positions,0,U.children.length,C[E]+N);continue}g.push(w[E])}else{let U=C[j-1]+w[j-1].length-D;g.push($p(i,w,C,E,j,D,U,null,h))}b.push(D+N-o)}}return v(t,e,n,l,0),(c||h)(g,b,a)}class kl{constructor(t,e,n,l,o=!1,a=!1){this.from=t,this.to=e,this.tree=n,this.offset=l,this.open=(o?1:0)|(a?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(t,e=[],n=!1){let l=[new kl(0,t.length,t,0,!1,n)];for(let o of e)o.to>t.length&&l.push(o);return l}static applyChanges(t,e,n=128){if(!e.length)return t;let l=[],o=1,a=t.length?t[0]:null;for(let c=0,h=0,d=0;;c++){let p=c<e.length?e[c]:null,g=p?p.fromA:1e9;if(g-h>=n)for(;a&&a.from<g;){let b=a;if(h>=b.from||g<=b.to||d){let v=Math.max(b.from,h)-d,w=Math.min(b.to,g)-d;b=v>=w?null:new kl(v,w,b.tree,b.offset+d,c>0,!!p)}if(b&&l.push(b),a.to>g)break;a=o<t.length?t[o++]:null}if(!p)break;h=p.toA,d=p.toA-p.toB}return l}}class gw{startParse(t,e,n){return typeof t=="string"&&(t=new EO(t)),n=n?n.length?n.map(l=>new am(l.from,l.to)):[new am(0,0)]:[new am(0,t.length)],this.createParse(t,e||[],n)}parse(t,e,n){let l=this.startParse(t,e,n);for(;;){let o=l.advance();if(o)return o}}}class EO{constructor(t){this.string=t}get length(){return this.string.length}chunk(t){return this.string.slice(t)}get lineChunks(){return!1}read(t,e){return this.string.slice(t,e)}}new Ot({perNode:!0});let RO=0;class $n{constructor(t,e,n,l){this.name=t,this.set=e,this.base=n,this.modified=l,this.id=RO++}toString(){let{name:t}=this;for(let e of this.modified)e.name&&(t=`${e.name}(${t})`);return t}static define(t,e){let n=typeof t=="string"?t:"?";if(t instanceof $n&&(e=t),e?.base)throw new Error("Can not derive from a modified tag");let l=new $n(n,[],null,[]);if(l.set.push(l),e)for(let o of e.set)l.set.push(o);return l}static defineModifier(t){let e=new Ic(t);return n=>n.modified.indexOf(e)>-1?n:Ic.get(n.base||n,n.modified.concat(e).sort((l,o)=>l.id-o.id))}}let NO=0;class Ic{constructor(t){this.name=t,this.instances=[],this.id=NO++}static get(t,e){if(!e.length)return t;let n=e[0].instances.find(c=>c.base==t&&BO(e,c.modified));if(n)return n;let l=[],o=new $n(t.name,l,t,e);for(let c of e)c.instances.push(o);let a=LO(e);for(let c of t.set)if(!c.modified.length)for(let h of a)l.push(Ic.get(c,h));return o}}function BO(i,t){return i.length==t.length&&i.every((e,n)=>e==t[n])}function LO(i){let t=[[]];for(let e=0;e<i.length;e++)for(let n=0,l=t.length;n<l;n++)t.push(t[n].concat(i[e]));return t.sort((e,n)=>n.length-e.length)}function yw(i){let t=Object.create(null);for(let e in i){let n=i[e];Array.isArray(n)||(n=[n]);for(let l of e.split(" "))if(l){let o=[],a=2,c=l;for(let g=0;;){if(c=="..."&&g>0&&g+3==l.length){a=1;break}let b=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(c);if(!b)throw new RangeError("Invalid path: "+l);if(o.push(b[0]=="*"?"":b[0][0]=='"'?JSON.parse(b[0]):b[0]),g+=b[0].length,g==l.length)break;let v=l[g++];if(g==l.length&&v=="!"){a=0;break}if(v!="/")throw new RangeError("Invalid path: "+l);c=l.slice(g)}let h=o.length-1,d=o[h];if(!d)throw new RangeError("Invalid path: "+l);let p=new Qc(n,a,h>0?o.slice(0,h):null);t[d]=p.sort(t[d])}}return bw.add(t)}const bw=new Ot;class Qc{constructor(t,e,n,l){this.tags=t,this.mode=e,this.context=n,this.next=l}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(t){return!t||t.depth<this.depth?(this.next=t,this):(t.next=this.sort(t.next),t)}get depth(){return this.context?this.context.length:0}}Qc.empty=new Qc([],2,null);function vw(i,t){let e=Object.create(null);for(let o of i)if(!Array.isArray(o.tag))e[o.tag.id]=o.class;else for(let a of o.tag)e[a.id]=o.class;let{scope:n,all:l=null}=t||{};return{style:o=>{let a=l;for(let c of o)for(let h of c.set){let d=e[h.id];if(d){a=a?a+" "+d:d;break}}return a},scope:n}}function zO(i,t){let e=null;for(let n of i){let l=n.style(t);l&&(e=e?e+" "+l:l)}return e}function HO(i,t,e,n=0,l=i.length){let o=new jO(n,Array.isArray(t)?t:[t],e);o.highlightRange(i.cursor(),n,l,"",o.highlighters),o.flush(l)}class jO{constructor(t,e,n){this.at=t,this.highlighters=e,this.span=n,this.class=""}startSpan(t,e){e!=this.class&&(this.flush(t),t>this.at&&(this.at=t),this.class=e)}flush(t){t>this.at&&this.class&&this.span(this.at,t,this.class)}highlightRange(t,e,n,l,o){let{type:a,from:c,to:h}=t;if(c>=n||h<=e)return;a.isTop&&(o=this.highlighters.filter(v=>!v.scope||v.scope(a)));let d=l,p=_O(t)||Qc.empty,g=zO(o,p.tags);if(g&&(d&&(d+=" "),d+=g,p.mode==1&&(l+=(l?" ":"")+g)),this.startSpan(Math.max(e,c),d),p.opaque)return;let b=t.tree&&t.tree.prop(Ot.mounted);if(b&&b.overlay){let v=t.node.enter(b.overlay[0].from+c,1),w=this.highlighters.filter(k=>!k.scope||k.scope(b.tree.type)),C=t.firstChild();for(let k=0,A=c;;k++){let N=k<b.overlay.length?b.overlay[k]:null,j=N?N.from+c:h,E=Math.max(e,A),D=Math.min(n,j);if(E<D&&C)for(;t.from<D&&(this.highlightRange(t,E,D,l,o),this.startSpan(Math.min(D,t.to),d),!(t.to>=j||!t.nextSibling())););if(!N||j>n)break;A=N.to+c,A>e&&(this.highlightRange(v.cursor(),Math.max(e,N.from+c),Math.min(n,A),"",w),this.startSpan(Math.min(n,A),d))}C&&t.parent()}else if(t.firstChild()){b&&(l="");do if(!(t.to<=e)){if(t.from>=n)break;this.highlightRange(t,e,n,l,o),this.startSpan(Math.min(n,t.to),d)}while(t.nextSibling());t.parent()}}}function _O(i){let t=i.type.prop(bw);for(;t&&t.context&&!i.matchContext(t.context);)t=t.next;return t||null}const lt=$n.define,cc=lt(),Us=lt(),A1=lt(Us),M1=lt(Us),qs=lt(),fc=lt(qs),um=lt(qs),Ei=lt(),vl=lt(Ei),Di=lt(),Oi=lt(),gp=lt(),Qo=lt(gp),hc=lt(),G={comment:cc,lineComment:lt(cc),blockComment:lt(cc),docComment:lt(cc),name:Us,variableName:lt(Us),typeName:A1,tagName:lt(A1),propertyName:M1,attributeName:lt(M1),className:lt(Us),labelName:lt(Us),namespace:lt(Us),macroName:lt(Us),literal:qs,string:fc,docString:lt(fc),character:lt(fc),attributeValue:lt(fc),number:um,integer:lt(um),float:lt(um),bool:lt(qs),regexp:lt(qs),escape:lt(qs),color:lt(qs),url:lt(qs),keyword:Di,self:lt(Di),null:lt(Di),atom:lt(Di),unit:lt(Di),modifier:lt(Di),operatorKeyword:lt(Di),controlKeyword:lt(Di),definitionKeyword:lt(Di),moduleKeyword:lt(Di),operator:Oi,derefOperator:lt(Oi),arithmeticOperator:lt(Oi),logicOperator:lt(Oi),bitwiseOperator:lt(Oi),compareOperator:lt(Oi),updateOperator:lt(Oi),definitionOperator:lt(Oi),typeOperator:lt(Oi),controlOperator:lt(Oi),punctuation:gp,separator:lt(gp),bracket:Qo,angleBracket:lt(Qo),squareBracket:lt(Qo),paren:lt(Qo),brace:lt(Qo),content:Ei,heading:vl,heading1:lt(vl),heading2:lt(vl),heading3:lt(vl),heading4:lt(vl),heading5:lt(vl),heading6:lt(vl),contentSeparator:lt(Ei),list:lt(Ei),quote:lt(Ei),emphasis:lt(Ei),strong:lt(Ei),link:lt(Ei),monospace:lt(Ei),strikethrough:lt(Ei),inserted:lt(),deleted:lt(),changed:lt(),invalid:lt(),meta:hc,documentMeta:lt(hc),annotation:lt(hc),processingInstruction:lt(hc),definition:$n.defineModifier("definition"),constant:$n.defineModifier("constant"),function:$n.defineModifier("function"),standard:$n.defineModifier("standard"),local:$n.defineModifier("local"),special:$n.defineModifier("special")};for(let i in G){let t=G[i];t instanceof $n&&(t.name=i)}vw([{tag:G.link,class:"tok-link"},{tag:G.heading,class:"tok-heading"},{tag:G.emphasis,class:"tok-emphasis"},{tag:G.strong,class:"tok-strong"},{tag:G.keyword,class:"tok-keyword"},{tag:G.atom,class:"tok-atom"},{tag:G.bool,class:"tok-bool"},{tag:G.url,class:"tok-url"},{tag:G.labelName,class:"tok-labelName"},{tag:G.inserted,class:"tok-inserted"},{tag:G.deleted,class:"tok-deleted"},{tag:G.literal,class:"tok-literal"},{tag:G.string,class:"tok-string"},{tag:G.number,class:"tok-number"},{tag:[G.regexp,G.escape,G.special(G.string)],class:"tok-string2"},{tag:G.variableName,class:"tok-variableName"},{tag:G.local(G.variableName),class:"tok-variableName tok-local"},{tag:G.definition(G.variableName),class:"tok-variableName tok-definition"},{tag:G.special(G.variableName),class:"tok-variableName2"},{tag:G.definition(G.propertyName),class:"tok-propertyName tok-definition"},{tag:G.typeName,class:"tok-typeName"},{tag:G.namespace,class:"tok-namespace"},{tag:G.className,class:"tok-className"},{tag:G.macroName,class:"tok-macroName"},{tag:G.propertyName,class:"tok-propertyName"},{tag:G.operator,class:"tok-operator"},{tag:G.comment,class:"tok-comment"},{tag:G.meta,class:"tok-meta"},{tag:G.invalid,class:"tok-invalid"},{tag:G.punctuation,class:"tok-punctuation"}]);var cm;const kr=new Ot;function UO(i){return ht.define({combine:i?t=>t.concat(i):void 0})}const qO=new Ot;class mi{constructor(t,e,n=[],l=""){this.data=t,this.name=l,Lt.prototype.hasOwnProperty("tree")||Object.defineProperty(Lt.prototype,"tree",{get(){return en(this)}}),this.parser=e,this.extension=[Js.of(this),Lt.languageData.of((o,a,c)=>{let h=T1(o,a,c),d=h.type.prop(kr);if(!d)return[];let p=o.facet(d),g=h.type.prop(qO);if(g){let b=h.resolve(a-h.from,c);for(let v of g)if(v.test(b,o)){let w=o.facet(v.facet);return v.type=="replace"?w:w.concat(p)}}return p})].concat(n)}isActiveAt(t,e,n=-1){return T1(t,e,n).type.prop(kr)==this.data}findRegions(t){let e=t.facet(Js);if(e?.data==this.data)return[{from:0,to:t.doc.length}];if(!e||!e.allowsNesting)return[];let n=[],l=(o,a)=>{if(o.prop(kr)==this.data){n.push({from:a,to:a+o.length});return}let c=o.prop(Ot.mounted);if(c){if(c.tree.prop(kr)==this.data){if(c.overlay)for(let h of c.overlay)n.push({from:h.from+a,to:h.to+a});else n.push({from:a,to:a+o.length});return}else if(c.overlay){let h=n.length;if(l(c.tree,c.overlay[0].from+a),n.length>h)return}}for(let h=0;h<o.children.length;h++){let d=o.children[h];d instanceof ke&&l(d,o.positions[h]+a)}};return l(en(t),0),n}get allowsNesting(){return!0}}mi.setState=kt.define();function T1(i,t,e){let n=i.facet(Js),l=en(i).topNode;if(!n||n.allowsNesting)for(let o=l;o;o=o.enter(t,e,Ue.ExcludeBuffers))o.type.isTop&&(l=o);return l}class Kc extends mi{constructor(t,e,n){super(t,e,[],n),this.parser=e}static define(t){let e=UO(t.languageData);return new Kc(e,t.parser.configure({props:[kr.add(n=>n.isTop?e:void 0)]}),t.name)}configure(t,e){return new Kc(this.data,this.parser.configure(t),e||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function en(i){let t=i.field(mi.state,!1);return t?t.tree:ke.empty}class VO{constructor(t){this.doc=t,this.cursorPos=0,this.string="",this.cursor=t.iter()}get length(){return this.doc.length}syncTo(t){return this.string=this.cursor.next(t-this.cursorPos).value,this.cursorPos=t+this.string.length,this.cursorPos-this.string.length}chunk(t){return this.syncTo(t),this.string}get lineChunks(){return!0}read(t,e){let n=this.cursorPos-this.string.length;return t<n||e>=this.cursorPos?this.doc.sliceString(t,e):this.string.slice(t-n,e-n)}}let Ko=null;class Wc{constructor(t,e,n=[],l,o,a,c,h){this.parser=t,this.state=e,this.fragments=n,this.tree=l,this.treeLen=o,this.viewport=a,this.skipped=c,this.scheduleOn=h,this.parse=null,this.tempSkipped=[]}static create(t,e,n){return new Wc(t,e,[],ke.empty,0,n,[],null)}startParse(){return this.parser.startParse(new VO(this.state.doc),this.fragments)}work(t,e){return e!=null&&e>=this.state.doc.length&&(e=void 0),this.tree!=ke.empty&&this.isDone(e??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var n;if(typeof t=="number"){let l=Date.now()+t;t=()=>Date.now()>l}for(this.parse||(this.parse=this.startParse()),e!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&e<this.state.doc.length&&this.parse.stopAt(e);;){let l=this.parse.advance();if(l)if(this.fragments=this.withoutTempSkipped(kl.addTree(l,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(n=this.parse.stoppedAt)!==null&&n!==void 0?n:this.state.doc.length,this.tree=l,this.parse=null,this.treeLen<(e??this.state.doc.length))this.parse=this.startParse();else return!0;if(t())return!1}})}takeTree(){let t,e;this.parse&&(t=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&this.parse.stopAt(t),this.withContext(()=>{for(;!(e=this.parse.advance()););}),this.treeLen=t,this.tree=e,this.fragments=this.withoutTempSkipped(kl.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(t){let e=Ko;Ko=this;try{return t()}finally{Ko=e}}withoutTempSkipped(t){for(let e;e=this.tempSkipped.pop();)t=D1(t,e.from,e.to);return t}changes(t,e){let{fragments:n,tree:l,treeLen:o,viewport:a,skipped:c}=this;if(this.takeTree(),!t.empty){let h=[];if(t.iterChangedRanges((d,p,g,b)=>h.push({fromA:d,toA:p,fromB:g,toB:b})),n=kl.applyChanges(n,h),l=ke.empty,o=0,a={from:t.mapPos(a.from,-1),to:t.mapPos(a.to,1)},this.skipped.length){c=[];for(let d of this.skipped){let p=t.mapPos(d.from,1),g=t.mapPos(d.to,-1);p<g&&c.push({from:p,to:g})}}}return new Wc(this.parser,e,n,l,o,a,c,this.scheduleOn)}updateViewport(t){if(this.viewport.from==t.from&&this.viewport.to==t.to)return!1;this.viewport=t;let e=this.skipped.length;for(let n=0;n<this.skipped.length;n++){let{from:l,to:o}=this.skipped[n];l<t.to&&o>t.from&&(this.fragments=D1(this.fragments,l,o),this.skipped.splice(n--,1))}return this.skipped.length>=e?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(t,e){this.skipped.push({from:t,to:e})}static getSkippingParser(t){return new class extends gw{createParse(e,n,l){let o=l[0].from,a=l[l.length-1].to;return{parsedPos:o,advance(){let h=Ko;if(h){for(let d of l)h.tempSkipped.push(d);t&&(h.scheduleOn=h.scheduleOn?Promise.all([h.scheduleOn,t]):t)}return this.parsedPos=a,new ke(wn.none,[],[],a-o)},stoppedAt:null,stopAt(){}}}}}isDone(t){t=Math.min(t,this.state.doc.length);let e=this.fragments;return this.treeLen>=t&&e.length&&e[0].from==0&&e[0].to>=t}static get(){return Ko}}function D1(i,t,e){return kl.applyChanges(i,[{fromA:t,toA:e,fromB:t,toB:e}])}class _r{constructor(t){this.context=t,this.tree=t.tree}apply(t){if(!t.docChanged&&this.tree==this.context.tree)return this;let e=this.context.changes(t.changes,t.state),n=this.context.treeLen==t.startState.doc.length?void 0:Math.max(t.changes.mapPos(this.context.treeLen),e.viewport.to);return e.work(20,n)||e.takeTree(),new _r(e)}static init(t){let e=Math.min(3e3,t.doc.length),n=Wc.create(t.facet(Js).parser,t,{from:0,to:e});return n.work(20,e)||n.takeTree(),new _r(n)}}mi.state=We.define({create:_r.init,update(i,t){for(let e of t.effects)if(e.is(mi.setState))return e.value;return t.startState.facet(Js)!=t.state.facet(Js)?_r.init(t.state):i.apply(t)}});let xw=i=>{let t=setTimeout(()=>i(),500);return()=>clearTimeout(t)};typeof requestIdleCallback<"u"&&(xw=i=>{let t=-1,e=setTimeout(()=>{t=requestIdleCallback(i,{timeout:400})},100);return()=>t<0?clearTimeout(e):cancelIdleCallback(t)});const fm=typeof navigator<"u"&&(!((cm=navigator.scheduling)===null||cm===void 0)&&cm.isInputPending)?()=>navigator.scheduling.isInputPending():null,PO=ve.fromClass(class{constructor(t){this.view=t,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(t){let e=this.view.state.field(mi.state).context;(e.updateViewport(t.view.viewport)||this.view.viewport.to>e.treeLen)&&this.scheduleWork(),(t.docChanged||t.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(e)}scheduleWork(){if(this.working)return;let{state:t}=this.view,e=t.field(mi.state);(e.tree!=e.context.tree||!e.context.isDone(t.doc.length))&&(this.working=xw(this.work))}work(t){this.working=null;let e=Date.now();if(this.chunkEnd<e&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=e+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:n,viewport:{to:l}}=this.view,o=n.field(mi.state);if(o.tree==o.context.tree&&o.context.isDone(l+1e5))return;let a=Date.now()+Math.min(this.chunkBudget,100,t&&!fm?Math.max(25,t.timeRemaining()-5):1e9),c=o.context.treeLen<l&&n.doc.length>l+1e3,h=o.context.work(()=>fm&&fm()||Date.now()>a,l+(c?0:1e5));this.chunkBudget-=Date.now()-e,(h||this.chunkBudget<=0)&&(o.context.takeTree(),this.view.dispatch({effects:mi.setState.of(new _r(o.context))})),this.chunkBudget>0&&!(h&&!c)&&this.scheduleWork(),this.checkAsyncSchedule(o.context)}checkAsyncSchedule(t){t.scheduleOn&&(this.workScheduled++,t.scheduleOn.then(()=>this.scheduleWork()).catch(e=>xn(this.view.state,e)).then(()=>this.workScheduled--),t.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Js=ht.define({combine(i){return i.length?i[0]:null},enables:i=>[mi.state,PO,at.contentAttributes.compute([i],t=>{let e=t.facet(i);return e&&e.name?{"data-language":e.name}:{}})]});class YO{constructor(t,e=[]){this.language=t,this.support=e,this.extension=[t,e]}}const GO=ht.define(),Af=ht.define({combine:i=>{if(!i.length)return"  ";let t=i[0];if(!t||/\S/.test(t)||Array.from(t).some(e=>e!=t[0]))throw new Error("Invalid indent unit: "+JSON.stringify(i[0]));return t}});function Fc(i){let t=i.facet(Af);return t.charCodeAt(0)==9?i.tabSize*t.length:t.length}function ba(i,t){let e="",n=i.tabSize,l=i.facet(Af)[0];if(l=="	"){for(;t>=n;)e+="	",t-=n;l=" "}for(let o=0;o<t;o++)e+=l;return e}function tg(i,t){i instanceof Lt&&(i=new Mf(i));for(let n of i.state.facet(GO)){let l=n(i,t);if(l!==void 0)return l}let e=en(i.state);return e.length>=t?XO(i,e,t):null}class Mf{constructor(t,e={}){this.state=t,this.options=e,this.unit=Fc(t)}lineAt(t,e=1){let n=this.state.doc.lineAt(t),{simulateBreak:l,simulateDoubleBreak:o}=this.options;return l!=null&&l>=n.from&&l<=n.to?o&&l==t?{text:"",from:t}:(e<0?l<t:l<=t)?{text:n.text.slice(l-n.from),from:l}:{text:n.text.slice(0,l-n.from),from:n.from}:n}textAfterPos(t,e=1){if(this.options.simulateDoubleBreak&&t==this.options.simulateBreak)return"";let{text:n,from:l}=this.lineAt(t,e);return n.slice(t-l,Math.min(n.length,t+100-l))}column(t,e=1){let{text:n,from:l}=this.lineAt(t,e),o=this.countColumn(n,t-l),a=this.options.overrideIndentation?this.options.overrideIndentation(l):-1;return a>-1&&(o+=a-this.countColumn(n,n.search(/\S|$/))),o}countColumn(t,e=t.length){return Vr(t,this.state.tabSize,e)}lineIndent(t,e=1){let{text:n,from:l}=this.lineAt(t,e),o=this.options.overrideIndentation;if(o){let a=o(l);if(a>-1)return a}return this.countColumn(n,n.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const Sw=new Ot;function XO(i,t,e){let n=t.resolveStack(e),l=t.resolveInner(e,-1).resolve(e,0).enterUnfinishedNodesBefore(e);if(l!=n.node){let o=[];for(let a=l;a&&!(a.from<n.node.from||a.to>n.node.to||a.from==n.node.from&&a.type==n.node.type);a=a.parent)o.push(a);for(let a=o.length-1;a>=0;a--)n={node:o[a],next:n}}return ww(n,i,e)}function ww(i,t,e){for(let n=i;n;n=n.next){let l=QO(n.node);if(l)return l(eg.create(t,e,n))}return 0}function IO(i){return i.pos==i.options.simulateBreak&&i.options.simulateDoubleBreak}function QO(i){let t=i.type.prop(Sw);if(t)return t;let e=i.firstChild,n;if(e&&(n=e.type.prop(Ot.closedBy))){let l=i.lastChild,o=l&&n.indexOf(l.name)>-1;return a=>ZO(a,!0,1,void 0,o&&!IO(a)?l.from:void 0)}return i.parent==null?KO:null}function KO(){return 0}class eg extends Mf{constructor(t,e,n){super(t.state,t.options),this.base=t,this.pos=e,this.context=n}get node(){return this.context.node}static create(t,e,n){return new eg(t,e,n)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(t){let e=this.state.doc.lineAt(t.from);for(;;){let n=t.resolve(e.from);for(;n.parent&&n.parent.from==n.from;)n=n.parent;if(WO(n,t))break;e=this.state.doc.lineAt(n.from)}return this.lineIndent(e.from)}continue(){return ww(this.context.next,this.base,this.pos)}}function WO(i,t){for(let e=t;e;e=e.parent)if(i==e)return!0;return!1}function FO(i){let t=i.node,e=t.childAfter(t.from),n=t.lastChild;if(!e)return null;let l=i.options.simulateBreak,o=i.state.doc.lineAt(e.from),a=l==null||l<=o.from?o.to:Math.min(o.to,l);for(let c=e.to;;){let h=t.childAfter(c);if(!h||h==n)return null;if(!h.type.isSkipped){if(h.from>=a)return null;let d=/^ */.exec(o.text.slice(e.to-o.from))[0].length;return{from:e.from,to:e.to+d}}c=h.to}}function ZO(i,t,e,n,l){let o=i.textAfter,a=o.match(/^\s*/)[0].length,c=n&&o.slice(a,a+n.length)==n||l==i.pos+a,h=FO(i);return h?c?i.column(h.from):i.column(h.to):i.baseIndent+(c?0:i.unit*e)}function O1({except:i,units:t=1}={}){return e=>{let n=i&&i.test(e.textAfter);return e.baseIndent+(n?0:t*e.unit)}}const JO=200;function $O(){return Lt.transactionFilter.of(i=>{if(!i.docChanged||!i.isUserEvent("input.type")&&!i.isUserEvent("input.complete"))return i;let t=i.startState.languageDataAt("indentOnInput",i.startState.selection.main.head);if(!t.length)return i;let e=i.newDoc,{head:n}=i.newSelection.main,l=e.lineAt(n);if(n>l.from+JO)return i;let o=e.sliceString(l.from,n);if(!t.some(d=>d.test(o)))return i;let{state:a}=i,c=-1,h=[];for(let{head:d}of a.selection.ranges){let p=a.doc.lineAt(d);if(p.from==c)continue;c=p.from;let g=tg(a,p.from);if(g==null)continue;let b=/^\s*/.exec(p.text)[0],v=ba(a,g);b!=v&&h.push({from:p.from,to:p.from+b.length,insert:v})}return h.length?[i,{changes:h,sequential:!0}]:i})}const tE=ht.define(),Cw=new Ot;function eE(i){let t=i.firstChild,e=i.lastChild;return t&&t.to<e.from?{from:t.to,to:e.type.isError?i.to:e.from}:null}function nE(i,t,e){let n=en(i);if(n.length<e)return null;let l=n.resolveStack(e,1),o=null;for(let a=l;a;a=a.next){let c=a.node;if(c.to<=e||c.from>e)continue;if(o&&c.from<t)break;let h=c.type.prop(Cw);if(h&&(c.to<n.length-50||n.length==i.doc.length||!iE(c))){let d=h(c,i);d&&d.from<=e&&d.from>=t&&d.to>e&&(o=d)}}return o}function iE(i){let t=i.lastChild;return t&&t.to==i.to&&t.type.isError}function Zc(i,t,e){for(let n of i.facet(tE)){let l=n(i,t,e);if(l)return l}return nE(i,t,e)}function kw(i,t){let e=t.mapPos(i.from,1),n=t.mapPos(i.to,-1);return e>=n?void 0:{from:e,to:n}}const Tf=kt.define({map:kw}),Ra=kt.define({map:kw});function Aw(i){let t=[];for(let{head:e}of i.state.selection.ranges)t.some(n=>n.from<=e&&n.to>=e)||t.push(i.lineBlockAt(e));return t}const El=We.define({create(){return xt.none},update(i,t){t.isUserEvent("delete")&&t.changes.iterChangedRanges((e,n)=>i=E1(i,e,n)),i=i.map(t.changes);for(let e of t.effects)if(e.is(Tf)&&!sE(i,e.value.from,e.value.to)){let{preparePlaceholder:n}=t.state.facet(Dw),l=n?xt.replace({widget:new fE(n(t.state,e.value))}):R1;i=i.update({add:[l.range(e.value.from,e.value.to)]})}else e.is(Ra)&&(i=i.update({filter:(n,l)=>e.value.from!=n||e.value.to!=l,filterFrom:e.value.from,filterTo:e.value.to}));return t.selection&&(i=E1(i,t.selection.main.head)),i},provide:i=>at.decorations.from(i),toJSON(i,t){let e=[];return i.between(0,t.doc.length,(n,l)=>{e.push(n,l)}),e},fromJSON(i){if(!Array.isArray(i)||i.length%2)throw new RangeError("Invalid JSON for fold state");let t=[];for(let e=0;e<i.length;){let n=i[e++],l=i[e++];if(typeof n!="number"||typeof l!="number")throw new RangeError("Invalid JSON for fold state");t.push(R1.range(n,l))}return xt.set(t,!0)}});function E1(i,t,e=t){let n=!1;return i.between(t,e,(l,o)=>{l<e&&o>t&&(n=!0)}),n?i.update({filterFrom:t,filterTo:e,filter:(l,o)=>l>=e||o<=t}):i}function Jc(i,t,e){var n;let l=null;return(n=i.field(El,!1))===null||n===void 0||n.between(t,e,(o,a)=>{(!l||l.from>o)&&(l={from:o,to:a})}),l}function sE(i,t,e){let n=!1;return i.between(t,t,(l,o)=>{l==t&&o==e&&(n=!0)}),n}function Mw(i,t){return i.field(El,!1)?t:t.concat(kt.appendConfig.of(Ow()))}const lE=i=>{for(let t of Aw(i)){let e=Zc(i.state,t.from,t.to);if(e)return i.dispatch({effects:Mw(i.state,[Tf.of(e),Tw(i,e)])}),!0}return!1},rE=i=>{if(!i.state.field(El,!1))return!1;let t=[];for(let e of Aw(i)){let n=Jc(i.state,e.from,e.to);n&&t.push(Ra.of(n),Tw(i,n,!1))}return t.length&&i.dispatch({effects:t}),t.length>0};function Tw(i,t,e=!0){let n=i.state.doc.lineAt(t.from).number,l=i.state.doc.lineAt(t.to).number;return at.announce.of(`${i.state.phrase(e?"Folded lines":"Unfolded lines")} ${n} ${i.state.phrase("to")} ${l}.`)}const oE=i=>{let{state:t}=i,e=[];for(let n=0;n<t.doc.length;){let l=i.lineBlockAt(n),o=Zc(t,l.from,l.to);o&&e.push(Tf.of(o)),n=(o?i.lineBlockAt(o.to):l).to+1}return e.length&&i.dispatch({effects:Mw(i.state,e)}),!!e.length},aE=i=>{let t=i.state.field(El,!1);if(!t||!t.size)return!1;let e=[];return t.between(0,i.state.doc.length,(n,l)=>{e.push(Ra.of({from:n,to:l}))}),i.dispatch({effects:e}),!0},uE=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:lE},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:rE},{key:"Ctrl-Alt-[",run:oE},{key:"Ctrl-Alt-]",run:aE}],cE={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},Dw=ht.define({combine(i){return Vi(i,cE)}});function Ow(i){return[El,mE]}function Ew(i,t){let{state:e}=i,n=e.facet(Dw),l=a=>{let c=i.lineBlockAt(i.posAtDOM(a.target)),h=Jc(i.state,c.from,c.to);h&&i.dispatch({effects:Ra.of(h)}),a.preventDefault()};if(n.placeholderDOM)return n.placeholderDOM(i,l,t);let o=document.createElement("span");return o.textContent=n.placeholderText,o.setAttribute("aria-label",e.phrase("folded code")),o.title=e.phrase("unfold"),o.className="cm-foldPlaceholder",o.onclick=l,o}const R1=xt.replace({widget:new class extends hs{toDOM(i){return Ew(i,null)}}});class fE extends hs{constructor(t){super(),this.value=t}eq(t){return this.value==t.value}toDOM(t){return Ew(t,this.value)}}const hE={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class hm extends fs{constructor(t,e){super(),this.config=t,this.open=e}eq(t){return this.config==t.config&&this.open==t.open}toDOM(t){if(this.config.markerDOM)return this.config.markerDOM(this.open);let e=document.createElement("span");return e.textContent=this.open?this.config.openText:this.config.closedText,e.title=t.state.phrase(this.open?"Fold line":"Unfold line"),e}}function dE(i={}){let t={...hE,...i},e=new hm(t,!0),n=new hm(t,!1),l=ve.fromClass(class{constructor(a){this.from=a.viewport.from,this.markers=this.buildMarkers(a)}update(a){(a.docChanged||a.viewportChanged||a.startState.facet(Js)!=a.state.facet(Js)||a.startState.field(El,!1)!=a.state.field(El,!1)||en(a.startState)!=en(a.state)||t.foldingChanged(a))&&(this.markers=this.buildMarkers(a.view))}buildMarkers(a){let c=new us;for(let h of a.viewportLineBlocks){let d=Jc(a.state,h.from,h.to)?n:Zc(a.state,h.from,h.to)?e:null;d&&c.add(h.from,h.from,d)}return c.finish()}}),{domEventHandlers:o}=t;return[l,mO({class:"cm-foldGutter",markers(a){var c;return((c=a.plugin(l))===null||c===void 0?void 0:c.markers)||jt.empty},initialSpacer(){return new hm(t,!1)},domEventHandlers:{...o,click:(a,c,h)=>{if(o.click&&o.click(a,c,h))return!0;let d=Jc(a.state,c.from,c.to);if(d)return a.dispatch({effects:Ra.of(d)}),!0;let p=Zc(a.state,c.from,c.to);return p?(a.dispatch({effects:Tf.of(p)}),!0):!1}}}),Ow()]}const mE=at.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class Na{constructor(t,e){this.specs=t;let n;function l(c){let h=Ks.newName();return(n||(n=Object.create(null)))["."+h]=c,h}const o=typeof e.all=="string"?e.all:e.all?l(e.all):void 0,a=e.scope;this.scope=a instanceof mi?c=>c.prop(kr)==a.data:a?c=>c==a:void 0,this.style=vw(t.map(c=>({tag:c.tag,class:c.class||l(Object.assign({},c,{tag:null}))})),{all:o}).style,this.module=n?new Ks(n):null,this.themeType=e.themeType}static define(t,e){return new Na(t,e||{})}}const yp=ht.define(),Rw=ht.define({combine(i){return i.length?[i[0]]:null}});function dm(i){let t=i.facet(yp);return t.length?t:i.facet(Rw)}function Nw(i,t){let e=[gE],n;return i instanceof Na&&(i.module&&e.push(at.styleModule.of(i.module)),n=i.themeType),t?.fallback?e.push(Rw.of(i)):n?e.push(yp.computeN([at.darkTheme],l=>l.facet(at.darkTheme)==(n=="dark")?[i]:[])):e.push(yp.of(i)),e}class pE{constructor(t){this.markCache=Object.create(null),this.tree=en(t.state),this.decorations=this.buildDeco(t,dm(t.state)),this.decoratedTo=t.viewport.to}update(t){let e=en(t.state),n=dm(t.state),l=n!=dm(t.startState),{viewport:o}=t.view,a=t.changes.mapPos(this.decoratedTo,1);e.length<o.to&&!l&&e.type==this.tree.type&&a>=o.to?(this.decorations=this.decorations.map(t.changes),this.decoratedTo=a):(e!=this.tree||t.viewportChanged||l)&&(this.tree=e,this.decorations=this.buildDeco(t.view,n),this.decoratedTo=o.to)}buildDeco(t,e){if(!e||!this.tree.length)return xt.none;let n=new us;for(let{from:l,to:o}of t.visibleRanges)HO(this.tree,e,(a,c,h)=>{n.add(a,c,this.markCache[h]||(this.markCache[h]=xt.mark({class:h})))},l,o);return n.finish()}}const gE=Rl.high(ve.fromClass(pE,{decorations:i=>i.decorations})),yE=Na.define([{tag:G.meta,color:"#404740"},{tag:G.link,textDecoration:"underline"},{tag:G.heading,textDecoration:"underline",fontWeight:"bold"},{tag:G.emphasis,fontStyle:"italic"},{tag:G.strong,fontWeight:"bold"},{tag:G.strikethrough,textDecoration:"line-through"},{tag:G.keyword,color:"#708"},{tag:[G.atom,G.bool,G.url,G.contentSeparator,G.labelName],color:"#219"},{tag:[G.literal,G.inserted],color:"#164"},{tag:[G.string,G.deleted],color:"#a11"},{tag:[G.regexp,G.escape,G.special(G.string)],color:"#e40"},{tag:G.definition(G.variableName),color:"#00f"},{tag:G.local(G.variableName),color:"#30a"},{tag:[G.typeName,G.namespace],color:"#085"},{tag:G.className,color:"#167"},{tag:[G.special(G.variableName),G.macroName],color:"#256"},{tag:G.definition(G.propertyName),color:"#00c"},{tag:G.comment,color:"#940"},{tag:G.invalid,color:"#f00"}]),bE=at.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),Bw=1e4,Lw="()[]{}",zw=ht.define({combine(i){return Vi(i,{afterCursor:!0,brackets:Lw,maxScanDistance:Bw,renderMatch:SE})}}),vE=xt.mark({class:"cm-matchingBracket"}),xE=xt.mark({class:"cm-nonmatchingBracket"});function SE(i){let t=[],e=i.matched?vE:xE;return t.push(e.range(i.start.from,i.start.to)),i.end&&t.push(e.range(i.end.from,i.end.to)),t}const wE=We.define({create(){return xt.none},update(i,t){if(!t.docChanged&&!t.selection)return i;let e=[],n=t.state.facet(zw);for(let l of t.state.selection.ranges){if(!l.empty)continue;let o=zi(t.state,l.head,-1,n)||l.head>0&&zi(t.state,l.head-1,1,n)||n.afterCursor&&(zi(t.state,l.head,1,n)||l.head<t.state.doc.length&&zi(t.state,l.head+1,-1,n));o&&(e=e.concat(n.renderMatch(o,t.state)))}return xt.set(e,!0)},provide:i=>at.decorations.from(i)}),CE=[wE,bE];function kE(i={}){return[zw.of(i),CE]}const AE=new Ot;function bp(i,t,e){let n=i.prop(t<0?Ot.openedBy:Ot.closedBy);if(n)return n;if(i.name.length==1){let l=e.indexOf(i.name);if(l>-1&&l%2==(t<0?1:0))return[e[l+t]]}return null}function vp(i){let t=i.type.prop(AE);return t?t(i.node):i}function zi(i,t,e,n={}){let l=n.maxScanDistance||Bw,o=n.brackets||Lw,a=en(i),c=a.resolveInner(t,e);for(let h=c;h;h=h.parent){let d=bp(h.type,e,o);if(d&&h.from<h.to){let p=vp(h);if(p&&(e>0?t>=p.from&&t<p.to:t>p.from&&t<=p.to))return ME(i,t,e,h,p,d,o)}}return TE(i,t,e,a,c.type,l,o)}function ME(i,t,e,n,l,o,a){let c=n.parent,h={from:l.from,to:l.to},d=0,p=c?.cursor();if(p&&(e<0?p.childBefore(n.from):p.childAfter(n.to)))do if(e<0?p.to<=n.from:p.from>=n.to){if(d==0&&o.indexOf(p.type.name)>-1&&p.from<p.to){let g=vp(p);return{start:h,end:g?{from:g.from,to:g.to}:void 0,matched:!0}}else if(bp(p.type,e,a))d++;else if(bp(p.type,-e,a)){if(d==0){let g=vp(p);return{start:h,end:g&&g.from<g.to?{from:g.from,to:g.to}:void 0,matched:!1}}d--}}while(e<0?p.prevSibling():p.nextSibling());return{start:h,matched:!1}}function TE(i,t,e,n,l,o,a){let c=e<0?i.sliceDoc(t-1,t):i.sliceDoc(t,t+1),h=a.indexOf(c);if(h<0||h%2==0!=e>0)return null;let d={from:e<0?t-1:t,to:e>0?t+1:t},p=i.doc.iterRange(t,e>0?i.doc.length:0),g=0;for(let b=0;!p.next().done&&b<=o;){let v=p.value;e<0&&(b+=v.length);let w=t+b*e;for(let C=e>0?0:v.length-1,k=e>0?v.length:-1;C!=k;C+=e){let A=a.indexOf(v[C]);if(!(A<0||n.resolveInner(w+C,1).type!=l))if(A%2==0==e>0)g++;else{if(g==1)return{start:d,end:{from:w+C,to:w+C+1},matched:A>>1==h>>1};g--}}e>0&&(b+=v.length)}return p.done?{start:d,matched:!1}:null}const DE=Object.create(null),N1=[wn.none],B1=[],L1=Object.create(null),OE=Object.create(null);for(let[i,t]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])OE[i]=EE(DE,t);function mm(i,t){B1.indexOf(i)>-1||(B1.push(i),console.warn(t))}function EE(i,t){let e=[];for(let c of t.split(" ")){let h=[];for(let d of c.split(".")){let p=i[d]||G[d];p?typeof p=="function"?h.length?h=h.map(p):mm(d,`Modifier ${d} used at start of tag`):h.length?mm(d,`Tag ${d} used as modifier`):h=Array.isArray(p)?p:[p]:mm(d,`Unknown highlighting tag ${d}`)}for(let d of h)e.push(d)}if(!e.length)return 0;let n=t.replace(/ /g,"_"),l=n+" "+e.map(c=>c.id),o=L1[l];if(o)return o.id;let a=L1[l]=wn.define({id:N1.length,name:n,props:[yw({[n]:e})]});return N1.push(a),a.id}oe.RTL,oe.LTR;const RE=i=>{let{state:t}=i,e=t.doc.lineAt(t.selection.main.from),n=ig(i.state,e.from);return n.line?NE(i):n.block?LE(i):!1};function ng(i,t){return({state:e,dispatch:n})=>{if(e.readOnly)return!1;let l=i(t,e);return l?(n(e.update(l)),!0):!1}}const NE=ng(jE,0),BE=ng(Hw,0),LE=ng((i,t)=>Hw(i,t,HE(t)),0);function ig(i,t){let e=i.languageDataAt("commentTokens",t,1);return e.length?e[0]:{}}const Wo=50;function zE(i,{open:t,close:e},n,l){let o=i.sliceDoc(n-Wo,n),a=i.sliceDoc(l,l+Wo),c=/\s*$/.exec(o)[0].length,h=/^\s*/.exec(a)[0].length,d=o.length-c;if(o.slice(d-t.length,d)==t&&a.slice(h,h+e.length)==e)return{open:{pos:n-c,margin:c&&1},close:{pos:l+h,margin:h&&1}};let p,g;l-n<=2*Wo?p=g=i.sliceDoc(n,l):(p=i.sliceDoc(n,n+Wo),g=i.sliceDoc(l-Wo,l));let b=/^\s*/.exec(p)[0].length,v=/\s*$/.exec(g)[0].length,w=g.length-v-e.length;return p.slice(b,b+t.length)==t&&g.slice(w,w+e.length)==e?{open:{pos:n+b+t.length,margin:/\s/.test(p.charAt(b+t.length))?1:0},close:{pos:l-v-e.length,margin:/\s/.test(g.charAt(w-1))?1:0}}:null}function HE(i){let t=[];for(let e of i.selection.ranges){let n=i.doc.lineAt(e.from),l=e.to<=n.to?n:i.doc.lineAt(e.to);l.from>n.from&&l.from==e.to&&(l=e.to==n.to+1?n:i.doc.lineAt(e.to-1));let o=t.length-1;o>=0&&t[o].to>n.from?t[o].to=l.to:t.push({from:n.from+/^\s*/.exec(n.text)[0].length,to:l.to})}return t}function Hw(i,t,e=t.selection.ranges){let n=e.map(o=>ig(t,o.from).block);if(!n.every(o=>o))return null;let l=e.map((o,a)=>zE(t,n[a],o.from,o.to));if(i!=2&&!l.every(o=>o))return{changes:t.changes(e.map((o,a)=>l[a]?[]:[{from:o.from,insert:n[a].open+" "},{from:o.to,insert:" "+n[a].close}]))};if(i!=1&&l.some(o=>o)){let o=[];for(let a=0,c;a<l.length;a++)if(c=l[a]){let h=n[a],{open:d,close:p}=c;o.push({from:d.pos-h.open.length,to:d.pos+d.margin},{from:p.pos-p.margin,to:p.pos+h.close.length})}return{changes:o}}return null}function jE(i,t,e=t.selection.ranges){let n=[],l=-1;for(let{from:o,to:a}of e){let c=n.length,h=1e9,d=ig(t,o).line;if(d){for(let p=o;p<=a;){let g=t.doc.lineAt(p);if(g.from>l&&(o==a||a>g.from)){l=g.from;let b=/^\s*/.exec(g.text)[0].length,v=b==g.length,w=g.text.slice(b,b+d.length)==d?b:-1;b<g.text.length&&b<h&&(h=b),n.push({line:g,comment:w,token:d,indent:b,empty:v,single:!1})}p=g.to+1}if(h<1e9)for(let p=c;p<n.length;p++)n[p].indent<n[p].line.text.length&&(n[p].indent=h);n.length==c+1&&(n[c].single=!0)}}if(i!=2&&n.some(o=>o.comment<0&&(!o.empty||o.single))){let o=[];for(let{line:c,token:h,indent:d,empty:p,single:g}of n)(g||!p)&&o.push({from:c.from+d,insert:h+" "});let a=t.changes(o);return{changes:a,selection:t.selection.map(a,1)}}else if(i!=1&&n.some(o=>o.comment>=0)){let o=[];for(let{line:a,comment:c,token:h}of n)if(c>=0){let d=a.from+c,p=d+h.length;a.text[p-a.from]==" "&&p++,o.push({from:d,to:p})}return{changes:o}}return null}const xp=qi.define(),_E=qi.define(),UE=ht.define(),jw=ht.define({combine(i){return Vi(i,{minDepth:100,newGroupDelay:500,joinToEvent:(t,e)=>e},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(t,e)=>(n,l)=>t(n,l)||e(n,l)})}}),_w=We.define({create(){return Hi.empty},update(i,t){let e=t.state.facet(jw),n=t.annotation(xp);if(n){let h=Sn.fromTransaction(t,n.selection),d=n.side,p=d==0?i.undone:i.done;return h?p=$c(p,p.length,e.minDepth,h):p=Vw(p,t.startState.selection),new Hi(d==0?n.rest:p,d==0?p:n.rest)}let l=t.annotation(_E);if((l=="full"||l=="before")&&(i=i.isolate()),t.annotation(Ee.addToHistory)===!1)return t.changes.empty?i:i.addMapping(t.changes.desc);let o=Sn.fromTransaction(t),a=t.annotation(Ee.time),c=t.annotation(Ee.userEvent);return o?i=i.addChanges(o,a,c,e,t):t.selection&&(i=i.addSelection(t.startState.selection,a,c,e.newGroupDelay)),(l=="full"||l=="after")&&(i=i.isolate()),i},toJSON(i){return{done:i.done.map(t=>t.toJSON()),undone:i.undone.map(t=>t.toJSON())}},fromJSON(i){return new Hi(i.done.map(Sn.fromJSON),i.undone.map(Sn.fromJSON))}});function qE(i={}){return[_w,jw.of(i),at.domEventHandlers({beforeinput(t,e){let n=t.inputType=="historyUndo"?Uw:t.inputType=="historyRedo"?Sp:null;return n?(t.preventDefault(),n(e)):!1}})]}function Df(i,t){return function({state:e,dispatch:n}){if(!t&&e.readOnly)return!1;let l=e.field(_w,!1);if(!l)return!1;let o=l.pop(i,e,t);return o?(n(o),!0):!1}}const Uw=Df(0,!1),Sp=Df(1,!1),VE=Df(0,!0),PE=Df(1,!0);class Sn{constructor(t,e,n,l,o){this.changes=t,this.effects=e,this.mapped=n,this.startSelection=l,this.selectionsAfter=o}setSelAfter(t){return new Sn(this.changes,this.effects,this.mapped,this.startSelection,t)}toJSON(){var t,e,n;return{changes:(t=this.changes)===null||t===void 0?void 0:t.toJSON(),mapped:(e=this.mapped)===null||e===void 0?void 0:e.toJSON(),startSelection:(n=this.startSelection)===null||n===void 0?void 0:n.toJSON(),selectionsAfter:this.selectionsAfter.map(l=>l.toJSON())}}static fromJSON(t){return new Sn(t.changes&&De.fromJSON(t.changes),[],t.mapped&&ji.fromJSON(t.mapped),t.startSelection&&Z.fromJSON(t.startSelection),t.selectionsAfter.map(Z.fromJSON))}static fromTransaction(t,e){let n=ti;for(let l of t.startState.facet(UE)){let o=l(t);o.length&&(n=n.concat(o))}return!n.length&&t.changes.empty?null:new Sn(t.changes.invert(t.startState.doc),n,void 0,e||t.startState.selection,ti)}static selection(t){return new Sn(void 0,ti,void 0,void 0,t)}}function $c(i,t,e,n){let l=t+1>e+20?t-e-1:0,o=i.slice(l,t);return o.push(n),o}function YE(i,t){let e=[],n=!1;return i.iterChangedRanges((l,o)=>e.push(l,o)),t.iterChangedRanges((l,o,a,c)=>{for(let h=0;h<e.length;){let d=e[h++],p=e[h++];c>=d&&a<=p&&(n=!0)}}),n}function GE(i,t){return i.ranges.length==t.ranges.length&&i.ranges.filter((e,n)=>e.empty!=t.ranges[n].empty).length===0}function qw(i,t){return i.length?t.length?i.concat(t):i:t}const ti=[],XE=200;function Vw(i,t){if(i.length){let e=i[i.length-1],n=e.selectionsAfter.slice(Math.max(0,e.selectionsAfter.length-XE));return n.length&&n[n.length-1].eq(t)?i:(n.push(t),$c(i,i.length-1,1e9,e.setSelAfter(n)))}else return[Sn.selection([t])]}function IE(i){let t=i[i.length-1],e=i.slice();return e[i.length-1]=t.setSelAfter(t.selectionsAfter.slice(0,t.selectionsAfter.length-1)),e}function pm(i,t){if(!i.length)return i;let e=i.length,n=ti;for(;e;){let l=QE(i[e-1],t,n);if(l.changes&&!l.changes.empty||l.effects.length){let o=i.slice(0,e);return o[e-1]=l,o}else t=l.mapped,e--,n=l.selectionsAfter}return n.length?[Sn.selection(n)]:ti}function QE(i,t,e){let n=qw(i.selectionsAfter.length?i.selectionsAfter.map(c=>c.map(t)):ti,e);if(!i.changes)return Sn.selection(n);let l=i.changes.map(t),o=t.mapDesc(i.changes,!0),a=i.mapped?i.mapped.composeDesc(o):o;return new Sn(l,kt.mapEffects(i.effects,t),a,i.startSelection.map(o),n)}const KE=/^(input\.type|delete)($|\.)/;class Hi{constructor(t,e,n=0,l=void 0){this.done=t,this.undone=e,this.prevTime=n,this.prevUserEvent=l}isolate(){return this.prevTime?new Hi(this.done,this.undone):this}addChanges(t,e,n,l,o){let a=this.done,c=a[a.length-1];return c&&c.changes&&!c.changes.empty&&t.changes&&(!n||KE.test(n))&&(!c.selectionsAfter.length&&e-this.prevTime<l.newGroupDelay&&l.joinToEvent(o,YE(c.changes,t.changes))||n=="input.type.compose")?a=$c(a,a.length-1,l.minDepth,new Sn(t.changes.compose(c.changes),qw(kt.mapEffects(t.effects,c.changes),c.effects),c.mapped,c.startSelection,ti)):a=$c(a,a.length,l.minDepth,t),new Hi(a,ti,e,n)}addSelection(t,e,n,l){let o=this.done.length?this.done[this.done.length-1].selectionsAfter:ti;return o.length>0&&e-this.prevTime<l&&n==this.prevUserEvent&&n&&/^select($|\.)/.test(n)&&GE(o[o.length-1],t)?this:new Hi(Vw(this.done,t),this.undone,e,n)}addMapping(t){return new Hi(pm(this.done,t),pm(this.undone,t),this.prevTime,this.prevUserEvent)}pop(t,e,n){let l=t==0?this.done:this.undone;if(l.length==0)return null;let o=l[l.length-1],a=o.selectionsAfter[0]||e.selection;if(n&&o.selectionsAfter.length)return e.update({selection:o.selectionsAfter[o.selectionsAfter.length-1],annotations:xp.of({side:t,rest:IE(l),selection:a}),userEvent:t==0?"select.undo":"select.redo",scrollIntoView:!0});if(o.changes){let c=l.length==1?ti:l.slice(0,l.length-1);return o.mapped&&(c=pm(c,o.mapped)),e.update({changes:o.changes,selection:o.startSelection,effects:o.effects,annotations:xp.of({side:t,rest:c,selection:a}),filter:!1,userEvent:t==0?"undo":"redo",scrollIntoView:!0})}else return null}}Hi.empty=new Hi(ti,ti);const WE=[{key:"Mod-z",run:Uw,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:Sp,preventDefault:!0},{linux:"Ctrl-Shift-z",run:Sp,preventDefault:!0},{key:"Mod-u",run:VE,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:PE,preventDefault:!0}];function Pr(i,t){return Z.create(i.ranges.map(t),i.mainIndex)}function Pi(i,t){return i.update({selection:t,scrollIntoView:!0,userEvent:"select"})}function bi({state:i,dispatch:t},e){let n=Pr(i.selection,e);return n.eq(i.selection,!0)?!1:(t(Pi(i,n)),!0)}function Of(i,t){return Z.cursor(t?i.to:i.from)}function Pw(i,t){return bi(i,e=>e.empty?i.moveByChar(e,t):Of(e,t))}function nn(i){return i.textDirectionAt(i.state.selection.main.head)==oe.LTR}const Yw=i=>Pw(i,!nn(i)),Gw=i=>Pw(i,nn(i));function Xw(i,t){return bi(i,e=>e.empty?i.moveByGroup(e,t):Of(e,t))}const FE=i=>Xw(i,!nn(i)),ZE=i=>Xw(i,nn(i));function JE(i,t,e){if(t.type.prop(e))return!0;let n=t.to-t.from;return n&&(n>2||/[^\s,.;:]/.test(i.sliceDoc(t.from,t.to)))||t.firstChild}function Ef(i,t,e){let n=en(i).resolveInner(t.head),l=e?Ot.closedBy:Ot.openedBy;for(let h=t.head;;){let d=e?n.childAfter(h):n.childBefore(h);if(!d)break;JE(i,d,l)?n=d:h=e?d.to:d.from}let o=n.type.prop(l),a,c;return o&&(a=e?zi(i,n.from,1):zi(i,n.to,-1))&&a.matched?c=e?a.end.to:a.end.from:c=e?n.to:n.from,Z.cursor(c,e?-1:1)}const $E=i=>bi(i,t=>Ef(i.state,t,!nn(i))),tR=i=>bi(i,t=>Ef(i.state,t,nn(i)));function Iw(i,t){return bi(i,e=>{if(!e.empty)return Of(e,t);let n=i.moveVertically(e,t);return n.head!=e.head?n:i.moveToLineBoundary(e,t)})}const Qw=i=>Iw(i,!1),Kw=i=>Iw(i,!0);function Ww(i){let t=i.scrollDOM.clientHeight<i.scrollDOM.scrollHeight-2,e=0,n=0,l;if(t){for(let o of i.state.facet(at.scrollMargins)){let a=o(i);a?.top&&(e=Math.max(a?.top,e)),a?.bottom&&(n=Math.max(a?.bottom,n))}l=i.scrollDOM.clientHeight-e-n}else l=(i.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:e,marginBottom:n,selfScroll:t,height:Math.max(i.defaultLineHeight,l-5)}}function Fw(i,t){let e=Ww(i),{state:n}=i,l=Pr(n.selection,a=>a.empty?i.moveVertically(a,t,e.height):Of(a,t));if(l.eq(n.selection))return!1;let o;if(e.selfScroll){let a=i.coordsAtPos(n.selection.main.head),c=i.scrollDOM.getBoundingClientRect(),h=c.top+e.marginTop,d=c.bottom-e.marginBottom;a&&a.top>h&&a.bottom<d&&(o=at.scrollIntoView(l.main.head,{y:"start",yMargin:a.top-h}))}return i.dispatch(Pi(n,l),{effects:o}),!0}const z1=i=>Fw(i,!1),wp=i=>Fw(i,!0);function $s(i,t,e){let n=i.lineBlockAt(t.head),l=i.moveToLineBoundary(t,e);if(l.head==t.head&&l.head!=(e?n.to:n.from)&&(l=i.moveToLineBoundary(t,e,!1)),!e&&l.head==n.from&&n.length){let o=/^\s*/.exec(i.state.sliceDoc(n.from,Math.min(n.from+100,n.to)))[0].length;o&&t.head!=n.from+o&&(l=Z.cursor(n.from+o))}return l}const eR=i=>bi(i,t=>$s(i,t,!0)),nR=i=>bi(i,t=>$s(i,t,!1)),iR=i=>bi(i,t=>$s(i,t,!nn(i))),sR=i=>bi(i,t=>$s(i,t,nn(i))),lR=i=>bi(i,t=>Z.cursor(i.lineBlockAt(t.head).from,1)),rR=i=>bi(i,t=>Z.cursor(i.lineBlockAt(t.head).to,-1));function oR(i,t,e){let n=!1,l=Pr(i.selection,o=>{let a=zi(i,o.head,-1)||zi(i,o.head,1)||o.head>0&&zi(i,o.head-1,1)||o.head<i.doc.length&&zi(i,o.head+1,-1);if(!a||!a.end)return o;n=!0;let c=a.start.from==o.head?a.end.to:a.end.from;return Z.cursor(c)});return n?(t(Pi(i,l)),!0):!1}const aR=({state:i,dispatch:t})=>oR(i,t);function li(i,t){let e=Pr(i.state.selection,n=>{let l=t(n);return Z.range(n.anchor,l.head,l.goalColumn,l.bidiLevel||void 0)});return e.eq(i.state.selection)?!1:(i.dispatch(Pi(i.state,e)),!0)}function Zw(i,t){return li(i,e=>i.moveByChar(e,t))}const Jw=i=>Zw(i,!nn(i)),$w=i=>Zw(i,nn(i));function t2(i,t){return li(i,e=>i.moveByGroup(e,t))}const uR=i=>t2(i,!nn(i)),cR=i=>t2(i,nn(i)),fR=i=>li(i,t=>Ef(i.state,t,!nn(i))),hR=i=>li(i,t=>Ef(i.state,t,nn(i)));function e2(i,t){return li(i,e=>i.moveVertically(e,t))}const n2=i=>e2(i,!1),i2=i=>e2(i,!0);function s2(i,t){return li(i,e=>i.moveVertically(e,t,Ww(i).height))}const H1=i=>s2(i,!1),j1=i=>s2(i,!0),dR=i=>li(i,t=>$s(i,t,!0)),mR=i=>li(i,t=>$s(i,t,!1)),pR=i=>li(i,t=>$s(i,t,!nn(i))),gR=i=>li(i,t=>$s(i,t,nn(i))),yR=i=>li(i,t=>Z.cursor(i.lineBlockAt(t.head).from)),bR=i=>li(i,t=>Z.cursor(i.lineBlockAt(t.head).to)),_1=({state:i,dispatch:t})=>(t(Pi(i,{anchor:0})),!0),U1=({state:i,dispatch:t})=>(t(Pi(i,{anchor:i.doc.length})),!0),q1=({state:i,dispatch:t})=>(t(Pi(i,{anchor:i.selection.main.anchor,head:0})),!0),V1=({state:i,dispatch:t})=>(t(Pi(i,{anchor:i.selection.main.anchor,head:i.doc.length})),!0),vR=({state:i,dispatch:t})=>(t(i.update({selection:{anchor:0,head:i.doc.length},userEvent:"select"})),!0),xR=({state:i,dispatch:t})=>{let e=Rf(i).map(({from:n,to:l})=>Z.range(n,Math.min(l+1,i.doc.length)));return t(i.update({selection:Z.create(e),userEvent:"select"})),!0},SR=({state:i,dispatch:t})=>{let e=Pr(i.selection,n=>{let l=en(i),o=l.resolveStack(n.from,1);if(n.empty){let a=l.resolveStack(n.from,-1);a.node.from>=o.node.from&&a.node.to<=o.node.to&&(o=a)}for(let a=o;a;a=a.next){let{node:c}=a;if((c.from<n.from&&c.to>=n.to||c.to>n.to&&c.from<=n.from)&&a.next)return Z.range(c.to,c.from)}return n});return e.eq(i.selection)?!1:(t(Pi(i,e)),!0)},wR=({state:i,dispatch:t})=>{let e=i.selection,n=null;return e.ranges.length>1?n=Z.create([e.main]):e.main.empty||(n=Z.create([Z.cursor(e.main.head)])),n?(t(Pi(i,n)),!0):!1};function Ba(i,t){if(i.state.readOnly)return!1;let e="delete.selection",{state:n}=i,l=n.changeByRange(o=>{let{from:a,to:c}=o;if(a==c){let h=t(o);h<a?(e="delete.backward",h=dc(i,h,!1)):h>a&&(e="delete.forward",h=dc(i,h,!0)),a=Math.min(a,h),c=Math.max(c,h)}else a=dc(i,a,!1),c=dc(i,c,!0);return a==c?{range:o}:{changes:{from:a,to:c},range:Z.cursor(a,a<o.head?-1:1)}});return l.changes.empty?!1:(i.dispatch(n.update(l,{scrollIntoView:!0,userEvent:e,effects:e=="delete.selection"?at.announce.of(n.phrase("Selection deleted")):void 0})),!0)}function dc(i,t,e){if(i instanceof at)for(let n of i.state.facet(at.atomicRanges).map(l=>l(i)))n.between(t,t,(l,o)=>{l<t&&o>t&&(t=e?o:l)});return t}const l2=(i,t,e)=>Ba(i,n=>{let l=n.from,{state:o}=i,a=o.doc.lineAt(l),c,h;if(e&&!t&&l>a.from&&l<a.from+200&&!/[^ \t]/.test(c=a.text.slice(0,l-a.from))){if(c[c.length-1]=="	")return l-1;let d=Vr(c,o.tabSize),p=d%Fc(o)||Fc(o);for(let g=0;g<p&&c[c.length-1-g]==" ";g++)l--;h=l}else h=Ke(a.text,l-a.from,t,t)+a.from,h==l&&a.number!=(t?o.doc.lines:1)?h+=t?1:-1:!t&&/[\ufe00-\ufe0f]/.test(a.text.slice(h-a.from,l-a.from))&&(h=Ke(a.text,h-a.from,!1,!1)+a.from);return h}),Cp=i=>l2(i,!1,!0),r2=i=>l2(i,!0,!1),o2=(i,t)=>Ba(i,e=>{let n=e.head,{state:l}=i,o=l.doc.lineAt(n),a=l.charCategorizer(n);for(let c=null;;){if(n==(t?o.to:o.from)){n==e.head&&o.number!=(t?l.doc.lines:1)&&(n+=t?1:-1);break}let h=Ke(o.text,n-o.from,t)+o.from,d=o.text.slice(Math.min(n,h)-o.from,Math.max(n,h)-o.from),p=a(d);if(c!=null&&p!=c)break;(d!=" "||n!=e.head)&&(c=p),n=h}return n}),a2=i=>o2(i,!1),CR=i=>o2(i,!0),kR=i=>Ba(i,t=>{let e=i.lineBlockAt(t.head).to;return t.head<e?e:Math.min(i.state.doc.length,t.head+1)}),AR=i=>Ba(i,t=>{let e=i.moveToLineBoundary(t,!1).head;return t.head>e?e:Math.max(0,t.head-1)}),MR=i=>Ba(i,t=>{let e=i.moveToLineBoundary(t,!0).head;return t.head<e?e:Math.min(i.state.doc.length,t.head+1)}),TR=({state:i,dispatch:t})=>{if(i.readOnly)return!1;let e=i.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:_t.of(["",""])},range:Z.cursor(n.from)}));return t(i.update(e,{scrollIntoView:!0,userEvent:"input"})),!0},DR=({state:i,dispatch:t})=>{if(i.readOnly)return!1;let e=i.changeByRange(n=>{if(!n.empty||n.from==0||n.from==i.doc.length)return{range:n};let l=n.from,o=i.doc.lineAt(l),a=l==o.from?l-1:Ke(o.text,l-o.from,!1)+o.from,c=l==o.to?l+1:Ke(o.text,l-o.from,!0)+o.from;return{changes:{from:a,to:c,insert:i.doc.slice(l,c).append(i.doc.slice(a,l))},range:Z.cursor(c)}});return e.changes.empty?!1:(t(i.update(e,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function Rf(i){let t=[],e=-1;for(let n of i.selection.ranges){let l=i.doc.lineAt(n.from),o=i.doc.lineAt(n.to);if(!n.empty&&n.to==o.from&&(o=i.doc.lineAt(n.to-1)),e>=l.number){let a=t[t.length-1];a.to=o.to,a.ranges.push(n)}else t.push({from:l.from,to:o.to,ranges:[n]});e=o.number+1}return t}function u2(i,t,e){if(i.readOnly)return!1;let n=[],l=[];for(let o of Rf(i)){if(e?o.to==i.doc.length:o.from==0)continue;let a=i.doc.lineAt(e?o.to+1:o.from-1),c=a.length+1;if(e){n.push({from:o.to,to:a.to},{from:o.from,insert:a.text+i.lineBreak});for(let h of o.ranges)l.push(Z.range(Math.min(i.doc.length,h.anchor+c),Math.min(i.doc.length,h.head+c)))}else{n.push({from:a.from,to:o.from},{from:o.to,insert:i.lineBreak+a.text});for(let h of o.ranges)l.push(Z.range(h.anchor-c,h.head-c))}}return n.length?(t(i.update({changes:n,scrollIntoView:!0,selection:Z.create(l,i.selection.mainIndex),userEvent:"move.line"})),!0):!1}const OR=({state:i,dispatch:t})=>u2(i,t,!1),ER=({state:i,dispatch:t})=>u2(i,t,!0);function c2(i,t,e){if(i.readOnly)return!1;let n=[];for(let l of Rf(i))e?n.push({from:l.from,insert:i.doc.slice(l.from,l.to)+i.lineBreak}):n.push({from:l.to,insert:i.lineBreak+i.doc.slice(l.from,l.to)});return t(i.update({changes:n,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const RR=({state:i,dispatch:t})=>c2(i,t,!1),NR=({state:i,dispatch:t})=>c2(i,t,!0),BR=i=>{if(i.state.readOnly)return!1;let{state:t}=i,e=t.changes(Rf(t).map(({from:l,to:o})=>(l>0?l--:o<t.doc.length&&o++,{from:l,to:o}))),n=Pr(t.selection,l=>{let o;if(i.lineWrapping){let a=i.lineBlockAt(l.head),c=i.coordsAtPos(l.head,l.assoc||1);c&&(o=a.bottom+i.documentTop-c.bottom+i.defaultLineHeight/2)}return i.moveVertically(l,!0,o)}).map(e);return i.dispatch({changes:e,selection:n,scrollIntoView:!0,userEvent:"delete.line"}),!0};function LR(i,t){if(/\(\)|\[\]|\{\}/.test(i.sliceDoc(t-1,t+1)))return{from:t,to:t};let e=en(i).resolveInner(t),n=e.childBefore(t),l=e.childAfter(t),o;return n&&l&&n.to<=t&&l.from>=t&&(o=n.type.prop(Ot.closedBy))&&o.indexOf(l.name)>-1&&i.doc.lineAt(n.to).from==i.doc.lineAt(l.from).from&&!/\S/.test(i.sliceDoc(n.to,l.from))?{from:n.to,to:l.from}:null}const P1=f2(!1),zR=f2(!0);function f2(i){return({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(l=>{let{from:o,to:a}=l,c=t.doc.lineAt(o),h=!i&&o==a&&LR(t,o);i&&(o=a=(a<=c.to?c:t.doc.lineAt(a)).to);let d=new Mf(t,{simulateBreak:o,simulateDoubleBreak:!!h}),p=tg(d,o);for(p==null&&(p=Vr(/^\s*/.exec(t.doc.lineAt(o).text)[0],t.tabSize));a<c.to&&/\s/.test(c.text[a-c.from]);)a++;h?{from:o,to:a}=h:o>c.from&&o<c.from+100&&!/\S/.test(c.text.slice(0,o))&&(o=c.from);let g=["",ba(t,p)];return h&&g.push(ba(t,d.lineIndent(c.from,-1))),{changes:{from:o,to:a,insert:_t.of(g)},range:Z.cursor(o+1+g[1].length)}});return e(t.update(n,{scrollIntoView:!0,userEvent:"input"})),!0}}function sg(i,t){let e=-1;return i.changeByRange(n=>{let l=[];for(let a=n.from;a<=n.to;){let c=i.doc.lineAt(a);c.number>e&&(n.empty||n.to>c.from)&&(t(c,l,n),e=c.number),a=c.to+1}let o=i.changes(l);return{changes:l,range:Z.range(o.mapPos(n.anchor,1),o.mapPos(n.head,1))}})}const HR=({state:i,dispatch:t})=>{if(i.readOnly)return!1;let e=Object.create(null),n=new Mf(i,{overrideIndentation:o=>{let a=e[o];return a??-1}}),l=sg(i,(o,a,c)=>{let h=tg(n,o.from);if(h==null)return;/\S/.test(o.text)||(h=0);let d=/^\s*/.exec(o.text)[0],p=ba(i,h);(d!=p||c.from<o.from+d.length)&&(e[o.from]=h,a.push({from:o.from,to:o.from+d.length,insert:p}))});return l.changes.empty||t(i.update(l,{userEvent:"indent"})),!0},h2=({state:i,dispatch:t})=>i.readOnly?!1:(t(i.update(sg(i,(e,n)=>{n.push({from:e.from,insert:i.facet(Af)})}),{userEvent:"input.indent"})),!0),d2=({state:i,dispatch:t})=>i.readOnly?!1:(t(i.update(sg(i,(e,n)=>{let l=/^\s*/.exec(e.text)[0];if(!l)return;let o=Vr(l,i.tabSize),a=0,c=ba(i,Math.max(0,o-Fc(i)));for(;a<l.length&&a<c.length&&l.charCodeAt(a)==c.charCodeAt(a);)a++;n.push({from:e.from+a,to:e.from+l.length,insert:c.slice(a)})}),{userEvent:"delete.dedent"})),!0),jR=i=>(i.setTabFocusMode(),!0),_R=[{key:"Ctrl-b",run:Yw,shift:Jw,preventDefault:!0},{key:"Ctrl-f",run:Gw,shift:$w},{key:"Ctrl-p",run:Qw,shift:n2},{key:"Ctrl-n",run:Kw,shift:i2},{key:"Ctrl-a",run:lR,shift:yR},{key:"Ctrl-e",run:rR,shift:bR},{key:"Ctrl-d",run:r2},{key:"Ctrl-h",run:Cp},{key:"Ctrl-k",run:kR},{key:"Ctrl-Alt-h",run:a2},{key:"Ctrl-o",run:TR},{key:"Ctrl-t",run:DR},{key:"Ctrl-v",run:wp}],UR=[{key:"ArrowLeft",run:Yw,shift:Jw,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:FE,shift:uR,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:iR,shift:pR,preventDefault:!0},{key:"ArrowRight",run:Gw,shift:$w,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:ZE,shift:cR,preventDefault:!0},{mac:"Cmd-ArrowRight",run:sR,shift:gR,preventDefault:!0},{key:"ArrowUp",run:Qw,shift:n2,preventDefault:!0},{mac:"Cmd-ArrowUp",run:_1,shift:q1},{mac:"Ctrl-ArrowUp",run:z1,shift:H1},{key:"ArrowDown",run:Kw,shift:i2,preventDefault:!0},{mac:"Cmd-ArrowDown",run:U1,shift:V1},{mac:"Ctrl-ArrowDown",run:wp,shift:j1},{key:"PageUp",run:z1,shift:H1},{key:"PageDown",run:wp,shift:j1},{key:"Home",run:nR,shift:mR,preventDefault:!0},{key:"Mod-Home",run:_1,shift:q1},{key:"End",run:eR,shift:dR,preventDefault:!0},{key:"Mod-End",run:U1,shift:V1},{key:"Enter",run:P1,shift:P1},{key:"Mod-a",run:vR},{key:"Backspace",run:Cp,shift:Cp},{key:"Delete",run:r2},{key:"Mod-Backspace",mac:"Alt-Backspace",run:a2},{key:"Mod-Delete",mac:"Alt-Delete",run:CR},{mac:"Mod-Backspace",run:AR},{mac:"Mod-Delete",run:MR}].concat(_R.map(i=>({mac:i.key,run:i.run,shift:i.shift}))),qR=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:$E,shift:fR},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:tR,shift:hR},{key:"Alt-ArrowUp",run:OR},{key:"Shift-Alt-ArrowUp",run:RR},{key:"Alt-ArrowDown",run:ER},{key:"Shift-Alt-ArrowDown",run:NR},{key:"Escape",run:wR},{key:"Mod-Enter",run:zR},{key:"Alt-l",mac:"Ctrl-l",run:xR},{key:"Mod-i",run:SR,preventDefault:!0},{key:"Mod-[",run:d2},{key:"Mod-]",run:h2},{key:"Mod-Alt-\\",run:HR},{key:"Shift-Mod-k",run:BR},{key:"Shift-Mod-\\",run:aR},{key:"Mod-/",run:RE},{key:"Alt-A",run:BE},{key:"Ctrl-m",mac:"Shift-Alt-m",run:jR}].concat(UR),VR={key:"Tab",run:h2,shift:d2},Y1=typeof String.prototype.normalize=="function"?i=>i.normalize("NFKD"):i=>i;class Ur{constructor(t,e,n=0,l=t.length,o,a){this.test=a,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=t.iterRange(n,l),this.bufferStart=n,this.normalize=o?c=>o(Y1(c)):Y1,this.query=this.normalize(e)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return yn(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let t=this.peek();if(t<0)return this.done=!0,this;let e=zp(t),n=this.bufferStart+this.bufferPos;this.bufferPos+=Ni(t);let l=this.normalize(e);if(l.length)for(let o=0,a=n;;o++){let c=l.charCodeAt(o),h=this.match(c,a,this.bufferPos+this.bufferStart);if(o==l.length-1){if(h)return this.value=h,this;break}a==n&&o<e.length&&e.charCodeAt(o)==c&&a++}}}match(t,e,n){let l=null;for(let o=0;o<this.matches.length;o+=2){let a=this.matches[o],c=!1;this.query.charCodeAt(a)==t&&(a==this.query.length-1?l={from:this.matches[o+1],to:n}:(this.matches[o]++,c=!0)),c||(this.matches.splice(o,2),o-=2)}return this.query.charCodeAt(0)==t&&(this.query.length==1?l={from:e,to:n}:this.matches.push(1,e)),l&&this.test&&!this.test(l.from,l.to,this.buffer,this.bufferStart)&&(l=null),l}}typeof Symbol<"u"&&(Ur.prototype[Symbol.iterator]=function(){return this});const m2={from:-1,to:-1,match:/.*/.exec("")},lg="gm"+(/x/.unicode==null?"":"u");class p2{constructor(t,e,n,l=0,o=t.length){if(this.text=t,this.to=o,this.curLine="",this.done=!1,this.value=m2,/\\[sWDnr]|\n|\r|\[\^/.test(e))return new g2(t,e,n,l,o);this.re=new RegExp(e,lg+(n?.ignoreCase?"i":"")),this.test=n?.test,this.iter=t.iter();let a=t.lineAt(l);this.curLineStart=a.from,this.matchPos=tf(t,l),this.getLine(this.curLineStart)}getLine(t){this.iter.next(t),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let t=this.matchPos-this.curLineStart;;){this.re.lastIndex=t;let e=this.matchPos<=this.to&&this.re.exec(this.curLine);if(e){let n=this.curLineStart+e.index,l=n+e[0].length;if(this.matchPos=tf(this.text,l+(n==l?1:0)),n==this.curLineStart+this.curLine.length&&this.nextLine(),(n<l||n>this.value.to)&&(!this.test||this.test(n,l,e)))return this.value={from:n,to:l,match:e},this;t=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),t=0;else return this.done=!0,this}}}const gm=new WeakMap;class Or{constructor(t,e){this.from=t,this.text=e}get to(){return this.from+this.text.length}static get(t,e,n){let l=gm.get(t);if(!l||l.from>=n||l.to<=e){let c=new Or(e,t.sliceString(e,n));return gm.set(t,c),c}if(l.from==e&&l.to==n)return l;let{text:o,from:a}=l;return a>e&&(o=t.sliceString(e,a)+o,a=e),l.to<n&&(o+=t.sliceString(l.to,n)),gm.set(t,new Or(a,o)),new Or(e,o.slice(e-a,n-a))}}class g2{constructor(t,e,n,l,o){this.text=t,this.to=o,this.done=!1,this.value=m2,this.matchPos=tf(t,l),this.re=new RegExp(e,lg+(n?.ignoreCase?"i":"")),this.test=n?.test,this.flat=Or.get(t,l,this.chunkEnd(l+5e3))}chunkEnd(t){return t>=this.to?this.to:this.text.lineAt(t).to}next(){for(;;){let t=this.re.lastIndex=this.matchPos-this.flat.from,e=this.re.exec(this.flat.text);if(e&&!e[0]&&e.index==t&&(this.re.lastIndex=t+1,e=this.re.exec(this.flat.text)),e){let n=this.flat.from+e.index,l=n+e[0].length;if((this.flat.to>=this.to||e.index+e[0].length<=this.flat.text.length-10)&&(!this.test||this.test(n,l,e)))return this.value={from:n,to:l,match:e},this.matchPos=tf(this.text,l+(n==l?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=Or.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(p2.prototype[Symbol.iterator]=g2.prototype[Symbol.iterator]=function(){return this});function PR(i){try{return new RegExp(i,lg),!0}catch{return!1}}function tf(i,t){if(t>=i.length)return t;let e=i.lineAt(t),n;for(;t<e.to&&(n=e.text.charCodeAt(t-e.from))>=56320&&n<57344;)t++;return t}function kp(i){let t=String(i.state.doc.lineAt(i.state.selection.main.head).number),e=$t("input",{class:"cm-textfield",name:"line",value:t}),n=$t("form",{class:"cm-gotoLine",onkeydown:o=>{o.keyCode==27?(o.preventDefault(),i.dispatch({effects:la.of(!1)}),i.focus()):o.keyCode==13&&(o.preventDefault(),l())},onsubmit:o=>{o.preventDefault(),l()}},$t("label",i.state.phrase("Go to line"),": ",e)," ",$t("button",{class:"cm-button",type:"submit"},i.state.phrase("go")),$t("button",{name:"close",onclick:()=>{i.dispatch({effects:la.of(!1)}),i.focus()},"aria-label":i.state.phrase("close"),type:"button"},[""]));function l(){let o=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(e.value);if(!o)return;let{state:a}=i,c=a.doc.lineAt(a.selection.main.head),[,h,d,p,g]=o,b=p?+p.slice(1):0,v=d?+d:c.number;if(d&&g){let k=v/100;h&&(k=k*(h=="-"?-1:1)+c.number/a.doc.lines),v=Math.round(a.doc.lines*k)}else d&&h&&(v=v*(h=="-"?-1:1)+c.number);let w=a.doc.line(Math.max(1,Math.min(a.doc.lines,v))),C=Z.cursor(w.from+Math.max(0,Math.min(b,w.length)));i.dispatch({effects:[la.of(!1),at.scrollIntoView(C.from,{y:"center"})],selection:C}),i.focus()}return{dom:n}}const la=kt.define(),G1=We.define({create(){return!0},update(i,t){for(let e of t.effects)e.is(la)&&(i=e.value);return i},provide:i=>ga.from(i,t=>t?kp:null)}),YR=i=>{let t=pa(i,kp);if(!t){let e=[la.of(!0)];i.state.field(G1,!1)==null&&e.push(kt.appendConfig.of([G1,GR])),i.dispatch({effects:e}),t=pa(i,kp)}return t&&t.dom.querySelector("input").select(),!0},GR=at.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px",position:"relative","& label":{fontSize:"80%"},"& [name=close]":{position:"absolute",top:"0",bottom:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:"0"}}}),XR={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},IR=ht.define({combine(i){return Vi(i,XR,{highlightWordAroundCursor:(t,e)=>t||e,minSelectionLength:Math.min,maxMatches:Math.min})}});function QR(i){return[JR,ZR]}const KR=xt.mark({class:"cm-selectionMatch"}),WR=xt.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function X1(i,t,e,n){return(e==0||i(t.sliceDoc(e-1,e))!=ue.Word)&&(n==t.doc.length||i(t.sliceDoc(n,n+1))!=ue.Word)}function FR(i,t,e,n){return i(t.sliceDoc(e,e+1))==ue.Word&&i(t.sliceDoc(n-1,n))==ue.Word}const ZR=ve.fromClass(class{constructor(i){this.decorations=this.getDeco(i)}update(i){(i.selectionSet||i.docChanged||i.viewportChanged)&&(this.decorations=this.getDeco(i.view))}getDeco(i){let t=i.state.facet(IR),{state:e}=i,n=e.selection;if(n.ranges.length>1)return xt.none;let l=n.main,o,a=null;if(l.empty){if(!t.highlightWordAroundCursor)return xt.none;let h=e.wordAt(l.head);if(!h)return xt.none;a=e.charCategorizer(l.head),o=e.sliceDoc(h.from,h.to)}else{let h=l.to-l.from;if(h<t.minSelectionLength||h>200)return xt.none;if(t.wholeWords){if(o=e.sliceDoc(l.from,l.to),a=e.charCategorizer(l.head),!(X1(a,e,l.from,l.to)&&FR(a,e,l.from,l.to)))return xt.none}else if(o=e.sliceDoc(l.from,l.to),!o)return xt.none}let c=[];for(let h of i.visibleRanges){let d=new Ur(e.doc,o,h.from,h.to);for(;!d.next().done;){let{from:p,to:g}=d.value;if((!a||X1(a,e,p,g))&&(l.empty&&p<=l.from&&g>=l.to?c.push(WR.range(p,g)):(p>=l.to||g<=l.from)&&c.push(KR.range(p,g)),c.length>t.maxMatches))return xt.none}}return xt.set(c)}},{decorations:i=>i.decorations}),JR=at.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),$R=({state:i,dispatch:t})=>{let{selection:e}=i,n=Z.create(e.ranges.map(l=>i.wordAt(l.head)||Z.cursor(l.head)),e.mainIndex);return n.eq(e)?!1:(t(i.update({selection:n})),!0)};function tN(i,t){let{main:e,ranges:n}=i.selection,l=i.wordAt(e.head),o=l&&l.from==e.from&&l.to==e.to;for(let a=!1,c=new Ur(i.doc,t,n[n.length-1].to);;)if(c.next(),c.done){if(a)return null;c=new Ur(i.doc,t,0,Math.max(0,n[n.length-1].from-1)),a=!0}else{if(a&&n.some(h=>h.from==c.value.from))continue;if(o){let h=i.wordAt(c.value.from);if(!h||h.from!=c.value.from||h.to!=c.value.to)continue}return c.value}}const eN=({state:i,dispatch:t})=>{let{ranges:e}=i.selection;if(e.some(o=>o.from===o.to))return $R({state:i,dispatch:t});let n=i.sliceDoc(e[0].from,e[0].to);if(i.selection.ranges.some(o=>i.sliceDoc(o.from,o.to)!=n))return!1;let l=tN(i,n);return l?(t(i.update({selection:i.selection.addRange(Z.range(l.from,l.to),!1),effects:at.scrollIntoView(l.to)})),!0):!1},Yr=ht.define({combine(i){return Vi(i,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:t=>new dN(t),scrollToMatch:t=>at.scrollIntoView(t)})}});class y2{constructor(t){this.search=t.search,this.caseSensitive=!!t.caseSensitive,this.literal=!!t.literal,this.regexp=!!t.regexp,this.replace=t.replace||"",this.valid=!!this.search&&(!this.regexp||PR(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!t.wholeWord}unquote(t){return this.literal?t:t.replace(/\\([nrt\\])/g,(e,n)=>n=="n"?`
`:n=="r"?"\r":n=="t"?"	":"\\")}eq(t){return this.search==t.search&&this.replace==t.replace&&this.caseSensitive==t.caseSensitive&&this.regexp==t.regexp&&this.wholeWord==t.wholeWord}create(){return this.regexp?new lN(this):new iN(this)}getCursor(t,e=0,n){let l=t.doc?t:Lt.create({doc:t});return n==null&&(n=l.doc.length),this.regexp?xr(this,l,e,n):vr(this,l,e,n)}}class b2{constructor(t){this.spec=t}}function vr(i,t,e,n){return new Ur(t.doc,i.unquoted,e,n,i.caseSensitive?void 0:l=>l.toLowerCase(),i.wholeWord?nN(t.doc,t.charCategorizer(t.selection.main.head)):void 0)}function nN(i,t){return(e,n,l,o)=>((o>e||o+l.length<n)&&(o=Math.max(0,e-2),l=i.sliceString(o,Math.min(i.length,n+2))),(t(ef(l,e-o))!=ue.Word||t(nf(l,e-o))!=ue.Word)&&(t(nf(l,n-o))!=ue.Word||t(ef(l,n-o))!=ue.Word))}class iN extends b2{constructor(t){super(t)}nextMatch(t,e,n){let l=vr(this.spec,t,n,t.doc.length).nextOverlapping();if(l.done){let o=Math.min(t.doc.length,e+this.spec.unquoted.length);l=vr(this.spec,t,0,o).nextOverlapping()}return l.done||l.value.from==e&&l.value.to==n?null:l.value}prevMatchInRange(t,e,n){for(let l=n;;){let o=Math.max(e,l-1e4-this.spec.unquoted.length),a=vr(this.spec,t,o,l),c=null;for(;!a.nextOverlapping().done;)c=a.value;if(c)return c;if(o==e)return null;l-=1e4}}prevMatch(t,e,n){let l=this.prevMatchInRange(t,0,e);return l||(l=this.prevMatchInRange(t,Math.max(0,n-this.spec.unquoted.length),t.doc.length)),l&&(l.from!=e||l.to!=n)?l:null}getReplacement(t){return this.spec.unquote(this.spec.replace)}matchAll(t,e){let n=vr(this.spec,t,0,t.doc.length),l=[];for(;!n.next().done;){if(l.length>=e)return null;l.push(n.value)}return l}highlight(t,e,n,l){let o=vr(this.spec,t,Math.max(0,e-this.spec.unquoted.length),Math.min(n+this.spec.unquoted.length,t.doc.length));for(;!o.next().done;)l(o.value.from,o.value.to)}}function xr(i,t,e,n){return new p2(t.doc,i.search,{ignoreCase:!i.caseSensitive,test:i.wholeWord?sN(t.charCategorizer(t.selection.main.head)):void 0},e,n)}function ef(i,t){return i.slice(Ke(i,t,!1),t)}function nf(i,t){return i.slice(t,Ke(i,t))}function sN(i){return(t,e,n)=>!n[0].length||(i(ef(n.input,n.index))!=ue.Word||i(nf(n.input,n.index))!=ue.Word)&&(i(nf(n.input,n.index+n[0].length))!=ue.Word||i(ef(n.input,n.index+n[0].length))!=ue.Word)}class lN extends b2{nextMatch(t,e,n){let l=xr(this.spec,t,n,t.doc.length).next();return l.done&&(l=xr(this.spec,t,0,e).next()),l.done?null:l.value}prevMatchInRange(t,e,n){for(let l=1;;l++){let o=Math.max(e,n-l*1e4),a=xr(this.spec,t,o,n),c=null;for(;!a.next().done;)c=a.value;if(c&&(o==e||c.from>o+10))return c;if(o==e)return null}}prevMatch(t,e,n){return this.prevMatchInRange(t,0,e)||this.prevMatchInRange(t,n,t.doc.length)}getReplacement(t){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(e,n)=>{if(n=="&")return t.match[0];if(n=="$")return"$";for(let l=n.length;l>0;l--){let o=+n.slice(0,l);if(o>0&&o<t.match.length)return t.match[o]+n.slice(l)}return e})}matchAll(t,e){let n=xr(this.spec,t,0,t.doc.length),l=[];for(;!n.next().done;){if(l.length>=e)return null;l.push(n.value)}return l}highlight(t,e,n,l){let o=xr(this.spec,t,Math.max(0,e-250),Math.min(n+250,t.doc.length));for(;!o.next().done;)l(o.value.from,o.value.to)}}const va=kt.define(),rg=kt.define(),Qs=We.define({create(i){return new ym(Ap(i).create(),null)},update(i,t){for(let e of t.effects)e.is(va)?i=new ym(e.value.create(),i.panel):e.is(rg)&&(i=new ym(i.query,e.value?og:null));return i},provide:i=>ga.from(i,t=>t.panel)});class ym{constructor(t,e){this.query=t,this.panel=e}}const rN=xt.mark({class:"cm-searchMatch"}),oN=xt.mark({class:"cm-searchMatch cm-searchMatch-selected"}),aN=ve.fromClass(class{constructor(i){this.view=i,this.decorations=this.highlight(i.state.field(Qs))}update(i){let t=i.state.field(Qs);(t!=i.startState.field(Qs)||i.docChanged||i.selectionSet||i.viewportChanged)&&(this.decorations=this.highlight(t))}highlight({query:i,panel:t}){if(!t||!i.spec.valid)return xt.none;let{view:e}=this,n=new us;for(let l=0,o=e.visibleRanges,a=o.length;l<a;l++){let{from:c,to:h}=o[l];for(;l<a-1&&h>o[l+1].from-500;)h=o[++l].to;i.highlight(e.state,c,h,(d,p)=>{let g=e.state.selection.ranges.some(b=>b.from==d&&b.to==p);n.add(d,p,g?oN:rN)})}return n.finish()}},{decorations:i=>i.decorations});function La(i){return t=>{let e=t.state.field(Qs,!1);return e&&e.query.spec.valid?i(t,e):S2(t)}}const sf=La((i,{query:t})=>{let{to:e}=i.state.selection.main,n=t.nextMatch(i.state,e,e);if(!n)return!1;let l=Z.single(n.from,n.to),o=i.state.facet(Yr);return i.dispatch({selection:l,effects:[ag(i,n),o.scrollToMatch(l.main,i)],userEvent:"select.search"}),x2(i),!0}),lf=La((i,{query:t})=>{let{state:e}=i,{from:n}=e.selection.main,l=t.prevMatch(e,n,n);if(!l)return!1;let o=Z.single(l.from,l.to),a=i.state.facet(Yr);return i.dispatch({selection:o,effects:[ag(i,l),a.scrollToMatch(o.main,i)],userEvent:"select.search"}),x2(i),!0}),uN=La((i,{query:t})=>{let e=t.matchAll(i.state,1e3);return!e||!e.length?!1:(i.dispatch({selection:Z.create(e.map(n=>Z.range(n.from,n.to))),userEvent:"select.search.matches"}),!0)}),cN=({state:i,dispatch:t})=>{let e=i.selection;if(e.ranges.length>1||e.main.empty)return!1;let{from:n,to:l}=e.main,o=[],a=0;for(let c=new Ur(i.doc,i.sliceDoc(n,l));!c.next().done;){if(o.length>1e3)return!1;c.value.from==n&&(a=o.length),o.push(Z.range(c.value.from,c.value.to))}return t(i.update({selection:Z.create(o,a),userEvent:"select.search.matches"})),!0},I1=La((i,{query:t})=>{let{state:e}=i,{from:n,to:l}=e.selection.main;if(e.readOnly)return!1;let o=t.nextMatch(e,n,n);if(!o)return!1;let a=o,c=[],h,d,p=[];a.from==n&&a.to==l&&(d=e.toText(t.getReplacement(a)),c.push({from:a.from,to:a.to,insert:d}),a=t.nextMatch(e,a.from,a.to),p.push(at.announce.of(e.phrase("replaced match on line $",e.doc.lineAt(n).number)+".")));let g=i.state.changes(c);return a&&(h=Z.single(a.from,a.to).map(g),p.push(ag(i,a)),p.push(e.facet(Yr).scrollToMatch(h.main,i))),i.dispatch({changes:g,selection:h,effects:p,userEvent:"input.replace"}),!0}),fN=La((i,{query:t})=>{if(i.state.readOnly)return!1;let e=t.matchAll(i.state,1e9).map(l=>{let{from:o,to:a}=l;return{from:o,to:a,insert:t.getReplacement(l)}});if(!e.length)return!1;let n=i.state.phrase("replaced $ matches",e.length)+".";return i.dispatch({changes:e,effects:at.announce.of(n),userEvent:"input.replace.all"}),!0});function og(i){return i.state.facet(Yr).createPanel(i)}function Ap(i,t){var e,n,l,o,a;let c=i.selection.main,h=c.empty||c.to>c.from+100?"":i.sliceDoc(c.from,c.to);if(t&&!h)return t;let d=i.facet(Yr);return new y2({search:((e=t?.literal)!==null&&e!==void 0?e:d.literal)?h:h.replace(/\n/g,"\\n"),caseSensitive:(n=t?.caseSensitive)!==null&&n!==void 0?n:d.caseSensitive,literal:(l=t?.literal)!==null&&l!==void 0?l:d.literal,regexp:(o=t?.regexp)!==null&&o!==void 0?o:d.regexp,wholeWord:(a=t?.wholeWord)!==null&&a!==void 0?a:d.wholeWord})}function v2(i){let t=pa(i,og);return t&&t.dom.querySelector("[main-field]")}function x2(i){let t=v2(i);t&&t==i.root.activeElement&&t.select()}const S2=i=>{let t=i.state.field(Qs,!1);if(t&&t.panel){let e=v2(i);if(e&&e!=i.root.activeElement){let n=Ap(i.state,t.query.spec);n.valid&&i.dispatch({effects:va.of(n)}),e.focus(),e.select()}}else i.dispatch({effects:[rg.of(!0),t?va.of(Ap(i.state,t.query.spec)):kt.appendConfig.of(pN)]});return!0},w2=i=>{let t=i.state.field(Qs,!1);if(!t||!t.panel)return!1;let e=pa(i,og);return e&&e.dom.contains(i.root.activeElement)&&i.focus(),i.dispatch({effects:rg.of(!1)}),!0},hN=[{key:"Mod-f",run:S2,scope:"editor search-panel"},{key:"F3",run:sf,shift:lf,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:sf,shift:lf,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:w2,scope:"editor search-panel"},{key:"Mod-Shift-l",run:cN},{key:"Mod-Alt-g",run:YR},{key:"Mod-d",run:eN,preventDefault:!0}];class dN{constructor(t){this.view=t;let e=this.query=t.state.field(Qs).query.spec;this.commit=this.commit.bind(this),this.searchField=$t("input",{value:e.search,placeholder:Ln(t,"Find"),"aria-label":Ln(t,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=$t("input",{value:e.replace,placeholder:Ln(t,"Replace"),"aria-label":Ln(t,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=$t("input",{type:"checkbox",name:"case",form:"",checked:e.caseSensitive,onchange:this.commit}),this.reField=$t("input",{type:"checkbox",name:"re",form:"",checked:e.regexp,onchange:this.commit}),this.wordField=$t("input",{type:"checkbox",name:"word",form:"",checked:e.wholeWord,onchange:this.commit});function n(l,o,a){return $t("button",{class:"cm-button",name:l,onclick:o,type:"button"},a)}this.dom=$t("div",{onkeydown:l=>this.keydown(l),class:"cm-search"},[this.searchField,n("next",()=>sf(t),[Ln(t,"next")]),n("prev",()=>lf(t),[Ln(t,"previous")]),n("select",()=>uN(t),[Ln(t,"all")]),$t("label",null,[this.caseField,Ln(t,"match case")]),$t("label",null,[this.reField,Ln(t,"regexp")]),$t("label",null,[this.wordField,Ln(t,"by word")]),...t.state.readOnly?[]:[$t("br"),this.replaceField,n("replace",()=>I1(t),[Ln(t,"replace")]),n("replaceAll",()=>fN(t),[Ln(t,"replace all")])],$t("button",{name:"close",onclick:()=>w2(t),"aria-label":Ln(t,"close"),type:"button"},[""])])}commit(){let t=new y2({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});t.eq(this.query)||(this.query=t,this.view.dispatch({effects:va.of(t)}))}keydown(t){wD(this.view,t,"search-panel")?t.preventDefault():t.keyCode==13&&t.target==this.searchField?(t.preventDefault(),(t.shiftKey?lf:sf)(this.view)):t.keyCode==13&&t.target==this.replaceField&&(t.preventDefault(),I1(this.view))}update(t){for(let e of t.transactions)for(let n of e.effects)n.is(va)&&!n.value.eq(this.query)&&this.setQuery(n.value)}setQuery(t){this.query=t,this.searchField.value=t.search,this.replaceField.value=t.replace,this.caseField.checked=t.caseSensitive,this.reField.checked=t.regexp,this.wordField.checked=t.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(Yr).top}}function Ln(i,t){return i.state.phrase(t)}const mc=30,pc=/[\s\.,:;?!]/;function ag(i,{from:t,to:e}){let n=i.state.doc.lineAt(t),l=i.state.doc.lineAt(e).to,o=Math.max(n.from,t-mc),a=Math.min(l,e+mc),c=i.state.sliceDoc(o,a);if(o!=n.from){for(let h=0;h<mc;h++)if(!pc.test(c[h+1])&&pc.test(c[h])){c=c.slice(h);break}}if(a!=l){for(let h=c.length-1;h>c.length-mc;h--)if(!pc.test(c[h-1])&&pc.test(c[h])){c=c.slice(0,h);break}}return at.announce.of(`${i.state.phrase("current match")}. ${c} ${i.state.phrase("on line")} ${n.number}.`)}const mN=at.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),pN=[Qs,Rl.low(aN),mN];class C2{constructor(t,e,n,l){this.state=t,this.pos=e,this.explicit=n,this.view=l,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(t){let e=en(this.state).resolveInner(this.pos,-1);for(;e&&t.indexOf(e.name)<0;)e=e.parent;return e?{from:e.from,to:this.pos,text:this.state.sliceDoc(e.from,this.pos),type:e.type}:null}matchBefore(t){let e=this.state.doc.lineAt(this.pos),n=Math.max(e.from,this.pos-250),l=e.text.slice(n-e.from,this.pos-e.from),o=l.search(k2(t,!1));return o<0?null:{from:n+o,to:this.pos,text:l.slice(o)}}get aborted(){return this.abortListeners==null}addEventListener(t,e,n){t=="abort"&&this.abortListeners&&(this.abortListeners.push(e),n&&n.onDocChange&&(this.abortOnDocChange=!0))}}function Q1(i){let t=Object.keys(i).join(""),e=/\w/.test(t);return e&&(t=t.replace(/\w/g,"")),`[${e?"\\w":""}${t.replace(/[^\w\s]/g,"\\$&")}]`}function gN(i){let t=Object.create(null),e=Object.create(null);for(let{label:l}of i){t[l[0]]=!0;for(let o=1;o<l.length;o++)e[l[o]]=!0}let n=Q1(t)+Q1(e)+"*$";return[new RegExp("^"+n),new RegExp(n)]}function yN(i){let t=i.map(l=>typeof l=="string"?{label:l}:l),[e,n]=t.every(l=>/^\w+$/.test(l.label))?[/\w*$/,/\w+$/]:gN(t);return l=>{let o=l.matchBefore(n);return o||l.explicit?{from:o?o.from:l.pos,options:t,validFor:e}:null}}class K1{constructor(t,e,n,l){this.completion=t,this.source=e,this.match=n,this.score=l}}function Al(i){return i.selection.main.from}function k2(i,t){var e;let{source:n}=i,l=t&&n[0]!="^",o=n[n.length-1]!="$";return!l&&!o?i:new RegExp(`${l?"^":""}(?:${n})${o?"$":""}`,(e=i.flags)!==null&&e!==void 0?e:i.ignoreCase?"i":"")}const A2=qi.define();function bN(i,t,e,n){let{main:l}=i.selection,o=e-l.from,a=n-l.from;return{...i.changeByRange(c=>{if(c!=l&&e!=n&&i.sliceDoc(c.from+o,c.from+a)!=i.sliceDoc(e,n))return{range:c};let h=i.toText(t);return{changes:{from:c.from+o,to:n==l.from?c.to:c.from+a,insert:h},range:Z.cursor(c.from+o+h.length)}}),scrollIntoView:!0,userEvent:"input.complete"}}const W1=new WeakMap;function vN(i){if(!Array.isArray(i))return i;let t=W1.get(i);return t||W1.set(i,t=yN(i)),t}const rf=kt.define(),xa=kt.define();class xN{constructor(t){this.pattern=t,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let e=0;e<t.length;){let n=yn(t,e),l=Ni(n);this.chars.push(n);let o=t.slice(e,e+l),a=o.toUpperCase();this.folded.push(yn(a==o?o.toLowerCase():a,0)),e+=l}this.astral=t.length!=this.chars.length}ret(t,e){return this.score=t,this.matched=e,this}match(t){if(this.pattern.length==0)return this.ret(-100,[]);if(t.length<this.pattern.length)return null;let{chars:e,folded:n,any:l,precise:o,byWord:a}=this;if(e.length==1){let N=yn(t,0),j=Ni(N),E=j==t.length?0:-100;if(N!=e[0])if(N==n[0])E+=-200;else return null;return this.ret(E,[0,j])}let c=t.indexOf(this.pattern);if(c==0)return this.ret(t.length==this.pattern.length?0:-100,[0,this.pattern.length]);let h=e.length,d=0;if(c<0){for(let N=0,j=Math.min(t.length,200);N<j&&d<h;){let E=yn(t,N);(E==e[d]||E==n[d])&&(l[d++]=N),N+=Ni(E)}if(d<h)return null}let p=0,g=0,b=!1,v=0,w=-1,C=-1,k=/[a-z]/.test(t),A=!0;for(let N=0,j=Math.min(t.length,200),E=0;N<j&&g<h;){let D=yn(t,N);c<0&&(p<h&&D==e[p]&&(o[p++]=N),v<h&&(D==e[v]||D==n[v]?(v==0&&(w=N),C=N+1,v++):v=0));let z,U=D<255?D>=48&&D<=57||D>=97&&D<=122?2:D>=65&&D<=90?1:0:(z=zp(D))!=z.toLowerCase()?1:z!=z.toUpperCase()?2:0;(!N||U==1&&k||E==0&&U!=0)&&(e[g]==D||n[g]==D&&(b=!0)?a[g++]=N:a.length&&(A=!1)),E=U,N+=Ni(D)}return g==h&&a[0]==0&&A?this.result(-100+(b?-200:0),a,t):v==h&&w==0?this.ret(-200-t.length+(C==t.length?0:-100),[0,C]):c>-1?this.ret(-700-t.length,[c,c+this.pattern.length]):v==h?this.ret(-900-t.length,[w,C]):g==h?this.result(-100+(b?-200:0)+-700+(A?0:-1100),a,t):e.length==2?null:this.result((l[0]?-700:0)+-200+-1100,l,t)}result(t,e,n){let l=[],o=0;for(let a of e){let c=a+(this.astral?Ni(yn(n,a)):1);o&&l[o-1]==a?l[o-1]=c:(l[o++]=a,l[o++]=c)}return this.ret(t-n.length,l)}}class SN{constructor(t){this.pattern=t,this.matched=[],this.score=0,this.folded=t.toLowerCase()}match(t){if(t.length<this.pattern.length)return null;let e=t.slice(0,this.pattern.length),n=e==this.pattern?0:e.toLowerCase()==this.folded?-200:null;return n==null?null:(this.matched=[0,e.length],this.score=n+(t.length==this.pattern.length?0:-100),this)}}const qe=ht.define({combine(i){return Vi(i,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:wN,filterStrict:!1,compareCompletions:(t,e)=>t.label.localeCompare(e.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(t,e)=>t&&e,closeOnBlur:(t,e)=>t&&e,icons:(t,e)=>t&&e,tooltipClass:(t,e)=>n=>F1(t(n),e(n)),optionClass:(t,e)=>n=>F1(t(n),e(n)),addToOptions:(t,e)=>t.concat(e),filterStrict:(t,e)=>t||e})}});function F1(i,t){return i?t?i+" "+t:i:t}function wN(i,t,e,n,l,o){let a=i.textDirection==oe.RTL,c=a,h=!1,d="top",p,g,b=t.left-l.left,v=l.right-t.right,w=n.right-n.left,C=n.bottom-n.top;if(c&&b<Math.min(w,v)?c=!1:!c&&v<Math.min(w,b)&&(c=!0),w<=(c?b:v))p=Math.max(l.top,Math.min(e.top,l.bottom-C))-t.top,g=Math.min(400,c?b:v);else{h=!0,g=Math.min(400,(a?t.right:l.right-t.left)-30);let N=l.bottom-t.bottom;N>=C||N>t.top?p=e.bottom-t.top:(d="bottom",p=t.bottom-e.top)}let k=(t.bottom-t.top)/o.offsetHeight,A=(t.right-t.left)/o.offsetWidth;return{style:`${d}: ${p/k}px; max-width: ${g/A}px`,class:"cm-completionInfo-"+(h?a?"left-narrow":"right-narrow":c?"left":"right")}}function CN(i){let t=i.addToOptions.slice();return i.icons&&t.push({render(e){let n=document.createElement("div");return n.classList.add("cm-completionIcon"),e.type&&n.classList.add(...e.type.split(/\s+/g).map(l=>"cm-completionIcon-"+l)),n.setAttribute("aria-hidden","true"),n},position:20}),t.push({render(e,n,l,o){let a=document.createElement("span");a.className="cm-completionLabel";let c=e.displayLabel||e.label,h=0;for(let d=0;d<o.length;){let p=o[d++],g=o[d++];p>h&&a.appendChild(document.createTextNode(c.slice(h,p)));let b=a.appendChild(document.createElement("span"));b.appendChild(document.createTextNode(c.slice(p,g))),b.className="cm-completionMatchedText",h=g}return h<c.length&&a.appendChild(document.createTextNode(c.slice(h))),a},position:50},{render(e){if(!e.detail)return null;let n=document.createElement("span");return n.className="cm-completionDetail",n.textContent=e.detail,n},position:80}),t.sort((e,n)=>e.position-n.position).map(e=>e.render)}function bm(i,t,e){if(i<=e)return{from:0,to:i};if(t<0&&(t=0),t<=i>>1){let l=Math.floor(t/e);return{from:l*e,to:(l+1)*e}}let n=Math.floor((i-t)/e);return{from:i-(n+1)*e,to:i-n*e}}class kN{constructor(t,e,n){this.view=t,this.stateField=e,this.applyCompletion=n,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:h=>this.placeInfo(h),key:this},this.space=null,this.currentClass="";let l=t.state.field(e),{options:o,selected:a}=l.open,c=t.state.facet(qe);this.optionContent=CN(c),this.optionClass=c.optionClass,this.tooltipClass=c.tooltipClass,this.range=bm(o.length,a,c.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(t.state),this.dom.addEventListener("mousedown",h=>{let{options:d}=t.state.field(e).open;for(let p=h.target,g;p&&p!=this.dom;p=p.parentNode)if(p.nodeName=="LI"&&(g=/-(\d+)$/.exec(p.id))&&+g[1]<d.length){this.applyCompletion(t,d[+g[1]]),h.preventDefault();return}}),this.dom.addEventListener("focusout",h=>{let d=t.state.field(this.stateField,!1);d&&d.tooltip&&t.state.facet(qe).closeOnBlur&&h.relatedTarget!=t.contentDOM&&t.dispatch({effects:xa.of(null)})}),this.showOptions(o,l.id)}mount(){this.updateSel()}showOptions(t,e){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(t,e,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(t){var e;let n=t.state.field(this.stateField),l=t.startState.field(this.stateField);if(this.updateTooltipClass(t.state),n!=l){let{options:o,selected:a,disabled:c}=n.open;(!l.open||l.open.options!=o)&&(this.range=bm(o.length,a,t.state.facet(qe).maxRenderedOptions),this.showOptions(o,n.id)),this.updateSel(),c!=((e=l.open)===null||e===void 0?void 0:e.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!c)}}updateTooltipClass(t){let e=this.tooltipClass(t);if(e!=this.currentClass){for(let n of this.currentClass.split(" "))n&&this.dom.classList.remove(n);for(let n of e.split(" "))n&&this.dom.classList.add(n);this.currentClass=e}}positioned(t){this.space=t,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let t=this.view.state.field(this.stateField),e=t.open;if((e.selected>-1&&e.selected<this.range.from||e.selected>=this.range.to)&&(this.range=bm(e.options.length,e.selected,this.view.state.facet(qe).maxRenderedOptions),this.showOptions(e.options,t.id)),this.updateSelectedOption(e.selected)){this.destroyInfo();let{completion:n}=e.options[e.selected],{info:l}=n;if(!l)return;let o=typeof l=="string"?document.createTextNode(l):l(n);if(!o)return;"then"in o?o.then(a=>{a&&this.view.state.field(this.stateField,!1)==t&&this.addInfoPane(a,n)}).catch(a=>xn(this.view.state,a,"completion info")):this.addInfoPane(o,n)}}addInfoPane(t,e){this.destroyInfo();let n=this.info=document.createElement("div");if(n.className="cm-tooltip cm-completionInfo",t.nodeType!=null)n.appendChild(t),this.infoDestroy=null;else{let{dom:l,destroy:o}=t;n.appendChild(l),this.infoDestroy=o||null}this.dom.appendChild(n),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(t){let e=null;for(let n=this.list.firstChild,l=this.range.from;n;n=n.nextSibling,l++)n.nodeName!="LI"||!n.id?l--:l==t?n.hasAttribute("aria-selected")||(n.setAttribute("aria-selected","true"),e=n):n.hasAttribute("aria-selected")&&n.removeAttribute("aria-selected");return e&&MN(this.list,e),e}measureInfo(){let t=this.dom.querySelector("[aria-selected]");if(!t||!this.info)return null;let e=this.dom.getBoundingClientRect(),n=this.info.getBoundingClientRect(),l=t.getBoundingClientRect(),o=this.space;if(!o){let a=this.dom.ownerDocument.documentElement;o={left:0,top:0,right:a.clientWidth,bottom:a.clientHeight}}return l.top>Math.min(o.bottom,e.bottom)-10||l.bottom<Math.max(o.top,e.top)+10?null:this.view.state.facet(qe).positionInfo(this.view,e,l,n,o,this.dom)}placeInfo(t){this.info&&(t?(t.style&&(this.info.style.cssText=t.style),this.info.className="cm-tooltip cm-completionInfo "+(t.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(t,e,n){const l=document.createElement("ul");l.id=e,l.setAttribute("role","listbox"),l.setAttribute("aria-expanded","true"),l.setAttribute("aria-label",this.view.state.phrase("Completions")),l.addEventListener("mousedown",a=>{a.target==l&&a.preventDefault()});let o=null;for(let a=n.from;a<n.to;a++){let{completion:c,match:h}=t[a],{section:d}=c;if(d){let b=typeof d=="string"?d:d.name;if(b!=o&&(a>n.from||n.from==0))if(o=b,typeof d!="string"&&d.header)l.appendChild(d.header(d));else{let v=l.appendChild(document.createElement("completion-section"));v.textContent=b}}const p=l.appendChild(document.createElement("li"));p.id=e+"-"+a,p.setAttribute("role","option");let g=this.optionClass(c);g&&(p.className=g);for(let b of this.optionContent){let v=b(c,this.view.state,this.view,h);v&&p.appendChild(v)}}return n.from&&l.classList.add("cm-completionListIncompleteTop"),n.to<t.length&&l.classList.add("cm-completionListIncompleteBottom"),l}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function AN(i,t){return e=>new kN(e,i,t)}function MN(i,t){let e=i.getBoundingClientRect(),n=t.getBoundingClientRect(),l=e.height/i.offsetHeight;n.top<e.top?i.scrollTop-=(e.top-n.top)/l:n.bottom>e.bottom&&(i.scrollTop+=(n.bottom-e.bottom)/l)}function Z1(i){return(i.boost||0)*100+(i.apply?10:0)+(i.info?5:0)+(i.type?1:0)}function TN(i,t){let e=[],n=null,l=d=>{e.push(d);let{section:p}=d.completion;if(p){n||(n=[]);let g=typeof p=="string"?p:p.name;n.some(b=>b.name==g)||n.push(typeof p=="string"?{name:g}:p)}},o=t.facet(qe);for(let d of i)if(d.hasResult()){let p=d.result.getMatch;if(d.result.filter===!1)for(let g of d.result.options)l(new K1(g,d.source,p?p(g):[],1e9-e.length));else{let g=t.sliceDoc(d.from,d.to),b,v=o.filterStrict?new SN(g):new xN(g);for(let w of d.result.options)if(b=v.match(w.label)){let C=w.displayLabel?p?p(w,b.matched):[]:b.matched;l(new K1(w,d.source,C,b.score+(w.boost||0)))}}}if(n){let d=Object.create(null),p=0,g=(b,v)=>{var w,C;return((w=b.rank)!==null&&w!==void 0?w:1e9)-((C=v.rank)!==null&&C!==void 0?C:1e9)||(b.name<v.name?-1:1)};for(let b of n.sort(g))p-=1e5,d[b.name]=p;for(let b of e){let{section:v}=b.completion;v&&(b.score+=d[typeof v=="string"?v:v.name])}}let a=[],c=null,h=o.compareCompletions;for(let d of e.sort((p,g)=>g.score-p.score||h(p.completion,g.completion))){let p=d.completion;!c||c.label!=p.label||c.detail!=p.detail||c.type!=null&&p.type!=null&&c.type!=p.type||c.apply!=p.apply||c.boost!=p.boost?a.push(d):Z1(d.completion)>Z1(c)&&(a[a.length-1]=d),c=d.completion}return a}class Ar{constructor(t,e,n,l,o,a){this.options=t,this.attrs=e,this.tooltip=n,this.timestamp=l,this.selected=o,this.disabled=a}setSelected(t,e){return t==this.selected||t>=this.options.length?this:new Ar(this.options,J1(e,t),this.tooltip,this.timestamp,t,this.disabled)}static build(t,e,n,l,o,a){if(l&&!a&&t.some(d=>d.isPending))return l.setDisabled();let c=TN(t,e);if(!c.length)return l&&t.some(d=>d.isPending)?l.setDisabled():null;let h=e.facet(qe).selectOnOpen?0:-1;if(l&&l.selected!=h&&l.selected!=-1){let d=l.options[l.selected].completion;for(let p=0;p<c.length;p++)if(c[p].completion==d){h=p;break}}return new Ar(c,J1(n,h),{pos:t.reduce((d,p)=>p.hasResult()?Math.min(d,p.from):d,1e8),create:BN,above:o.aboveCursor},l?l.timestamp:Date.now(),h,!1)}map(t){return new Ar(this.options,this.attrs,{...this.tooltip,pos:t.mapPos(this.tooltip.pos)},this.timestamp,this.selected,this.disabled)}setDisabled(){return new Ar(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class of{constructor(t,e,n){this.active=t,this.id=e,this.open=n}static start(){return new of(RN,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(t){let{state:e}=t,n=e.facet(qe),o=(n.override||e.languageDataAt("autocomplete",Al(e)).map(vN)).map(h=>(this.active.find(p=>p.source==h)||new ei(h,this.active.some(p=>p.state!=0)?1:0)).update(t,n));o.length==this.active.length&&o.every((h,d)=>h==this.active[d])&&(o=this.active);let a=this.open,c=t.effects.some(h=>h.is(ug));a&&t.docChanged&&(a=a.map(t.changes)),t.selection||o.some(h=>h.hasResult()&&t.changes.touchesRange(h.from,h.to))||!DN(o,this.active)||c?a=Ar.build(o,e,this.id,a,n,c):a&&a.disabled&&!o.some(h=>h.isPending)&&(a=null),!a&&o.every(h=>!h.isPending)&&o.some(h=>h.hasResult())&&(o=o.map(h=>h.hasResult()?new ei(h.source,0):h));for(let h of t.effects)h.is(T2)&&(a=a&&a.setSelected(h.value,this.id));return o==this.active&&a==this.open?this:new of(o,this.id,a)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?ON:EN}}function DN(i,t){if(i==t)return!0;for(let e=0,n=0;;){for(;e<i.length&&!i[e].hasResult();)e++;for(;n<t.length&&!t[n].hasResult();)n++;let l=e==i.length,o=n==t.length;if(l||o)return l==o;if(i[e++].result!=t[n++].result)return!1}}const ON={"aria-autocomplete":"list"},EN={};function J1(i,t){let e={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":i};return t>-1&&(e["aria-activedescendant"]=i+"-"+t),e}const RN=[];function M2(i,t){if(i.isUserEvent("input.complete")){let n=i.annotation(A2);if(n&&t.activateOnCompletion(n))return 12}let e=i.isUserEvent("input.type");return e&&t.activateOnTyping?5:e?1:i.isUserEvent("delete.backward")?2:i.selection?8:i.docChanged?16:0}class ei{constructor(t,e,n=!1){this.source=t,this.state=e,this.explicit=n}hasResult(){return!1}get isPending(){return this.state==1}update(t,e){let n=M2(t,e),l=this;(n&8||n&16&&this.touches(t))&&(l=new ei(l.source,0)),n&4&&l.state==0&&(l=new ei(this.source,1)),l=l.updateFor(t,n);for(let o of t.effects)if(o.is(rf))l=new ei(l.source,1,o.value);else if(o.is(xa))l=new ei(l.source,0);else if(o.is(ug))for(let a of o.value)a.source==l.source&&(l=a);return l}updateFor(t,e){return this.map(t.changes)}map(t){return this}touches(t){return t.changes.touchesRange(Al(t.state))}}class Er extends ei{constructor(t,e,n,l,o,a){super(t,3,e),this.limit=n,this.result=l,this.from=o,this.to=a}hasResult(){return!0}updateFor(t,e){var n;if(!(e&3))return this.map(t.changes);let l=this.result;l.map&&!t.changes.empty&&(l=l.map(l,t.changes));let o=t.changes.mapPos(this.from),a=t.changes.mapPos(this.to,1),c=Al(t.state);if(c>a||!l||e&2&&(Al(t.startState)==this.from||c<this.limit))return new ei(this.source,e&4?1:0);let h=t.changes.mapPos(this.limit);return NN(l.validFor,t.state,o,a)?new Er(this.source,this.explicit,h,l,o,a):l.update&&(l=l.update(l,o,a,new C2(t.state,c,!1)))?new Er(this.source,this.explicit,h,l,l.from,(n=l.to)!==null&&n!==void 0?n:Al(t.state)):new ei(this.source,1,this.explicit)}map(t){return t.empty?this:(this.result.map?this.result.map(this.result,t):this.result)?new Er(this.source,this.explicit,t.mapPos(this.limit),this.result,t.mapPos(this.from),t.mapPos(this.to,1)):new ei(this.source,0)}touches(t){return t.changes.touchesRange(this.from,this.to)}}function NN(i,t,e,n){if(!i)return!1;let l=t.sliceDoc(e,n);return typeof i=="function"?i(l,e,n,t):k2(i,!0).test(l)}const ug=kt.define({map(i,t){return i.map(e=>e.map(t))}}),T2=kt.define(),vn=We.define({create(){return of.start()},update(i,t){return i.update(t)},provide:i=>[Wp.from(i,t=>t.tooltip),at.contentAttributes.from(i,t=>t.attrs)]});function cg(i,t){const e=t.completion.apply||t.completion.label;let n=i.state.field(vn).active.find(l=>l.source==t.source);return n instanceof Er?(typeof e=="string"?i.dispatch({...bN(i.state,e,n.from,n.to),annotations:A2.of(t.completion)}):e(i,t.completion,n.from,n.to),!0):!1}const BN=AN(vn,cg);function gc(i,t="option"){return e=>{let n=e.state.field(vn,!1);if(!n||!n.open||n.open.disabled||Date.now()-n.open.timestamp<e.state.facet(qe).interactionDelay)return!1;let l=1,o;t=="page"&&(o=aw(e,n.open.tooltip))&&(l=Math.max(2,Math.floor(o.dom.offsetHeight/o.dom.querySelector("li").offsetHeight)-1));let{length:a}=n.open.options,c=n.open.selected>-1?n.open.selected+l*(i?1:-1):i?0:a-1;return c<0?c=t=="page"?0:a-1:c>=a&&(c=t=="page"?a-1:0),e.dispatch({effects:T2.of(c)}),!0}}const LN=i=>{let t=i.state.field(vn,!1);return i.state.readOnly||!t||!t.open||t.open.selected<0||t.open.disabled||Date.now()-t.open.timestamp<i.state.facet(qe).interactionDelay?!1:cg(i,t.open.options[t.open.selected])},vm=i=>i.state.field(vn,!1)?(i.dispatch({effects:rf.of(!0)}),!0):!1,zN=i=>{let t=i.state.field(vn,!1);return!t||!t.active.some(e=>e.state!=0)?!1:(i.dispatch({effects:xa.of(null)}),!0)};class HN{constructor(t,e){this.active=t,this.context=e,this.time=Date.now(),this.updates=[],this.done=void 0}}const jN=50,_N=1e3,UN=ve.fromClass(class{constructor(i){this.view=i,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let t of i.state.field(vn).active)t.isPending&&this.startQuery(t)}update(i){let t=i.state.field(vn),e=i.state.facet(qe);if(!i.selectionSet&&!i.docChanged&&i.startState.field(vn)==t)return;let n=i.transactions.some(o=>{let a=M2(o,e);return a&8||(o.selection||o.docChanged)&&!(a&3)});for(let o=0;o<this.running.length;o++){let a=this.running[o];if(n||a.context.abortOnDocChange&&i.docChanged||a.updates.length+i.transactions.length>jN&&Date.now()-a.time>_N){for(let c of a.context.abortListeners)try{c()}catch(h){xn(this.view.state,h)}a.context.abortListeners=null,this.running.splice(o--,1)}else a.updates.push(...i.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),i.transactions.some(o=>o.effects.some(a=>a.is(rf)))&&(this.pendingStart=!0);let l=this.pendingStart?50:e.activateOnTypingDelay;if(this.debounceUpdate=t.active.some(o=>o.isPending&&!this.running.some(a=>a.active.source==o.source))?setTimeout(()=>this.startUpdate(),l):-1,this.composing!=0)for(let o of i.transactions)o.isUserEvent("input.type")?this.composing=2:this.composing==2&&o.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:i}=this.view,t=i.field(vn);for(let e of t.active)e.isPending&&!this.running.some(n=>n.active.source==e.source)&&this.startQuery(e);this.running.length&&t.open&&t.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(qe).updateSyncTime))}startQuery(i){let{state:t}=this.view,e=Al(t),n=new C2(t,e,i.explicit,this.view),l=new HN(i,n);this.running.push(l),Promise.resolve(i.source(n)).then(o=>{l.context.aborted||(l.done=o||null,this.scheduleAccept())},o=>{this.view.dispatch({effects:xa.of(null)}),xn(this.view.state,o)})}scheduleAccept(){this.running.every(i=>i.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(qe).updateSyncTime))}accept(){var i;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let t=[],e=this.view.state.facet(qe),n=this.view.state.field(vn);for(let l=0;l<this.running.length;l++){let o=this.running[l];if(o.done===void 0)continue;if(this.running.splice(l--,1),o.done){let c=Al(o.updates.length?o.updates[0].startState:this.view.state),h=Math.min(c,o.done.from+(o.active.explicit?0:1)),d=new Er(o.active.source,o.active.explicit,h,o.done,o.done.from,(i=o.done.to)!==null&&i!==void 0?i:c);for(let p of o.updates)d=d.update(p,e);if(d.hasResult()){t.push(d);continue}}let a=n.active.find(c=>c.source==o.active.source);if(a&&a.isPending)if(o.done==null){let c=new ei(o.active.source,0);for(let h of o.updates)c=c.update(h,e);c.isPending||t.push(c)}else this.startQuery(a)}(t.length||n.open&&n.open.disabled)&&this.view.dispatch({effects:ug.of(t)})}},{eventHandlers:{blur(i){let t=this.view.state.field(vn,!1);if(t&&t.tooltip&&this.view.state.facet(qe).closeOnBlur){let e=t.open&&aw(this.view,t.open.tooltip);(!e||!e.dom.contains(i.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:xa.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:rf.of(!1)}),20),this.composing=0}}}),qN=typeof navigator=="object"&&/Win/.test(navigator.platform),VN=Rl.highest(at.domEventHandlers({keydown(i,t){let e=t.state.field(vn,!1);if(!e||!e.open||e.open.disabled||e.open.selected<0||i.key.length>1||i.ctrlKey&&!(qN&&i.altKey)||i.metaKey)return!1;let n=e.open.options[e.open.selected],l=e.active.find(a=>a.source==n.source),o=n.completion.commitCharacters||l.result.commitCharacters;return o&&o.indexOf(i.key)>-1&&cg(t,n),!1}})),PN=at.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),Sa={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},Cl=kt.define({map(i,t){let e=t.mapPos(i,-1,an.TrackAfter);return e??void 0}}),fg=new class extends Ml{};fg.startSide=1;fg.endSide=-1;const D2=We.define({create(){return jt.empty},update(i,t){if(i=i.map(t.changes),t.selection){let e=t.state.doc.lineAt(t.selection.main.head);i=i.update({filter:n=>n>=e.from&&n<=e.to})}for(let e of t.effects)e.is(Cl)&&(i=i.update({add:[fg.range(e.value,e.value+1)]}));return i}});function YN(){return[XN,D2]}const xm="()[]{}<>";function O2(i){for(let t=0;t<xm.length;t+=2)if(xm.charCodeAt(t)==i)return xm.charAt(t+1);return zp(i<128?i:i+1)}function E2(i,t){return i.languageDataAt("closeBrackets",t)[0]||Sa}const GN=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),XN=at.inputHandler.of((i,t,e,n)=>{if((GN?i.composing:i.compositionStarted)||i.state.readOnly)return!1;let l=i.state.selection.main;if(n.length>2||n.length==2&&Ni(yn(n,0))==1||t!=l.from||e!=l.to)return!1;let o=KN(i.state,n);return o?(i.dispatch(o),!0):!1}),IN=({state:i,dispatch:t})=>{if(i.readOnly)return!1;let n=E2(i,i.selection.main.head).brackets||Sa.brackets,l=null,o=i.changeByRange(a=>{if(a.empty){let c=WN(i.doc,a.head);for(let h of n)if(h==c&&Nf(i.doc,a.head)==O2(yn(h,0)))return{changes:{from:a.head-h.length,to:a.head+h.length},range:Z.cursor(a.head-h.length)}}return{range:l=a}});return l||t(i.update(o,{scrollIntoView:!0,userEvent:"delete.backward"})),!l},QN=[{key:"Backspace",run:IN}];function KN(i,t){let e=E2(i,i.selection.main.head),n=e.brackets||Sa.brackets;for(let l of n){let o=O2(yn(l,0));if(t==l)return o==l?JN(i,l,n.indexOf(l+l+l)>-1,e):FN(i,l,o,e.before||Sa.before);if(t==o&&R2(i,i.selection.main.from))return ZN(i,l,o)}return null}function R2(i,t){let e=!1;return i.field(D2).between(0,i.doc.length,n=>{n==t&&(e=!0)}),e}function Nf(i,t){let e=i.sliceString(t,t+2);return e.slice(0,Ni(yn(e,0)))}function WN(i,t){let e=i.sliceString(t-2,t);return Ni(yn(e,0))==e.length?e:e.slice(1)}function FN(i,t,e,n){let l=null,o=i.changeByRange(a=>{if(!a.empty)return{changes:[{insert:t,from:a.from},{insert:e,from:a.to}],effects:Cl.of(a.to+t.length),range:Z.range(a.anchor+t.length,a.head+t.length)};let c=Nf(i.doc,a.head);return!c||/\s/.test(c)||n.indexOf(c)>-1?{changes:{insert:t+e,from:a.head},effects:Cl.of(a.head+t.length),range:Z.cursor(a.head+t.length)}:{range:l=a}});return l?null:i.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function ZN(i,t,e){let n=null,l=i.changeByRange(o=>o.empty&&Nf(i.doc,o.head)==e?{changes:{from:o.head,to:o.head+e.length,insert:e},range:Z.cursor(o.head+e.length)}:n={range:o});return n?null:i.update(l,{scrollIntoView:!0,userEvent:"input.type"})}function JN(i,t,e,n){let l=n.stringPrefixes||Sa.stringPrefixes,o=null,a=i.changeByRange(c=>{if(!c.empty)return{changes:[{insert:t,from:c.from},{insert:t,from:c.to}],effects:Cl.of(c.to+t.length),range:Z.range(c.anchor+t.length,c.head+t.length)};let h=c.head,d=Nf(i.doc,h),p;if(d==t){if($1(i,h))return{changes:{insert:t+t,from:h},effects:Cl.of(h+t.length),range:Z.cursor(h+t.length)};if(R2(i,h)){let b=e&&i.sliceDoc(h,h+t.length*3)==t+t+t?t+t+t:t;return{changes:{from:h,to:h+b.length,insert:b},range:Z.cursor(h+b.length)}}}else{if(e&&i.sliceDoc(h-2*t.length,h)==t+t&&(p=tx(i,h-2*t.length,l))>-1&&$1(i,p))return{changes:{insert:t+t+t+t,from:h},effects:Cl.of(h+t.length),range:Z.cursor(h+t.length)};if(i.charCategorizer(h)(d)!=ue.Word&&tx(i,h,l)>-1&&!$N(i,h,t,l))return{changes:{insert:t+t,from:h},effects:Cl.of(h+t.length),range:Z.cursor(h+t.length)}}return{range:o=c}});return o?null:i.update(a,{scrollIntoView:!0,userEvent:"input.type"})}function $1(i,t){let e=en(i).resolveInner(t+1);return e.parent&&e.from==t}function $N(i,t,e,n){let l=en(i).resolveInner(t,-1),o=n.reduce((a,c)=>Math.max(a,c.length),0);for(let a=0;a<5;a++){let c=i.sliceDoc(l.from,Math.min(l.to,l.from+e.length+o)),h=c.indexOf(e);if(!h||h>-1&&n.indexOf(c.slice(0,h))>-1){let p=l.firstChild;for(;p&&p.from==l.from&&p.to-p.from>e.length+h;){if(i.sliceDoc(p.to-e.length,p.to)==e)return!1;p=p.firstChild}return!0}let d=l.to==t&&l.parent;if(!d)break;l=d}return!1}function tx(i,t,e){let n=i.charCategorizer(t);if(n(i.sliceDoc(t-1,t))!=ue.Word)return t;for(let l of e){let o=t-l.length;if(i.sliceDoc(o,t)==l&&n(i.sliceDoc(o-1,o))!=ue.Word)return o}return-1}function t3(i={}){return[VN,vn,qe.of(i),UN,e3,PN]}const N2=[{key:"Ctrl-Space",run:vm},{mac:"Alt-`",run:vm},{mac:"Alt-i",run:vm},{key:"Escape",run:zN},{key:"ArrowDown",run:gc(!0)},{key:"ArrowUp",run:gc(!1)},{key:"PageDown",run:gc(!0,"page")},{key:"PageUp",run:gc(!1,"page")},{key:"Enter",run:LN}],e3=Rl.highest(Cf.computeN([qe],i=>i.facet(qe).defaultKeymap?[N2]:[]));class ex{constructor(t,e,n){this.from=t,this.to=e,this.diagnostic=n}}class Sl{constructor(t,e,n){this.diagnostics=t,this.panel=e,this.selected=n}static init(t,e,n){let l=n.facet(wa).markerFilter;l&&(t=l(t,n));let o=t.slice().sort((p,g)=>p.from-g.from||p.to-g.to),a=new us,c=[],h=0;for(let p=0;;){let g=p==o.length?null:o[p];if(!g&&!c.length)break;let b,v;for(c.length?(b=h,v=c.reduce((C,k)=>Math.min(C,k.to),g&&g.from>b?g.from:1e8)):(b=g.from,v=g.to,c.push(g),p++);p<o.length;){let C=o[p];if(C.from==b&&(C.to>C.from||C.to==b))c.push(C),p++,v=Math.min(C.to,v);else{v=Math.min(C.from,v);break}}let w=m3(c);if(c.some(C=>C.from==C.to||C.from==C.to-1&&n.doc.lineAt(C.from).to==C.from))a.add(b,b,xt.widget({widget:new c3(w),diagnostics:c.slice()}));else{let C=c.reduce((k,A)=>A.markClass?k+" "+A.markClass:k,"");a.add(b,v,xt.mark({class:"cm-lintRange cm-lintRange-"+w+C,diagnostics:c.slice(),inclusiveEnd:c.some(k=>k.to>v)}))}h=v;for(let C=0;C<c.length;C++)c[C].to<=h&&c.splice(C--,1)}let d=a.finish();return new Sl(d,e,qr(d))}}function qr(i,t=null,e=0){let n=null;return i.between(e,1e9,(l,o,{spec:a})=>{if(!(t&&a.diagnostics.indexOf(t)<0))if(!n)n=new ex(l,o,t||a.diagnostics[0]);else{if(a.diagnostics.indexOf(n.diagnostic)<0)return!1;n=new ex(n.from,o,n.diagnostic)}}),n}function n3(i,t){let e=t.pos,n=t.end||e,l=i.state.facet(wa).hideOn(i,e,n);if(l!=null)return l;let o=i.startState.doc.lineAt(t.pos);return!!(i.effects.some(a=>a.is(B2))||i.changes.touchesRange(o.from,Math.max(o.to,n)))}function i3(i,t){return i.field(jn,!1)?t:t.concat(kt.appendConfig.of(p3))}const B2=kt.define(),hg=kt.define(),L2=kt.define(),jn=We.define({create(){return new Sl(xt.none,null,null)},update(i,t){if(t.docChanged&&i.diagnostics.size){let e=i.diagnostics.map(t.changes),n=null,l=i.panel;if(i.selected){let o=t.changes.mapPos(i.selected.from,1);n=qr(e,i.selected.diagnostic,o)||qr(e,null,o)}!e.size&&l&&t.state.facet(wa).autoPanel&&(l=null),i=new Sl(e,l,n)}for(let e of t.effects)if(e.is(B2)){let n=t.state.facet(wa).autoPanel?e.value.length?Ca.open:null:i.panel;i=Sl.init(e.value,n,t.state)}else e.is(hg)?i=new Sl(i.diagnostics,e.value?Ca.open:null,i.selected):e.is(L2)&&(i=new Sl(i.diagnostics,i.panel,e.value));return i},provide:i=>[ga.from(i,t=>t.panel),at.decorations.from(i,t=>t.diagnostics)]}),s3=xt.mark({class:"cm-lintRange cm-lintRange-active"});function l3(i,t,e){let{diagnostics:n}=i.state.field(jn),l,o=-1,a=-1;n.between(t-(e<0?1:0),t+(e>0?1:0),(h,d,{spec:p})=>{if(t>=h&&t<=d&&(h==d||(t>h||e>0)&&(t<d||e<0)))return l=p.diagnostics,o=h,a=d,!1});let c=i.state.facet(wa).tooltipFilter;return l&&c&&(l=c(l,i.state)),l?{pos:o,end:a,above:i.state.doc.lineAt(o).to<a,create(){return{dom:r3(i,l)}}}:null}function r3(i,t){return $t("ul",{class:"cm-tooltip-lint"},t.map(e=>H2(i,e,!1)))}const o3=i=>{let t=i.state.field(jn,!1);(!t||!t.panel)&&i.dispatch({effects:i3(i.state,[hg.of(!0)])});let e=pa(i,Ca.open);return e&&e.dom.querySelector(".cm-panel-lint ul").focus(),!0},nx=i=>{let t=i.state.field(jn,!1);return!t||!t.panel?!1:(i.dispatch({effects:hg.of(!1)}),!0)},a3=i=>{let t=i.state.field(jn,!1);if(!t)return!1;let e=i.state.selection.main,n=t.diagnostics.iter(e.to+1);return!n.value&&(n=t.diagnostics.iter(0),!n.value||n.from==e.from&&n.to==e.to)?!1:(i.dispatch({selection:{anchor:n.from,head:n.to},scrollIntoView:!0}),!0)},u3=[{key:"Mod-Shift-m",run:o3,preventDefault:!0},{key:"F8",run:a3}],wa=ht.define({combine(i){return Object.assign({sources:i.map(t=>t.source).filter(t=>t!=null)},Vi(i.map(t=>t.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(t,e)=>t?e?n=>t(n)||e(n):t:e}))}});function z2(i){let t=[];if(i)t:for(let{name:e}of i){for(let n=0;n<e.length;n++){let l=e[n];if(/[a-zA-Z]/.test(l)&&!t.some(o=>o.toLowerCase()==l.toLowerCase())){t.push(l);continue t}}t.push("")}return t}function H2(i,t,e){var n;let l=e?z2(t.actions):[];return $t("li",{class:"cm-diagnostic cm-diagnostic-"+t.severity},$t("span",{class:"cm-diagnosticText"},t.renderMessage?t.renderMessage(i):t.message),(n=t.actions)===null||n===void 0?void 0:n.map((o,a)=>{let c=!1,h=b=>{if(b.preventDefault(),c)return;c=!0;let v=qr(i.state.field(jn).diagnostics,t);v&&o.apply(i,v.from,v.to)},{name:d}=o,p=l[a]?d.indexOf(l[a]):-1,g=p<0?d:[d.slice(0,p),$t("u",d.slice(p,p+1)),d.slice(p+1)];return $t("button",{type:"button",class:"cm-diagnosticAction",onclick:h,onmousedown:h,"aria-label":` Action: ${d}${p<0?"":` (access key "${l[a]})"`}.`},g)}),t.source&&$t("div",{class:"cm-diagnosticSource"},t.source))}class c3 extends hs{constructor(t){super(),this.sev=t}eq(t){return t.sev==this.sev}toDOM(){return $t("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class ix{constructor(t,e){this.diagnostic=e,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=H2(t,e,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class Ca{constructor(t){this.view=t,this.items=[];let e=l=>{if(l.keyCode==27)nx(this.view),this.view.focus();else if(l.keyCode==38||l.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(l.keyCode==40||l.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(l.keyCode==36)this.moveSelection(0);else if(l.keyCode==35)this.moveSelection(this.items.length-1);else if(l.keyCode==13)this.view.focus();else if(l.keyCode>=65&&l.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:o}=this.items[this.selectedIndex],a=z2(o.actions);for(let c=0;c<a.length;c++)if(a[c].toUpperCase().charCodeAt(0)==l.keyCode){let h=qr(this.view.state.field(jn).diagnostics,o);h&&o.actions[c].apply(t,h.from,h.to)}}else return;l.preventDefault()},n=l=>{for(let o=0;o<this.items.length;o++)this.items[o].dom.contains(l.target)&&this.moveSelection(o)};this.list=$t("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:e,onclick:n}),this.dom=$t("div",{class:"cm-panel-lint"},this.list,$t("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>nx(this.view)},"")),this.update()}get selectedIndex(){let t=this.view.state.field(jn).selected;if(!t)return-1;for(let e=0;e<this.items.length;e++)if(this.items[e].diagnostic==t.diagnostic)return e;return-1}update(){let{diagnostics:t,selected:e}=this.view.state.field(jn),n=0,l=!1,o=null,a=new Set;for(t.between(0,this.view.state.doc.length,(c,h,{spec:d})=>{for(let p of d.diagnostics){if(a.has(p))continue;a.add(p);let g=-1,b;for(let v=n;v<this.items.length;v++)if(this.items[v].diagnostic==p){g=v;break}g<0?(b=new ix(this.view,p),this.items.splice(n,0,b),l=!0):(b=this.items[g],g>n&&(this.items.splice(n,g-n),l=!0)),e&&b.diagnostic==e.diagnostic?b.dom.hasAttribute("aria-selected")||(b.dom.setAttribute("aria-selected","true"),o=b):b.dom.hasAttribute("aria-selected")&&b.dom.removeAttribute("aria-selected"),n++}});n<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)l=!0,this.items.pop();this.items.length==0&&(this.items.push(new ix(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),l=!0),o?(this.list.setAttribute("aria-activedescendant",o.id),this.view.requestMeasure({key:this,read:()=>({sel:o.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:c,panel:h})=>{let d=h.height/this.list.offsetHeight;c.top<h.top?this.list.scrollTop-=(h.top-c.top)/d:c.bottom>h.bottom&&(this.list.scrollTop+=(c.bottom-h.bottom)/d)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),l&&this.sync()}sync(){let t=this.list.firstChild;function e(){let n=t;t=n.nextSibling,n.remove()}for(let n of this.items)if(n.dom.parentNode==this.list){for(;t!=n.dom;)e();t=n.dom.nextSibling}else this.list.insertBefore(n.dom,t);for(;t;)e()}moveSelection(t){if(this.selectedIndex<0)return;let e=this.view.state.field(jn),n=qr(e.diagnostics,this.items[t].diagnostic);n&&this.view.dispatch({selection:{anchor:n.from,head:n.to},scrollIntoView:!0,effects:L2.of(n)})}static open(t){return new Ca(t)}}function f3(i,t='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${t}>${encodeURIComponent(i)}</svg>')`}function yc(i){return f3(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${i}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const h3=at.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:yc("#d11")},".cm-lintRange-warning":{backgroundImage:yc("orange")},".cm-lintRange-info":{backgroundImage:yc("#999")},".cm-lintRange-hint":{backgroundImage:yc("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function d3(i){return i=="error"?4:i=="warning"?3:i=="info"?2:1}function m3(i){let t="hint",e=1;for(let n of i){let l=d3(n.severity);l>e&&(e=l,t=n.severity)}return t}const p3=[jn,at.decorations.compute([jn],i=>{let{selected:t,panel:e}=i.field(jn);return!t||!e||t.from==t.to?xt.none:xt.set([s3.range(t.from,t.to)])}),cO(l3,{hideOn:n3}),h3];var sx=function(t){t===void 0&&(t={});var{crosshairCursor:e=!1}=t,n=[];t.closeBracketsKeymap!==!1&&(n=n.concat(QN)),t.defaultKeymap!==!1&&(n=n.concat(qR)),t.searchKeymap!==!1&&(n=n.concat(hN)),t.historyKeymap!==!1&&(n=n.concat(WE)),t.foldKeymap!==!1&&(n=n.concat(uE)),t.completionKeymap!==!1&&(n=n.concat(N2)),t.lintKeymap!==!1&&(n=n.concat(u3));var l=[];return t.lineNumbers!==!1&&l.push(Gc()),t.highlightActiveLineGutter!==!1&&l.push(CO()),t.highlightSpecialChars!==!1&&l.push(UD()),t.history!==!1&&l.push(qE()),t.foldGutter!==!1&&l.push(dE()),t.drawSelection!==!1&&l.push(DD()),t.dropCursor!==!1&&l.push(BD()),t.allowMultipleSelections!==!1&&l.push(Lt.allowMultipleSelections.of(!0)),t.indentOnInput!==!1&&l.push($O()),t.syntaxHighlighting!==!1&&l.push(Nw(yE,{fallback:!0})),t.bracketMatching!==!1&&l.push(kE()),t.closeBrackets!==!1&&l.push(YN()),t.autocompletion!==!1&&l.push(t3()),t.rectangularSelection!==!1&&l.push($D()),e!==!1&&l.push(nO()),t.highlightActiveLine!==!1&&l.push(XD()),t.highlightSelectionMatches!==!1&&l.push(QR()),t.tabSize&&typeof t.tabSize=="number"&&l.push(Af.of(" ".repeat(t.tabSize))),l.concat([Cf.of(n.flat())]).filter(Boolean)};const g3="#e5c07b",lx="#e06c75",y3="#56b6c2",b3="#ffffff",Nc="#abb2bf",Mp="#7d8799",v3="#61afef",x3="#98c379",rx="#d19a66",S3="#c678dd",w3="#21252b",ox="#2c313a",ax="#282c34",Sm="#353a42",C3="#3E4451",ux="#528bff",k3=at.theme({"&":{color:Nc,backgroundColor:ax},".cm-content":{caretColor:ux},".cm-cursor, .cm-dropCursor":{borderLeftColor:ux},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:C3},".cm-panels":{backgroundColor:w3,color:Nc},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:ax,color:Mp,border:"none"},".cm-activeLineGutter":{backgroundColor:ox},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:Sm},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:Sm,borderBottomColor:Sm},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:ox,color:Nc}}},{dark:!0}),A3=Na.define([{tag:G.keyword,color:S3},{tag:[G.name,G.deleted,G.character,G.propertyName,G.macroName],color:lx},{tag:[G.function(G.variableName),G.labelName],color:v3},{tag:[G.color,G.constant(G.name),G.standard(G.name)],color:rx},{tag:[G.definition(G.name),G.separator],color:Nc},{tag:[G.typeName,G.className,G.number,G.changed,G.annotation,G.modifier,G.self,G.namespace],color:g3},{tag:[G.operator,G.operatorKeyword,G.url,G.escape,G.regexp,G.link,G.special(G.string)],color:y3},{tag:[G.meta,G.comment],color:Mp},{tag:G.strong,fontWeight:"bold"},{tag:G.emphasis,fontStyle:"italic"},{tag:G.strikethrough,textDecoration:"line-through"},{tag:G.link,color:Mp,textDecoration:"underline"},{tag:G.heading,fontWeight:"bold",color:lx},{tag:[G.atom,G.bool,G.special(G.variableName)],color:rx},{tag:[G.processingInstruction,G.string,G.inserted],color:x3},{tag:G.invalid,color:b3}]),af=[k3,Nw(A3)];var M3=at.theme({"&":{backgroundColor:"#fff"}},{dark:!1}),T3=function(t){t===void 0&&(t={});var{indentWithTab:e=!0,editable:n=!0,readOnly:l=!1,theme:o="light",placeholder:a="",basicSetup:c=!0}=t,h=[];switch(e&&h.unshift(Cf.of([VR])),c&&(typeof c=="boolean"?h.unshift(sx()):h.unshift(sx(c))),a&&h.unshift(WD(a)),o){case"light":h.push(M3);break;case"dark":h.push(af);break;case"none":break;default:h.push(o);break}return n===!1&&h.push(at.editable.of(!1)),l&&h.push(Lt.readOnly.of(!0)),[...h]},D3=i=>({line:i.state.doc.lineAt(i.state.selection.main.from),lineCount:i.state.doc.lines,lineBreak:i.state.lineBreak,length:i.state.doc.length,readOnly:i.state.readOnly,tabSize:i.state.tabSize,selection:i.state.selection,selectionAsSingle:i.state.selection.asSingle().main,ranges:i.state.selection.ranges,selectionCode:i.state.sliceDoc(i.state.selection.main.from,i.state.selection.main.to),selections:i.state.selection.ranges.map(t=>i.state.sliceDoc(t.from,t.to)),selectedText:i.state.selection.ranges.some(t=>!t.empty)});class O3{constructor(t,e){this.timeLeftMS=void 0,this.timeoutMS=void 0,this.isCancelled=!1,this.isTimeExhausted=!1,this.callbacks=[],this.timeLeftMS=e,this.timeoutMS=e,this.callbacks.push(t)}tick(){if(!this.isCancelled&&!this.isTimeExhausted&&(this.timeLeftMS--,this.timeLeftMS<=0)){this.isTimeExhausted=!0;var t=this.callbacks.slice();this.callbacks.length=0,t.forEach(e=>{try{e()}catch(n){console.error("TimeoutLatch callback error:",n)}})}}cancel(){this.isCancelled=!0,this.callbacks.length=0}reset(){this.timeLeftMS=this.timeoutMS,this.isCancelled=!1,this.isTimeExhausted=!1}get isDone(){return this.isCancelled||this.isTimeExhausted}}class cx{constructor(){this.interval=null,this.latches=new Set}add(t){this.latches.add(t),this.start()}remove(t){this.latches.delete(t),this.latches.size===0&&this.stop()}start(){this.interval===null&&(this.interval=setInterval(()=>{this.latches.forEach(t=>{t.tick(),t.isDone&&this.remove(t)})},1))}stop(){this.interval!==null&&(clearInterval(this.interval),this.interval=null)}}var wm=null,E3=()=>typeof window>"u"?new cx:(wm||(wm=new cx),wm),fx=qi.define(),R3=200,N3=[];function B3(i){var{value:t,selection:e,onChange:n,onStatistics:l,onCreateEditor:o,onUpdate:a,extensions:c=N3,autoFocus:h,theme:d="light",height:p=null,minHeight:g=null,maxHeight:b=null,width:v=null,minWidth:w=null,maxWidth:C=null,placeholder:k="",editable:A=!0,readOnly:N=!1,indentWithTab:j=!0,basicSetup:E=!0,root:D,initialState:z}=i,[U,K]=P.useState(),[tt,ct]=P.useState(),[it,et]=P.useState(),ut=P.useState(()=>({current:null}))[0],pt=P.useState(()=>({current:null}))[0],gt=at.theme({"&":{height:p,minHeight:g,maxHeight:b,width:v,minWidth:w,maxWidth:C},"& .cm-scroller":{height:"100% !important"}}),B=at.updateListener.of(ot=>{if(ot.docChanged&&typeof n=="function"&&!ot.transactions.some(J=>J.annotation(fx))){ut.current?ut.current.reset():(ut.current=new O3(()=>{if(pt.current){var J=pt.current;pt.current=null,J()}ut.current=null},R3),E3().add(ut.current));var M=ot.state.doc,Y=M.toString();n(Y,ot)}l&&l(D3(ot))}),I=T3({theme:d,editable:A,readOnly:N,placeholder:k,indentWithTab:j,basicSetup:E}),st=[B,gt,...I];return a&&typeof a=="function"&&st.push(at.updateListener.of(a)),st=st.concat(c),P.useLayoutEffect(()=>{if(U&&!it){var ot={doc:t,selection:e,extensions:st},M=z?Lt.fromJSON(z.json,ot,z.fields):Lt.create(ot);if(et(M),!tt){var Y=new at({state:M,parent:U,root:D});ct(Y),o&&o(Y,M)}}return()=>{tt&&(et(void 0),ct(void 0))}},[U,it]),P.useEffect(()=>{i.container&&K(i.container)},[i.container]),P.useEffect(()=>()=>{tt&&(tt.destroy(),ct(void 0)),ut.current&&(ut.current.cancel(),ut.current=null)},[tt]),P.useEffect(()=>{h&&tt&&tt.focus()},[h,tt]),P.useEffect(()=>{tt&&tt.dispatch({effects:kt.reconfigure.of(st)})},[d,c,p,g,b,v,w,C,k,A,N,j,E,n,a]),P.useEffect(()=>{if(t!==void 0){var ot=tt?tt.state.doc.toString():"";if(tt&&t!==ot){var M=ut.current&&!ut.current.isDone,Y=()=>{tt&&t!==tt.state.doc.toString()&&tt.dispatch({changes:{from:0,to:tt.state.doc.toString().length,insert:t||""},annotations:[fx.of(!0)]})};M?pt.current=Y:Y()}}},[t,tt]),{state:it,setState:et,view:tt,setView:ct,container:U,setContainer:K}}var L3=["className","value","selection","extensions","onChange","onStatistics","onCreateEditor","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","readOnly","root","initialState"],uf=P.forwardRef((i,t)=>{var{className:e,value:n="",selection:l,extensions:o=[],onChange:a,onStatistics:c,onCreateEditor:h,onUpdate:d,autoFocus:p,theme:g="light",height:b,minHeight:v,maxHeight:w,width:C,minWidth:k,maxWidth:A,basicSetup:N,placeholder:j,indentWithTab:E,editable:D,readOnly:z,root:U,initialState:K}=i,tt=CM(i,L3),ct=P.useRef(null),{state:it,view:et,container:ut,setContainer:pt}=B3({root:U,value:n,autoFocus:p,theme:g,height:b,minHeight:v,maxHeight:w,width:C,minWidth:k,maxWidth:A,basicSetup:N,placeholder:j,indentWithTab:E,editable:D,readOnly:z,selection:l,onChange:a,onStatistics:c,onCreateEditor:h,onUpdate:d,extensions:o,initialState:K});P.useImperativeHandle(t,()=>({editor:ct.current,state:it,view:et}),[ct,ut,it,et]);var gt=P.useCallback(I=>{ct.current=I,pt(I)},[pt]);if(typeof n!="string")throw new Error("value must be typeof string but got "+typeof n);var B=typeof g=="string"?"cm-theme-"+g:"cm-theme";return L.jsx("div",Rm({ref:gt,className:""+B+(e?" "+e:"")},tt))});uf.displayName="CodeMirror";var hx={};class cf{constructor(t,e,n,l,o,a,c,h,d,p=0,g){this.p=t,this.stack=e,this.state=n,this.reducePos=l,this.pos=o,this.score=a,this.buffer=c,this.bufferBase=h,this.curContext=d,this.lookAhead=p,this.parent=g}toString(){return`[${this.stack.filter((t,e)=>e%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(t,e,n=0){let l=t.parser.context;return new cf(t,[],e,n,n,0,[],0,l?new dx(l,l.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(t,e){this.stack.push(this.state,e,this.bufferBase+this.buffer.length),this.state=t}reduce(t){var e;let n=t>>19,l=t&65535,{parser:o}=this.p,a=this.reducePos<this.pos-25;a&&this.setLookAhead(this.pos);let c=o.dynamicPrecedence(l);if(c&&(this.score+=c),n==0){this.pushState(o.getGoto(this.state,l,!0),this.reducePos),l<o.minRepeatTerm&&this.storeNode(l,this.reducePos,this.reducePos,a?8:4,!0),this.reduceContext(l,this.reducePos);return}let h=this.stack.length-(n-1)*3-(t&262144?6:0),d=h?this.stack[h-2]:this.p.ranges[0].from,p=this.reducePos-d;p>=2e3&&!(!((e=this.p.parser.nodeSet.types[l])===null||e===void 0)&&e.isAnonymous)&&(d==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=p):this.p.lastBigReductionSize<p&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=d,this.p.lastBigReductionSize=p));let g=h?this.stack[h-1]:0,b=this.bufferBase+this.buffer.length-g;if(l<o.minRepeatTerm||t&131072){let v=o.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(l,d,v,b+4,!0)}if(t&262144)this.state=this.stack[h];else{let v=this.stack[h-3];this.state=o.getGoto(v,l,!0)}for(;this.stack.length>h;)this.stack.pop();this.reduceContext(l,d)}storeNode(t,e,n,l=4,o=!1){if(t==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let a=this,c=this.buffer.length;if(c==0&&a.parent&&(c=a.bufferBase-a.parent.bufferBase,a=a.parent),c>0&&a.buffer[c-4]==0&&a.buffer[c-1]>-1){if(e==n)return;if(a.buffer[c-2]>=e){a.buffer[c-2]=n;return}}}if(!o||this.pos==n)this.buffer.push(t,e,n,l);else{let a=this.buffer.length;if(a>0&&this.buffer[a-4]!=0){let c=!1;for(let h=a;h>0&&this.buffer[h-2]>n;h-=4)if(this.buffer[h-1]>=0){c=!0;break}if(c)for(;a>0&&this.buffer[a-2]>n;)this.buffer[a]=this.buffer[a-4],this.buffer[a+1]=this.buffer[a-3],this.buffer[a+2]=this.buffer[a-2],this.buffer[a+3]=this.buffer[a-1],a-=4,l>4&&(l-=4)}this.buffer[a]=t,this.buffer[a+1]=e,this.buffer[a+2]=n,this.buffer[a+3]=l}}shift(t,e,n,l){if(t&131072)this.pushState(t&65535,this.pos);else if((t&262144)==0){let o=t,{parser:a}=this.p;(l>this.pos||e<=a.maxNode)&&(this.pos=l,a.stateFlag(o,1)||(this.reducePos=l)),this.pushState(o,n),this.shiftContext(e,n),e<=a.maxNode&&this.buffer.push(e,n,l,4)}else this.pos=l,this.shiftContext(e,n),e<=this.p.parser.maxNode&&this.buffer.push(e,n,l,4)}apply(t,e,n,l){t&65536?this.reduce(t):this.shift(t,e,n,l)}useNode(t,e){let n=this.p.reused.length-1;(n<0||this.p.reused[n]!=t)&&(this.p.reused.push(t),n++);let l=this.pos;this.reducePos=this.pos=l+t.length,this.pushState(e,l),this.buffer.push(n,l,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,t,this,this.p.stream.reset(this.pos-t.length)))}split(){let t=this,e=t.buffer.length;for(;e>0&&t.buffer[e-2]>t.reducePos;)e-=4;let n=t.buffer.slice(e),l=t.bufferBase+e;for(;t&&l==t.bufferBase;)t=t.parent;return new cf(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,n,l,this.curContext,this.lookAhead,t)}recoverByDelete(t,e){let n=t<=this.p.parser.maxNode;n&&this.storeNode(t,this.pos,e,4),this.storeNode(0,this.pos,e,n?8:4),this.pos=this.reducePos=e,this.score-=190}canShift(t){for(let e=new z3(this);;){let n=this.p.parser.stateSlot(e.state,4)||this.p.parser.hasAction(e.state,t);if(n==0)return!1;if((n&65536)==0)return!0;e.reduce(n)}}recoverByInsert(t){if(this.stack.length>=300)return[];let e=this.p.parser.nextStates(this.state);if(e.length>8||this.stack.length>=120){let l=[];for(let o=0,a;o<e.length;o+=2)(a=e[o+1])!=this.state&&this.p.parser.hasAction(a,t)&&l.push(e[o],a);if(this.stack.length<120)for(let o=0;l.length<8&&o<e.length;o+=2){let a=e[o+1];l.some((c,h)=>h&1&&c==a)||l.push(e[o],a)}e=l}let n=[];for(let l=0;l<e.length&&n.length<4;l+=2){let o=e[l+1];if(o==this.state)continue;let a=this.split();a.pushState(o,this.pos),a.storeNode(0,a.pos,a.pos,4,!0),a.shiftContext(e[l],this.pos),a.reducePos=this.pos,a.score-=200,n.push(a)}return n}forceReduce(){let{parser:t}=this.p,e=t.stateSlot(this.state,5);if((e&65536)==0)return!1;if(!t.validAction(this.state,e)){let n=e>>19,l=e&65535,o=this.stack.length-n*3;if(o<0||t.getGoto(this.stack[o],l,!1)<0){let a=this.findForcedReduction();if(a==null)return!1;e=a}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(e),!0}findForcedReduction(){let{parser:t}=this.p,e=[],n=(l,o)=>{if(!e.includes(l))return e.push(l),t.allActions(l,a=>{if(!(a&393216))if(a&65536){let c=(a>>19)-o;if(c>1){let h=a&65535,d=this.stack.length-c*3;if(d>=0&&t.getGoto(this.stack[d],h,!1)>=0)return c<<19|65536|h}}else{let c=n(a,o+1);if(c!=null)return c}})};return n(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:t}=this.p;return t.data[t.stateSlot(this.state,1)]==65535&&!t.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(t){if(this.state!=t.state||this.stack.length!=t.stack.length)return!1;for(let e=0;e<this.stack.length;e+=3)if(this.stack[e]!=t.stack[e])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(t){return this.p.parser.dialect.flags[t]}shiftContext(t,e){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,t,this,this.p.stream.reset(e)))}reduceContext(t,e){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,t,this,this.p.stream.reset(e)))}emitContext(){let t=this.buffer.length-1;(t<0||this.buffer[t]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let t=this.buffer.length-1;(t<0||this.buffer[t]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(t){if(t!=this.curContext.context){let e=new dx(this.curContext.tracker,t);e.hash!=this.curContext.hash&&this.emitContext(),this.curContext=e}}setLookAhead(t){t>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=t)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class dx{constructor(t,e){this.tracker=t,this.context=e,this.hash=t.strict?t.hash(e):0}}class z3{constructor(t){this.start=t,this.state=t.state,this.stack=t.stack,this.base=this.stack.length}reduce(t){let e=t&65535,n=t>>19;n==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(n-1)*3;let l=this.start.p.parser.getGoto(this.stack[this.base-3],e,!0);this.state=l}}class ff{constructor(t,e,n){this.stack=t,this.pos=e,this.index=n,this.buffer=t.buffer,this.index==0&&this.maybeNext()}static create(t,e=t.bufferBase+t.buffer.length){return new ff(t,e,e-t.bufferBase)}maybeNext(){let t=this.stack.parent;t!=null&&(this.index=this.stack.bufferBase-t.bufferBase,this.stack=t,this.buffer=t.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new ff(this.stack,this.pos,this.index)}}function bc(i,t=Uint16Array){if(typeof i!="string")return i;let e=null;for(let n=0,l=0;n<i.length;){let o=0;for(;;){let a=i.charCodeAt(n++),c=!1;if(a==126){o=65535;break}a>=92&&a--,a>=34&&a--;let h=a-32;if(h>=46&&(h-=46,c=!0),o+=h,c)break;o*=46}e?e[l++]=o:e=new t(o)}return e}class Bc{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const mx=new Bc;class H3{constructor(t,e){this.input=t,this.ranges=e,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=mx,this.rangeIndex=0,this.pos=this.chunkPos=e[0].from,this.range=e[0],this.end=e[e.length-1].to,this.readNext()}resolveOffset(t,e){let n=this.range,l=this.rangeIndex,o=this.pos+t;for(;o<n.from;){if(!l)return null;let a=this.ranges[--l];o-=n.from-a.to,n=a}for(;e<0?o>n.to:o>=n.to;){if(l==this.ranges.length-1)return null;let a=this.ranges[++l];o+=a.from-n.to,n=a}return o}clipPos(t){if(t>=this.range.from&&t<this.range.to)return t;for(let e of this.ranges)if(e.to>t)return Math.max(t,e.from);return this.end}peek(t){let e=this.chunkOff+t,n,l;if(e>=0&&e<this.chunk.length)n=this.pos+t,l=this.chunk.charCodeAt(e);else{let o=this.resolveOffset(t,1);if(o==null)return-1;if(n=o,n>=this.chunk2Pos&&n<this.chunk2Pos+this.chunk2.length)l=this.chunk2.charCodeAt(n-this.chunk2Pos);else{let a=this.rangeIndex,c=this.range;for(;c.to<=n;)c=this.ranges[++a];this.chunk2=this.input.chunk(this.chunk2Pos=n),n+this.chunk2.length>c.to&&(this.chunk2=this.chunk2.slice(0,c.to-n)),l=this.chunk2.charCodeAt(0)}}return n>=this.token.lookAhead&&(this.token.lookAhead=n+1),l}acceptToken(t,e=0){let n=e?this.resolveOffset(e,-1):this.pos;if(n==null||n<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=t,this.token.end=n}acceptTokenTo(t,e){this.token.value=t,this.token.end=e}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:t,chunkPos:e}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=t,this.chunk2Pos=e,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let t=this.input.chunk(this.pos),e=this.pos+t.length;this.chunk=e>this.range.to?t.slice(0,this.range.to-this.pos):t,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(t=1){for(this.chunkOff+=t;this.pos+t>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();t-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=t,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(t,e){if(e?(this.token=e,e.start=t,e.lookAhead=t+1,e.value=e.extended=-1):this.token=mx,this.pos!=t){if(this.pos=t,t==this.end)return this.setDone(),this;for(;t<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;t>=this.range.to;)this.range=this.ranges[++this.rangeIndex];t>=this.chunkPos&&t<this.chunkPos+this.chunk.length?this.chunkOff=t-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(t,e){if(t>=this.chunkPos&&e<=this.chunkPos+this.chunk.length)return this.chunk.slice(t-this.chunkPos,e-this.chunkPos);if(t>=this.chunk2Pos&&e<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(t-this.chunk2Pos,e-this.chunk2Pos);if(t>=this.range.from&&e<=this.range.to)return this.input.read(t,e);let n="";for(let l of this.ranges){if(l.from>=e)break;l.to>t&&(n+=this.input.read(Math.max(l.from,t),Math.min(l.to,e)))}return n}}class Rr{constructor(t,e){this.data=t,this.id=e}token(t,e){let{parser:n}=e.p;j3(this.data,t,e,this.id,n.data,n.tokenPrecTable)}}Rr.prototype.contextual=Rr.prototype.fallback=Rr.prototype.extend=!1;Rr.prototype.fallback=Rr.prototype.extend=!1;function j3(i,t,e,n,l,o){let a=0,c=1<<n,{dialect:h}=e.p.parser;t:for(;(c&i[a])!=0;){let d=i[a+1];for(let v=a+3;v<d;v+=2)if((i[v+1]&c)>0){let w=i[v];if(h.allows(w)&&(t.token.value==-1||t.token.value==w||_3(w,t.token.value,l,o))){t.acceptToken(w);break}}let p=t.next,g=0,b=i[a+2];if(t.next<0&&b>g&&i[d+b*3-3]==65535){a=i[d+b*3-1];continue t}for(;g<b;){let v=g+b>>1,w=d+v+(v<<1),C=i[w],k=i[w+1]||65536;if(p<C)b=v;else if(p>=k)g=v+1;else{a=i[w+2],t.advance();continue t}}break}}function px(i,t,e){for(let n=t,l;(l=i[n])!=65535;n++)if(l==e)return n-t;return-1}function _3(i,t,e,n){let l=px(e,n,t);return l<0||px(e,n,i)<l}const zn=typeof process<"u"&&hx&&/\bparse\b/.test(hx.LOG);let Cm=null;function gx(i,t,e){let n=i.cursor(Ue.IncludeAnonymous);for(n.moveTo(t);;)if(!(e<0?n.childBefore(t):n.childAfter(t)))for(;;){if((e<0?n.to<t:n.from>t)&&!n.type.isError)return e<0?Math.max(0,Math.min(n.to-1,t-25)):Math.min(i.length,Math.max(n.from+1,t+25));if(e<0?n.prevSibling():n.nextSibling())break;if(!n.parent())return e<0?0:i.length}}class U3{constructor(t,e){this.fragments=t,this.nodeSet=e,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let t=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(t){for(this.safeFrom=t.openStart?gx(t.tree,t.from+t.offset,1)-t.offset:t.from,this.safeTo=t.openEnd?gx(t.tree,t.to+t.offset,-1)-t.offset:t.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(t.tree),this.start.push(-t.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(t){if(t<this.nextStart)return null;for(;this.fragment&&this.safeTo<=t;)this.nextFragment();if(!this.fragment)return null;for(;;){let e=this.trees.length-1;if(e<0)return this.nextFragment(),null;let n=this.trees[e],l=this.index[e];if(l==n.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let o=n.children[l],a=this.start[e]+n.positions[l];if(a>t)return this.nextStart=a,null;if(o instanceof ke){if(a==t){if(a<this.safeFrom)return null;let c=a+o.length;if(c<=this.safeTo){let h=o.prop(Ot.lookAhead);if(!h||c+h<this.fragment.to)return o}}this.index[e]++,a+o.length>=Math.max(this.safeFrom,t)&&(this.trees.push(o),this.start.push(a),this.index.push(0))}else this.index[e]++,this.nextStart=a+o.length}}}class q3{constructor(t,e){this.stream=e,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=t.tokenizers.map(n=>new Bc)}getActions(t){let e=0,n=null,{parser:l}=t.p,{tokenizers:o}=l,a=l.stateSlot(t.state,3),c=t.curContext?t.curContext.hash:0,h=0;for(let d=0;d<o.length;d++){if((1<<d&a)==0)continue;let p=o[d],g=this.tokens[d];if(!(n&&!p.fallback)&&((p.contextual||g.start!=t.pos||g.mask!=a||g.context!=c)&&(this.updateCachedToken(g,p,t),g.mask=a,g.context=c),g.lookAhead>g.end+25&&(h=Math.max(g.lookAhead,h)),g.value!=0)){let b=e;if(g.extended>-1&&(e=this.addActions(t,g.extended,g.end,e)),e=this.addActions(t,g.value,g.end,e),!p.extend&&(n=g,e>b))break}}for(;this.actions.length>e;)this.actions.pop();return h&&t.setLookAhead(h),!n&&t.pos==this.stream.end&&(n=new Bc,n.value=t.p.parser.eofTerm,n.start=n.end=t.pos,e=this.addActions(t,n.value,n.end,e)),this.mainToken=n,this.actions}getMainToken(t){if(this.mainToken)return this.mainToken;let e=new Bc,{pos:n,p:l}=t;return e.start=n,e.end=Math.min(n+1,l.stream.end),e.value=n==l.stream.end?l.parser.eofTerm:0,e}updateCachedToken(t,e,n){let l=this.stream.clipPos(n.pos);if(e.token(this.stream.reset(l,t),n),t.value>-1){let{parser:o}=n.p;for(let a=0;a<o.specialized.length;a++)if(o.specialized[a]==t.value){let c=o.specializers[a](this.stream.read(t.start,t.end),n);if(c>=0&&n.p.parser.dialect.allows(c>>1)){(c&1)==0?t.value=c>>1:t.extended=c>>1;break}}}else t.value=0,t.end=this.stream.clipPos(l+1)}putAction(t,e,n,l){for(let o=0;o<l;o+=3)if(this.actions[o]==t)return l;return this.actions[l++]=t,this.actions[l++]=e,this.actions[l++]=n,l}addActions(t,e,n,l){let{state:o}=t,{parser:a}=t.p,{data:c}=a;for(let h=0;h<2;h++)for(let d=a.stateSlot(o,h?2:1);;d+=3){if(c[d]==65535)if(c[d+1]==1)d=rs(c,d+2);else{l==0&&c[d+1]==2&&(l=this.putAction(rs(c,d+2),e,n,l));break}c[d]==e&&(l=this.putAction(rs(c,d+1),e,n,l))}return l}}class V3{constructor(t,e,n,l){this.parser=t,this.input=e,this.ranges=l,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new H3(e,l),this.tokens=new q3(t,this.stream),this.topTerm=t.top[1];let{from:o}=l[0];this.stacks=[cf.start(this,t.top[0],o)],this.fragments=n.length&&this.stream.end-o>t.bufferLength*4?new U3(n,t.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let t=this.stacks,e=this.minStackPos,n=this.stacks=[],l,o;if(this.bigReductionCount>300&&t.length==1){let[a]=t;for(;a.forceReduce()&&a.stack.length&&a.stack[a.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let a=0;a<t.length;a++){let c=t[a];for(;;){if(this.tokens.mainToken=null,c.pos>e)n.push(c);else{if(this.advanceStack(c,n,t))continue;{l||(l=[],o=[]),l.push(c);let h=this.tokens.getMainToken(c);o.push(h.value,h.end)}}break}}if(!n.length){let a=l&&Y3(l);if(a)return zn&&console.log("Finish with "+this.stackID(a)),this.stackToTree(a);if(this.parser.strict)throw zn&&l&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+e);this.recovering||(this.recovering=5)}if(this.recovering&&l){let a=this.stoppedAt!=null&&l[0].pos>this.stoppedAt?l[0]:this.runRecovery(l,o,n);if(a)return zn&&console.log("Force-finish "+this.stackID(a)),this.stackToTree(a.forceAll())}if(this.recovering){let a=this.recovering==1?1:this.recovering*3;if(n.length>a)for(n.sort((c,h)=>h.score-c.score);n.length>a;)n.pop();n.some(c=>c.reducePos>e)&&this.recovering--}else if(n.length>1){t:for(let a=0;a<n.length-1;a++){let c=n[a];for(let h=a+1;h<n.length;h++){let d=n[h];if(c.sameState(d)||c.buffer.length>500&&d.buffer.length>500)if((c.score-d.score||c.buffer.length-d.buffer.length)>0)n.splice(h--,1);else{n.splice(a--,1);continue t}}}n.length>12&&n.splice(12,n.length-12)}this.minStackPos=n[0].pos;for(let a=1;a<n.length;a++)n[a].pos<this.minStackPos&&(this.minStackPos=n[a].pos);return null}stopAt(t){if(this.stoppedAt!=null&&this.stoppedAt<t)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=t}advanceStack(t,e,n){let l=t.pos,{parser:o}=this,a=zn?this.stackID(t)+" -> ":"";if(this.stoppedAt!=null&&l>this.stoppedAt)return t.forceReduce()?t:null;if(this.fragments){let d=t.curContext&&t.curContext.tracker.strict,p=d?t.curContext.hash:0;for(let g=this.fragments.nodeAt(l);g;){let b=this.parser.nodeSet.types[g.type.id]==g.type?o.getGoto(t.state,g.type.id):-1;if(b>-1&&g.length&&(!d||(g.prop(Ot.contextHash)||0)==p))return t.useNode(g,b),zn&&console.log(a+this.stackID(t)+` (via reuse of ${o.getName(g.type.id)})`),!0;if(!(g instanceof ke)||g.children.length==0||g.positions[0]>0)break;let v=g.children[0];if(v instanceof ke&&g.positions[0]==0)g=v;else break}}let c=o.stateSlot(t.state,4);if(c>0)return t.reduce(c),zn&&console.log(a+this.stackID(t)+` (via always-reduce ${o.getName(c&65535)})`),!0;if(t.stack.length>=8400)for(;t.stack.length>6e3&&t.forceReduce(););let h=this.tokens.getActions(t);for(let d=0;d<h.length;){let p=h[d++],g=h[d++],b=h[d++],v=d==h.length||!n,w=v?t:t.split(),C=this.tokens.mainToken;if(w.apply(p,g,C?C.start:w.pos,b),zn&&console.log(a+this.stackID(w)+` (via ${(p&65536)==0?"shift":`reduce of ${o.getName(p&65535)}`} for ${o.getName(g)} @ ${l}${w==t?"":", split"})`),v)return!0;w.pos>l?e.push(w):n.push(w)}return!1}advanceFully(t,e){let n=t.pos;for(;;){if(!this.advanceStack(t,null,null))return!1;if(t.pos>n)return yx(t,e),!0}}runRecovery(t,e,n){let l=null,o=!1;for(let a=0;a<t.length;a++){let c=t[a],h=e[a<<1],d=e[(a<<1)+1],p=zn?this.stackID(c)+" -> ":"";if(c.deadEnd&&(o||(o=!0,c.restart(),zn&&console.log(p+this.stackID(c)+" (restarted)"),this.advanceFully(c,n))))continue;let g=c.split(),b=p;for(let v=0;g.forceReduce()&&v<10&&(zn&&console.log(b+this.stackID(g)+" (via force-reduce)"),!this.advanceFully(g,n));v++)zn&&(b=this.stackID(g)+" -> ");for(let v of c.recoverByInsert(h))zn&&console.log(p+this.stackID(v)+" (via recover-insert)"),this.advanceFully(v,n);this.stream.end>c.pos?(d==c.pos&&(d++,h=0),c.recoverByDelete(h,d),zn&&console.log(p+this.stackID(c)+` (via recover-delete ${this.parser.getName(h)})`),yx(c,n)):(!l||l.score<c.score)&&(l=c)}return l}stackToTree(t){return t.close(),ke.build({buffer:ff.create(t),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:t.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(t){let e=(Cm||(Cm=new WeakMap)).get(t);return e||Cm.set(t,e=String.fromCodePoint(this.nextStackID++)),e+t}}function yx(i,t){for(let e=0;e<t.length;e++){let n=t[e];if(n.pos==i.pos&&n.sameState(i)){t[e].score<i.score&&(t[e]=i);return}}t.push(i)}class P3{constructor(t,e,n){this.source=t,this.flags=e,this.disabled=n}allows(t){return!this.disabled||this.disabled[t]==0}}class hf extends gw{constructor(t){if(super(),this.wrappers=[],t.version!=14)throw new RangeError(`Parser version (${t.version}) doesn't match runtime version (14)`);let e=t.nodeNames.split(" ");this.minRepeatTerm=e.length;for(let c=0;c<t.repeatNodeCount;c++)e.push("");let n=Object.keys(t.topRules).map(c=>t.topRules[c][1]),l=[];for(let c=0;c<e.length;c++)l.push([]);function o(c,h,d){l[c].push([h,h.deserialize(String(d))])}if(t.nodeProps)for(let c of t.nodeProps){let h=c[0];typeof h=="string"&&(h=Ot[h]);for(let d=1;d<c.length;){let p=c[d++];if(p>=0)o(p,h,c[d++]);else{let g=c[d+-p];for(let b=-p;b>0;b--)o(c[d++],h,g);d++}}}this.nodeSet=new Fp(e.map((c,h)=>wn.define({name:h>=this.minRepeatTerm?void 0:c,id:h,props:l[h],top:n.indexOf(h)>-1,error:h==0,skipped:t.skippedNodes&&t.skippedNodes.indexOf(h)>-1}))),t.propSources&&(this.nodeSet=this.nodeSet.extend(...t.propSources)),this.strict=!1,this.bufferLength=hw;let a=bc(t.tokenData);this.context=t.context,this.specializerSpecs=t.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let c=0;c<this.specializerSpecs.length;c++)this.specialized[c]=this.specializerSpecs[c].term;this.specializers=this.specializerSpecs.map(bx),this.states=bc(t.states,Uint32Array),this.data=bc(t.stateData),this.goto=bc(t.goto),this.maxTerm=t.maxTerm,this.tokenizers=t.tokenizers.map(c=>typeof c=="number"?new Rr(a,c):c),this.topRules=t.topRules,this.dialects=t.dialects||{},this.dynamicPrecedences=t.dynamicPrecedences||null,this.tokenPrecTable=t.tokenPrec,this.termNames=t.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(t,e,n){let l=new V3(this,t,e,n);for(let o of this.wrappers)l=o(l,t,e,n);return l}getGoto(t,e,n=!1){let l=this.goto;if(e>=l[0])return-1;for(let o=l[e+1];;){let a=l[o++],c=a&1,h=l[o++];if(c&&n)return h;for(let d=o+(a>>1);o<d;o++)if(l[o]==t)return h;if(c)return-1}}hasAction(t,e){let n=this.data;for(let l=0;l<2;l++)for(let o=this.stateSlot(t,l?2:1),a;;o+=3){if((a=n[o])==65535)if(n[o+1]==1)a=n[o=rs(n,o+2)];else{if(n[o+1]==2)return rs(n,o+2);break}if(a==e||a==0)return rs(n,o+1)}return 0}stateSlot(t,e){return this.states[t*6+e]}stateFlag(t,e){return(this.stateSlot(t,0)&e)>0}validAction(t,e){return!!this.allActions(t,n=>n==e?!0:null)}allActions(t,e){let n=this.stateSlot(t,4),l=n?e(n):void 0;for(let o=this.stateSlot(t,1);l==null;o+=3){if(this.data[o]==65535)if(this.data[o+1]==1)o=rs(this.data,o+2);else break;l=e(rs(this.data,o+1))}return l}nextStates(t){let e=[];for(let n=this.stateSlot(t,1);;n+=3){if(this.data[n]==65535)if(this.data[n+1]==1)n=rs(this.data,n+2);else break;if((this.data[n+2]&1)==0){let l=this.data[n+1];e.some((o,a)=>a&1&&o==l)||e.push(this.data[n],l)}}return e}configure(t){let e=Object.assign(Object.create(hf.prototype),this);if(t.props&&(e.nodeSet=this.nodeSet.extend(...t.props)),t.top){let n=this.topRules[t.top];if(!n)throw new RangeError(`Invalid top rule name ${t.top}`);e.top=n}return t.tokenizers&&(e.tokenizers=this.tokenizers.map(n=>{let l=t.tokenizers.find(o=>o.from==n);return l?l.to:n})),t.specializers&&(e.specializers=this.specializers.slice(),e.specializerSpecs=this.specializerSpecs.map((n,l)=>{let o=t.specializers.find(c=>c.from==n.external);if(!o)return n;let a=Object.assign(Object.assign({},n),{external:o.to});return e.specializers[l]=bx(a),a})),t.contextTracker&&(e.context=t.contextTracker),t.dialect&&(e.dialect=this.parseDialect(t.dialect)),t.strict!=null&&(e.strict=t.strict),t.wrap&&(e.wrappers=e.wrappers.concat(t.wrap)),t.bufferLength!=null&&(e.bufferLength=t.bufferLength),e}hasWrappers(){return this.wrappers.length>0}getName(t){return this.termNames?this.termNames[t]:String(t<=this.maxNode&&this.nodeSet.types[t].name||t)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(t){let e=this.dynamicPrecedences;return e==null?0:e[t]||0}parseDialect(t){let e=Object.keys(this.dialects),n=e.map(()=>!1);if(t)for(let o of t.split(" ")){let a=e.indexOf(o);a>=0&&(n[a]=!0)}let l=null;for(let o=0;o<e.length;o++)if(!n[o])for(let a=this.dialects[e[o]],c;(c=this.data[a++])!=65535;)(l||(l=new Uint8Array(this.maxTerm+1)))[c]=1;return new P3(t,n,l)}static deserialize(t){return new hf(t)}}function rs(i,t){return i[t]|i[t+1]<<16}function Y3(i){let t=null;for(let e of i){let n=e.p.stoppedAt;(e.pos==e.p.stream.end||n!=null&&e.pos>n)&&e.p.parser.stateFlag(e.state,2)&&(!t||t.score<e.score)&&(t=e)}return t}function bx(i){if(i.external){let t=i.extend?1:0;return(e,n)=>i.external(e,n)<<1|t}return i.get}const G3=yw({String:G.string,Number:G.number,"True False":G.bool,PropertyName:G.propertyName,Null:G.null,", :":G.separator,"[ ]":G.squareBracket,"{ }":G.brace}),X3=hf.deserialize({version:14,states:"$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#ClOOQO'#Cr'#CrQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CtOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59W,59WO!iQPO,59WOVQPO,59QOqQPO'#CmO!nQPO,59`OOQO1G.k1G.kOVQPO'#CnO!vQPO,59aOOQO1G.r1G.rOOQO1G.l1G.lOOQO,59X,59XOOQO-E6k-E6kOOQO,59Y,59YOOQO-E6l-E6l",stateData:"#O~OeOS~OQSORSOSSOTSOWQO_ROgPO~OVXOgUO~O^[O~PVO[^O~O]_OVhX~OVaO~O]bO^iX~O^dO~O]_OVha~O]bO^ia~O",goto:"!kjPPPPPPkPPkqwPPPPk{!RPPP!XP!e!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R",nodeNames:" JsonText True False Null Number String } { Object Property PropertyName : , ] [ Array",maxTerm:25,nodeProps:[["isolate",-2,6,11,""],["openedBy",7,"{",14,"["],["closedBy",8,"}",15,"]"]],propSources:[G3],skippedNodes:[0],repeatNodeCount:2,tokenData:"(|~RaXY!WYZ!W]^!Wpq!Wrs!]|}$u}!O$z!Q!R%T!R![&c![!]&t!}#O&y#P#Q'O#Y#Z'T#b#c'r#h#i(Z#o#p(r#q#r(w~!]Oe~~!`Wpq!]qr!]rs!xs#O!]#O#P!}#P;'S!];'S;=`$o<%lO!]~!}Og~~#QXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#m~#pR!Q![#y!c!i#y#T#Z#y~#|R!Q![$V!c!i$V#T#Z$V~$YR!Q![$c!c!i$c#T#Z$c~$fR!Q![!]!c!i!]#T#Z!]~$rP;=`<%l!]~$zO]~~$}Q!Q!R%T!R![&c~%YRT~!O!P%c!g!h%w#X#Y%w~%fP!Q![%i~%nRT~!Q![%i!g!h%w#X#Y%w~%zR{|&T}!O&T!Q![&Z~&WP!Q![&Z~&`PT~!Q![&Z~&hST~!O!P%c!Q![&c!g!h%w#X#Y%w~&yO[~~'OO_~~'TO^~~'WP#T#U'Z~'^P#`#a'a~'dP#g#h'g~'jP#X#Y'm~'rOR~~'uP#i#j'x~'{P#`#a(O~(RP#`#a(U~(ZOS~~(^P#f#g(a~(dP#i#j(g~(jP#X#Y(m~(rOQ~~(wOW~~(|OV~",tokenizers:[0],topRules:{JsonText:[0,1]},tokenPrec:0}),I3=Kc.define({name:"json",parser:X3.configure({props:[Sw.add({Object:O1({except:/^\s*\}/}),Array:O1({except:/^\s*\]/})}),Cw.add({"Object Array":eE})]}),languageData:{closeBrackets:{brackets:["[","{",'"']},indentOnInput:/^\s*[\}\]]$/}});function j2(){return new YO(I3)}const vx=i=>{let t;const e=new Set,n=(d,p)=>{const g=typeof d=="function"?d(t):d;if(!Object.is(g,t)){const b=t;t=p??(typeof g!="object"||g===null)?g:Object.assign({},t,g),e.forEach(v=>v(t,b))}},l=()=>t,c={setState:n,getState:l,getInitialState:()=>h,subscribe:d=>(e.add(d),()=>e.delete(d))},h=t=i(n,l,c);return c},Q3=(i=>i?vx(i):vx),K3=i=>i;function W3(i,t=K3){const e=$.useSyncExternalStore(i.subscribe,$.useCallback(()=>t(i.getState()),[i,t]),$.useCallback(()=>t(i.getInitialState()),[i,t]));return $.useDebugValue(e),e}const F3=i=>{const t=Q3(i),e=n=>W3(t,n);return Object.assign(e,t),e},Z3=(i=>F3);function _2(i,t){let e;try{e=i()}catch{return}return{getItem:l=>{var o;const a=h=>h===null?null:JSON.parse(h,t?.reviver),c=(o=e.getItem(l))!=null?o:null;return c instanceof Promise?c.then(a):a(c)},setItem:(l,o)=>e.setItem(l,JSON.stringify(o,t?.replacer)),removeItem:l=>e.removeItem(l)}}const Tp=i=>t=>{try{const e=i(t);return e instanceof Promise?e:{then(n){return Tp(n)(e)},catch(n){return this}}}catch(e){return{then(n){return this},catch(n){return Tp(n)(e)}}}},J3=(i,t)=>(e,n,l)=>{let o={storage:_2(()=>localStorage),partialize:C=>C,version:0,merge:(C,k)=>({...k,...C}),...t},a=!1;const c=new Set,h=new Set;let d=o.storage;if(!d)return i((...C)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),e(...C)},n,l);const p=()=>{const C=o.partialize({...n()});return d.setItem(o.name,{state:C,version:o.version})},g=l.setState;l.setState=(C,k)=>(g(C,k),p());const b=i((...C)=>(e(...C),p()),n,l);l.getInitialState=()=>b;let v;const w=()=>{var C,k;if(!d)return;a=!1,c.forEach(N=>{var j;return N((j=n())!=null?j:b)});const A=((k=o.onRehydrateStorage)==null?void 0:k.call(o,(C=n())!=null?C:b))||void 0;return Tp(d.getItem.bind(d))(o.name).then(N=>{if(N)if(typeof N.version=="number"&&N.version!==o.version){if(o.migrate){const j=o.migrate(N.state,N.version);return j instanceof Promise?j.then(E=>[!0,E]):[!0,j]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,N.state];return[!1,void 0]}).then(N=>{var j;const[E,D]=N;if(v=o.merge(D,(j=n())!=null?j:b),e(v,!0),E)return p()}).then(()=>{A?.(v,void 0),v=n(),a=!0,h.forEach(N=>N(v))}).catch(N=>{A?.(void 0,N)})};return l.persist={setOptions:C=>{o={...o,...C},C.storage&&(d=C.storage)},clearStorage:()=>{d?.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>w(),hasHydrated:()=>a,onHydrate:C=>(c.add(C),()=>{c.delete(C)}),onFinishHydration:C=>(h.add(C),()=>{h.delete(C)})},o.skipHydration||w(),v||b},$3=J3,Xe=[];for(let i=0;i<256;++i)Xe.push((i+256).toString(16).slice(1));function t4(i,t=0){return(Xe[i[t+0]]+Xe[i[t+1]]+Xe[i[t+2]]+Xe[i[t+3]]+"-"+Xe[i[t+4]]+Xe[i[t+5]]+"-"+Xe[i[t+6]]+Xe[i[t+7]]+"-"+Xe[i[t+8]]+Xe[i[t+9]]+"-"+Xe[i[t+10]]+Xe[i[t+11]]+Xe[i[t+12]]+Xe[i[t+13]]+Xe[i[t+14]]+Xe[i[t+15]]).toLowerCase()}let km;const e4=new Uint8Array(16);function n4(){if(!km){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");km=crypto.getRandomValues.bind(crypto)}return km(e4)}const i4=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),xx={randomUUID:i4};function s4(i,t,e){i=i||{};const n=i.random??i.rng?.()??n4();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,t4(n)}function Lc(i,t,e){return xx.randomUUID&&!i?xx.randomUUID():s4(i)}const Sx=i=>i.map(t=>({id:t.id||Lc(),key:t.key??"",value:t.value??"",enabled:t.enabled??!0})),l4={url:"",method:"GET",headers:Sx([{key:"Content-Type",value:"application/json",enabled:!0}]),body:"",params:Sx([]),timeout:0},df=Z3()($3((i,t)=>({request:l4,response:null,isLoading:!1,lastSaved:null,history:[],useProxy:localStorage.getItem("useProxy")==="true",setUseProxy:e=>{i({useProxy:e}),localStorage.setItem("useProxy",String(e))},updateRequest:e=>{i(n=>({request:{...n.request,...e},lastSaved:new Date}))},setResponse:e=>i({response:e}),setLoading:e=>i({isLoading:e}),loadFromHistory:e=>{i({request:{...e},response:null,lastSaved:new Date})},removeFromHistory:e=>{i(n=>({history:n.history.filter((l,o)=>o!==e)}))},clearHistory:()=>{i({history:[]})},sendRequest:async()=>{const{request:e,setResponse:n,setLoading:l,history:o}=t();if(!e.url.trim()){on.error("Please enter a URL");return}let a=e.url;const c=e.params.filter(b=>b.enabled&&b.key.trim());if(c.length>0)try{const b=new URL(e.url.startsWith("http")?e.url:`https://${e.url}`);c.forEach(v=>{b.searchParams.set(v.key,v.value)}),a=b.toString()}catch{on.error("Invalid URL format");return}o.some(b=>b.url===e.url&&b.method===e.method&&b.body===e.body&&b.timeout===e.timeout&&JSON.stringify(b.headers)===JSON.stringify(e.headers)&&JSON.stringify(b.params||[])===JSON.stringify(e.params))||i(b=>({history:[{...e},...b.history].slice(0,50)})),l(!0),n(null);const d=new AbortController;let p=null;e.timeout>0&&(p=setTimeout(()=>d.abort(),e.timeout));const g=performance.now();try{const b={};e.headers.filter(z=>z.enabled&&z.key.trim()).forEach(z=>{b[z.key]=z.value});const v={method:e.method,headers:b,signal:d.signal};e.method!=="GET"&&e.method!=="HEAD"&&e.body&&(v.body=e.body);const{useProxy:w}=t(),C=location.hostname==="localhost"||location.hostname==="127.0.0.1";let k="";console.log(w),w?k=C?`https://rueries.vercel.app/api/proxy?url=${encodeURIComponent(a)}`:`/api/proxy?url=${encodeURIComponent(a)}`:k=a;const A=await fetch(k,v),N=Math.round(performance.now()-g),j={};A.headers.forEach((z,U)=>{j[U]=z});const E=A.headers.get("content-type")||"";let D;if(E.includes("application/json"))try{const z=await A.json();D=JSON.stringify(z,null,2)}catch{D=await A.text()}else D=await A.text();n({status:A.status,statusText:A.statusText,headers:j,body:D,duration:N}),on.success(`Request completed in ${N}ms`,{description:`${A.status} ${A.statusText}`})}catch(b){const v=Math.round(performance.now()-g);b instanceof Error&&b.name==="AbortError"?(n({status:0,statusText:"Request Timeout",headers:{},body:"Request was aborted due to timeout",duration:v}),on.error("Request timed out")):(n({status:0,statusText:"Network Error",headers:{},body:b instanceof Error?b.message:"Unknown error occurred",duration:v}),on.error("Request failed",{description:b instanceof Error?b.message:"Unknown error"}))}finally{p&&clearTimeout(p),l(!1)}},clearSaved:()=>{i({request:{url:"",method:"GET",headers:[{id:crypto.randomUUID(),key:"Content-Type",value:"application/json",enabled:!0}],body:"",params:[],timeout:0},response:null,lastSaved:null}),on.success("Saved data cleared")},loadSaved:()=>{}}),{name:"http-tester-storage",storage:_2(()=>localStorage,{replacer:(i,t)=>t instanceof Date?{__type:"Date",value:t.toISOString()}:t,reviver:(i,t)=>t&&typeof t=="object"&&t.__type==="Date"?new Date(t.value):t}),migrate:(i,t)=>{if(t<5&&i){if(i.lastSaved&&typeof i.lastSaved=="string"&&(i.lastSaved=new Date(i.lastSaved)),i.request){if(Array.isArray(i.request.params)||(i.request.params=[]),typeof i.request.headers=="string")try{const e=JSON.parse(i.request.headers);i.request.headers=Object.entries(e).map(([n,l])=>({id:crypto.randomUUID(),key:n,value:String(l),enabled:!0}))}catch{i.request.headers=[{id:crypto.randomUUID(),key:"Content-Type",value:"application/json",enabled:!0}]}Array.isArray(i.request.headers)||(i.request.headers=[{id:crypto.randomUUID(),key:"Content-Type",value:"application/json",enabled:!0}]),i.request.headers=(i.request.headers??[]).map(e=>({id:e.id??crypto.randomUUID(),key:e.key??"",value:e.value??"",enabled:e.enabled??!0})),i.request.params=(i.request.params??[]).map(e=>({id:e.id??crypto.randomUUID(),key:e.key??"",value:e.value??"",enabled:e.enabled??!0}))}i.history&&Array.isArray(i.history)&&(i.history=i.history.map(e=>({...e,headers:(e.headers??[]).map(n=>({id:n.id??crypto.randomUUID(),key:n.key??"",value:n.value??"",enabled:n.enabled??!0})),params:(e.params??[]).map(n=>({id:n.id??crypto.randomUUID(),key:n.key??"",value:n.value??"",enabled:n.enabled??!0}))})))}return i},version:5,partialize:i=>({request:i.request,lastSaved:i.lastSaved,history:i.history,useProxy:i.useProxy})}));function U2(i){var t,e,n="";if(typeof i=="string"||typeof i=="number")n+=i;else if(typeof i=="object")if(Array.isArray(i)){var l=i.length;for(t=0;t<l;t++)i[t]&&(e=U2(i[t]))&&(n&&(n+=" "),n+=e)}else for(e in i)i[e]&&(n&&(n+=" "),n+=e);return n}function Li(){for(var i,t,e=0,n="",l=arguments.length;e<l;e++)(i=arguments[e])&&(t=U2(i))&&(n&&(n+=" "),n+=t);return n}function r4(){for(var i=arguments.length,t=new Array(i),e=0;e<i;e++)t[e]=arguments[e];return P.useMemo(()=>n=>{t.forEach(l=>l(n))},t)}const Bf=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Gr(i){const t=Object.prototype.toString.call(i);return t==="[object Window]"||t==="[object global]"}function dg(i){return"nodeType"in i}function Cn(i){var t,e;return i?Gr(i)?i:dg(i)&&(t=(e=i.ownerDocument)==null?void 0:e.defaultView)!=null?t:window:window}function mg(i){const{Document:t}=Cn(i);return i instanceof t}function za(i){return Gr(i)?!1:i instanceof Cn(i).HTMLElement}function q2(i){return i instanceof Cn(i).SVGElement}function Xr(i){return i?Gr(i)?i.document:dg(i)?mg(i)?i:za(i)||q2(i)?i.ownerDocument:document:document:document}const Ui=Bf?P.useLayoutEffect:P.useEffect;function pg(i){const t=P.useRef(i);return Ui(()=>{t.current=i}),P.useCallback(function(){for(var e=arguments.length,n=new Array(e),l=0;l<e;l++)n[l]=arguments[l];return t.current==null?void 0:t.current(...n)},[])}function o4(){const i=P.useRef(null),t=P.useCallback((n,l)=>{i.current=setInterval(n,l)},[]),e=P.useCallback(()=>{i.current!==null&&(clearInterval(i.current),i.current=null)},[]);return[t,e]}function ka(i,t){t===void 0&&(t=[i]);const e=P.useRef(i);return Ui(()=>{e.current!==i&&(e.current=i)},t),e}function Ha(i,t){const e=P.useRef();return P.useMemo(()=>{const n=i(e.current);return e.current=n,n},[...t])}function mf(i){const t=pg(i),e=P.useRef(null),n=P.useCallback(l=>{l!==e.current&&t?.(l,e.current),e.current=l},[]);return[e,n]}function Dp(i){const t=P.useRef();return P.useEffect(()=>{t.current=i},[i]),t.current}let Am={};function ja(i,t){return P.useMemo(()=>{if(t)return t;const e=Am[i]==null?0:Am[i]+1;return Am[i]=e,i+"-"+e},[i,t])}function V2(i){return function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),l=1;l<e;l++)n[l-1]=arguments[l];return n.reduce((o,a)=>{const c=Object.entries(a);for(const[h,d]of c){const p=o[h];p!=null&&(o[h]=p+i*d)}return o},{...t})}}const Nr=V2(1),pf=V2(-1);function a4(i){return"clientX"in i&&"clientY"in i}function gg(i){if(!i)return!1;const{KeyboardEvent:t}=Cn(i.target);return t&&i instanceof t}function u4(i){if(!i)return!1;const{TouchEvent:t}=Cn(i.target);return t&&i instanceof t}function Op(i){if(u4(i)){if(i.touches&&i.touches.length){const{clientX:t,clientY:e}=i.touches[0];return{x:t,y:e}}else if(i.changedTouches&&i.changedTouches.length){const{clientX:t,clientY:e}=i.changedTouches[0];return{x:t,y:e}}}return a4(i)?{x:i.clientX,y:i.clientY}:null}const Aa=Object.freeze({Translate:{toString(i){if(!i)return;const{x:t,y:e}=i;return"translate3d("+(t?Math.round(t):0)+"px, "+(e?Math.round(e):0)+"px, 0)"}},Scale:{toString(i){if(!i)return;const{scaleX:t,scaleY:e}=i;return"scaleX("+t+") scaleY("+e+")"}},Transform:{toString(i){if(i)return[Aa.Translate.toString(i),Aa.Scale.toString(i)].join(" ")}},Transition:{toString(i){let{property:t,duration:e,easing:n}=i;return t+" "+e+"ms "+n}}}),wx="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function c4(i){return i.matches(wx)?i:i.querySelector(wx)}const f4={display:"none"};function h4(i){let{id:t,value:e}=i;return $.createElement("div",{id:t,style:f4},e)}function d4(i){let{id:t,announcement:e,ariaLiveType:n="assertive"}=i;const l={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return $.createElement("div",{id:t,style:l,role:"status","aria-live":n,"aria-atomic":!0},e)}function m4(){const[i,t]=P.useState("");return{announce:P.useCallback(n=>{n!=null&&t(n)},[]),announcement:i}}const P2=P.createContext(null);function p4(i){const t=P.useContext(P2);P.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(i)},[i,t])}function g4(){const[i]=P.useState(()=>new Set),t=P.useCallback(n=>(i.add(n),()=>i.delete(n)),[i]);return[P.useCallback(n=>{let{type:l,event:o}=n;i.forEach(a=>{var c;return(c=a[l])==null?void 0:c.call(a,o)})},[i]),t]}const y4={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},b4={onDragStart(i){let{active:t}=i;return"Picked up draggable item "+t.id+"."},onDragOver(i){let{active:t,over:e}=i;return e?"Draggable item "+t.id+" was moved over droppable area "+e.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(i){let{active:t,over:e}=i;return e?"Draggable item "+t.id+" was dropped over droppable area "+e.id:"Draggable item "+t.id+" was dropped."},onDragCancel(i){let{active:t}=i;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function v4(i){let{announcements:t=b4,container:e,hiddenTextDescribedById:n,screenReaderInstructions:l=y4}=i;const{announce:o,announcement:a}=m4(),c=ja("DndLiveRegion"),[h,d]=P.useState(!1);if(P.useEffect(()=>{d(!0)},[]),p4(P.useMemo(()=>({onDragStart(g){let{active:b}=g;o(t.onDragStart({active:b}))},onDragMove(g){let{active:b,over:v}=g;t.onDragMove&&o(t.onDragMove({active:b,over:v}))},onDragOver(g){let{active:b,over:v}=g;o(t.onDragOver({active:b,over:v}))},onDragEnd(g){let{active:b,over:v}=g;o(t.onDragEnd({active:b,over:v}))},onDragCancel(g){let{active:b,over:v}=g;o(t.onDragCancel({active:b,over:v}))}}),[o,t])),!h)return null;const p=$.createElement($.Fragment,null,$.createElement(h4,{id:n,value:l.draggable}),$.createElement(d4,{id:c,announcement:a}));return e?Sr.createPortal(p,e):p}var Oe;(function(i){i.DragStart="dragStart",i.DragMove="dragMove",i.DragEnd="dragEnd",i.DragCancel="dragCancel",i.DragOver="dragOver",i.RegisterDroppable="registerDroppable",i.SetDroppableDisabled="setDroppableDisabled",i.UnregisterDroppable="unregisterDroppable"})(Oe||(Oe={}));function gf(){}function x4(i,t){return P.useMemo(()=>({sensor:i,options:{}}),[i,t])}function S4(){for(var i=arguments.length,t=new Array(i),e=0;e<i;e++)t[e]=arguments[e];return P.useMemo(()=>[...t].filter(n=>n!=null),[...t])}const yi=Object.freeze({x:0,y:0});function w4(i,t){return Math.sqrt(Math.pow(i.x-t.x,2)+Math.pow(i.y-t.y,2))}function C4(i,t){let{data:{value:e}}=i,{data:{value:n}}=t;return e-n}function k4(i,t){let{data:{value:e}}=i,{data:{value:n}}=t;return n-e}function A4(i,t){if(!i||i.length===0)return null;const[e]=i;return e[t]}function Cx(i,t,e){return t===void 0&&(t=i.left),e===void 0&&(e=i.top),{x:t+i.width*.5,y:e+i.height*.5}}const M4=i=>{let{collisionRect:t,droppableRects:e,droppableContainers:n}=i;const l=Cx(t,t.left,t.top),o=[];for(const a of n){const{id:c}=a,h=e.get(c);if(h){const d=w4(Cx(h),l);o.push({id:c,data:{droppableContainer:a,value:d}})}}return o.sort(C4)};function T4(i,t){const e=Math.max(t.top,i.top),n=Math.max(t.left,i.left),l=Math.min(t.left+t.width,i.left+i.width),o=Math.min(t.top+t.height,i.top+i.height),a=l-n,c=o-e;if(n<l&&e<o){const h=t.width*t.height,d=i.width*i.height,p=a*c,g=p/(h+d-p);return Number(g.toFixed(4))}return 0}const D4=i=>{let{collisionRect:t,droppableRects:e,droppableContainers:n}=i;const l=[];for(const o of n){const{id:a}=o,c=e.get(a);if(c){const h=T4(c,t);h>0&&l.push({id:a,data:{droppableContainer:o,value:h}})}}return l.sort(k4)};function O4(i,t,e){return{...i,scaleX:t&&e?t.width/e.width:1,scaleY:t&&e?t.height/e.height:1}}function Y2(i,t){return i&&t?{x:i.left-t.left,y:i.top-t.top}:yi}function E4(i){return function(e){for(var n=arguments.length,l=new Array(n>1?n-1:0),o=1;o<n;o++)l[o-1]=arguments[o];return l.reduce((a,c)=>({...a,top:a.top+i*c.y,bottom:a.bottom+i*c.y,left:a.left+i*c.x,right:a.right+i*c.x}),{...e})}}const R4=E4(1);function N4(i){if(i.startsWith("matrix3d(")){const t=i.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(i.startsWith("matrix(")){const t=i.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function B4(i,t,e){const n=N4(t);if(!n)return i;const{scaleX:l,scaleY:o,x:a,y:c}=n,h=i.left-a-(1-l)*parseFloat(e),d=i.top-c-(1-o)*parseFloat(e.slice(e.indexOf(" ")+1)),p=l?i.width/l:i.width,g=o?i.height/o:i.height;return{width:p,height:g,top:d,right:h+p,bottom:d+g,left:h}}const L4={ignoreTransform:!1};function Ir(i,t){t===void 0&&(t=L4);let e=i.getBoundingClientRect();if(t.ignoreTransform){const{transform:d,transformOrigin:p}=Cn(i).getComputedStyle(i);d&&(e=B4(e,d,p))}const{top:n,left:l,width:o,height:a,bottom:c,right:h}=e;return{top:n,left:l,width:o,height:a,bottom:c,right:h}}function kx(i){return Ir(i,{ignoreTransform:!0})}function z4(i){const t=i.innerWidth,e=i.innerHeight;return{top:0,left:0,right:t,bottom:e,width:t,height:e}}function H4(i,t){return t===void 0&&(t=Cn(i).getComputedStyle(i)),t.position==="fixed"}function j4(i,t){t===void 0&&(t=Cn(i).getComputedStyle(i));const e=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(l=>{const o=t[l];return typeof o=="string"?e.test(o):!1})}function yg(i,t){const e=[];function n(l){if(t!=null&&e.length>=t||!l)return e;if(mg(l)&&l.scrollingElement!=null&&!e.includes(l.scrollingElement))return e.push(l.scrollingElement),e;if(!za(l)||q2(l)||e.includes(l))return e;const o=Cn(i).getComputedStyle(l);return l!==i&&j4(l,o)&&e.push(l),H4(l,o)?e:n(l.parentNode)}return i?n(i):e}function G2(i){const[t]=yg(i,1);return t??null}function Mm(i){return!Bf||!i?null:Gr(i)?i:dg(i)?mg(i)||i===Xr(i).scrollingElement?window:za(i)?i:null:null}function X2(i){return Gr(i)?i.scrollX:i.scrollLeft}function I2(i){return Gr(i)?i.scrollY:i.scrollTop}function Ep(i){return{x:X2(i),y:I2(i)}}var _e;(function(i){i[i.Forward=1]="Forward",i[i.Backward=-1]="Backward"})(_e||(_e={}));function Q2(i){return!Bf||!i?!1:i===document.scrollingElement}function K2(i){const t={x:0,y:0},e=Q2(i)?{height:window.innerHeight,width:window.innerWidth}:{height:i.clientHeight,width:i.clientWidth},n={x:i.scrollWidth-e.width,y:i.scrollHeight-e.height},l=i.scrollTop<=t.y,o=i.scrollLeft<=t.x,a=i.scrollTop>=n.y,c=i.scrollLeft>=n.x;return{isTop:l,isLeft:o,isBottom:a,isRight:c,maxScroll:n,minScroll:t}}const _4={x:.2,y:.2};function U4(i,t,e,n,l){let{top:o,left:a,right:c,bottom:h}=e;n===void 0&&(n=10),l===void 0&&(l=_4);const{isTop:d,isBottom:p,isLeft:g,isRight:b}=K2(i),v={x:0,y:0},w={x:0,y:0},C={height:t.height*l.y,width:t.width*l.x};return!d&&o<=t.top+C.height?(v.y=_e.Backward,w.y=n*Math.abs((t.top+C.height-o)/C.height)):!p&&h>=t.bottom-C.height&&(v.y=_e.Forward,w.y=n*Math.abs((t.bottom-C.height-h)/C.height)),!b&&c>=t.right-C.width?(v.x=_e.Forward,w.x=n*Math.abs((t.right-C.width-c)/C.width)):!g&&a<=t.left+C.width&&(v.x=_e.Backward,w.x=n*Math.abs((t.left+C.width-a)/C.width)),{direction:v,speed:w}}function q4(i){if(i===document.scrollingElement){const{innerWidth:o,innerHeight:a}=window;return{top:0,left:0,right:o,bottom:a,width:o,height:a}}const{top:t,left:e,right:n,bottom:l}=i.getBoundingClientRect();return{top:t,left:e,right:n,bottom:l,width:i.clientWidth,height:i.clientHeight}}function W2(i){return i.reduce((t,e)=>Nr(t,Ep(e)),yi)}function V4(i){return i.reduce((t,e)=>t+X2(e),0)}function P4(i){return i.reduce((t,e)=>t+I2(e),0)}function Y4(i,t){if(t===void 0&&(t=Ir),!i)return;const{top:e,left:n,bottom:l,right:o}=t(i);G2(i)&&(l<=0||o<=0||e>=window.innerHeight||n>=window.innerWidth)&&i.scrollIntoView({block:"center",inline:"center"})}const G4=[["x",["left","right"],V4],["y",["top","bottom"],P4]];class bg{constructor(t,e){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=yg(e),l=W2(n);this.rect={...t},this.width=t.width,this.height=t.height;for(const[o,a,c]of G4)for(const h of a)Object.defineProperty(this,h,{get:()=>{const d=c(n),p=l[o]-d;return this.rect[h]+p},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class ra{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(e=>{var n;return(n=this.target)==null?void 0:n.removeEventListener(...e)})},this.target=t}add(t,e,n){var l;(l=this.target)==null||l.addEventListener(t,e,n),this.listeners.push([t,e,n])}}function X4(i){const{EventTarget:t}=Cn(i);return i instanceof t?i:Xr(i)}function Tm(i,t){const e=Math.abs(i.x),n=Math.abs(i.y);return typeof t=="number"?Math.sqrt(e**2+n**2)>t:"x"in t&&"y"in t?e>t.x&&n>t.y:"x"in t?e>t.x:"y"in t?n>t.y:!1}var Jn;(function(i){i.Click="click",i.DragStart="dragstart",i.Keydown="keydown",i.ContextMenu="contextmenu",i.Resize="resize",i.SelectionChange="selectionchange",i.VisibilityChange="visibilitychange"})(Jn||(Jn={}));function Ax(i){i.preventDefault()}function I4(i){i.stopPropagation()}var Pt;(function(i){i.Space="Space",i.Down="ArrowDown",i.Right="ArrowRight",i.Left="ArrowLeft",i.Up="ArrowUp",i.Esc="Escape",i.Enter="Enter",i.Tab="Tab"})(Pt||(Pt={}));const F2={start:[Pt.Space,Pt.Enter],cancel:[Pt.Esc],end:[Pt.Space,Pt.Enter,Pt.Tab]},Q4=(i,t)=>{let{currentCoordinates:e}=t;switch(i.code){case Pt.Right:return{...e,x:e.x+25};case Pt.Left:return{...e,x:e.x-25};case Pt.Down:return{...e,y:e.y+25};case Pt.Up:return{...e,y:e.y-25}}};class Z2{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:e}}=t;this.props=t,this.listeners=new ra(Xr(e)),this.windowListeners=new ra(Cn(e)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Jn.Resize,this.handleCancel),this.windowListeners.add(Jn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Jn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:e}=this.props,n=t.node.current;n&&Y4(n),e(yi)}handleKeyDown(t){if(gg(t)){const{active:e,context:n,options:l}=this.props,{keyboardCodes:o=F2,coordinateGetter:a=Q4,scrollBehavior:c="smooth"}=l,{code:h}=t;if(o.end.includes(h)){this.handleEnd(t);return}if(o.cancel.includes(h)){this.handleCancel(t);return}const{collisionRect:d}=n.current,p=d?{x:d.left,y:d.top}:yi;this.referenceCoordinates||(this.referenceCoordinates=p);const g=a(t,{active:e,context:n.current,currentCoordinates:p});if(g){const b=pf(g,p),v={x:0,y:0},{scrollableAncestors:w}=n.current;for(const C of w){const k=t.code,{isTop:A,isRight:N,isLeft:j,isBottom:E,maxScroll:D,minScroll:z}=K2(C),U=q4(C),K={x:Math.min(k===Pt.Right?U.right-U.width/2:U.right,Math.max(k===Pt.Right?U.left:U.left+U.width/2,g.x)),y:Math.min(k===Pt.Down?U.bottom-U.height/2:U.bottom,Math.max(k===Pt.Down?U.top:U.top+U.height/2,g.y))},tt=k===Pt.Right&&!N||k===Pt.Left&&!j,ct=k===Pt.Down&&!E||k===Pt.Up&&!A;if(tt&&K.x!==g.x){const it=C.scrollLeft+b.x,et=k===Pt.Right&&it<=D.x||k===Pt.Left&&it>=z.x;if(et&&!b.y){C.scrollTo({left:it,behavior:c});return}et?v.x=C.scrollLeft-it:v.x=k===Pt.Right?C.scrollLeft-D.x:C.scrollLeft-z.x,v.x&&C.scrollBy({left:-v.x,behavior:c});break}else if(ct&&K.y!==g.y){const it=C.scrollTop+b.y,et=k===Pt.Down&&it<=D.y||k===Pt.Up&&it>=z.y;if(et&&!b.x){C.scrollTo({top:it,behavior:c});return}et?v.y=C.scrollTop-it:v.y=k===Pt.Down?C.scrollTop-D.y:C.scrollTop-z.y,v.y&&C.scrollBy({top:-v.y,behavior:c});break}}this.handleMove(t,Nr(pf(g,this.referenceCoordinates),v))}}}handleMove(t,e){const{onMove:n}=this.props;t.preventDefault(),n(e)}handleEnd(t){const{onEnd:e}=this.props;t.preventDefault(),this.detach(),e()}handleCancel(t){const{onCancel:e}=this.props;t.preventDefault(),this.detach(),e()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Z2.activators=[{eventName:"onKeyDown",handler:(i,t,e)=>{let{keyboardCodes:n=F2,onActivation:l}=t,{active:o}=e;const{code:a}=i.nativeEvent;if(n.start.includes(a)){const c=o.activatorNode.current;return c&&i.target!==c?!1:(i.preventDefault(),l?.({event:i.nativeEvent}),!0)}return!1}}];function Mx(i){return!!(i&&"distance"in i)}function Tx(i){return!!(i&&"delay"in i)}class vg{constructor(t,e,n){var l;n===void 0&&(n=X4(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=e;const{event:o}=t,{target:a}=o;this.props=t,this.events=e,this.document=Xr(a),this.documentListeners=new ra(this.document),this.listeners=new ra(n),this.windowListeners=new ra(Cn(a)),this.initialCoordinates=(l=Op(o))!=null?l:yi,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:e,bypassActivationConstraint:n}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Jn.Resize,this.handleCancel),this.windowListeners.add(Jn.DragStart,Ax),this.windowListeners.add(Jn.VisibilityChange,this.handleCancel),this.windowListeners.add(Jn.ContextMenu,Ax),this.documentListeners.add(Jn.Keydown,this.handleKeydown),e){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Tx(e)){this.timeoutId=setTimeout(this.handleStart,e.delay),this.handlePending(e);return}if(Mx(e)){this.handlePending(e);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,e){const{active:n,onPending:l}=this.props;l(n,t,this.initialCoordinates,e)}handleStart(){const{initialCoordinates:t}=this,{onStart:e}=this.props;t&&(this.activated=!0,this.documentListeners.add(Jn.Click,I4,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Jn.SelectionChange,this.removeTextSelection),e(t))}handleMove(t){var e;const{activated:n,initialCoordinates:l,props:o}=this,{onMove:a,options:{activationConstraint:c}}=o;if(!l)return;const h=(e=Op(t))!=null?e:yi,d=pf(l,h);if(!n&&c){if(Mx(c)){if(c.tolerance!=null&&Tm(d,c.tolerance))return this.handleCancel();if(Tm(d,c.distance))return this.handleStart()}if(Tx(c)&&Tm(d,c.tolerance))return this.handleCancel();this.handlePending(c,d);return}t.cancelable&&t.preventDefault(),a(h)}handleEnd(){const{onAbort:t,onEnd:e}=this.props;this.detach(),this.activated||t(this.props.active),e()}handleCancel(){const{onAbort:t,onCancel:e}=this.props;this.detach(),this.activated||t(this.props.active),e()}handleKeydown(t){t.code===Pt.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const K4={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class xg extends vg{constructor(t){const{event:e}=t,n=Xr(e.target);super(t,K4,n)}}xg.activators=[{eventName:"onPointerDown",handler:(i,t)=>{let{nativeEvent:e}=i,{onActivation:n}=t;return!e.isPrimary||e.button!==0?!1:(n?.({event:e}),!0)}}];const W4={move:{name:"mousemove"},end:{name:"mouseup"}};var Rp;(function(i){i[i.RightClick=2]="RightClick"})(Rp||(Rp={}));class F4 extends vg{constructor(t){super(t,W4,Xr(t.event.target))}}F4.activators=[{eventName:"onMouseDown",handler:(i,t)=>{let{nativeEvent:e}=i,{onActivation:n}=t;return e.button===Rp.RightClick?!1:(n?.({event:e}),!0)}}];const Dm={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Z4 extends vg{constructor(t){super(t,Dm)}static setup(){return window.addEventListener(Dm.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Dm.move.name,t)};function t(){}}}Z4.activators=[{eventName:"onTouchStart",handler:(i,t)=>{let{nativeEvent:e}=i,{onActivation:n}=t;const{touches:l}=e;return l.length>1?!1:(n?.({event:e}),!0)}}];var oa;(function(i){i[i.Pointer=0]="Pointer",i[i.DraggableRect=1]="DraggableRect"})(oa||(oa={}));var yf;(function(i){i[i.TreeOrder=0]="TreeOrder",i[i.ReversedTreeOrder=1]="ReversedTreeOrder"})(yf||(yf={}));function J4(i){let{acceleration:t,activator:e=oa.Pointer,canScroll:n,draggingRect:l,enabled:o,interval:a=5,order:c=yf.TreeOrder,pointerCoordinates:h,scrollableAncestors:d,scrollableAncestorRects:p,delta:g,threshold:b}=i;const v=t5({delta:g,disabled:!o}),[w,C]=o4(),k=P.useRef({x:0,y:0}),A=P.useRef({x:0,y:0}),N=P.useMemo(()=>{switch(e){case oa.Pointer:return h?{top:h.y,bottom:h.y,left:h.x,right:h.x}:null;case oa.DraggableRect:return l}},[e,l,h]),j=P.useRef(null),E=P.useCallback(()=>{const z=j.current;if(!z)return;const U=k.current.x*A.current.x,K=k.current.y*A.current.y;z.scrollBy(U,K)},[]),D=P.useMemo(()=>c===yf.TreeOrder?[...d].reverse():d,[c,d]);P.useEffect(()=>{if(!o||!d.length||!N){C();return}for(const z of D){if(n?.(z)===!1)continue;const U=d.indexOf(z),K=p[U];if(!K)continue;const{direction:tt,speed:ct}=U4(z,K,N,t,b);for(const it of["x","y"])v[it][tt[it]]||(ct[it]=0,tt[it]=0);if(ct.x>0||ct.y>0){C(),j.current=z,w(E,a),k.current=ct,A.current=tt;return}}k.current={x:0,y:0},A.current={x:0,y:0},C()},[t,E,n,C,o,a,JSON.stringify(N),JSON.stringify(v),w,d,D,p,JSON.stringify(b)])}const $4={x:{[_e.Backward]:!1,[_e.Forward]:!1},y:{[_e.Backward]:!1,[_e.Forward]:!1}};function t5(i){let{delta:t,disabled:e}=i;const n=Dp(t);return Ha(l=>{if(e||!n||!l)return $4;const o={x:Math.sign(t.x-n.x),y:Math.sign(t.y-n.y)};return{x:{[_e.Backward]:l.x[_e.Backward]||o.x===-1,[_e.Forward]:l.x[_e.Forward]||o.x===1},y:{[_e.Backward]:l.y[_e.Backward]||o.y===-1,[_e.Forward]:l.y[_e.Forward]||o.y===1}}},[e,t,n])}function e5(i,t){const e=t!=null?i.get(t):void 0,n=e?e.node.current:null;return Ha(l=>{var o;return t==null?null:(o=n??l)!=null?o:null},[n,t])}function n5(i,t){return P.useMemo(()=>i.reduce((e,n)=>{const{sensor:l}=n,o=l.activators.map(a=>({eventName:a.eventName,handler:t(a.handler,n)}));return[...e,...o]},[]),[i,t])}var Ma;(function(i){i[i.Always=0]="Always",i[i.BeforeDragging=1]="BeforeDragging",i[i.WhileDragging=2]="WhileDragging"})(Ma||(Ma={}));var Np;(function(i){i.Optimized="optimized"})(Np||(Np={}));const Dx=new Map;function i5(i,t){let{dragging:e,dependencies:n,config:l}=t;const[o,a]=P.useState(null),{frequency:c,measure:h,strategy:d}=l,p=P.useRef(i),g=k(),b=ka(g),v=P.useCallback(function(A){A===void 0&&(A=[]),!b.current&&a(N=>N===null?A:N.concat(A.filter(j=>!N.includes(j))))},[b]),w=P.useRef(null),C=Ha(A=>{if(g&&!e)return Dx;if(!A||A===Dx||p.current!==i||o!=null){const N=new Map;for(let j of i){if(!j)continue;if(o&&o.length>0&&!o.includes(j.id)&&j.rect.current){N.set(j.id,j.rect.current);continue}const E=j.node.current,D=E?new bg(h(E),E):null;j.rect.current=D,D&&N.set(j.id,D)}return N}return A},[i,o,e,g,h]);return P.useEffect(()=>{p.current=i},[i]),P.useEffect(()=>{g||v()},[e,g]),P.useEffect(()=>{o&&o.length>0&&a(null)},[JSON.stringify(o)]),P.useEffect(()=>{g||typeof c!="number"||w.current!==null||(w.current=setTimeout(()=>{v(),w.current=null},c))},[c,g,v,...n]),{droppableRects:C,measureDroppableContainers:v,measuringScheduled:o!=null};function k(){switch(d){case Ma.Always:return!1;case Ma.BeforeDragging:return e;default:return!e}}}function J2(i,t){return Ha(e=>i?e||(typeof t=="function"?t(i):i):null,[t,i])}function s5(i,t){return J2(i,t)}function l5(i){let{callback:t,disabled:e}=i;const n=pg(t),l=P.useMemo(()=>{if(e||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(n)},[n,e]);return P.useEffect(()=>()=>l?.disconnect(),[l]),l}function Lf(i){let{callback:t,disabled:e}=i;const n=pg(t),l=P.useMemo(()=>{if(e||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(n)},[e]);return P.useEffect(()=>()=>l?.disconnect(),[l]),l}function r5(i){return new bg(Ir(i),i)}function Ox(i,t,e){t===void 0&&(t=r5);const[n,l]=P.useState(null);function o(){l(h=>{if(!i)return null;if(i.isConnected===!1){var d;return(d=h??e)!=null?d:null}const p=t(i);return JSON.stringify(h)===JSON.stringify(p)?h:p})}const a=l5({callback(h){if(i)for(const d of h){const{type:p,target:g}=d;if(p==="childList"&&g instanceof HTMLElement&&g.contains(i)){o();break}}}}),c=Lf({callback:o});return Ui(()=>{o(),i?(c?.observe(i),a?.observe(document.body,{childList:!0,subtree:!0})):(c?.disconnect(),a?.disconnect())},[i]),n}function o5(i){const t=J2(i);return Y2(i,t)}const Ex=[];function a5(i){const t=P.useRef(i),e=Ha(n=>i?n&&n!==Ex&&i&&t.current&&i.parentNode===t.current.parentNode?n:yg(i):Ex,[i]);return P.useEffect(()=>{t.current=i},[i]),e}function u5(i){const[t,e]=P.useState(null),n=P.useRef(i),l=P.useCallback(o=>{const a=Mm(o.target);a&&e(c=>c?(c.set(a,Ep(a)),new Map(c)):null)},[]);return P.useEffect(()=>{const o=n.current;if(i!==o){a(o);const c=i.map(h=>{const d=Mm(h);return d?(d.addEventListener("scroll",l,{passive:!0}),[d,Ep(d)]):null}).filter(h=>h!=null);e(c.length?new Map(c):null),n.current=i}return()=>{a(i),a(o)};function a(c){c.forEach(h=>{const d=Mm(h);d?.removeEventListener("scroll",l)})}},[l,i]),P.useMemo(()=>i.length?t?Array.from(t.values()).reduce((o,a)=>Nr(o,a),yi):W2(i):yi,[i,t])}function Rx(i,t){t===void 0&&(t=[]);const e=P.useRef(null);return P.useEffect(()=>{e.current=null},t),P.useEffect(()=>{const n=i!==yi;n&&!e.current&&(e.current=i),!n&&e.current&&(e.current=null)},[i]),e.current?pf(i,e.current):yi}function c5(i){P.useEffect(()=>{if(!Bf)return;const t=i.map(e=>{let{sensor:n}=e;return n.setup==null?void 0:n.setup()});return()=>{for(const e of t)e?.()}},i.map(t=>{let{sensor:e}=t;return e}))}function f5(i,t){return P.useMemo(()=>i.reduce((e,n)=>{let{eventName:l,handler:o}=n;return e[l]=a=>{o(a,t)},e},{}),[i,t])}function $2(i){return P.useMemo(()=>i?z4(i):null,[i])}const Nx=[];function h5(i,t){t===void 0&&(t=Ir);const[e]=i,n=$2(e?Cn(e):null),[l,o]=P.useState(Nx);function a(){o(()=>i.length?i.map(h=>Q2(h)?n:new bg(t(h),h)):Nx)}const c=Lf({callback:a});return Ui(()=>{c?.disconnect(),a(),i.forEach(h=>c?.observe(h))},[i]),l}function d5(i){if(!i)return null;if(i.children.length>1)return i;const t=i.children[0];return za(t)?t:i}function m5(i){let{measure:t}=i;const[e,n]=P.useState(null),l=P.useCallback(d=>{for(const{target:p}of d)if(za(p)){n(g=>{const b=t(p);return g?{...g,width:b.width,height:b.height}:b});break}},[t]),o=Lf({callback:l}),a=P.useCallback(d=>{const p=d5(d);o?.disconnect(),p&&o?.observe(p),n(p?t(p):null)},[t,o]),[c,h]=mf(a);return P.useMemo(()=>({nodeRef:c,rect:e,setRef:h}),[e,c,h])}const p5=[{sensor:xg,options:{}},{sensor:Z2,options:{}}],g5={current:{}},zc={draggable:{measure:kx},droppable:{measure:kx,strategy:Ma.WhileDragging,frequency:Np.Optimized},dragOverlay:{measure:Ir}};class aa extends Map{get(t){var e;return t!=null&&(e=super.get(t))!=null?e:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:e}=t;return!e})}getNodeFor(t){var e,n;return(e=(n=this.get(t))==null?void 0:n.node.current)!=null?e:void 0}}const y5={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new aa,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:gf},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:zc,measureDroppableContainers:gf,windowRect:null,measuringScheduled:!1},b5={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:gf,draggableNodes:new Map,over:null,measureDroppableContainers:gf},zf=P.createContext(b5),tC=P.createContext(y5);function v5(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new aa}}}function x5(i,t){switch(t.type){case Oe.DragStart:return{...i,draggable:{...i.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Oe.DragMove:return i.draggable.active==null?i:{...i,draggable:{...i.draggable,translate:{x:t.coordinates.x-i.draggable.initialCoordinates.x,y:t.coordinates.y-i.draggable.initialCoordinates.y}}};case Oe.DragEnd:case Oe.DragCancel:return{...i,draggable:{...i.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Oe.RegisterDroppable:{const{element:e}=t,{id:n}=e,l=new aa(i.droppable.containers);return l.set(n,e),{...i,droppable:{...i.droppable,containers:l}}}case Oe.SetDroppableDisabled:{const{id:e,key:n,disabled:l}=t,o=i.droppable.containers.get(e);if(!o||n!==o.key)return i;const a=new aa(i.droppable.containers);return a.set(e,{...o,disabled:l}),{...i,droppable:{...i.droppable,containers:a}}}case Oe.UnregisterDroppable:{const{id:e,key:n}=t,l=i.droppable.containers.get(e);if(!l||n!==l.key)return i;const o=new aa(i.droppable.containers);return o.delete(e),{...i,droppable:{...i.droppable,containers:o}}}default:return i}}function S5(i){let{disabled:t}=i;const{active:e,activatorEvent:n,draggableNodes:l}=P.useContext(zf),o=Dp(n),a=Dp(e?.id);return P.useEffect(()=>{if(!t&&!n&&o&&a!=null){if(!gg(o)||document.activeElement===o.target)return;const c=l.get(a);if(!c)return;const{activatorNode:h,node:d}=c;if(!h.current&&!d.current)return;requestAnimationFrame(()=>{for(const p of[h.current,d.current]){if(!p)continue;const g=c4(p);if(g){g.focus();break}}})}},[n,t,l,a,o]),null}function w5(i,t){let{transform:e,...n}=t;return i!=null&&i.length?i.reduce((l,o)=>o({transform:l,...n}),e):e}function C5(i){return P.useMemo(()=>({draggable:{...zc.draggable,...i?.draggable},droppable:{...zc.droppable,...i?.droppable},dragOverlay:{...zc.dragOverlay,...i?.dragOverlay}}),[i?.draggable,i?.droppable,i?.dragOverlay])}function k5(i){let{activeNode:t,measure:e,initialRect:n,config:l=!0}=i;const o=P.useRef(!1),{x:a,y:c}=typeof l=="boolean"?{x:l,y:l}:l;Ui(()=>{if(!a&&!c||!t){o.current=!1;return}if(o.current||!n)return;const d=t?.node.current;if(!d||d.isConnected===!1)return;const p=e(d),g=Y2(p,n);if(a||(g.x=0),c||(g.y=0),o.current=!0,Math.abs(g.x)>0||Math.abs(g.y)>0){const b=G2(d);b&&b.scrollBy({top:g.y,left:g.x})}},[t,a,c,n,e])}const eC=P.createContext({...yi,scaleX:1,scaleY:1});var Vs;(function(i){i[i.Uninitialized=0]="Uninitialized",i[i.Initializing=1]="Initializing",i[i.Initialized=2]="Initialized"})(Vs||(Vs={}));const A5=P.memo(function(t){var e,n,l,o;let{id:a,accessibility:c,autoScroll:h=!0,children:d,sensors:p=p5,collisionDetection:g=D4,measuring:b,modifiers:v,...w}=t;const C=P.useReducer(x5,void 0,v5),[k,A]=C,[N,j]=g4(),[E,D]=P.useState(Vs.Uninitialized),z=E===Vs.Initialized,{draggable:{active:U,nodes:K,translate:tt},droppable:{containers:ct}}=k,it=U!=null?K.get(U):null,et=P.useRef({initial:null,translated:null}),ut=P.useMemo(()=>{var le;return U!=null?{id:U,data:(le=it?.data)!=null?le:g5,rect:et}:null},[U,it]),pt=P.useRef(null),[gt,B]=P.useState(null),[I,st]=P.useState(null),ot=ka(w,Object.values(w)),M=ja("DndDescribedBy",a),Y=P.useMemo(()=>ct.getEnabled(),[ct]),J=C5(b),{droppableRects:X,measureDroppableContainers:nt,measuringScheduled:dt}=i5(Y,{dragging:z,dependencies:[tt.x,tt.y],config:J.droppable}),rt=e5(K,U),Qt=P.useMemo(()=>I?Op(I):null,[I]),yt=el(),se=s5(rt,J.draggable.measure);k5({activeNode:U!=null?K.get(U):null,config:yt.layoutShiftCompensation,initialRect:se,measure:J.draggable.measure});const Et=Ox(rt,J.draggable.measure,se),sn=Ox(rt?rt.parentElement:null),pe=P.useRef({activatorEvent:null,active:null,activeNode:rt,collisionRect:null,collisions:null,droppableRects:X,draggableNodes:K,draggingNode:null,draggingNodeRect:null,droppableContainers:ct,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Un=ct.getNodeFor((e=pe.current.over)==null?void 0:e.id),Ve=m5({measure:J.dragOverlay.measure}),vi=(n=Ve.nodeRef.current)!=null?n:rt,ri=z?(l=Ve.rect)!=null?l:Et:null,Ae=!!(Ve.nodeRef.current&&Ve.rect),tl=o5(Ae?null:Et),Fe=$2(vi?Cn(vi):null),kn=a5(z?Un??rt:null),oi=h5(kn),xe=w5(v,{transform:{x:tt.x-tl.x,y:tt.y-tl.y,scaleX:1,scaleY:1},activatorEvent:I,active:ut,activeNodeRect:Et,containerNodeRect:sn,draggingNodeRect:ri,over:pe.current.over,overlayNodeRect:Ve.rect,scrollableAncestors:kn,scrollableAncestorRects:oi,windowRect:Fe}),qn=Qt?Nr(Qt,tt):null,Nl=u5(kn),Qr=Rx(Nl),Vn=Rx(Nl,[Et]),he=Nr(xe,Qr),Re=ri?R4(ri,xe):null,ce=ut&&Re?g({active:ut,collisionRect:Re,droppableRects:X,droppableContainers:Y,pointerCoordinates:qn}):null,ai=A4(ce,"id"),[An,ui]=P.useState(null),ds=Ae?xe:Nr(xe,Vn),ms=O4(ds,(o=An?.rect)!=null?o:null,Et),fn=P.useRef(null),xi=P.useCallback((le,Ne)=>{let{sensor:bt,options:Yt}=Ne;if(pt.current==null)return;const Ht=K.get(pt.current);if(!Ht)return;const qt=le.nativeEvent,Be=new bt({active:pt.current,activeNode:Ht,event:qt,options:Yt,context:pe,onAbort(Mt){if(!K.get(Mt))return;const{onDragAbort:Rt}=ot.current,Kt={id:Mt};Rt?.(Kt),N({type:"onDragAbort",event:Kt})},onPending(Mt,Gt,Rt,Kt){if(!K.get(Mt))return;const{onDragPending:ln}=ot.current,ci={id:Mt,constraint:Gt,initialCoordinates:Rt,offset:Kt};ln?.(ci),N({type:"onDragPending",event:ci})},onStart(Mt){const Gt=pt.current;if(Gt==null)return;const Rt=K.get(Gt);if(!Rt)return;const{onDragStart:Kt}=ot.current,Pn={activatorEvent:qt,active:{id:Gt,data:Rt.data,rect:et}};Sr.unstable_batchedUpdates(()=>{Kt?.(Pn),D(Vs.Initializing),A({type:Oe.DragStart,initialCoordinates:Mt,active:Gt}),N({type:"onDragStart",event:Pn}),B(fn.current),st(qt)})},onMove(Mt){A({type:Oe.DragMove,coordinates:Mt})},onEnd:ne(Oe.DragEnd),onCancel:ne(Oe.DragCancel)});fn.current=Be;function ne(Mt){return async function(){const{active:Rt,collisions:Kt,over:Pn,scrollAdjustedTranslate:ln}=pe.current;let ci=null;if(Rt&&ln){const{cancelDrop:gs}=ot.current;ci={activatorEvent:qt,active:Rt,collisions:Kt,delta:ln,over:Pn},Mt===Oe.DragEnd&&typeof gs=="function"&&await Promise.resolve(gs(ci))&&(Mt=Oe.DragCancel)}pt.current=null,Sr.unstable_batchedUpdates(()=>{A({type:Mt}),D(Vs.Uninitialized),ui(null),B(null),st(null),fn.current=null;const gs=Mt===Oe.DragEnd?"onDragEnd":"onDragCancel";if(ci){const Gi=ot.current[gs];Gi?.(ci),N({type:gs,event:ci})}})}}},[K]),Yi=P.useCallback((le,Ne)=>(bt,Yt)=>{const Ht=bt.nativeEvent,qt=K.get(Yt);if(pt.current!==null||!qt||Ht.dndKit||Ht.defaultPrevented)return;const Be={active:qt};le(bt,Ne.options,Be)===!0&&(Ht.dndKit={capturedBy:Ne.sensor},pt.current=Yt,xi(bt,Ne))},[K,xi]),ps=n5(p,Yi);c5(p),Ui(()=>{Et&&E===Vs.Initializing&&D(Vs.Initialized)},[Et,E]),P.useEffect(()=>{const{onDragMove:le}=ot.current,{active:Ne,activatorEvent:bt,collisions:Yt,over:Ht}=pe.current;if(!Ne||!bt)return;const qt={active:Ne,activatorEvent:bt,collisions:Yt,delta:{x:he.x,y:he.y},over:Ht};Sr.unstable_batchedUpdates(()=>{le?.(qt),N({type:"onDragMove",event:qt})})},[he.x,he.y]),P.useEffect(()=>{const{active:le,activatorEvent:Ne,collisions:bt,droppableContainers:Yt,scrollAdjustedTranslate:Ht}=pe.current;if(!le||pt.current==null||!Ne||!Ht)return;const{onDragOver:qt}=ot.current,Be=Yt.get(ai),ne=Be&&Be.rect.current?{id:Be.id,rect:Be.rect.current,data:Be.data,disabled:Be.disabled}:null,Mt={active:le,activatorEvent:Ne,collisions:bt,delta:{x:Ht.x,y:Ht.y},over:ne};Sr.unstable_batchedUpdates(()=>{ui(ne),qt?.(Mt),N({type:"onDragOver",event:Mt})})},[ai]),Ui(()=>{pe.current={activatorEvent:I,active:ut,activeNode:rt,collisionRect:Re,collisions:ce,droppableRects:X,draggableNodes:K,draggingNode:vi,draggingNodeRect:ri,droppableContainers:ct,over:An,scrollableAncestors:kn,scrollAdjustedTranslate:he},et.current={initial:ri,translated:Re}},[ut,rt,ce,Re,K,vi,ri,X,ct,An,kn,he]),J4({...yt,delta:tt,draggingRect:Re,pointerCoordinates:qn,scrollableAncestors:kn,scrollableAncestorRects:oi});const Mn=P.useMemo(()=>({active:ut,activeNode:rt,activeNodeRect:Et,activatorEvent:I,collisions:ce,containerNodeRect:sn,dragOverlay:Ve,draggableNodes:K,droppableContainers:ct,droppableRects:X,over:An,measureDroppableContainers:nt,scrollableAncestors:kn,scrollableAncestorRects:oi,measuringConfiguration:J,measuringScheduled:dt,windowRect:Fe}),[ut,rt,Et,I,ce,sn,Ve,K,ct,X,An,nt,kn,oi,J,dt,Fe]),Bl=P.useMemo(()=>({activatorEvent:I,activators:ps,active:ut,activeNodeRect:Et,ariaDescribedById:{draggable:M},dispatch:A,draggableNodes:K,over:An,measureDroppableContainers:nt}),[I,ps,ut,Et,A,M,K,An,nt]);return $.createElement(P2.Provider,{value:j},$.createElement(zf.Provider,{value:Bl},$.createElement(tC.Provider,{value:Mn},$.createElement(eC.Provider,{value:ms},d)),$.createElement(S5,{disabled:c?.restoreFocus===!1})),$.createElement(v4,{...c,hiddenTextDescribedById:M}));function el(){const le=gt?.autoScrollEnabled===!1,Ne=typeof h=="object"?h.enabled===!1:h===!1,bt=z&&!le&&!Ne;return typeof h=="object"?{...h,enabled:bt}:{enabled:bt}}}),M5=P.createContext(null),Bx="button",T5="Draggable";function D5(i){let{id:t,data:e,disabled:n=!1,attributes:l}=i;const o=ja(T5),{activators:a,activatorEvent:c,active:h,activeNodeRect:d,ariaDescribedById:p,draggableNodes:g,over:b}=P.useContext(zf),{role:v=Bx,roleDescription:w="draggable",tabIndex:C=0}=l??{},k=h?.id===t,A=P.useContext(k?eC:M5),[N,j]=mf(),[E,D]=mf(),z=f5(a,t),U=ka(e);Ui(()=>(g.set(t,{id:t,key:o,node:N,activatorNode:E,data:U}),()=>{const tt=g.get(t);tt&&tt.key===o&&g.delete(t)}),[g,t]);const K=P.useMemo(()=>({role:v,tabIndex:C,"aria-disabled":n,"aria-pressed":k&&v===Bx?!0:void 0,"aria-roledescription":w,"aria-describedby":p.draggable}),[n,v,C,k,w,p.draggable]);return{active:h,activatorEvent:c,activeNodeRect:d,attributes:K,isDragging:k,listeners:n?void 0:z,node:N,over:b,setNodeRef:j,setActivatorNodeRef:D,transform:A}}function O5(){return P.useContext(tC)}const E5="Droppable",R5={timeout:25};function N5(i){let{data:t,disabled:e=!1,id:n,resizeObserverConfig:l}=i;const o=ja(E5),{active:a,dispatch:c,over:h,measureDroppableContainers:d}=P.useContext(zf),p=P.useRef({disabled:e}),g=P.useRef(!1),b=P.useRef(null),v=P.useRef(null),{disabled:w,updateMeasurementsFor:C,timeout:k}={...R5,...l},A=ka(C??n),N=P.useCallback(()=>{if(!g.current){g.current=!0;return}v.current!=null&&clearTimeout(v.current),v.current=setTimeout(()=>{d(Array.isArray(A.current)?A.current:[A.current]),v.current=null},k)},[k]),j=Lf({callback:N,disabled:w||!a}),E=P.useCallback((K,tt)=>{j&&(tt&&(j.unobserve(tt),g.current=!1),K&&j.observe(K))},[j]),[D,z]=mf(E),U=ka(t);return P.useEffect(()=>{!j||!D.current||(j.disconnect(),g.current=!1,j.observe(D.current))},[D,j]),P.useEffect(()=>(c({type:Oe.RegisterDroppable,element:{id:n,key:o,disabled:e,node:D,rect:b,data:U}}),()=>c({type:Oe.UnregisterDroppable,key:o,id:n})),[n]),P.useEffect(()=>{e!==p.current.disabled&&(c({type:Oe.SetDroppableDisabled,id:n,key:o,disabled:e}),p.current.disabled=e)},[n,o,e,c]),{active:a,rect:b,isOver:h?.id===n,node:D,over:h,setNodeRef:z}}function bf(i,t,e){const n=i.slice();return n.splice(e<0?n.length+e:e,0,n.splice(t,1)[0]),n}function B5(i,t){return i.reduce((e,n,l)=>{const o=t.get(n);return o&&(e[l]=o),e},Array(i.length))}function vc(i){return i!==null&&i>=0}function L5(i,t){if(i===t)return!0;if(i.length!==t.length)return!1;for(let e=0;e<i.length;e++)if(i[e]!==t[e])return!1;return!0}function z5(i){return typeof i=="boolean"?{draggable:i,droppable:i}:i}const nC=i=>{let{rects:t,activeIndex:e,overIndex:n,index:l}=i;const o=bf(t,n,e),a=t[l],c=o[l];return!c||!a?null:{x:c.left-a.left,y:c.top-a.top,scaleX:c.width/a.width,scaleY:c.height/a.height}},xc={scaleX:1,scaleY:1},H5=i=>{var t;let{activeIndex:e,activeNodeRect:n,index:l,rects:o,overIndex:a}=i;const c=(t=o[e])!=null?t:n;if(!c)return null;if(l===e){const d=o[a];return d?{x:0,y:e<a?d.top+d.height-(c.top+c.height):d.top-c.top,...xc}:null}const h=j5(o,l,e);return l>e&&l<=a?{x:0,y:-c.height-h,...xc}:l<e&&l>=a?{x:0,y:c.height+h,...xc}:{x:0,y:0,...xc}};function j5(i,t,e){const n=i[t],l=i[t-1],o=i[t+1];return n?e<t?l?n.top-(l.top+l.height):o?o.top-(n.top+n.height):0:o?o.top-(n.top+n.height):l?n.top-(l.top+l.height):0:0}const iC="Sortable",sC=$.createContext({activeIndex:-1,containerId:iC,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:nC,disabled:{draggable:!1,droppable:!1}});function _5(i){let{children:t,id:e,items:n,strategy:l=nC,disabled:o=!1}=i;const{active:a,dragOverlay:c,droppableRects:h,over:d,measureDroppableContainers:p}=O5(),g=ja(iC,e),b=c.rect!==null,v=P.useMemo(()=>n.map(z=>typeof z=="object"&&"id"in z?z.id:z),[n]),w=a!=null,C=a?v.indexOf(a.id):-1,k=d?v.indexOf(d.id):-1,A=P.useRef(v),N=!L5(v,A.current),j=k!==-1&&C===-1||N,E=z5(o);Ui(()=>{N&&w&&p(v)},[N,v,w,p]),P.useEffect(()=>{A.current=v},[v]);const D=P.useMemo(()=>({activeIndex:C,containerId:g,disabled:E,disableTransforms:j,items:v,overIndex:k,useDragOverlay:b,sortedRects:B5(v,h),strategy:l}),[C,g,E.draggable,E.droppable,j,v,k,h,b,l]);return $.createElement(sC.Provider,{value:D},t)}const U5=i=>{let{id:t,items:e,activeIndex:n,overIndex:l}=i;return bf(e,n,l).indexOf(t)},q5=i=>{let{containerId:t,isSorting:e,wasDragging:n,index:l,items:o,newIndex:a,previousItems:c,previousContainerId:h,transition:d}=i;return!d||!n||c!==o&&l===a?!1:e?!0:a!==l&&t===h},V5={duration:200,easing:"ease"},lC="transform",P5=Aa.Transition.toString({property:lC,duration:0,easing:"linear"}),Y5={roleDescription:"sortable"};function G5(i){let{disabled:t,index:e,node:n,rect:l}=i;const[o,a]=P.useState(null),c=P.useRef(e);return Ui(()=>{if(!t&&e!==c.current&&n.current){const h=l.current;if(h){const d=Ir(n.current,{ignoreTransform:!0}),p={x:h.left-d.left,y:h.top-d.top,scaleX:h.width/d.width,scaleY:h.height/d.height};(p.x||p.y)&&a(p)}}e!==c.current&&(c.current=e)},[t,e,n,l]),P.useEffect(()=>{o&&a(null)},[o]),o}function X5(i){let{animateLayoutChanges:t=q5,attributes:e,disabled:n,data:l,getNewIndex:o=U5,id:a,strategy:c,resizeObserverConfig:h,transition:d=V5}=i;const{items:p,containerId:g,activeIndex:b,disabled:v,disableTransforms:w,sortedRects:C,overIndex:k,useDragOverlay:A,strategy:N}=P.useContext(sC),j=I5(n,v),E=p.indexOf(a),D=P.useMemo(()=>({sortable:{containerId:g,index:E,items:p},...l}),[g,l,E,p]),z=P.useMemo(()=>p.slice(p.indexOf(a)),[p,a]),{rect:U,node:K,isOver:tt,setNodeRef:ct}=N5({id:a,data:D,disabled:j.droppable,resizeObserverConfig:{updateMeasurementsFor:z,...h}}),{active:it,activatorEvent:et,activeNodeRect:ut,attributes:pt,setNodeRef:gt,listeners:B,isDragging:I,over:st,setActivatorNodeRef:ot,transform:M}=D5({id:a,data:D,attributes:{...Y5,...e},disabled:j.draggable}),Y=r4(ct,gt),J=!!it,X=J&&!w&&vc(b)&&vc(k),nt=!A&&I,dt=nt&&X?M:null,Qt=X?dt??(c??N)({rects:C,activeNodeRect:ut,activeIndex:b,overIndex:k,index:E}):null,yt=vc(b)&&vc(k)?o({id:a,items:p,activeIndex:b,overIndex:k}):E,se=it?.id,Et=P.useRef({activeId:se,items:p,newIndex:yt,containerId:g}),sn=p!==Et.current.items,pe=t({active:it,containerId:g,isDragging:I,isSorting:J,id:a,index:E,items:p,newIndex:Et.current.newIndex,previousItems:Et.current.items,previousContainerId:Et.current.containerId,transition:d,wasDragging:Et.current.activeId!=null}),Un=G5({disabled:!pe,index:E,node:K,rect:U});return P.useEffect(()=>{J&&Et.current.newIndex!==yt&&(Et.current.newIndex=yt),g!==Et.current.containerId&&(Et.current.containerId=g),p!==Et.current.items&&(Et.current.items=p)},[J,yt,g,p]),P.useEffect(()=>{if(se===Et.current.activeId)return;if(se!=null&&Et.current.activeId==null){Et.current.activeId=se;return}const vi=setTimeout(()=>{Et.current.activeId=se},50);return()=>clearTimeout(vi)},[se]),{active:it,activeIndex:b,attributes:pt,data:D,rect:U,index:E,newIndex:yt,items:p,isOver:tt,isSorting:J,isDragging:I,listeners:B,node:K,overIndex:k,over:st,setNodeRef:Y,setActivatorNodeRef:ot,setDroppableNodeRef:ct,setDraggableNodeRef:gt,transform:Un??Qt,transition:Ve()};function Ve(){if(Un||sn&&Et.current.newIndex===E)return P5;if(!(nt&&!gg(et)||!d)&&(J||pe))return Aa.Transition.toString({...d,property:lC})}}function I5(i,t){var e,n;return typeof i=="boolean"?{draggable:i,droppable:!1}:{draggable:(e=i?.draggable)!=null?e:t.draggable,droppable:(n=i?.droppable)!=null?n:t.droppable}}Pt.Down,Pt.Right,Pt.Up,Pt.Left;const Q5=i=>{try{return JSON.parse(i),!0}catch{return!1}},Lx=({id:i,children:t,handle:e})=>{const{attributes:n,listeners:l,setNodeRef:o,transform:a,transition:c,isDragging:h}=X5({id:i}),d={transform:Aa.Transform.toString(a),transition:c};return L.jsxs("div",{ref:o,style:d,className:Li("flex items-center gap-3 p-3 rounded-lg",h?"bg-white shadow-lg border border-blue-200":"bg-gray-50"),children:[L.jsx("div",{...n,...l,className:"text-gray-400 hover:text-gray-600 cursor-grab active:cursor-grabbing",children:e}),L.jsx("div",{className:"flex-1 flex gap-3",children:t})]})},K5=()=>{const{request:i,updateRequest:t,sendRequest:e,isLoading:n,clearSaved:l,lastSaved:o}=df(),[a,c]=P.useState("params"),{useProxy:h,setUseProxy:d}=df(),p=S4(x4(xg)),g=E=>{E.preventDefault(),e()},b=(E,D=[])=>{try{const z=new URL(E.startsWith("http")?E:`${E}`),U=[];return z.searchParams.forEach((K,tt)=>{const ct=D.find(it=>it.key===tt);U.push({id:ct?.id??Lc(),key:tt,value:K,enabled:ct?.enabled??!0})}),{baseUrl:`${z.protocol}//${z.host}${z.pathname}`,params:U}}catch{return{baseUrl:E,params:[]}}},v=E=>{const{baseUrl:D,params:z}=b(E,i.params),U={url:D};if(z.length>0){const K=i.params.filter(tt=>!z.some(ct=>ct.key===tt.key));U.params=[...K,...z]}t(U)},w=()=>{t({params:[...i.params,{id:Lc(),key:"",value:"",enabled:!0}]})},C=(E,D,z)=>{const U=i.params.map(K=>K.id===E?{...K,[D]:z}:K);t({params:U})},k=E=>{t({params:i.params.filter(D=>D.id!==E)})},A=()=>{const E={id:Lc(),key:"",value:"",enabled:!0};t({headers:[...i.headers,E]})},N=(E,D,z)=>{const U=i.headers.map(K=>K.id===E?{...K,[D]:z}:K);t({headers:U})},j=E=>{t({headers:i.headers.filter(D=>D.id!==E)})};return L.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl border border-gray-200/50",children:[L.jsxs("div",{className:"p-6 border-b border-gray-200/50",children:[L.jsxs("div",{className:"flex items-center justify-between mb-4",children:[L.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[L.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),"Request Configuration"]}),L.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[o instanceof Date&&L.jsxs("span",{className:"bg-green-50 text-green-700 px-3 py-1 rounded-full text-xs font-medium",children:["Last saved: ",o.toLocaleTimeString()]}),L.jsx("button",{onClick:l,className:"text-gray-400 hover:text-red-500 transition-all duration-200 p-2 hover:bg-red-50 rounded-lg",title:"Clear saved data",children:L.jsx(_x,{className:"w-4 h-4"})})]})]}),L.jsxs("form",{onSubmit:g,className:"space-y-6",children:[L.jsxs("div",{className:"flex gap-3",children:[L.jsxs("select",{value:i.method,onChange:E=>t({method:E.target.value}),className:"px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent font-semibold text-gray-700 bg-gray-50 hover:bg-white transition-colors",children:[L.jsx("option",{value:"GET",children:"GET"}),L.jsx("option",{value:"POST",children:"POST"}),L.jsx("option",{value:"PUT",children:"PUT"}),L.jsx("option",{value:"DELETE",children:"DELETE"}),L.jsx("option",{value:"PATCH",children:"PATCH"}),L.jsx("option",{value:"HEAD",children:"HEAD"}),L.jsx("option",{value:"OPTIONS",children:"OPTIONS"})]}),L.jsx("input",{type:"url",value:i.url,onChange:E=>v(E.target.value),placeholder:"https://api.example.com/endpoint",className:"flex-1 px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-700 placeholder-gray-400",required:!0}),L.jsx("button",{type:"submit",disabled:n,className:Li("px-8 py-3 rounded-xl font-semibold flex items-center gap-2 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",n?"bg-gray-400 text-white cursor-not-allowed shadow-none transform-none":"bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:from-blue-700 hover:to-purple-700"),children:n?L.jsxs(L.Fragment,{children:[L.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Sending..."]}):L.jsxs(L.Fragment,{children:[L.jsx(pM,{className:"w-4 h-4"}),"Send Request"]})})]}),L.jsx("div",{className:"bg-gray-50 rounded-xl p-4",children:L.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[L.jsxs("div",{children:[L.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Use Proxy"}),L.jsxs("button",{onClick:()=>d(!h),className:Li("flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all duration-200",h?"bg-green-100 text-green-700 hover:bg-green-200":"bg-red-100 text-red-700 hover:bg-red-200"),children:[h?L.jsx(SM,{className:"w-4 h-4"}):L.jsx(vM,{className:"w-4 h-4"}),h?"Proxy Enabled":"Proxy Disabled"]}),L.jsx("p",{className:"text-xs text-gray-500 mt-2 font-medium",children:h?"Using CORS proxy for external URLs":"Direct requests only"})]}),L.jsxs("div",{children:[L.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Timeout (ms)"}),L.jsx("input",{type:"number",value:i.timeout,onChange:E=>t({timeout:Number(E.target.value)}),min:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white",placeholder:"0 = no timeout"}),L.jsx("p",{className:"text-xs text-gray-500 mt-2 font-medium",children:"0 = no timeout"})]})]})})]})]}),L.jsxs("div",{className:"p-6",children:[L.jsxs("div",{className:"flex border-b border-gray-200 mb-6 bg-gray-50 rounded-t-xl",children:[L.jsxs("button",{onClick:()=>c("params"),className:Li("px-6 py-3 font-semibold text-sm border-b-2 transition-all duration-200 rounded-t-xl",a==="params"?"border-blue-500 text-blue-600 bg-white shadow-sm":"border-transparent text-gray-500 hover:text-gray-700 hover:bg-gray-100"),children:["Params (",i.params.filter(E=>E.enabled&&E.key.trim()).length,")"]}),L.jsxs("button",{onClick:()=>c("headers"),className:Li("px-6 py-3 font-semibold text-sm border-b-2 transition-all duration-200 rounded-t-xl",a==="headers"?"border-blue-500 text-blue-600 bg-white shadow-sm":"border-transparent text-gray-500 hover:text-gray-700 hover:bg-gray-100"),children:["Headers (",i.headers.filter(E=>E.enabled&&E.key.trim()).length,")"]}),L.jsx("button",{onClick:()=>c("body"),className:Li("px-6 py-3 font-semibold text-sm border-b-2 transition-all duration-200 rounded-t-xl",a==="body"?"border-blue-500 text-blue-600 bg-white shadow-sm":"border-transparent text-gray-500 hover:text-gray-700 hover:bg-gray-100"),children:"Body"})]}),(a==="params"||a==="headers")&&L.jsxs("div",{children:[L.jsxs("div",{className:"flex items-center justify-between mb-4",children:[L.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:a==="params"?"Query Parameters":"Request Headers"}),L.jsxs("button",{onClick:a==="params"?w:A,className:"flex items-center gap-2 px-3 py-2 text-sm font-medium text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-lg transition-colors",children:[L.jsx(dM,{className:"w-4 h-4"}),a==="params"?"Add Parameter":"Add Header"]})]}),L.jsx(A5,{sensors:p,collisionDetection:M4,onDragEnd:({active:E,over:D})=>{if(D&&E.id!==D.id){if(a==="params"){const z=i.params.findIndex(K=>K.id===E.id),U=i.params.findIndex(K=>K.id===D.id);t({params:bf(i.params,z,U)})}if(a==="headers"){const z=i.headers.findIndex(K=>K.id===E.id),U=i.headers.findIndex(K=>K.id===D.id);t({headers:bf(i.headers,z,U)})}}},children:L.jsxs(_5,{items:a==="params"?i.params.map(E=>E.id):i.headers.map(E=>E.id),strategy:H5,children:[a==="params"&&i.params.map(E=>L.jsxs(Lx,{id:E.id,handle:L.jsx(yv,{className:"w-4 h-4"}),children:[L.jsx("input",{type:"checkbox",checked:E.enabled,onChange:D=>C(E.id,"enabled",D.target.checked),className:"w-4 h-4 mt-3 text-blue-600 rounded focus:ring-blue-500"}),L.jsx("input",{type:"text",value:E.key,onChange:D=>C(E.id,"key",D.target.value),placeholder:"Parameter name",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),L.jsx("input",{type:"text",value:E.value,onChange:D=>C(E.id,"value",D.target.value),placeholder:"Parameter value",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),L.jsx("button",{onClick:()=>k(E.id),className:"text-gray-400 hover:text-red-500 transition-colors p-1",children:L.jsx(Em,{className:"w-4 h-4"})})]},E.id)),a==="headers"&&i.headers.map(E=>L.jsxs(Lx,{id:E.id,handle:L.jsx(yv,{className:"w-4 h-4"}),children:[L.jsx("input",{type:"checkbox",checked:E.enabled,onChange:D=>N(E.id,"enabled",D.target.checked),className:"w-4 h-4 mt-3 text-blue-600 rounded focus:ring-blue-500"}),L.jsx("input",{type:"text",value:E.key,onChange:D=>N(E.id,"key",D.target.value),placeholder:"Header name",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),L.jsx("input",{type:"text",value:E.value,onChange:D=>N(E.id,"value",D.target.value),placeholder:"Header value",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),L.jsx("button",{onClick:()=>j(E.id),className:"text-gray-400 hover:text-red-500 transition-colors p-1",children:L.jsx(Em,{className:"w-4 h-4"})})]},E.id))]})})]}),a==="body"&&L.jsxs("div",{children:[L.jsxs("div",{className:"flex items-center justify-between mb-2",children:[L.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Request Body"}),i.body&&!Q5(i.body)&&L.jsx("span",{className:"text-xs text-red-500",children:"Invalid JSON"})]}),L.jsx(uf,{value:i.body,onChange:E=>t({body:E}),extensions:[j2(),Gc()],theme:af,className:"border border-gray-300 rounded-xl overflow-hidden shadow-sm",basicSetup:{lineNumbers:!0,foldGutter:!1,dropCursor:!1,allowMultipleSelections:!1}})]})]})]})},W5=()=>{const{response:i,isLoading:t}=df(),[e,n]=P.useState("body"),l=h=>Object.entries(h).map(([d,p])=>`${d}: ${p}`).join(`
`),o=h=>h>=200&&h<300?"text-green-600 bg-green-50 border-green-200":h>=400?"text-red-600 bg-red-50 border-red-200":h>=300?"text-yellow-600 bg-yellow-50 border-yellow-200":"text-gray-600 bg-gray-50 border-gray-200",a=h=>{navigator.clipboard.writeText(h).then(()=>{on.success("Copied to clipboard")}).catch(()=>{on.error("Failed to copy to clipboard")})},c=()=>{if(!i)return;const h=new Blob([i.body],{type:"application/json"}),d=URL.createObjectURL(h),p=document.createElement("a");p.href=d,p.download=`response-${Date.now()}.json`,document.body.appendChild(p),p.click(),document.body.removeChild(p),URL.revokeObjectURL(d),on.success("Response downloaded")};return t?L.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl border border-gray-200/50 p-12",children:L.jsxs("div",{className:"flex items-center justify-center flex-col",children:[L.jsxs("div",{className:"flex items-center gap-3",children:[L.jsx("div",{className:"w-8 h-8 border-3 border-blue-600 border-t-transparent rounded-full animate-spin"}),L.jsx("span",{className:"text-gray-700 font-semibold text-lg",children:"Sending request..."})]}),L.jsx("div",{className:"mt-4 w-64 h-1 bg-gray-200 rounded-full overflow-hidden",children:L.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-purple-500 rounded-full animate-pulse"})})]})}):i?L.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl border border-gray-200/50",children:[L.jsxs("div",{className:"p-6 border-b border-gray-200/50",children:[L.jsxs("div",{className:"flex items-center justify-between mb-2",children:[L.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[L.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),"Response"]}),L.jsxs("div",{className:"flex items-center gap-2",children:[i.status>0?L.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:L.jsx(sM,{className:"w-5 h-5 text-green-600"})}):L.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center",children:L.jsx(rM,{className:"w-5 h-5 text-red-600"})}),L.jsxs("span",{className:Li("px-4 py-2 rounded-xl text-sm font-bold border shadow-sm",o(i.status)),children:[i.status," ",i.statusText]})]})]}),L.jsxs("div",{className:"flex items-center justify-between",children:[L.jsx("div",{className:"text-sm text-gray-500",children:L.jsxs("span",{className:"bg-blue-50 text-blue-700 px-3 py-1 rounded-full text-xs font-semibold",children:["Response time: ",i.duration,"ms"]})}),L.jsxs("div",{className:"flex items-center gap-2",children:[L.jsx("button",{onClick:()=>a(i.body),className:"text-gray-400 hover:text-blue-500 transition-all duration-200 p-2 hover:bg-blue-50 rounded-lg",title:"Copy response",children:L.jsx(uM,{className:"w-4 h-4"})}),L.jsx("button",{onClick:c,className:"text-gray-400 hover:text-blue-500 transition-all duration-200 p-2 hover:bg-blue-50 rounded-lg",title:"Download response",children:L.jsx(jx,{className:"w-4 h-4"})})]})]})]}),L.jsxs("div",{className:"p-6",children:[L.jsxs("div",{className:"flex border-b border-gray-200 mb-6 bg-gray-50 rounded-t-xl",children:[L.jsx("button",{onClick:()=>n("body"),className:Li("px-6 py-3 font-semibold text-sm border-b-2 transition-all duration-200 rounded-t-xl",e==="body"?"border-blue-500 text-blue-600 bg-white shadow-sm":"border-transparent text-gray-500 hover:text-gray-700 hover:bg-gray-100"),children:"Response Body"}),L.jsxs("button",{onClick:()=>n("headers"),className:Li("px-6 py-3 font-semibold text-sm border-b-2 transition-all duration-200 rounded-t-xl",e==="headers"?"border-blue-500 text-blue-600 bg-white shadow-sm":"border-transparent text-gray-500 hover:text-gray-700 hover:bg-gray-100"),children:["Headers (",Object.keys(i.headers).length,")"]})]}),e==="body"&&L.jsx("div",{children:L.jsx(uf,{value:i.body,readOnly:!0,extensions:[j2(),Gc()],theme:af,className:"border border-gray-300 rounded-xl overflow-hidden shadow-sm",basicSetup:{lineNumbers:!0,foldGutter:!1,dropCursor:!1,allowMultipleSelections:!1}})}),e==="headers"&&L.jsx("div",{children:L.jsx(uf,{value:l(i.headers),readOnly:!0,extensions:[Gc()],theme:af,className:"border border-gray-300 rounded-xl overflow-hidden shadow-sm",basicSetup:{lineNumbers:!0,foldGutter:!1,dropCursor:!1,allowMultipleSelections:!1}})})]})]}):L.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl border border-gray-200/50 p-12",children:L.jsxs("div",{className:"text-center text-gray-500",children:[L.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-gray-100 to-gray-200 rounded-2xl flex items-center justify-center mx-auto mb-4",children:L.jsx(Sc,{className:"w-8 h-8 text-gray-400"})}),L.jsx("p",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No response yet"}),L.jsx("p",{className:"text-gray-500 font-medium",children:"Send a request to see the response here"}),L.jsx("div",{className:"mt-6 w-32 h-1 bg-gradient-to-r from-blue-200 to-purple-200 rounded-full mx-auto"})]})})},F5=()=>{const{history:i,loadFromHistory:t,removeFromHistory:e,clearHistory:n}=df(),l=d=>{t(d),on.success("Request loaded from history")},o=(d,p)=>{p.stopPropagation(),confirm("Are you sure you want to remove this request from history?")&&(e(d),on.success("Request removed from history"))},a=()=>{confirm("Are you sure you want to clear all history?")&&(n(),on.success("History cleared"))},c=()=>{const d=JSON.stringify(i,null,2),p=new Blob([d],{type:"application/json"}),g=URL.createObjectURL(p),b=document.createElement("a");b.href=g,b.download=`http-tester-history-${Date.now()}.json`,document.body.appendChild(b),b.click(),document.body.removeChild(b),URL.revokeObjectURL(g),on.success("History exported")},h=()=>{const d=document.createElement("input");d.type="file",d.accept=".json",d.onchange=p=>{const g=p.target.files?.[0];if(g){const b=new FileReader;b.onload=v=>{try{const w=JSON.parse(v.target?.result);w.forEach(C=>{t(C)}),on.success(`Imported ${w.length} requests`)}catch{on.error("Failed to import history file")}},b.readAsText(g)}},d.click()};return i.length===0?L.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl border border-gray-200/50 p-6",children:[L.jsxs("div",{className:"flex items-center justify-between mb-4",children:[L.jsxs("div",{className:"flex items-center gap-2",children:[L.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-100 to-blue-100 rounded-xl flex items-center justify-center",children:L.jsx(Sc,{className:"w-4 h-4 text-purple-600"})}),L.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Request History"})]}),L.jsx("button",{onClick:h,className:"text-gray-400 hover:text-blue-500 transition-all duration-200 p-2 hover:bg-blue-50 rounded-lg",title:"Import history",children:L.jsx(bv,{className:"w-4 h-4"})})]}),L.jsxs("div",{className:"text-center text-gray-500 py-12",children:[L.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-gray-100 to-gray-200 rounded-2xl flex items-center justify-center mx-auto mb-4",children:L.jsx(Sc,{className:"w-8 h-8 text-gray-400"})}),L.jsx("p",{className:"font-semibold text-gray-700 mb-2",children:"No requests in history yet"}),L.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Send a request to see it appear here"}),L.jsx("div",{className:"mt-4 w-24 h-1 bg-gradient-to-r from-purple-200 to-blue-200 rounded-full mx-auto"})]})]}):L.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl border border-gray-200/50",children:[L.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200/50",children:[L.jsxs("div",{className:"flex items-center gap-2",children:[L.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-100 to-blue-100 rounded-xl flex items-center justify-center",children:L.jsx(Sc,{className:"w-4 h-4 text-purple-600"})}),L.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Request History"}),L.jsx("span",{className:"bg-gradient-to-r from-purple-100 to-blue-100 text-purple-700 text-xs px-3 py-1 rounded-full font-semibold",children:i.length})]}),L.jsxs("div",{className:"flex items-center gap-1",children:[L.jsx("button",{onClick:c,className:"text-gray-400 hover:text-blue-500 transition-all duration-200 p-2 hover:bg-blue-50 rounded-lg",title:"Export history",children:L.jsx(jx,{className:"w-4 h-4"})}),L.jsx("button",{onClick:h,className:"text-gray-400 hover:text-blue-500 transition-all duration-200 p-2 hover:bg-blue-50 rounded-lg",title:"Import history",children:L.jsx(bv,{className:"w-4 h-4"})}),L.jsx("button",{onClick:a,className:"text-gray-400 hover:text-red-500 transition-all duration-200 p-2 hover:bg-red-50 rounded-lg",title:"Clear all history",children:L.jsx(_x,{className:"w-4 h-4"})})]})]}),L.jsx("div",{className:"max-h-96 overflow-y-auto scrollbar-thin",children:i.map((d,p)=>L.jsxs("div",{onClick:()=>l(d),className:"flex items-center justify-between p-4 hover:bg-gradient-to-r hover:from-blue-50 hover:to-purple-50 cursor-pointer border-b border-gray-100 last:border-b-0 group transition-all duration-200",children:[L.jsxs("div",{className:"flex-1 min-w-0",children:[L.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[L.jsx("span",{className:Li("text-xs font-bold px-3 py-1 rounded-lg shadow-sm",{"bg-gradient-to-r from-blue-100 to-blue-200 text-blue-800":d.method==="GET","bg-gradient-to-r from-green-100 to-green-200 text-green-800":d.method==="POST","bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800":d.method==="PUT","bg-gradient-to-r from-red-100 to-red-200 text-red-800":d.method==="DELETE","bg-gradient-to-r from-purple-100 to-purple-200 text-purple-800":d.method==="PATCH","bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800":["HEAD","OPTIONS"].includes(d.method)}),children:d.method}),L.jsx("span",{className:"text-sm font-semibold text-gray-900 truncate",children:new URL(d.url).pathname})]}),L.jsx("p",{className:"text-xs text-gray-500 truncate font-medium",children:d.url})]}),L.jsx("button",{onClick:g=>o(p,g),className:"opacity-0 group-hover:opacity-100 text-gray-400 hover:text-red-500 transition-all duration-200 p-2 hover:bg-red-50 rounded-lg",title:"Remove from history",children:L.jsx(Em,{className:"w-4 h-4"})})]},p))})]})};function Z5(){const i=new Date().getFullYear();return L.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-to-br from-slate-50 to-blue-50",children:[L.jsx(ZA,{position:"top-right",richColors:!0,closeButton:!0,toastOptions:{duration:3e3}}),L.jsxs("div",{className:"flex-1 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 w-full",children:[L.jsxs("header",{className:"bg-white/80 backdrop-blur-sm shadow-lg border-b border-gray-200/50 rounded-b-2xl px-8 py-6 mb-8",children:[L.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[L.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl flex items-center justify-center",children:L.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:L.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"})})}),L.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 bg-clip-text text-transparent",children:"Rueries"})]}),L.jsx("p",{className:"text-gray-600 text-lg font-medium ml-13",children:"Modern HTTP client for testing APIs with syntax highlighting and request history"})]}),L.jsx("div",{className:"pb-8",children:L.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[L.jsxs("div",{className:"lg:col-span-3 space-y-8",children:[L.jsx(K5,{}),L.jsx(W5,{})]}),L.jsx("div",{className:"lg:col-span-1",children:L.jsx(F5,{})})]})})]}),L.jsxs("footer",{className:"py-4  backdrop-blur-sm text-center text-sm text-gray-500",children:[" ",i," Milacho"]})]})}CA.createRoot(document.getElementById("root")).render(L.jsx($.StrictMode,{children:L.jsx(Z5,{})}));
