(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}})();function Lm(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Gd={exports:{}},Yo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rv;function pA(){if(rv)return Yo;rv=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(n,r,o){var a=null;if(o!==void 0&&(a=""+o),r.key!==void 0&&(a=""+r.key),"key"in r){o={};for(var u in r)u!=="key"&&(o[u]=r[u])}else o=r;return r=o.ref,{$$typeof:i,type:n,key:a,ref:r!==void 0?r:null,props:o}}return Yo.Fragment=t,Yo.jsx=e,Yo.jsxs=e,Yo}var lv;function yA(){return lv||(lv=1,Gd.exports=pA()),Gd.exports}var D=yA(),Id={exports:{}},At={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ov;function bA(){if(ov)return At;ov=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),a=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.iterator;function b(M){return M===null||typeof M!="object"?null:(M=p&&M[p]||M["@@iterator"],typeof M=="function"?M:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,k={};function C(M,Y,$){this.props=M,this.context=Y,this.refs=k,this.updater=$||v}C.prototype.isReactComponent={},C.prototype.setState=function(M,Y){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Y,"setState")},C.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function A(){}A.prototype=C.prototype;function B(M,Y,$){this.props=M,this.context=Y,this.refs=k,this.updater=$||v}var j=B.prototype=new A;j.constructor=B,S(j,C.prototype),j.isPureReactComponent=!0;var R=Array.isArray,O={H:null,A:null,T:null,S:null,V:null},z=Object.prototype.hasOwnProperty;function U(M,Y,$,I,nt,dt){return $=dt.ref,{$$typeof:i,type:M,key:Y,ref:$!==void 0?$:null,props:dt}}function K(M,Y){return U(M.type,Y,void 0,void 0,void 0,M.props)}function tt(M){return typeof M=="object"&&M!==null&&M.$$typeof===i}function ut(M){var Y={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function($){return Y[$]})}var it=/\/+/g;function et(M,Y){return typeof M=="object"&&M!==null&&M.key!=null?ut(""+M.key):Y.toString(36)}function ct(){}function mt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(ct,ct):(M.status="pending",M.then(function(Y){M.status==="pending"&&(M.status="fulfilled",M.value=Y)},function(Y){M.status==="pending"&&(M.status="rejected",M.reason=Y)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function pt(M,Y,$,I,nt){var dt=typeof M;(dt==="undefined"||dt==="boolean")&&(M=null);var lt=!1;if(M===null)lt=!0;else switch(dt){case"bigint":case"string":case"number":lt=!0;break;case"object":switch(M.$$typeof){case i:case t:lt=!0;break;case m:return lt=M._init,pt(lt(M._payload),Y,$,I,nt)}}if(lt)return nt=nt(M),lt=I===""?"."+et(M,0):I,R(nt)?($="",lt!=null&&($=lt.replace(it,"$&/")+"/"),pt(nt,Y,$,"",function(se){return se})):nt!=null&&(tt(nt)&&(nt=K(nt,$+(nt.key==null||M&&M.key===nt.key?"":(""+nt.key).replace(it,"$&/")+"/")+lt)),Y.push(nt)),1;lt=0;var Qt=I===""?".":I+":";if(R(M))for(var yt=0;yt<M.length;yt++)I=M[yt],dt=Qt+et(I,yt),lt+=pt(I,Y,$,dt,nt);else if(yt=b(M),typeof yt=="function")for(M=yt.call(M),yt=0;!(I=M.next()).done;)I=I.value,dt=Qt+et(I,yt++),lt+=pt(I,Y,$,dt,nt);else if(dt==="object"){if(typeof M.then=="function")return pt(mt(M),Y,$,I,nt);throw Y=String(M),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return lt}function L(M,Y,$){if(M==null)return M;var I=[],nt=0;return pt(M,I,"","",function(dt){return Y.call($,dt,nt++)}),I}function X(M){if(M._status===-1){var Y=M._result;Y=Y(),Y.then(function($){(M._status===0||M._status===-1)&&(M._status=1,M._result=$)},function($){(M._status===0||M._status===-1)&&(M._status=2,M._result=$)}),M._status===-1&&(M._status=0,M._result=Y)}if(M._status===1)return M._result.default;throw M._result}var st=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function ot(){}return At.Children={map:L,forEach:function(M,Y,$){L(M,function(){Y.apply(this,arguments)},$)},count:function(M){var Y=0;return L(M,function(){Y++}),Y},toArray:function(M){return L(M,function(Y){return Y})||[]},only:function(M){if(!tt(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},At.Component=C,At.Fragment=e,At.Profiler=r,At.PureComponent=B,At.StrictMode=n,At.Suspense=f,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,At.__COMPILER_RUNTIME={__proto__:null,c:function(M){return O.H.useMemoCache(M)}},At.cache=function(M){return function(){return M.apply(null,arguments)}},At.cloneElement=function(M,Y,$){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var I=S({},M.props),nt=M.key,dt=void 0;if(Y!=null)for(lt in Y.ref!==void 0&&(dt=void 0),Y.key!==void 0&&(nt=""+Y.key),Y)!z.call(Y,lt)||lt==="key"||lt==="__self"||lt==="__source"||lt==="ref"&&Y.ref===void 0||(I[lt]=Y[lt]);var lt=arguments.length-2;if(lt===1)I.children=$;else if(1<lt){for(var Qt=Array(lt),yt=0;yt<lt;yt++)Qt[yt]=arguments[yt+2];I.children=Qt}return U(M.type,nt,void 0,void 0,dt,I)},At.createContext=function(M){return M={$$typeof:a,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:o,_context:M},M},At.createElement=function(M,Y,$){var I,nt={},dt=null;if(Y!=null)for(I in Y.key!==void 0&&(dt=""+Y.key),Y)z.call(Y,I)&&I!=="key"&&I!=="__self"&&I!=="__source"&&(nt[I]=Y[I]);var lt=arguments.length-2;if(lt===1)nt.children=$;else if(1<lt){for(var Qt=Array(lt),yt=0;yt<lt;yt++)Qt[yt]=arguments[yt+2];nt.children=Qt}if(M&&M.defaultProps)for(I in lt=M.defaultProps,lt)nt[I]===void 0&&(nt[I]=lt[I]);return U(M,dt,void 0,void 0,null,nt)},At.createRef=function(){return{current:null}},At.forwardRef=function(M){return{$$typeof:u,render:M}},At.isValidElement=tt,At.lazy=function(M){return{$$typeof:m,_payload:{_status:-1,_result:M},_init:X}},At.memo=function(M,Y){return{$$typeof:d,type:M,compare:Y===void 0?null:Y}},At.startTransition=function(M){var Y=O.T,$={};O.T=$;try{var I=M(),nt=O.S;nt!==null&&nt($,I),typeof I=="object"&&I!==null&&typeof I.then=="function"&&I.then(ot,st)}catch(dt){st(dt)}finally{O.T=Y}},At.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},At.use=function(M){return O.H.use(M)},At.useActionState=function(M,Y,$){return O.H.useActionState(M,Y,$)},At.useCallback=function(M,Y){return O.H.useCallback(M,Y)},At.useContext=function(M){return O.H.useContext(M)},At.useDebugValue=function(){},At.useDeferredValue=function(M,Y){return O.H.useDeferredValue(M,Y)},At.useEffect=function(M,Y,$){var I=O.H;if(typeof $=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return I.useEffect(M,Y)},At.useId=function(){return O.H.useId()},At.useImperativeHandle=function(M,Y,$){return O.H.useImperativeHandle(M,Y,$)},At.useInsertionEffect=function(M,Y){return O.H.useInsertionEffect(M,Y)},At.useLayoutEffect=function(M,Y){return O.H.useLayoutEffect(M,Y)},At.useMemo=function(M,Y){return O.H.useMemo(M,Y)},At.useOptimistic=function(M,Y){return O.H.useOptimistic(M,Y)},At.useReducer=function(M,Y,$){return O.H.useReducer(M,Y,$)},At.useRef=function(M){return O.H.useRef(M)},At.useState=function(M){return O.H.useState(M)},At.useSyncExternalStore=function(M,Y,$){return O.H.useSyncExternalStore(M,Y,$)},At.useTransition=function(){return O.H.useTransition()},At.version="19.1.1",At}var av;function zm(){return av||(av=1,Id.exports=bA()),Id.exports}var P=zm();const J=Lm(P);var Xd={exports:{}},Go={},Qd={exports:{}},Kd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cv;function vA(){return cv||(cv=1,(function(i){function t(L,X){var st=L.length;L.push(X);t:for(;0<st;){var ot=st-1>>>1,M=L[ot];if(0<r(M,X))L[ot]=X,L[st]=M,st=ot;else break t}}function e(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var X=L[0],st=L.pop();if(st!==X){L[0]=st;t:for(var ot=0,M=L.length,Y=M>>>1;ot<Y;){var $=2*(ot+1)-1,I=L[$],nt=$+1,dt=L[nt];if(0>r(I,st))nt<M&&0>r(dt,I)?(L[ot]=dt,L[nt]=st,ot=nt):(L[ot]=I,L[$]=st,ot=$);else if(nt<M&&0>r(dt,st))L[ot]=dt,L[nt]=st,ot=nt;else break t}}return X}function r(L,X){var st=L.sortIndex-X.sortIndex;return st!==0?st:L.id-X.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;i.unstable_now=function(){return o.now()}}else{var a=Date,u=a.now();i.unstable_now=function(){return a.now()-u}}var f=[],d=[],m=1,p=null,b=3,v=!1,S=!1,k=!1,C=!1,A=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function R(L){for(var X=e(d);X!==null;){if(X.callback===null)n(d);else if(X.startTime<=L)n(d),X.sortIndex=X.expirationTime,t(f,X);else break;X=e(d)}}function O(L){if(k=!1,R(L),!S)if(e(f)!==null)S=!0,z||(z=!0,et());else{var X=e(d);X!==null&&pt(O,X.startTime-L)}}var z=!1,U=-1,K=5,tt=-1;function ut(){return C?!0:!(i.unstable_now()-tt<K)}function it(){if(C=!1,z){var L=i.unstable_now();tt=L;var X=!0;try{t:{S=!1,k&&(k=!1,B(U),U=-1),v=!0;var st=b;try{e:{for(R(L),p=e(f);p!==null&&!(p.expirationTime>L&&ut());){var ot=p.callback;if(typeof ot=="function"){p.callback=null,b=p.priorityLevel;var M=ot(p.expirationTime<=L);if(L=i.unstable_now(),typeof M=="function"){p.callback=M,R(L),X=!0;break e}p===e(f)&&n(f),R(L)}else n(f);p=e(f)}if(p!==null)X=!0;else{var Y=e(d);Y!==null&&pt(O,Y.startTime-L),X=!1}}break t}finally{p=null,b=st,v=!1}X=void 0}}finally{X?et():z=!1}}}var et;if(typeof j=="function")et=function(){j(it)};else if(typeof MessageChannel<"u"){var ct=new MessageChannel,mt=ct.port2;ct.port1.onmessage=it,et=function(){mt.postMessage(null)}}else et=function(){A(it,0)};function pt(L,X){U=A(function(){L(i.unstable_now())},X)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(L){L.callback=null},i.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<L?Math.floor(1e3/L):5},i.unstable_getCurrentPriorityLevel=function(){return b},i.unstable_next=function(L){switch(b){case 1:case 2:case 3:var X=3;break;default:X=b}var st=b;b=X;try{return L()}finally{b=st}},i.unstable_requestPaint=function(){C=!0},i.unstable_runWithPriority=function(L,X){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var st=b;b=L;try{return X()}finally{b=st}},i.unstable_scheduleCallback=function(L,X,st){var ot=i.unstable_now();switch(typeof st=="object"&&st!==null?(st=st.delay,st=typeof st=="number"&&0<st?ot+st:ot):st=ot,L){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=st+M,L={id:m++,callback:X,priorityLevel:L,startTime:st,expirationTime:M,sortIndex:-1},st>ot?(L.sortIndex=st,t(d,L),e(f)===null&&L===e(d)&&(k?(B(U),U=-1):k=!0,pt(O,st-ot))):(L.sortIndex=M,t(f,L),S||v||(S=!0,z||(z=!0,et()))),L},i.unstable_shouldYield=ut,i.unstable_wrapCallback=function(L){var X=b;return function(){var st=b;b=X;try{return L.apply(this,arguments)}finally{b=st}}}})(Kd)),Kd}var uv;function xA(){return uv||(uv=1,Qd.exports=vA()),Qd.exports}var Wd={exports:{}},tn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hv;function SA(){if(hv)return tn;hv=1;var i=zm();function t(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var n={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(f,d,m){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:p==null?null:""+p,children:f,containerInfo:d,implementation:m}}var a=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,tn.createPortal=function(f,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return o(f,d,null,m)},tn.flushSync=function(f){var d=a.T,m=n.p;try{if(a.T=null,n.p=2,f)return f()}finally{a.T=d,n.p=m,n.d.f()}},tn.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,n.d.C(f,d))},tn.prefetchDNS=function(f){typeof f=="string"&&n.d.D(f)},tn.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var m=d.as,p=u(m,d.crossOrigin),b=typeof d.integrity=="string"?d.integrity:void 0,v=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;m==="style"?n.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:p,integrity:b,fetchPriority:v}):m==="script"&&n.d.X(f,{crossOrigin:p,integrity:b,fetchPriority:v,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},tn.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var m=u(d.as,d.crossOrigin);n.d.M(f,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&n.d.M(f)},tn.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var m=d.as,p=u(m,d.crossOrigin);n.d.L(f,m,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},tn.preloadModule=function(f,d){if(typeof f=="string")if(d){var m=u(d.as,d.crossOrigin);n.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else n.d.m(f)},tn.requestFormReset=function(f){n.d.r(f)},tn.unstable_batchedUpdates=function(f,d){return f(d)},tn.useFormState=function(f,d,m){return a.H.useFormState(f,d,m)},tn.useFormStatus=function(){return a.H.useHostTransitionStatus()},tn.version="19.1.1",tn}var fv;function Hx(){if(fv)return Wd.exports;fv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Wd.exports=SA(),Wd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dv;function wA(){if(dv)return Go;dv=1;var i=xA(),t=zm(),e=Hx();function n(s){var l="https://react.dev/errors/"+s;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)l+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var l=s,c=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,(l.flags&4098)!==0&&(c=l.return),s=l.return;while(s)}return l.tag===3?c:null}function a(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function u(s){if(o(s)!==s)throw Error(n(188))}function f(s){var l=s.alternate;if(!l){if(l=o(s),l===null)throw Error(n(188));return l!==s?null:s}for(var c=s,h=l;;){var g=c.return;if(g===null)break;var y=g.alternate;if(y===null){if(h=g.return,h!==null){c=h;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===c)return u(g),s;if(y===h)return u(g),l;y=y.sibling}throw Error(n(188))}if(c.return!==h.return)c=g,h=y;else{for(var x=!1,w=g.child;w;){if(w===c){x=!0,c=g,h=y;break}if(w===h){x=!0,h=g,c=y;break}w=w.sibling}if(!x){for(w=y.child;w;){if(w===c){x=!0,c=y,h=g;break}if(w===h){x=!0,h=y,c=g;break}w=w.sibling}if(!x)throw Error(n(189))}}if(c.alternate!==h)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?s:l}function d(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s;for(s=s.child;s!==null;){if(l=d(s),l!==null)return l;s=s.sibling}return null}var m=Object.assign,p=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),B=Symbol.for("react.consumer"),j=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),tt=Symbol.for("react.activity"),ut=Symbol.for("react.memo_cache_sentinel"),it=Symbol.iterator;function et(s){return s===null||typeof s!="object"?null:(s=it&&s[it]||s["@@iterator"],typeof s=="function"?s:null)}var ct=Symbol.for("react.client.reference");function mt(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===ct?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case S:return"Fragment";case C:return"Profiler";case k:return"StrictMode";case O:return"Suspense";case z:return"SuspenseList";case tt:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case v:return"Portal";case j:return(s.displayName||"Context")+".Provider";case B:return(s._context.displayName||"Context")+".Consumer";case R:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case U:return l=s.displayName||null,l!==null?l:mt(s.type)||"Memo";case K:l=s._payload,s=s._init;try{return mt(s(l))}catch{}}return null}var pt=Array.isArray,L=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st={pending:!1,data:null,method:null,action:null},ot=[],M=-1;function Y(s){return{current:s}}function $(s){0>M||(s.current=ot[M],ot[M]=null,M--)}function I(s,l){M++,ot[M]=s.current,s.current=l}var nt=Y(null),dt=Y(null),lt=Y(null),Qt=Y(null);function yt(s,l){switch(I(lt,l),I(dt,s),I(nt,null),l.nodeType){case 9:case 11:s=(s=l.documentElement)&&(s=s.namespaceURI)?Bb(s):0;break;default:if(s=l.tagName,l=l.namespaceURI)l=Bb(l),s=Lb(l,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}$(nt),I(nt,s)}function se(){$(nt),$(dt),$(lt)}function Et(s){s.memoizedState!==null&&I(Qt,s);var l=nt.current,c=Lb(l,s.type);l!==c&&(I(dt,s),I(nt,c))}function ln(s){dt.current===s&&($(nt),$(dt)),Qt.current===s&&($(Qt),_o._currentValue=st)}var me=Object.prototype.hasOwnProperty,Un=i.unstable_scheduleCallback,Pe=i.unstable_cancelCallback,xi=i.unstable_shouldYield,li=i.unstable_requestPaint,Me=i.unstable_now,tr=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,An=i.unstable_UserBlockingPriority,oi=i.unstable_NormalPriority,xe=i.unstable_LowPriority,qn=i.unstable_IdlePriority,Br=i.log,Kl=i.unstable_setDisableYieldValue,Vn=null,fe=null;function Ne(s){if(typeof Br=="function"&&Kl(s),fe&&typeof fe.setStrictMode=="function")try{fe.setStrictMode(Vn,s)}catch{}}var ue=Math.clz32?Math.clz32:ci,ai=Math.log,Mn=Math.LN2;function ci(s){return s>>>=0,s===0?32:31-(ai(s)/Mn|0)|0}var ds=256,gs=4194304;function fn(s){var l=s&42;if(l!==0)return l;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Si(s,l,c){var h=s.pendingLanes;if(h===0)return 0;var g=0,y=s.suspendedLanes,x=s.pingedLanes;s=s.warmLanes;var w=h&134217727;return w!==0?(h=w&~y,h!==0?g=fn(h):(x&=w,x!==0?g=fn(x):c||(c=w&~s,c!==0&&(g=fn(c))))):(w=h&~y,w!==0?g=fn(w):x!==0?g=fn(x):c||(c=h&~s,c!==0&&(g=fn(c)))),g===0?0:l!==0&&l!==g&&(l&y)===0&&(y=g&-g,c=l&-l,y>=c||y===32&&(c&4194048)!==0)?l:g}function Yi(s,l){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&l)===0}function ms(s,l){switch(s){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tn(){var s=ds;return ds<<=1,(ds&4194048)===0&&(ds=256),s}function Lr(){var s=gs;return gs<<=1,(gs&62914560)===0&&(gs=4194304),s}function er(s){for(var l=[],c=0;31>c;c++)l.push(s);return l}function re(s,l){s.pendingLanes|=l,l!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Be(s,l,c,h,g,y){var x=s.pendingLanes;s.pendingLanes=c,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=c,s.entangledLanes&=c,s.errorRecoveryDisabledLanes&=c,s.shellSuspendCounter=0;var w=s.entanglements,T=s.expirationTimes,_=s.hiddenUpdates;for(c=x&~c;0<c;){var Q=31-ue(c),F=1<<Q;w[Q]=0,T[Q]=-1;var q=_[Q];if(q!==null)for(_[Q]=null,Q=0;Q<q.length;Q++){var V=q[Q];V!==null&&(V.lane&=-536870913)}c&=~F}h!==0&&bt(s,h,0),y!==0&&g===0&&s.tag!==0&&(s.suspendedLanes|=y&~(x&~l))}function bt(s,l,c){s.pendingLanes|=l,s.suspendedLanes&=~l;var h=31-ue(l);s.entangledLanes|=l,s.entanglements[h]=s.entanglements[h]|1073741824|c&4194090}function Yt(s,l){var c=s.entangledLanes|=l;for(s=s.entanglements;c;){var h=31-ue(c),g=1<<h;g&l|s[h]&l&&(s[h]|=l),c&=~g}}function Ht(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function qt(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Le(){var s=X.p;return s!==0?s:(s=window.event,s===void 0?32:Jb(s.type))}function ne(s,l){var c=X.p;try{return X.p=s,l()}finally{X.p=c}}var Mt=Math.random().toString(36).slice(2),Gt="__reactFiber$"+Mt,Rt="__reactProps$"+Mt,Kt="__reactContainer$"+Mt,Pn="__reactEvents$"+Mt,on="__reactListeners$"+Mt,ui="__reactHandles$"+Mt,ps="__reactResources$"+Mt,Gi="__reactMarker$"+Mt;function Hh(s){delete s[Gt],delete s[Rt],delete s[Pn],delete s[on],delete s[ui]}function zr(s){var l=s[Gt];if(l)return l;for(var c=s.parentNode;c;){if(l=c[Kt]||c[Gt]){if(c=l.alternate,l.child!==null||c!==null&&c.child!==null)for(s=_b(s);s!==null;){if(c=s[Gt])return c;s=_b(s)}return l}s=c,c=s.parentNode}return null}function Hr(s){if(s=s[Gt]||s[Kt]){var l=s.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return s}return null}function Wl(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s.stateNode;throw Error(n(33))}function jr(s){var l=s[ps];return l||(l=s[ps]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function ze(s){s[Gi]=!0}var wp=new Set,kp={};function nr(s,l){_r(s,l),_r(s+"Capture",l)}function _r(s,l){for(kp[s]=l,s=0;s<l.length;s++)wp.add(l[s])}var ak=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cp={},Ap={};function ck(s){return me.call(Ap,s)?!0:me.call(Cp,s)?!1:ak.test(s)?Ap[s]=!0:(Cp[s]=!0,!1)}function Ua(s,l,c){if(ck(l))if(c===null)s.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":s.removeAttribute(l);return;case"boolean":var h=l.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){s.removeAttribute(l);return}}s.setAttribute(l,""+c)}}function qa(s,l,c){if(c===null)s.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttribute(l,""+c)}}function Ii(s,l,c,h){if(h===null)s.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttributeNS(l,c,""+h)}}var jh,Mp;function Ur(s){if(jh===void 0)try{throw Error()}catch(c){var l=c.stack.trim().match(/\n( *(at )?)/);jh=l&&l[1]||"",Mp=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+jh+s+Mp}var _h=!1;function Uh(s,l){if(!s||_h)return"";_h=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(l){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(V){var q=V}Reflect.construct(s,[],F)}else{try{F.call()}catch(V){q=V}s.call(F.prototype)}}else{try{throw Error()}catch(V){q=V}(F=s())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(V){if(V&&q&&typeof V.stack=="string")return[V.stack,q.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=h.DetermineComponentFrameRoot(),x=y[0],w=y[1];if(x&&w){var T=x.split(`
`),_=w.split(`
`);for(g=h=0;h<T.length&&!T[h].includes("DetermineComponentFrameRoot");)h++;for(;g<_.length&&!_[g].includes("DetermineComponentFrameRoot");)g++;if(h===T.length||g===_.length)for(h=T.length-1,g=_.length-1;1<=h&&0<=g&&T[h]!==_[g];)g--;for(;1<=h&&0<=g;h--,g--)if(T[h]!==_[g]){if(h!==1||g!==1)do if(h--,g--,0>g||T[h]!==_[g]){var Q=`
`+T[h].replace(" at new "," at ");return s.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",s.displayName)),Q}while(1<=h&&0<=g);break}}}finally{_h=!1,Error.prepareStackTrace=c}return(c=s?s.displayName||s.name:"")?Ur(c):""}function uk(s){switch(s.tag){case 26:case 27:case 5:return Ur(s.type);case 16:return Ur("Lazy");case 13:return Ur("Suspense");case 19:return Ur("SuspenseList");case 0:case 15:return Uh(s.type,!1);case 11:return Uh(s.type.render,!1);case 1:return Uh(s.type,!0);case 31:return Ur("Activity");default:return""}}function Tp(s){try{var l="";do l+=uk(s),s=s.return;while(s);return l}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function Yn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Dp(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function hk(s){var l=Dp(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,l),h=""+s[l];if(!s.hasOwnProperty(l)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,y=c.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return g.call(this)},set:function(x){h=""+x,y.call(this,x)}}),Object.defineProperty(s,l,{enumerable:c.enumerable}),{getValue:function(){return h},setValue:function(x){h=""+x},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function Va(s){s._valueTracker||(s._valueTracker=hk(s))}function Op(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var c=l.getValue(),h="";return s&&(h=Dp(s)?s.checked?"true":"false":s.value),s=h,s!==c?(l.setValue(s),!0):!1}function Pa(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var fk=/[\n"\\]/g;function Gn(s){return s.replace(fk,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function qh(s,l,c,h,g,y,x,w){s.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?s.type=x:s.removeAttribute("type"),l!=null?x==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+Yn(l)):s.value!==""+Yn(l)&&(s.value=""+Yn(l)):x!=="submit"&&x!=="reset"||s.removeAttribute("value"),l!=null?Vh(s,x,Yn(l)):c!=null?Vh(s,x,Yn(c)):h!=null&&s.removeAttribute("value"),g==null&&y!=null&&(s.defaultChecked=!!y),g!=null&&(s.checked=g&&typeof g!="function"&&typeof g!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?s.name=""+Yn(w):s.removeAttribute("name")}function Ep(s,l,c,h,g,y,x,w){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),l!=null||c!=null){if(!(y!=="submit"&&y!=="reset"||l!=null))return;c=c!=null?""+Yn(c):"",l=l!=null?""+Yn(l):c,w||l===s.value||(s.value=l),s.defaultValue=l}h=h??g,h=typeof h!="function"&&typeof h!="symbol"&&!!h,s.checked=w?s.checked:!!h,s.defaultChecked=!!h,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(s.name=x)}function Vh(s,l,c){l==="number"&&Pa(s.ownerDocument)===s||s.defaultValue===""+c||(s.defaultValue=""+c)}function qr(s,l,c,h){if(s=s.options,l){l={};for(var g=0;g<c.length;g++)l["$"+c[g]]=!0;for(c=0;c<s.length;c++)g=l.hasOwnProperty("$"+s[c].value),s[c].selected!==g&&(s[c].selected=g),g&&h&&(s[c].defaultSelected=!0)}else{for(c=""+Yn(c),l=null,g=0;g<s.length;g++){if(s[g].value===c){s[g].selected=!0,h&&(s[g].defaultSelected=!0);return}l!==null||s[g].disabled||(l=s[g])}l!==null&&(l.selected=!0)}}function Rp(s,l,c){if(l!=null&&(l=""+Yn(l),l!==s.value&&(s.value=l),c==null)){s.defaultValue!==l&&(s.defaultValue=l);return}s.defaultValue=c!=null?""+Yn(c):""}function Np(s,l,c,h){if(l==null){if(h!=null){if(c!=null)throw Error(n(92));if(pt(h)){if(1<h.length)throw Error(n(93));h=h[0]}c=h}c==null&&(c=""),l=c}c=Yn(l),s.defaultValue=c,h=s.textContent,h===c&&h!==""&&h!==null&&(s.value=h)}function Vr(s,l){if(l){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=l;return}}s.textContent=l}var dk=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bp(s,l,c){var h=l.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?h?s.setProperty(l,""):l==="float"?s.cssFloat="":s[l]="":h?s.setProperty(l,c):typeof c!="number"||c===0||dk.has(l)?l==="float"?s.cssFloat=c:s[l]=(""+c).trim():s[l]=c+"px"}function Lp(s,l,c){if(l!=null&&typeof l!="object")throw Error(n(62));if(s=s.style,c!=null){for(var h in c)!c.hasOwnProperty(h)||l!=null&&l.hasOwnProperty(h)||(h.indexOf("--")===0?s.setProperty(h,""):h==="float"?s.cssFloat="":s[h]="");for(var g in l)h=l[g],l.hasOwnProperty(g)&&c[g]!==h&&Bp(s,g,h)}else for(var y in l)l.hasOwnProperty(y)&&Bp(s,y,l[y])}function Ph(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gk=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),mk=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ya(s){return mk.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Yh=null;function Gh(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Pr=null,Yr=null;function zp(s){var l=Hr(s);if(l&&(s=l.stateNode)){var c=s[Rt]||null;t:switch(s=l.stateNode,l.type){case"input":if(qh(s,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),l=c.name,c.type==="radio"&&l!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Gn(""+l)+'"][type="radio"]'),l=0;l<c.length;l++){var h=c[l];if(h!==s&&h.form===s.form){var g=h[Rt]||null;if(!g)throw Error(n(90));qh(h,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(l=0;l<c.length;l++)h=c[l],h.form===s.form&&Op(h)}break t;case"textarea":Rp(s,c.value,c.defaultValue);break t;case"select":l=c.value,l!=null&&qr(s,!!c.multiple,l,!1)}}}var Ih=!1;function Hp(s,l,c){if(Ih)return s(l,c);Ih=!0;try{var h=s(l);return h}finally{if(Ih=!1,(Pr!==null||Yr!==null)&&(Dc(),Pr&&(l=Pr,s=Yr,Yr=Pr=null,zp(l),s)))for(l=0;l<s.length;l++)zp(s[l])}}function Fl(s,l){var c=s.stateNode;if(c===null)return null;var h=c[Rt]||null;if(h===null)return null;c=h[l];t:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break t;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(n(231,l,typeof c));return c}var Xi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xh=!1;if(Xi)try{var Zl={};Object.defineProperty(Zl,"passive",{get:function(){Xh=!0}}),window.addEventListener("test",Zl,Zl),window.removeEventListener("test",Zl,Zl)}catch{Xh=!1}var ys=null,Qh=null,Ga=null;function jp(){if(Ga)return Ga;var s,l=Qh,c=l.length,h,g="value"in ys?ys.value:ys.textContent,y=g.length;for(s=0;s<c&&l[s]===g[s];s++);var x=c-s;for(h=1;h<=x&&l[c-h]===g[y-h];h++);return Ga=g.slice(s,1<h?1-h:void 0)}function Ia(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function Xa(){return!0}function _p(){return!1}function dn(s){function l(c,h,g,y,x){this._reactName=c,this._targetInst=g,this.type=h,this.nativeEvent=y,this.target=x,this.currentTarget=null;for(var w in s)s.hasOwnProperty(w)&&(c=s[w],this[w]=c?c(y):y[w]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Xa:_p,this.isPropagationStopped=_p,this}return m(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Xa)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Xa)},persist:function(){},isPersistent:Xa}),l}var ir={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qa=dn(ir),$l=m({},ir,{view:0,detail:0}),pk=dn($l),Kh,Wh,Jl,Ka=m({},$l,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zh,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Jl&&(Jl&&s.type==="mousemove"?(Kh=s.screenX-Jl.screenX,Wh=s.screenY-Jl.screenY):Wh=Kh=0,Jl=s),Kh)},movementY:function(s){return"movementY"in s?s.movementY:Wh}}),Up=dn(Ka),yk=m({},Ka,{dataTransfer:0}),bk=dn(yk),vk=m({},$l,{relatedTarget:0}),Fh=dn(vk),xk=m({},ir,{animationName:0,elapsedTime:0,pseudoElement:0}),Sk=dn(xk),wk=m({},ir,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),kk=dn(wk),Ck=m({},ir,{data:0}),qp=dn(Ck),Ak={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dk(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=Tk[s])?!!l[s]:!1}function Zh(){return Dk}var Ok=m({},$l,{key:function(s){if(s.key){var l=Ak[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=Ia(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Mk[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zh,charCode:function(s){return s.type==="keypress"?Ia(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ia(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Ek=dn(Ok),Rk=m({},Ka,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vp=dn(Rk),Nk=m({},$l,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zh}),Bk=dn(Nk),Lk=m({},ir,{propertyName:0,elapsedTime:0,pseudoElement:0}),zk=dn(Lk),Hk=m({},Ka,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),jk=dn(Hk),_k=m({},ir,{newState:0,oldState:0}),Uk=dn(_k),qk=[9,13,27,32],$h=Xi&&"CompositionEvent"in window,to=null;Xi&&"documentMode"in document&&(to=document.documentMode);var Vk=Xi&&"TextEvent"in window&&!to,Pp=Xi&&(!$h||to&&8<to&&11>=to),Yp=" ",Gp=!1;function Ip(s,l){switch(s){case"keyup":return qk.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xp(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Gr=!1;function Pk(s,l){switch(s){case"compositionend":return Xp(l);case"keypress":return l.which!==32?null:(Gp=!0,Yp);case"textInput":return s=l.data,s===Yp&&Gp?null:s;default:return null}}function Yk(s,l){if(Gr)return s==="compositionend"||!$h&&Ip(s,l)?(s=jp(),Ga=Qh=ys=null,Gr=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Pp&&l.locale!=="ko"?null:l.data;default:return null}}var Gk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qp(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!Gk[s.type]:l==="textarea"}function Kp(s,l,c,h){Pr?Yr?Yr.push(h):Yr=[h]:Pr=h,l=Lc(l,"onChange"),0<l.length&&(c=new Qa("onChange","change",null,c,h),s.push({event:c,listeners:l}))}var eo=null,no=null;function Ik(s){Db(s,0)}function Wa(s){var l=Wl(s);if(Op(l))return s}function Wp(s,l){if(s==="change")return l}var Fp=!1;if(Xi){var Jh;if(Xi){var tf="oninput"in document;if(!tf){var Zp=document.createElement("div");Zp.setAttribute("oninput","return;"),tf=typeof Zp.oninput=="function"}Jh=tf}else Jh=!1;Fp=Jh&&(!document.documentMode||9<document.documentMode)}function $p(){eo&&(eo.detachEvent("onpropertychange",Jp),no=eo=null)}function Jp(s){if(s.propertyName==="value"&&Wa(no)){var l=[];Kp(l,no,s,Gh(s)),Hp(Ik,l)}}function Xk(s,l,c){s==="focusin"?($p(),eo=l,no=c,eo.attachEvent("onpropertychange",Jp)):s==="focusout"&&$p()}function Qk(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Wa(no)}function Kk(s,l){if(s==="click")return Wa(l)}function Wk(s,l){if(s==="input"||s==="change")return Wa(l)}function Fk(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var Dn=typeof Object.is=="function"?Object.is:Fk;function io(s,l){if(Dn(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var c=Object.keys(s),h=Object.keys(l);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var g=c[h];if(!me.call(l,g)||!Dn(s[g],l[g]))return!1}return!0}function t0(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function e0(s,l){var c=t0(s);s=0;for(var h;c;){if(c.nodeType===3){if(h=s+c.textContent.length,s<=l&&h>=l)return{node:c,offset:l-s};s=h}t:{for(;c;){if(c.nextSibling){c=c.nextSibling;break t}c=c.parentNode}c=void 0}c=t0(c)}}function n0(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?n0(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function i0(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var l=Pa(s.document);l instanceof s.HTMLIFrameElement;){try{var c=typeof l.contentWindow.location.href=="string"}catch{c=!1}if(c)s=l.contentWindow;else break;l=Pa(s.document)}return l}function ef(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}var Zk=Xi&&"documentMode"in document&&11>=document.documentMode,Ir=null,nf=null,so=null,sf=!1;function s0(s,l,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;sf||Ir==null||Ir!==Pa(h)||(h=Ir,"selectionStart"in h&&ef(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),so&&io(so,h)||(so=h,h=Lc(nf,"onSelect"),0<h.length&&(l=new Qa("onSelect","select",null,l,c),s.push({event:l,listeners:h}),l.target=Ir)))}function sr(s,l){var c={};return c[s.toLowerCase()]=l.toLowerCase(),c["Webkit"+s]="webkit"+l,c["Moz"+s]="moz"+l,c}var Xr={animationend:sr("Animation","AnimationEnd"),animationiteration:sr("Animation","AnimationIteration"),animationstart:sr("Animation","AnimationStart"),transitionrun:sr("Transition","TransitionRun"),transitionstart:sr("Transition","TransitionStart"),transitioncancel:sr("Transition","TransitionCancel"),transitionend:sr("Transition","TransitionEnd")},rf={},r0={};Xi&&(r0=document.createElement("div").style,"AnimationEvent"in window||(delete Xr.animationend.animation,delete Xr.animationiteration.animation,delete Xr.animationstart.animation),"TransitionEvent"in window||delete Xr.transitionend.transition);function rr(s){if(rf[s])return rf[s];if(!Xr[s])return s;var l=Xr[s],c;for(c in l)if(l.hasOwnProperty(c)&&c in r0)return rf[s]=l[c];return s}var l0=rr("animationend"),o0=rr("animationiteration"),a0=rr("animationstart"),$k=rr("transitionrun"),Jk=rr("transitionstart"),tC=rr("transitioncancel"),c0=rr("transitionend"),u0=new Map,lf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");lf.push("scrollEnd");function hi(s,l){u0.set(s,l),nr(l,[s])}var h0=new WeakMap;function In(s,l){if(typeof s=="object"&&s!==null){var c=h0.get(s);return c!==void 0?c:(l={value:s,source:l,stack:Tp(l)},h0.set(s,l),l)}return{value:s,source:l,stack:Tp(l)}}var Xn=[],Qr=0,of=0;function Fa(){for(var s=Qr,l=of=Qr=0;l<s;){var c=Xn[l];Xn[l++]=null;var h=Xn[l];Xn[l++]=null;var g=Xn[l];Xn[l++]=null;var y=Xn[l];if(Xn[l++]=null,h!==null&&g!==null){var x=h.pending;x===null?g.next=g:(g.next=x.next,x.next=g),h.pending=g}y!==0&&f0(c,g,y)}}function Za(s,l,c,h){Xn[Qr++]=s,Xn[Qr++]=l,Xn[Qr++]=c,Xn[Qr++]=h,of|=h,s.lanes|=h,s=s.alternate,s!==null&&(s.lanes|=h)}function af(s,l,c,h){return Za(s,l,c,h),$a(s)}function Kr(s,l){return Za(s,null,null,l),$a(s)}function f0(s,l,c){s.lanes|=c;var h=s.alternate;h!==null&&(h.lanes|=c);for(var g=!1,y=s.return;y!==null;)y.childLanes|=c,h=y.alternate,h!==null&&(h.childLanes|=c),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(g=!0)),s=y,y=y.return;return s.tag===3?(y=s.stateNode,g&&l!==null&&(g=31-ue(c),s=y.hiddenUpdates,h=s[g],h===null?s[g]=[l]:h.push(l),l.lane=c|536870912),y):null}function $a(s){if(50<Eo)throw Eo=0,gd=null,Error(n(185));for(var l=s.return;l!==null;)s=l,l=s.return;return s.tag===3?s.stateNode:null}var Wr={};function eC(s,l,c,h){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(s,l,c,h){return new eC(s,l,c,h)}function cf(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Qi(s,l){var c=s.alternate;return c===null?(c=On(s.tag,l,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=l,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&65011712,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,l=s.dependencies,c.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c.refCleanup=s.refCleanup,c}function d0(s,l){s.flags&=65011714;var c=s.alternate;return c===null?(s.childLanes=0,s.lanes=l,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,l=c.dependencies,s.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),s}function Ja(s,l,c,h,g,y){var x=0;if(h=s,typeof s=="function")cf(s)&&(x=1);else if(typeof s=="string")x=iA(s,c,nt.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case tt:return s=On(31,c,l,g),s.elementType=tt,s.lanes=y,s;case S:return lr(c.children,g,y,l);case k:x=8,g|=24;break;case C:return s=On(12,c,l,g|2),s.elementType=C,s.lanes=y,s;case O:return s=On(13,c,l,g),s.elementType=O,s.lanes=y,s;case z:return s=On(19,c,l,g),s.elementType=z,s.lanes=y,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case A:case j:x=10;break t;case B:x=9;break t;case R:x=11;break t;case U:x=14;break t;case K:x=16,h=null;break t}x=29,c=Error(n(130,s===null?"null":typeof s,"")),h=null}return l=On(x,c,l,g),l.elementType=s,l.type=h,l.lanes=y,l}function lr(s,l,c,h){return s=On(7,s,h,l),s.lanes=c,s}function uf(s,l,c){return s=On(6,s,null,l),s.lanes=c,s}function hf(s,l,c){return l=On(4,s.children!==null?s.children:[],s.key,l),l.lanes=c,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}var Fr=[],Zr=0,tc=null,ec=0,Qn=[],Kn=0,or=null,Ki=1,Wi="";function ar(s,l){Fr[Zr++]=ec,Fr[Zr++]=tc,tc=s,ec=l}function g0(s,l,c){Qn[Kn++]=Ki,Qn[Kn++]=Wi,Qn[Kn++]=or,or=s;var h=Ki;s=Wi;var g=32-ue(h)-1;h&=~(1<<g),c+=1;var y=32-ue(l)+g;if(30<y){var x=g-g%5;y=(h&(1<<x)-1).toString(32),h>>=x,g-=x,Ki=1<<32-ue(l)+g|c<<g|h,Wi=y+s}else Ki=1<<y|c<<g|h,Wi=s}function ff(s){s.return!==null&&(ar(s,1),g0(s,1,0))}function df(s){for(;s===tc;)tc=Fr[--Zr],Fr[Zr]=null,ec=Fr[--Zr],Fr[Zr]=null;for(;s===or;)or=Qn[--Kn],Qn[Kn]=null,Wi=Qn[--Kn],Qn[Kn]=null,Ki=Qn[--Kn],Qn[Kn]=null}var an=null,de=null,Vt=!1,cr=null,wi=!1,gf=Error(n(519));function ur(s){var l=Error(n(418,""));throw oo(In(l,s)),gf}function m0(s){var l=s.stateNode,c=s.type,h=s.memoizedProps;switch(l[Gt]=s,l[Rt]=h,c){case"dialog":Bt("cancel",l),Bt("close",l);break;case"iframe":case"object":case"embed":Bt("load",l);break;case"video":case"audio":for(c=0;c<No.length;c++)Bt(No[c],l);break;case"source":Bt("error",l);break;case"img":case"image":case"link":Bt("error",l),Bt("load",l);break;case"details":Bt("toggle",l);break;case"input":Bt("invalid",l),Ep(l,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),Va(l);break;case"select":Bt("invalid",l);break;case"textarea":Bt("invalid",l),Np(l,h.value,h.defaultValue,h.children),Va(l)}c=h.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||l.textContent===""+c||h.suppressHydrationWarning===!0||Nb(l.textContent,c)?(h.popover!=null&&(Bt("beforetoggle",l),Bt("toggle",l)),h.onScroll!=null&&Bt("scroll",l),h.onScrollEnd!=null&&Bt("scrollend",l),h.onClick!=null&&(l.onclick=zc),l=!0):l=!1,l||ur(s)}function p0(s){for(an=s.return;an;)switch(an.tag){case 5:case 13:wi=!1;return;case 27:case 3:wi=!0;return;default:an=an.return}}function ro(s){if(s!==an)return!1;if(!Vt)return p0(s),Vt=!0,!1;var l=s.tag,c;if((c=l!==3&&l!==27)&&((c=l===5)&&(c=s.type,c=!(c!=="form"&&c!=="button")||Ed(s.type,s.memoizedProps)),c=!c),c&&de&&ur(s),p0(s),l===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));t:{for(s=s.nextSibling,l=0;s;){if(s.nodeType===8)if(c=s.data,c==="/$"){if(l===0){de=di(s.nextSibling);break t}l--}else c!=="$"&&c!=="$!"&&c!=="$?"||l++;s=s.nextSibling}de=null}}else l===27?(l=de,Bs(s.type)?(s=Ld,Ld=null,de=s):de=l):de=an?di(s.stateNode.nextSibling):null;return!0}function lo(){de=an=null,Vt=!1}function y0(){var s=cr;return s!==null&&(pn===null?pn=s:pn.push.apply(pn,s),cr=null),s}function oo(s){cr===null?cr=[s]:cr.push(s)}var mf=Y(null),hr=null,Fi=null;function bs(s,l,c){I(mf,l._currentValue),l._currentValue=c}function Zi(s){s._currentValue=mf.current,$(mf)}function pf(s,l,c){for(;s!==null;){var h=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,h!==null&&(h.childLanes|=l)):h!==null&&(h.childLanes&l)!==l&&(h.childLanes|=l),s===c)break;s=s.return}}function yf(s,l,c,h){var g=s.child;for(g!==null&&(g.return=s);g!==null;){var y=g.dependencies;if(y!==null){var x=g.child;y=y.firstContext;t:for(;y!==null;){var w=y;y=g;for(var T=0;T<l.length;T++)if(w.context===l[T]){y.lanes|=c,w=y.alternate,w!==null&&(w.lanes|=c),pf(y.return,c,s),h||(x=null);break t}y=w.next}}else if(g.tag===18){if(x=g.return,x===null)throw Error(n(341));x.lanes|=c,y=x.alternate,y!==null&&(y.lanes|=c),pf(x,c,s),x=null}else x=g.child;if(x!==null)x.return=g;else for(x=g;x!==null;){if(x===s){x=null;break}if(g=x.sibling,g!==null){g.return=x.return,x=g;break}x=x.return}g=x}}function ao(s,l,c,h){s=null;for(var g=l,y=!1;g!==null;){if(!y){if((g.flags&524288)!==0)y=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var x=g.alternate;if(x===null)throw Error(n(387));if(x=x.memoizedProps,x!==null){var w=g.type;Dn(g.pendingProps.value,x.value)||(s!==null?s.push(w):s=[w])}}else if(g===Qt.current){if(x=g.alternate,x===null)throw Error(n(387));x.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(s!==null?s.push(_o):s=[_o])}g=g.return}s!==null&&yf(l,s,c,h),l.flags|=262144}function nc(s){for(s=s.firstContext;s!==null;){if(!Dn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function fr(s){hr=s,Fi=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Je(s){return b0(hr,s)}function ic(s,l){return hr===null&&fr(s),b0(s,l)}function b0(s,l){var c=l._currentValue;if(l={context:l,memoizedValue:c,next:null},Fi===null){if(s===null)throw Error(n(308));Fi=l,s.dependencies={lanes:0,firstContext:l},s.flags|=524288}else Fi=Fi.next=l;return c}var nC=typeof AbortController<"u"?AbortController:function(){var s=[],l=this.signal={aborted:!1,addEventListener:function(c,h){s.push(h)}};this.abort=function(){l.aborted=!0,s.forEach(function(c){return c()})}},iC=i.unstable_scheduleCallback,sC=i.unstable_NormalPriority,Te={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function bf(){return{controller:new nC,data:new Map,refCount:0}}function co(s){s.refCount--,s.refCount===0&&iC(sC,function(){s.controller.abort()})}var uo=null,vf=0,$r=0,Jr=null;function rC(s,l){if(uo===null){var c=uo=[];vf=0,$r=Sd(),Jr={status:"pending",value:void 0,then:function(h){c.push(h)}}}return vf++,l.then(v0,v0),l}function v0(){if(--vf===0&&uo!==null){Jr!==null&&(Jr.status="fulfilled");var s=uo;uo=null,$r=0,Jr=null;for(var l=0;l<s.length;l++)(0,s[l])()}}function lC(s,l){var c=[],h={status:"pending",value:null,reason:null,then:function(g){c.push(g)}};return s.then(function(){h.status="fulfilled",h.value=l;for(var g=0;g<c.length;g++)(0,c[g])(l)},function(g){for(h.status="rejected",h.reason=g,g=0;g<c.length;g++)(0,c[g])(void 0)}),h}var x0=L.S;L.S=function(s,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&rC(s,l),x0!==null&&x0(s,l)};var dr=Y(null);function xf(){var s=dr.current;return s!==null?s:ie.pooledCache}function sc(s,l){l===null?I(dr,dr.current):I(dr,l.pool)}function S0(){var s=xf();return s===null?null:{parent:Te._currentValue,pool:s}}var ho=Error(n(460)),w0=Error(n(474)),rc=Error(n(542)),Sf={then:function(){}};function k0(s){return s=s.status,s==="fulfilled"||s==="rejected"}function lc(){}function C0(s,l,c){switch(c=s[c],c===void 0?s.push(l):c!==l&&(l.then(lc,lc),l=c),l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,M0(s),s;default:if(typeof l.status=="string")l.then(lc,lc);else{if(s=ie,s!==null&&100<s.shellSuspendCounter)throw Error(n(482));s=l,s.status="pending",s.then(function(h){if(l.status==="pending"){var g=l;g.status="fulfilled",g.value=h}},function(h){if(l.status==="pending"){var g=l;g.status="rejected",g.reason=h}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,M0(s),s}throw fo=l,ho}}var fo=null;function A0(){if(fo===null)throw Error(n(459));var s=fo;return fo=null,s}function M0(s){if(s===ho||s===rc)throw Error(n(483))}var vs=!1;function wf(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kf(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function xs(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Ss(s,l,c){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(It&2)!==0){var g=h.pending;return g===null?l.next=l:(l.next=g.next,g.next=l),h.pending=l,l=$a(s),f0(s,null,c),l}return Za(s,h,l,c),$a(s)}function go(s,l,c){if(l=l.updateQueue,l!==null&&(l=l.shared,(c&4194048)!==0)){var h=l.lanes;h&=s.pendingLanes,c|=h,l.lanes=c,Yt(s,c)}}function Cf(s,l){var c=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var g=null,y=null;if(c=c.firstBaseUpdate,c!==null){do{var x={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};y===null?g=y=x:y=y.next=x,c=c.next}while(c!==null);y===null?g=y=l:y=y.next=l}else g=y=l;c={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:h.shared,callbacks:h.callbacks},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=l}var Af=!1;function mo(){if(Af){var s=Jr;if(s!==null)throw s}}function po(s,l,c,h){Af=!1;var g=s.updateQueue;vs=!1;var y=g.firstBaseUpdate,x=g.lastBaseUpdate,w=g.shared.pending;if(w!==null){g.shared.pending=null;var T=w,_=T.next;T.next=null,x===null?y=_:x.next=_,x=T;var Q=s.alternate;Q!==null&&(Q=Q.updateQueue,w=Q.lastBaseUpdate,w!==x&&(w===null?Q.firstBaseUpdate=_:w.next=_,Q.lastBaseUpdate=T))}if(y!==null){var F=g.baseState;x=0,Q=_=T=null,w=y;do{var q=w.lane&-536870913,V=q!==w.lane;if(V?(zt&q)===q:(h&q)===q){q!==0&&q===$r&&(Af=!0),Q!==null&&(Q=Q.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});t:{var kt=s,St=w;q=l;var Zt=c;switch(St.tag){case 1:if(kt=St.payload,typeof kt=="function"){F=kt.call(Zt,F,q);break t}F=kt;break t;case 3:kt.flags=kt.flags&-65537|128;case 0:if(kt=St.payload,q=typeof kt=="function"?kt.call(Zt,F,q):kt,q==null)break t;F=m({},F,q);break t;case 2:vs=!0}}q=w.callback,q!==null&&(s.flags|=64,V&&(s.flags|=8192),V=g.callbacks,V===null?g.callbacks=[q]:V.push(q))}else V={lane:q,tag:w.tag,payload:w.payload,callback:w.callback,next:null},Q===null?(_=Q=V,T=F):Q=Q.next=V,x|=q;if(w=w.next,w===null){if(w=g.shared.pending,w===null)break;V=w,w=V.next,V.next=null,g.lastBaseUpdate=V,g.shared.pending=null}}while(!0);Q===null&&(T=F),g.baseState=T,g.firstBaseUpdate=_,g.lastBaseUpdate=Q,y===null&&(g.shared.lanes=0),Os|=x,s.lanes=x,s.memoizedState=F}}function T0(s,l){if(typeof s!="function")throw Error(n(191,s));s.call(l)}function D0(s,l){var c=s.callbacks;if(c!==null)for(s.callbacks=null,s=0;s<c.length;s++)T0(c[s],l)}var tl=Y(null),oc=Y(0);function O0(s,l){s=ss,I(oc,s),I(tl,l),ss=s|l.baseLanes}function Mf(){I(oc,ss),I(tl,tl.current)}function Tf(){ss=oc.current,$(tl),$(oc)}var ws=0,Tt=null,Wt=null,Se=null,ac=!1,el=!1,gr=!1,cc=0,yo=0,nl=null,oC=0;function pe(){throw Error(n(321))}function Df(s,l){if(l===null)return!1;for(var c=0;c<l.length&&c<s.length;c++)if(!Dn(s[c],l[c]))return!1;return!0}function Of(s,l,c,h,g,y){return ws=y,Tt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,L.H=s===null||s.memoizedState===null?fy:dy,gr=!1,y=c(h,g),gr=!1,el&&(y=R0(l,c,h,g)),E0(s),y}function E0(s){L.H=mc;var l=Wt!==null&&Wt.next!==null;if(ws=0,Se=Wt=Tt=null,ac=!1,yo=0,nl=null,l)throw Error(n(300));s===null||He||(s=s.dependencies,s!==null&&nc(s)&&(He=!0))}function R0(s,l,c,h){Tt=s;var g=0;do{if(el&&(nl=null),yo=0,el=!1,25<=g)throw Error(n(301));if(g+=1,Se=Wt=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}L.H=gC,y=l(c,h)}while(el);return y}function aC(){var s=L.H,l=s.useState()[0];return l=typeof l.then=="function"?bo(l):l,s=s.useState()[0],(Wt!==null?Wt.memoizedState:null)!==s&&(Tt.flags|=1024),l}function Ef(){var s=cc!==0;return cc=0,s}function Rf(s,l,c){l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~c}function Nf(s){if(ac){for(s=s.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}ac=!1}ws=0,Se=Wt=Tt=null,el=!1,yo=cc=0,nl=null}function gn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?Tt.memoizedState=Se=s:Se=Se.next=s,Se}function we(){if(Wt===null){var s=Tt.alternate;s=s!==null?s.memoizedState:null}else s=Wt.next;var l=Se===null?Tt.memoizedState:Se.next;if(l!==null)Se=l,Wt=s;else{if(s===null)throw Tt.alternate===null?Error(n(467)):Error(n(310));Wt=s,s={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Se===null?Tt.memoizedState=Se=s:Se=Se.next=s}return Se}function Bf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bo(s){var l=yo;return yo+=1,nl===null&&(nl=[]),s=C0(nl,s,l),l=Tt,(Se===null?l.memoizedState:Se.next)===null&&(l=l.alternate,L.H=l===null||l.memoizedState===null?fy:dy),s}function uc(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return bo(s);if(s.$$typeof===j)return Je(s)}throw Error(n(438,String(s)))}function Lf(s){var l=null,c=Tt.updateQueue;if(c!==null&&(l=c.memoCache),l==null){var h=Tt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(l={data:h.data.map(function(g){return g.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),c===null&&(c=Bf(),Tt.updateQueue=c),c.memoCache=l,c=l.data[l.index],c===void 0)for(c=l.data[l.index]=Array(s),h=0;h<s;h++)c[h]=ut;return l.index++,c}function $i(s,l){return typeof l=="function"?l(s):l}function hc(s){var l=we();return zf(l,Wt,s)}function zf(s,l,c){var h=s.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=c;var g=s.baseQueue,y=h.pending;if(y!==null){if(g!==null){var x=g.next;g.next=y.next,y.next=x}l.baseQueue=g=y,h.pending=null}if(y=s.baseState,g===null)s.memoizedState=y;else{l=g.next;var w=x=null,T=null,_=l,Q=!1;do{var F=_.lane&-536870913;if(F!==_.lane?(zt&F)===F:(ws&F)===F){var q=_.revertLane;if(q===0)T!==null&&(T=T.next={lane:0,revertLane:0,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null}),F===$r&&(Q=!0);else if((ws&q)===q){_=_.next,q===$r&&(Q=!0);continue}else F={lane:0,revertLane:_.revertLane,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null},T===null?(w=T=F,x=y):T=T.next=F,Tt.lanes|=q,Os|=q;F=_.action,gr&&c(y,F),y=_.hasEagerState?_.eagerState:c(y,F)}else q={lane:F,revertLane:_.revertLane,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null},T===null?(w=T=q,x=y):T=T.next=q,Tt.lanes|=F,Os|=F;_=_.next}while(_!==null&&_!==l);if(T===null?x=y:T.next=w,!Dn(y,s.memoizedState)&&(He=!0,Q&&(c=Jr,c!==null)))throw c;s.memoizedState=y,s.baseState=x,s.baseQueue=T,h.lastRenderedState=y}return g===null&&(h.lanes=0),[s.memoizedState,h.dispatch]}function Hf(s){var l=we(),c=l.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=s;var h=c.dispatch,g=c.pending,y=l.memoizedState;if(g!==null){c.pending=null;var x=g=g.next;do y=s(y,x.action),x=x.next;while(x!==g);Dn(y,l.memoizedState)||(He=!0),l.memoizedState=y,l.baseQueue===null&&(l.baseState=y),c.lastRenderedState=y}return[y,h]}function N0(s,l,c){var h=Tt,g=we(),y=Vt;if(y){if(c===void 0)throw Error(n(407));c=c()}else c=l();var x=!Dn((Wt||g).memoizedState,c);x&&(g.memoizedState=c,He=!0),g=g.queue;var w=z0.bind(null,h,g,s);if(vo(2048,8,w,[s]),g.getSnapshot!==l||x||Se!==null&&Se.memoizedState.tag&1){if(h.flags|=2048,il(9,fc(),L0.bind(null,h,g,c,l),null),ie===null)throw Error(n(349));y||(ws&124)!==0||B0(h,l,c)}return c}function B0(s,l,c){s.flags|=16384,s={getSnapshot:l,value:c},l=Tt.updateQueue,l===null?(l=Bf(),Tt.updateQueue=l,l.stores=[s]):(c=l.stores,c===null?l.stores=[s]:c.push(s))}function L0(s,l,c,h){l.value=c,l.getSnapshot=h,H0(l)&&j0(s)}function z0(s,l,c){return c(function(){H0(l)&&j0(s)})}function H0(s){var l=s.getSnapshot;s=s.value;try{var c=l();return!Dn(s,c)}catch{return!0}}function j0(s){var l=Kr(s,2);l!==null&&Ln(l,s,2)}function jf(s){var l=gn();if(typeof s=="function"){var c=s;if(s=c(),gr){Ne(!0);try{c()}finally{Ne(!1)}}}return l.memoizedState=l.baseState=s,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:s},l}function _0(s,l,c,h){return s.baseState=c,zf(s,Wt,typeof h=="function"?h:$i)}function cC(s,l,c,h,g){if(gc(s))throw Error(n(485));if(s=l.action,s!==null){var y={payload:g,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){y.listeners.push(x)}};L.T!==null?c(!0):y.isTransition=!1,h(y),c=l.pending,c===null?(y.next=l.pending=y,U0(l,y)):(y.next=c.next,l.pending=c.next=y)}}function U0(s,l){var c=l.action,h=l.payload,g=s.state;if(l.isTransition){var y=L.T,x={};L.T=x;try{var w=c(g,h),T=L.S;T!==null&&T(x,w),q0(s,l,w)}catch(_){_f(s,l,_)}finally{L.T=y}}else try{y=c(g,h),q0(s,l,y)}catch(_){_f(s,l,_)}}function q0(s,l,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(h){V0(s,l,h)},function(h){return _f(s,l,h)}):V0(s,l,c)}function V0(s,l,c){l.status="fulfilled",l.value=c,P0(l),s.state=c,l=s.pending,l!==null&&(c=l.next,c===l?s.pending=null:(c=c.next,l.next=c,U0(s,c)))}function _f(s,l,c){var h=s.pending;if(s.pending=null,h!==null){h=h.next;do l.status="rejected",l.reason=c,P0(l),l=l.next;while(l!==h)}s.action=null}function P0(s){s=s.listeners;for(var l=0;l<s.length;l++)(0,s[l])()}function Y0(s,l){return l}function G0(s,l){if(Vt){var c=ie.formState;if(c!==null){t:{var h=Tt;if(Vt){if(de){e:{for(var g=de,y=wi;g.nodeType!==8;){if(!y){g=null;break e}if(g=di(g.nextSibling),g===null){g=null;break e}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){de=di(g.nextSibling),h=g.data==="F!";break t}}ur(h)}h=!1}h&&(l=c[0])}}return c=gn(),c.memoizedState=c.baseState=l,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Y0,lastRenderedState:l},c.queue=h,c=cy.bind(null,Tt,h),h.dispatch=c,h=jf(!1),y=Yf.bind(null,Tt,!1,h.queue),h=gn(),g={state:l,dispatch:null,action:s,pending:null},h.queue=g,c=cC.bind(null,Tt,g,y,c),g.dispatch=c,h.memoizedState=s,[l,c,!1]}function I0(s){var l=we();return X0(l,Wt,s)}function X0(s,l,c){if(l=zf(s,l,Y0)[0],s=hc($i)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var h=bo(l)}catch(x){throw x===ho?rc:x}else h=l;l=we();var g=l.queue,y=g.dispatch;return c!==l.memoizedState&&(Tt.flags|=2048,il(9,fc(),uC.bind(null,g,c),null)),[h,y,s]}function uC(s,l){s.action=l}function Q0(s){var l=we(),c=Wt;if(c!==null)return X0(l,c,s);we(),l=l.memoizedState,c=we();var h=c.queue.dispatch;return c.memoizedState=s,[l,h,!1]}function il(s,l,c,h){return s={tag:s,create:c,deps:h,inst:l,next:null},l=Tt.updateQueue,l===null&&(l=Bf(),Tt.updateQueue=l),c=l.lastEffect,c===null?l.lastEffect=s.next=s:(h=c.next,c.next=s,s.next=h,l.lastEffect=s),s}function fc(){return{destroy:void 0,resource:void 0}}function K0(){return we().memoizedState}function dc(s,l,c,h){var g=gn();h=h===void 0?null:h,Tt.flags|=s,g.memoizedState=il(1|l,fc(),c,h)}function vo(s,l,c,h){var g=we();h=h===void 0?null:h;var y=g.memoizedState.inst;Wt!==null&&h!==null&&Df(h,Wt.memoizedState.deps)?g.memoizedState=il(l,y,c,h):(Tt.flags|=s,g.memoizedState=il(1|l,y,c,h))}function W0(s,l){dc(8390656,8,s,l)}function F0(s,l){vo(2048,8,s,l)}function Z0(s,l){return vo(4,2,s,l)}function $0(s,l){return vo(4,4,s,l)}function J0(s,l){if(typeof l=="function"){s=s();var c=l(s);return function(){typeof c=="function"?c():l(null)}}if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function ty(s,l,c){c=c!=null?c.concat([s]):null,vo(4,4,J0.bind(null,l,s),c)}function Uf(){}function ey(s,l){var c=we();l=l===void 0?null:l;var h=c.memoizedState;return l!==null&&Df(l,h[1])?h[0]:(c.memoizedState=[s,l],s)}function ny(s,l){var c=we();l=l===void 0?null:l;var h=c.memoizedState;if(l!==null&&Df(l,h[1]))return h[0];if(h=s(),gr){Ne(!0);try{s()}finally{Ne(!1)}}return c.memoizedState=[h,l],h}function qf(s,l,c){return c===void 0||(ws&1073741824)!==0?s.memoizedState=l:(s.memoizedState=c,s=rb(),Tt.lanes|=s,Os|=s,c)}function iy(s,l,c,h){return Dn(c,l)?c:tl.current!==null?(s=qf(s,c,h),Dn(s,l)||(He=!0),s):(ws&42)===0?(He=!0,s.memoizedState=c):(s=rb(),Tt.lanes|=s,Os|=s,l)}function sy(s,l,c,h,g){var y=X.p;X.p=y!==0&&8>y?y:8;var x=L.T,w={};L.T=w,Yf(s,!1,l,c);try{var T=g(),_=L.S;if(_!==null&&_(w,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var Q=lC(T,h);xo(s,l,Q,Bn(s))}else xo(s,l,h,Bn(s))}catch(F){xo(s,l,{then:function(){},status:"rejected",reason:F},Bn())}finally{X.p=y,L.T=x}}function hC(){}function Vf(s,l,c,h){if(s.tag!==5)throw Error(n(476));var g=ry(s).queue;sy(s,g,l,st,c===null?hC:function(){return ly(s),c(h)})}function ry(s){var l=s.memoizedState;if(l!==null)return l;l={memoizedState:st,baseState:st,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:st},next:null};var c={};return l.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:c},next:null},s.memoizedState=l,s=s.alternate,s!==null&&(s.memoizedState=l),l}function ly(s){var l=ry(s).next.queue;xo(s,l,{},Bn())}function Pf(){return Je(_o)}function oy(){return we().memoizedState}function ay(){return we().memoizedState}function fC(s){for(var l=s.return;l!==null;){switch(l.tag){case 24:case 3:var c=Bn();s=xs(c);var h=Ss(l,s,c);h!==null&&(Ln(h,l,c),go(h,l,c)),l={cache:bf()},s.payload=l;return}l=l.return}}function dC(s,l,c){var h=Bn();c={lane:h,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},gc(s)?uy(l,c):(c=af(s,l,c,h),c!==null&&(Ln(c,s,h),hy(c,l,h)))}function cy(s,l,c){var h=Bn();xo(s,l,c,h)}function xo(s,l,c,h){var g={lane:h,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(gc(s))uy(l,g);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=l.lastRenderedReducer,y!==null))try{var x=l.lastRenderedState,w=y(x,c);if(g.hasEagerState=!0,g.eagerState=w,Dn(w,x))return Za(s,l,g,0),ie===null&&Fa(),!1}catch{}finally{}if(c=af(s,l,g,h),c!==null)return Ln(c,s,h),hy(c,l,h),!0}return!1}function Yf(s,l,c,h){if(h={lane:2,revertLane:Sd(),action:h,hasEagerState:!1,eagerState:null,next:null},gc(s)){if(l)throw Error(n(479))}else l=af(s,c,h,2),l!==null&&Ln(l,s,2)}function gc(s){var l=s.alternate;return s===Tt||l!==null&&l===Tt}function uy(s,l){el=ac=!0;var c=s.pending;c===null?l.next=l:(l.next=c.next,c.next=l),s.pending=l}function hy(s,l,c){if((c&4194048)!==0){var h=l.lanes;h&=s.pendingLanes,c|=h,l.lanes=c,Yt(s,c)}}var mc={readContext:Je,use:uc,useCallback:pe,useContext:pe,useEffect:pe,useImperativeHandle:pe,useLayoutEffect:pe,useInsertionEffect:pe,useMemo:pe,useReducer:pe,useRef:pe,useState:pe,useDebugValue:pe,useDeferredValue:pe,useTransition:pe,useSyncExternalStore:pe,useId:pe,useHostTransitionStatus:pe,useFormState:pe,useActionState:pe,useOptimistic:pe,useMemoCache:pe,useCacheRefresh:pe},fy={readContext:Je,use:uc,useCallback:function(s,l){return gn().memoizedState=[s,l===void 0?null:l],s},useContext:Je,useEffect:W0,useImperativeHandle:function(s,l,c){c=c!=null?c.concat([s]):null,dc(4194308,4,J0.bind(null,l,s),c)},useLayoutEffect:function(s,l){return dc(4194308,4,s,l)},useInsertionEffect:function(s,l){dc(4,2,s,l)},useMemo:function(s,l){var c=gn();l=l===void 0?null:l;var h=s();if(gr){Ne(!0);try{s()}finally{Ne(!1)}}return c.memoizedState=[h,l],h},useReducer:function(s,l,c){var h=gn();if(c!==void 0){var g=c(l);if(gr){Ne(!0);try{c(l)}finally{Ne(!1)}}}else g=l;return h.memoizedState=h.baseState=g,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:g},h.queue=s,s=s.dispatch=dC.bind(null,Tt,s),[h.memoizedState,s]},useRef:function(s){var l=gn();return s={current:s},l.memoizedState=s},useState:function(s){s=jf(s);var l=s.queue,c=cy.bind(null,Tt,l);return l.dispatch=c,[s.memoizedState,c]},useDebugValue:Uf,useDeferredValue:function(s,l){var c=gn();return qf(c,s,l)},useTransition:function(){var s=jf(!1);return s=sy.bind(null,Tt,s.queue,!0,!1),gn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,l,c){var h=Tt,g=gn();if(Vt){if(c===void 0)throw Error(n(407));c=c()}else{if(c=l(),ie===null)throw Error(n(349));(zt&124)!==0||B0(h,l,c)}g.memoizedState=c;var y={value:c,getSnapshot:l};return g.queue=y,W0(z0.bind(null,h,y,s),[s]),h.flags|=2048,il(9,fc(),L0.bind(null,h,y,c,l),null),c},useId:function(){var s=gn(),l=ie.identifierPrefix;if(Vt){var c=Wi,h=Ki;c=(h&~(1<<32-ue(h)-1)).toString(32)+c,l="«"+l+"R"+c,c=cc++,0<c&&(l+="H"+c.toString(32)),l+="»"}else c=oC++,l="«"+l+"r"+c.toString(32)+"»";return s.memoizedState=l},useHostTransitionStatus:Pf,useFormState:G0,useActionState:G0,useOptimistic:function(s){var l=gn();l.memoizedState=l.baseState=s;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=c,l=Yf.bind(null,Tt,!0,c),c.dispatch=l,[s,l]},useMemoCache:Lf,useCacheRefresh:function(){return gn().memoizedState=fC.bind(null,Tt)}},dy={readContext:Je,use:uc,useCallback:ey,useContext:Je,useEffect:F0,useImperativeHandle:ty,useInsertionEffect:Z0,useLayoutEffect:$0,useMemo:ny,useReducer:hc,useRef:K0,useState:function(){return hc($i)},useDebugValue:Uf,useDeferredValue:function(s,l){var c=we();return iy(c,Wt.memoizedState,s,l)},useTransition:function(){var s=hc($i)[0],l=we().memoizedState;return[typeof s=="boolean"?s:bo(s),l]},useSyncExternalStore:N0,useId:oy,useHostTransitionStatus:Pf,useFormState:I0,useActionState:I0,useOptimistic:function(s,l){var c=we();return _0(c,Wt,s,l)},useMemoCache:Lf,useCacheRefresh:ay},gC={readContext:Je,use:uc,useCallback:ey,useContext:Je,useEffect:F0,useImperativeHandle:ty,useInsertionEffect:Z0,useLayoutEffect:$0,useMemo:ny,useReducer:Hf,useRef:K0,useState:function(){return Hf($i)},useDebugValue:Uf,useDeferredValue:function(s,l){var c=we();return Wt===null?qf(c,s,l):iy(c,Wt.memoizedState,s,l)},useTransition:function(){var s=Hf($i)[0],l=we().memoizedState;return[typeof s=="boolean"?s:bo(s),l]},useSyncExternalStore:N0,useId:oy,useHostTransitionStatus:Pf,useFormState:Q0,useActionState:Q0,useOptimistic:function(s,l){var c=we();return Wt!==null?_0(c,Wt,s,l):(c.baseState=s,[s,c.queue.dispatch])},useMemoCache:Lf,useCacheRefresh:ay},sl=null,So=0;function pc(s){var l=So;return So+=1,sl===null&&(sl=[]),C0(sl,s,l)}function wo(s,l){l=l.props.ref,s.ref=l!==void 0?l:null}function yc(s,l){throw l.$$typeof===p?Error(n(525)):(s=Object.prototype.toString.call(l),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s)))}function gy(s){var l=s._init;return l(s._payload)}function my(s){function l(N,E){if(s){var H=N.deletions;H===null?(N.deletions=[E],N.flags|=16):H.push(E)}}function c(N,E){if(!s)return null;for(;E!==null;)l(N,E),E=E.sibling;return null}function h(N){for(var E=new Map;N!==null;)N.key!==null?E.set(N.key,N):E.set(N.index,N),N=N.sibling;return E}function g(N,E){return N=Qi(N,E),N.index=0,N.sibling=null,N}function y(N,E,H){return N.index=H,s?(H=N.alternate,H!==null?(H=H.index,H<E?(N.flags|=67108866,E):H):(N.flags|=67108866,E)):(N.flags|=1048576,E)}function x(N){return s&&N.alternate===null&&(N.flags|=67108866),N}function w(N,E,H,W){return E===null||E.tag!==6?(E=uf(H,N.mode,W),E.return=N,E):(E=g(E,H),E.return=N,E)}function T(N,E,H,W){var gt=H.type;return gt===S?Q(N,E,H.props.children,W,H.key):E!==null&&(E.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===K&&gy(gt)===E.type)?(E=g(E,H.props),wo(E,H),E.return=N,E):(E=Ja(H.type,H.key,H.props,null,N.mode,W),wo(E,H),E.return=N,E)}function _(N,E,H,W){return E===null||E.tag!==4||E.stateNode.containerInfo!==H.containerInfo||E.stateNode.implementation!==H.implementation?(E=hf(H,N.mode,W),E.return=N,E):(E=g(E,H.children||[]),E.return=N,E)}function Q(N,E,H,W,gt){return E===null||E.tag!==7?(E=lr(H,N.mode,W,gt),E.return=N,E):(E=g(E,H),E.return=N,E)}function F(N,E,H){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=uf(""+E,N.mode,H),E.return=N,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case b:return H=Ja(E.type,E.key,E.props,null,N.mode,H),wo(H,E),H.return=N,H;case v:return E=hf(E,N.mode,H),E.return=N,E;case K:var W=E._init;return E=W(E._payload),F(N,E,H)}if(pt(E)||et(E))return E=lr(E,N.mode,H,null),E.return=N,E;if(typeof E.then=="function")return F(N,pc(E),H);if(E.$$typeof===j)return F(N,ic(N,E),H);yc(N,E)}return null}function q(N,E,H,W){var gt=E!==null?E.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return gt!==null?null:w(N,E,""+H,W);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case b:return H.key===gt?T(N,E,H,W):null;case v:return H.key===gt?_(N,E,H,W):null;case K:return gt=H._init,H=gt(H._payload),q(N,E,H,W)}if(pt(H)||et(H))return gt!==null?null:Q(N,E,H,W,null);if(typeof H.then=="function")return q(N,E,pc(H),W);if(H.$$typeof===j)return q(N,E,ic(N,H),W);yc(N,H)}return null}function V(N,E,H,W,gt){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return N=N.get(H)||null,w(E,N,""+W,gt);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case b:return N=N.get(W.key===null?H:W.key)||null,T(E,N,W,gt);case v:return N=N.get(W.key===null?H:W.key)||null,_(E,N,W,gt);case K:var Dt=W._init;return W=Dt(W._payload),V(N,E,H,W,gt)}if(pt(W)||et(W))return N=N.get(H)||null,Q(E,N,W,gt,null);if(typeof W.then=="function")return V(N,E,H,pc(W),gt);if(W.$$typeof===j)return V(N,E,H,ic(E,W),gt);yc(E,W)}return null}function kt(N,E,H,W){for(var gt=null,Dt=null,vt=E,wt=E=0,_e=null;vt!==null&&wt<H.length;wt++){vt.index>wt?(_e=vt,vt=null):_e=vt.sibling;var Ut=q(N,vt,H[wt],W);if(Ut===null){vt===null&&(vt=_e);break}s&&vt&&Ut.alternate===null&&l(N,vt),E=y(Ut,E,wt),Dt===null?gt=Ut:Dt.sibling=Ut,Dt=Ut,vt=_e}if(wt===H.length)return c(N,vt),Vt&&ar(N,wt),gt;if(vt===null){for(;wt<H.length;wt++)vt=F(N,H[wt],W),vt!==null&&(E=y(vt,E,wt),Dt===null?gt=vt:Dt.sibling=vt,Dt=vt);return Vt&&ar(N,wt),gt}for(vt=h(vt);wt<H.length;wt++)_e=V(vt,N,wt,H[wt],W),_e!==null&&(s&&_e.alternate!==null&&vt.delete(_e.key===null?wt:_e.key),E=y(_e,E,wt),Dt===null?gt=_e:Dt.sibling=_e,Dt=_e);return s&&vt.forEach(function(_s){return l(N,_s)}),Vt&&ar(N,wt),gt}function St(N,E,H,W){if(H==null)throw Error(n(151));for(var gt=null,Dt=null,vt=E,wt=E=0,_e=null,Ut=H.next();vt!==null&&!Ut.done;wt++,Ut=H.next()){vt.index>wt?(_e=vt,vt=null):_e=vt.sibling;var _s=q(N,vt,Ut.value,W);if(_s===null){vt===null&&(vt=_e);break}s&&vt&&_s.alternate===null&&l(N,vt),E=y(_s,E,wt),Dt===null?gt=_s:Dt.sibling=_s,Dt=_s,vt=_e}if(Ut.done)return c(N,vt),Vt&&ar(N,wt),gt;if(vt===null){for(;!Ut.done;wt++,Ut=H.next())Ut=F(N,Ut.value,W),Ut!==null&&(E=y(Ut,E,wt),Dt===null?gt=Ut:Dt.sibling=Ut,Dt=Ut);return Vt&&ar(N,wt),gt}for(vt=h(vt);!Ut.done;wt++,Ut=H.next())Ut=V(vt,N,wt,Ut.value,W),Ut!==null&&(s&&Ut.alternate!==null&&vt.delete(Ut.key===null?wt:Ut.key),E=y(Ut,E,wt),Dt===null?gt=Ut:Dt.sibling=Ut,Dt=Ut);return s&&vt.forEach(function(mA){return l(N,mA)}),Vt&&ar(N,wt),gt}function Zt(N,E,H,W){if(typeof H=="object"&&H!==null&&H.type===S&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case b:t:{for(var gt=H.key;E!==null;){if(E.key===gt){if(gt=H.type,gt===S){if(E.tag===7){c(N,E.sibling),W=g(E,H.props.children),W.return=N,N=W;break t}}else if(E.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===K&&gy(gt)===E.type){c(N,E.sibling),W=g(E,H.props),wo(W,H),W.return=N,N=W;break t}c(N,E);break}else l(N,E);E=E.sibling}H.type===S?(W=lr(H.props.children,N.mode,W,H.key),W.return=N,N=W):(W=Ja(H.type,H.key,H.props,null,N.mode,W),wo(W,H),W.return=N,N=W)}return x(N);case v:t:{for(gt=H.key;E!==null;){if(E.key===gt)if(E.tag===4&&E.stateNode.containerInfo===H.containerInfo&&E.stateNode.implementation===H.implementation){c(N,E.sibling),W=g(E,H.children||[]),W.return=N,N=W;break t}else{c(N,E);break}else l(N,E);E=E.sibling}W=hf(H,N.mode,W),W.return=N,N=W}return x(N);case K:return gt=H._init,H=gt(H._payload),Zt(N,E,H,W)}if(pt(H))return kt(N,E,H,W);if(et(H)){if(gt=et(H),typeof gt!="function")throw Error(n(150));return H=gt.call(H),St(N,E,H,W)}if(typeof H.then=="function")return Zt(N,E,pc(H),W);if(H.$$typeof===j)return Zt(N,E,ic(N,H),W);yc(N,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,E!==null&&E.tag===6?(c(N,E.sibling),W=g(E,H),W.return=N,N=W):(c(N,E),W=uf(H,N.mode,W),W.return=N,N=W),x(N)):c(N,E)}return function(N,E,H,W){try{So=0;var gt=Zt(N,E,H,W);return sl=null,gt}catch(vt){if(vt===ho||vt===rc)throw vt;var Dt=On(29,vt,null,N.mode);return Dt.lanes=W,Dt.return=N,Dt}finally{}}}var rl=my(!0),py=my(!1),Wn=Y(null),ki=null;function ks(s){var l=s.alternate;I(De,De.current&1),I(Wn,s),ki===null&&(l===null||tl.current!==null||l.memoizedState!==null)&&(ki=s)}function yy(s){if(s.tag===22){if(I(De,De.current),I(Wn,s),ki===null){var l=s.alternate;l!==null&&l.memoizedState!==null&&(ki=s)}}else Cs()}function Cs(){I(De,De.current),I(Wn,Wn.current)}function Ji(s){$(Wn),ki===s&&(ki=null),$(De)}var De=Y(0);function bc(s){for(var l=s;l!==null;){if(l.tag===13){var c=l.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||Bd(c)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function Gf(s,l,c,h){l=s.memoizedState,c=c(h,l),c=c==null?l:m({},l,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var If={enqueueSetState:function(s,l,c){s=s._reactInternals;var h=Bn(),g=xs(h);g.payload=l,c!=null&&(g.callback=c),l=Ss(s,g,h),l!==null&&(Ln(l,s,h),go(l,s,h))},enqueueReplaceState:function(s,l,c){s=s._reactInternals;var h=Bn(),g=xs(h);g.tag=1,g.payload=l,c!=null&&(g.callback=c),l=Ss(s,g,h),l!==null&&(Ln(l,s,h),go(l,s,h))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var c=Bn(),h=xs(c);h.tag=2,l!=null&&(h.callback=l),l=Ss(s,h,c),l!==null&&(Ln(l,s,c),go(l,s,c))}};function by(s,l,c,h,g,y,x){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,y,x):l.prototype&&l.prototype.isPureReactComponent?!io(c,h)||!io(g,y):!0}function vy(s,l,c,h){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(c,h),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(c,h),l.state!==s&&If.enqueueReplaceState(l,l.state,null)}function mr(s,l){var c=l;if("ref"in l){c={};for(var h in l)h!=="ref"&&(c[h]=l[h])}if(s=s.defaultProps){c===l&&(c=m({},c));for(var g in s)c[g]===void 0&&(c[g]=s[g])}return c}var vc=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function xy(s){vc(s)}function Sy(s){console.error(s)}function wy(s){vc(s)}function xc(s,l){try{var c=s.onUncaughtError;c(l.value,{componentStack:l.stack})}catch(h){setTimeout(function(){throw h})}}function ky(s,l,c){try{var h=s.onCaughtError;h(c.value,{componentStack:c.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Xf(s,l,c){return c=xs(c),c.tag=3,c.payload={element:null},c.callback=function(){xc(s,l)},c}function Cy(s){return s=xs(s),s.tag=3,s}function Ay(s,l,c,h){var g=c.type.getDerivedStateFromError;if(typeof g=="function"){var y=h.value;s.payload=function(){return g(y)},s.callback=function(){ky(l,c,h)}}var x=c.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(s.callback=function(){ky(l,c,h),typeof g!="function"&&(Es===null?Es=new Set([this]):Es.add(this));var w=h.stack;this.componentDidCatch(h.value,{componentStack:w!==null?w:""})})}function mC(s,l,c,h,g){if(c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(l=c.alternate,l!==null&&ao(l,c,g,!0),c=Wn.current,c!==null){switch(c.tag){case 13:return ki===null?pd():c.alternate===null&&ge===0&&(ge=3),c.flags&=-257,c.flags|=65536,c.lanes=g,h===Sf?c.flags|=16384:(l=c.updateQueue,l===null?c.updateQueue=new Set([h]):l.add(h),bd(s,h,g)),!1;case 22:return c.flags|=65536,h===Sf?c.flags|=16384:(l=c.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([h])},c.updateQueue=l):(c=l.retryQueue,c===null?l.retryQueue=new Set([h]):c.add(h)),bd(s,h,g)),!1}throw Error(n(435,c.tag))}return bd(s,h,g),pd(),!1}if(Vt)return l=Wn.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=g,h!==gf&&(s=Error(n(422),{cause:h}),oo(In(s,c)))):(h!==gf&&(l=Error(n(423),{cause:h}),oo(In(l,c))),s=s.current.alternate,s.flags|=65536,g&=-g,s.lanes|=g,h=In(h,c),g=Xf(s.stateNode,h,g),Cf(s,g),ge!==4&&(ge=2)),!1;var y=Error(n(520),{cause:h});if(y=In(y,c),Oo===null?Oo=[y]:Oo.push(y),ge!==4&&(ge=2),l===null)return!0;h=In(h,c),c=l;do{switch(c.tag){case 3:return c.flags|=65536,s=g&-g,c.lanes|=s,s=Xf(c.stateNode,h,s),Cf(c,s),!1;case 1:if(l=c.type,y=c.stateNode,(c.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Es===null||!Es.has(y))))return c.flags|=65536,g&=-g,c.lanes|=g,g=Cy(g),Ay(g,s,c,h),Cf(c,g),!1}c=c.return}while(c!==null);return!1}var My=Error(n(461)),He=!1;function Ye(s,l,c,h){l.child=s===null?py(l,null,c,h):rl(l,s.child,c,h)}function Ty(s,l,c,h,g){c=c.render;var y=l.ref;if("ref"in h){var x={};for(var w in h)w!=="ref"&&(x[w]=h[w])}else x=h;return fr(l),h=Of(s,l,c,x,y,g),w=Ef(),s!==null&&!He?(Rf(s,l,g),ts(s,l,g)):(Vt&&w&&ff(l),l.flags|=1,Ye(s,l,h,g),l.child)}function Dy(s,l,c,h,g){if(s===null){var y=c.type;return typeof y=="function"&&!cf(y)&&y.defaultProps===void 0&&c.compare===null?(l.tag=15,l.type=y,Oy(s,l,y,h,g)):(s=Ja(c.type,null,h,l,l.mode,g),s.ref=l.ref,s.return=l,l.child=s)}if(y=s.child,!td(s,g)){var x=y.memoizedProps;if(c=c.compare,c=c!==null?c:io,c(x,h)&&s.ref===l.ref)return ts(s,l,g)}return l.flags|=1,s=Qi(y,h),s.ref=l.ref,s.return=l,l.child=s}function Oy(s,l,c,h,g){if(s!==null){var y=s.memoizedProps;if(io(y,h)&&s.ref===l.ref)if(He=!1,l.pendingProps=h=y,td(s,g))(s.flags&131072)!==0&&(He=!0);else return l.lanes=s.lanes,ts(s,l,g)}return Qf(s,l,c,h,g)}function Ey(s,l,c){var h=l.pendingProps,g=h.children,y=s!==null?s.memoizedState:null;if(h.mode==="hidden"){if((l.flags&128)!==0){if(h=y!==null?y.baseLanes|c:c,s!==null){for(g=l.child=s.child,y=0;g!==null;)y=y|g.lanes|g.childLanes,g=g.sibling;l.childLanes=y&~h}else l.childLanes=0,l.child=null;return Ry(s,l,h,c)}if((c&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},s!==null&&sc(l,y!==null?y.cachePool:null),y!==null?O0(l,y):Mf(),yy(l);else return l.lanes=l.childLanes=536870912,Ry(s,l,y!==null?y.baseLanes|c:c,c)}else y!==null?(sc(l,y.cachePool),O0(l,y),Cs(),l.memoizedState=null):(s!==null&&sc(l,null),Mf(),Cs());return Ye(s,l,g,c),l.child}function Ry(s,l,c,h){var g=xf();return g=g===null?null:{parent:Te._currentValue,pool:g},l.memoizedState={baseLanes:c,cachePool:g},s!==null&&sc(l,null),Mf(),yy(l),s!==null&&ao(s,l,h,!0),null}function Sc(s,l){var c=l.ref;if(c===null)s!==null&&s.ref!==null&&(l.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(n(284));(s===null||s.ref!==c)&&(l.flags|=4194816)}}function Qf(s,l,c,h,g){return fr(l),c=Of(s,l,c,h,void 0,g),h=Ef(),s!==null&&!He?(Rf(s,l,g),ts(s,l,g)):(Vt&&h&&ff(l),l.flags|=1,Ye(s,l,c,g),l.child)}function Ny(s,l,c,h,g,y){return fr(l),l.updateQueue=null,c=R0(l,h,c,g),E0(s),h=Ef(),s!==null&&!He?(Rf(s,l,y),ts(s,l,y)):(Vt&&h&&ff(l),l.flags|=1,Ye(s,l,c,y),l.child)}function By(s,l,c,h,g){if(fr(l),l.stateNode===null){var y=Wr,x=c.contextType;typeof x=="object"&&x!==null&&(y=Je(x)),y=new c(h,y),l.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=If,l.stateNode=y,y._reactInternals=l,y=l.stateNode,y.props=h,y.state=l.memoizedState,y.refs={},wf(l),x=c.contextType,y.context=typeof x=="object"&&x!==null?Je(x):Wr,y.state=l.memoizedState,x=c.getDerivedStateFromProps,typeof x=="function"&&(Gf(l,c,x,h),y.state=l.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(x=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),x!==y.state&&If.enqueueReplaceState(y,y.state,null),po(l,h,y,g),mo(),y.state=l.memoizedState),typeof y.componentDidMount=="function"&&(l.flags|=4194308),h=!0}else if(s===null){y=l.stateNode;var w=l.memoizedProps,T=mr(c,w);y.props=T;var _=y.context,Q=c.contextType;x=Wr,typeof Q=="object"&&Q!==null&&(x=Je(Q));var F=c.getDerivedStateFromProps;Q=typeof F=="function"||typeof y.getSnapshotBeforeUpdate=="function",w=l.pendingProps!==w,Q||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w||_!==x)&&vy(l,y,h,x),vs=!1;var q=l.memoizedState;y.state=q,po(l,h,y,g),mo(),_=l.memoizedState,w||q!==_||vs?(typeof F=="function"&&(Gf(l,c,F,h),_=l.memoizedState),(T=vs||by(l,c,T,h,q,_,x))?(Q||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(l.flags|=4194308)):(typeof y.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=h,l.memoizedState=_),y.props=h,y.state=_,y.context=x,h=T):(typeof y.componentDidMount=="function"&&(l.flags|=4194308),h=!1)}else{y=l.stateNode,kf(s,l),x=l.memoizedProps,Q=mr(c,x),y.props=Q,F=l.pendingProps,q=y.context,_=c.contextType,T=Wr,typeof _=="object"&&_!==null&&(T=Je(_)),w=c.getDerivedStateFromProps,(_=typeof w=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(x!==F||q!==T)&&vy(l,y,h,T),vs=!1,q=l.memoizedState,y.state=q,po(l,h,y,g),mo();var V=l.memoizedState;x!==F||q!==V||vs||s!==null&&s.dependencies!==null&&nc(s.dependencies)?(typeof w=="function"&&(Gf(l,c,w,h),V=l.memoizedState),(Q=vs||by(l,c,Q,h,q,V,T)||s!==null&&s.dependencies!==null&&nc(s.dependencies))?(_||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(h,V,T),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(h,V,T)),typeof y.componentDidUpdate=="function"&&(l.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof y.componentDidUpdate!="function"||x===s.memoizedProps&&q===s.memoizedState||(l.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||x===s.memoizedProps&&q===s.memoizedState||(l.flags|=1024),l.memoizedProps=h,l.memoizedState=V),y.props=h,y.state=V,y.context=T,h=Q):(typeof y.componentDidUpdate!="function"||x===s.memoizedProps&&q===s.memoizedState||(l.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||x===s.memoizedProps&&q===s.memoizedState||(l.flags|=1024),h=!1)}return y=h,Sc(s,l),h=(l.flags&128)!==0,y||h?(y=l.stateNode,c=h&&typeof c.getDerivedStateFromError!="function"?null:y.render(),l.flags|=1,s!==null&&h?(l.child=rl(l,s.child,null,g),l.child=rl(l,null,c,g)):Ye(s,l,c,g),l.memoizedState=y.state,s=l.child):s=ts(s,l,g),s}function Ly(s,l,c,h){return lo(),l.flags|=256,Ye(s,l,c,h),l.child}var Kf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wf(s){return{baseLanes:s,cachePool:S0()}}function Ff(s,l,c){return s=s!==null?s.childLanes&~c:0,l&&(s|=Fn),s}function zy(s,l,c){var h=l.pendingProps,g=!1,y=(l.flags&128)!==0,x;if((x=y)||(x=s!==null&&s.memoizedState===null?!1:(De.current&2)!==0),x&&(g=!0,l.flags&=-129),x=(l.flags&32)!==0,l.flags&=-33,s===null){if(Vt){if(g?ks(l):Cs(),Vt){var w=de,T;if(T=w){t:{for(T=w,w=wi;T.nodeType!==8;){if(!w){w=null;break t}if(T=di(T.nextSibling),T===null){w=null;break t}}w=T}w!==null?(l.memoizedState={dehydrated:w,treeContext:or!==null?{id:Ki,overflow:Wi}:null,retryLane:536870912,hydrationErrors:null},T=On(18,null,null,0),T.stateNode=w,T.return=l,l.child=T,an=l,de=null,T=!0):T=!1}T||ur(l)}if(w=l.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return Bd(w)?l.lanes=32:l.lanes=536870912,null;Ji(l)}return w=h.children,h=h.fallback,g?(Cs(),g=l.mode,w=wc({mode:"hidden",children:w},g),h=lr(h,g,c,null),w.return=l,h.return=l,w.sibling=h,l.child=w,g=l.child,g.memoizedState=Wf(c),g.childLanes=Ff(s,x,c),l.memoizedState=Kf,h):(ks(l),Zf(l,w))}if(T=s.memoizedState,T!==null&&(w=T.dehydrated,w!==null)){if(y)l.flags&256?(ks(l),l.flags&=-257,l=$f(s,l,c)):l.memoizedState!==null?(Cs(),l.child=s.child,l.flags|=128,l=null):(Cs(),g=h.fallback,w=l.mode,h=wc({mode:"visible",children:h.children},w),g=lr(g,w,c,null),g.flags|=2,h.return=l,g.return=l,h.sibling=g,l.child=h,rl(l,s.child,null,c),h=l.child,h.memoizedState=Wf(c),h.childLanes=Ff(s,x,c),l.memoizedState=Kf,l=g);else if(ks(l),Bd(w)){if(x=w.nextSibling&&w.nextSibling.dataset,x)var _=x.dgst;x=_,h=Error(n(419)),h.stack="",h.digest=x,oo({value:h,source:null,stack:null}),l=$f(s,l,c)}else if(He||ao(s,l,c,!1),x=(c&s.childLanes)!==0,He||x){if(x=ie,x!==null&&(h=c&-c,h=(h&42)!==0?1:Ht(h),h=(h&(x.suspendedLanes|c))!==0?0:h,h!==0&&h!==T.retryLane))throw T.retryLane=h,Kr(s,h),Ln(x,s,h),My;w.data==="$?"||pd(),l=$f(s,l,c)}else w.data==="$?"?(l.flags|=192,l.child=s.child,l=null):(s=T.treeContext,de=di(w.nextSibling),an=l,Vt=!0,cr=null,wi=!1,s!==null&&(Qn[Kn++]=Ki,Qn[Kn++]=Wi,Qn[Kn++]=or,Ki=s.id,Wi=s.overflow,or=l),l=Zf(l,h.children),l.flags|=4096);return l}return g?(Cs(),g=h.fallback,w=l.mode,T=s.child,_=T.sibling,h=Qi(T,{mode:"hidden",children:h.children}),h.subtreeFlags=T.subtreeFlags&65011712,_!==null?g=Qi(_,g):(g=lr(g,w,c,null),g.flags|=2),g.return=l,h.return=l,h.sibling=g,l.child=h,h=g,g=l.child,w=s.child.memoizedState,w===null?w=Wf(c):(T=w.cachePool,T!==null?(_=Te._currentValue,T=T.parent!==_?{parent:_,pool:_}:T):T=S0(),w={baseLanes:w.baseLanes|c,cachePool:T}),g.memoizedState=w,g.childLanes=Ff(s,x,c),l.memoizedState=Kf,h):(ks(l),c=s.child,s=c.sibling,c=Qi(c,{mode:"visible",children:h.children}),c.return=l,c.sibling=null,s!==null&&(x=l.deletions,x===null?(l.deletions=[s],l.flags|=16):x.push(s)),l.child=c,l.memoizedState=null,c)}function Zf(s,l){return l=wc({mode:"visible",children:l},s.mode),l.return=s,s.child=l}function wc(s,l){return s=On(22,s,null,l),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function $f(s,l,c){return rl(l,s.child,null,c),s=Zf(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function Hy(s,l,c){s.lanes|=l;var h=s.alternate;h!==null&&(h.lanes|=l),pf(s.return,l,c)}function Jf(s,l,c,h,g){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:g}:(y.isBackwards=l,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=c,y.tailMode=g)}function jy(s,l,c){var h=l.pendingProps,g=h.revealOrder,y=h.tail;if(Ye(s,l,h.children,c),h=De.current,(h&2)!==0)h=h&1|2,l.flags|=128;else{if(s!==null&&(s.flags&128)!==0)t:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Hy(s,c,l);else if(s.tag===19)Hy(s,c,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break t;for(;s.sibling===null;){if(s.return===null||s.return===l)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}switch(I(De,h),g){case"forwards":for(c=l.child,g=null;c!==null;)s=c.alternate,s!==null&&bc(s)===null&&(g=c),c=c.sibling;c=g,c===null?(g=l.child,l.child=null):(g=c.sibling,c.sibling=null),Jf(l,!1,g,c,y);break;case"backwards":for(c=null,g=l.child,l.child=null;g!==null;){if(s=g.alternate,s!==null&&bc(s)===null){l.child=g;break}s=g.sibling,g.sibling=c,c=g,g=s}Jf(l,!0,c,null,y);break;case"together":Jf(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function ts(s,l,c){if(s!==null&&(l.dependencies=s.dependencies),Os|=l.lanes,(c&l.childLanes)===0)if(s!==null){if(ao(s,l,c,!1),(c&l.childLanes)===0)return null}else return null;if(s!==null&&l.child!==s.child)throw Error(n(153));if(l.child!==null){for(s=l.child,c=Qi(s,s.pendingProps),l.child=c,c.return=l;s.sibling!==null;)s=s.sibling,c=c.sibling=Qi(s,s.pendingProps),c.return=l;c.sibling=null}return l.child}function td(s,l){return(s.lanes&l)!==0?!0:(s=s.dependencies,!!(s!==null&&nc(s)))}function pC(s,l,c){switch(l.tag){case 3:yt(l,l.stateNode.containerInfo),bs(l,Te,s.memoizedState.cache),lo();break;case 27:case 5:Et(l);break;case 4:yt(l,l.stateNode.containerInfo);break;case 10:bs(l,l.type,l.memoizedProps.value);break;case 13:var h=l.memoizedState;if(h!==null)return h.dehydrated!==null?(ks(l),l.flags|=128,null):(c&l.child.childLanes)!==0?zy(s,l,c):(ks(l),s=ts(s,l,c),s!==null?s.sibling:null);ks(l);break;case 19:var g=(s.flags&128)!==0;if(h=(c&l.childLanes)!==0,h||(ao(s,l,c,!1),h=(c&l.childLanes)!==0),g){if(h)return jy(s,l,c);l.flags|=128}if(g=l.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),I(De,De.current),h)break;return null;case 22:case 23:return l.lanes=0,Ey(s,l,c);case 24:bs(l,Te,s.memoizedState.cache)}return ts(s,l,c)}function _y(s,l,c){if(s!==null)if(s.memoizedProps!==l.pendingProps)He=!0;else{if(!td(s,c)&&(l.flags&128)===0)return He=!1,pC(s,l,c);He=(s.flags&131072)!==0}else He=!1,Vt&&(l.flags&1048576)!==0&&g0(l,ec,l.index);switch(l.lanes=0,l.tag){case 16:t:{s=l.pendingProps;var h=l.elementType,g=h._init;if(h=g(h._payload),l.type=h,typeof h=="function")cf(h)?(s=mr(h,s),l.tag=1,l=By(null,l,h,s,c)):(l.tag=0,l=Qf(null,l,h,s,c));else{if(h!=null){if(g=h.$$typeof,g===R){l.tag=11,l=Ty(null,l,h,s,c);break t}else if(g===U){l.tag=14,l=Dy(null,l,h,s,c);break t}}throw l=mt(h)||h,Error(n(306,l,""))}}return l;case 0:return Qf(s,l,l.type,l.pendingProps,c);case 1:return h=l.type,g=mr(h,l.pendingProps),By(s,l,h,g,c);case 3:t:{if(yt(l,l.stateNode.containerInfo),s===null)throw Error(n(387));h=l.pendingProps;var y=l.memoizedState;g=y.element,kf(s,l),po(l,h,null,c);var x=l.memoizedState;if(h=x.cache,bs(l,Te,h),h!==y.cache&&yf(l,[Te],c,!0),mo(),h=x.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:x.cache},l.updateQueue.baseState=y,l.memoizedState=y,l.flags&256){l=Ly(s,l,h,c);break t}else if(h!==g){g=In(Error(n(424)),l),oo(g),l=Ly(s,l,h,c);break t}else{switch(s=l.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(de=di(s.firstChild),an=l,Vt=!0,cr=null,wi=!0,c=py(l,null,h,c),l.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(lo(),h===g){l=ts(s,l,c);break t}Ye(s,l,h,c)}l=l.child}return l;case 26:return Sc(s,l),s===null?(c=Pb(l.type,null,l.pendingProps,null))?l.memoizedState=c:Vt||(c=l.type,s=l.pendingProps,h=Hc(lt.current).createElement(c),h[Gt]=l,h[Rt]=s,Ie(h,c,s),ze(h),l.stateNode=h):l.memoizedState=Pb(l.type,s.memoizedProps,l.pendingProps,s.memoizedState),null;case 27:return Et(l),s===null&&Vt&&(h=l.stateNode=Ub(l.type,l.pendingProps,lt.current),an=l,wi=!0,g=de,Bs(l.type)?(Ld=g,de=di(h.firstChild)):de=g),Ye(s,l,l.pendingProps.children,c),Sc(s,l),s===null&&(l.flags|=4194304),l.child;case 5:return s===null&&Vt&&((g=h=de)&&(h=GC(h,l.type,l.pendingProps,wi),h!==null?(l.stateNode=h,an=l,de=di(h.firstChild),wi=!1,g=!0):g=!1),g||ur(l)),Et(l),g=l.type,y=l.pendingProps,x=s!==null?s.memoizedProps:null,h=y.children,Ed(g,y)?h=null:x!==null&&Ed(g,x)&&(l.flags|=32),l.memoizedState!==null&&(g=Of(s,l,aC,null,null,c),_o._currentValue=g),Sc(s,l),Ye(s,l,h,c),l.child;case 6:return s===null&&Vt&&((s=c=de)&&(c=IC(c,l.pendingProps,wi),c!==null?(l.stateNode=c,an=l,de=null,s=!0):s=!1),s||ur(l)),null;case 13:return zy(s,l,c);case 4:return yt(l,l.stateNode.containerInfo),h=l.pendingProps,s===null?l.child=rl(l,null,h,c):Ye(s,l,h,c),l.child;case 11:return Ty(s,l,l.type,l.pendingProps,c);case 7:return Ye(s,l,l.pendingProps,c),l.child;case 8:return Ye(s,l,l.pendingProps.children,c),l.child;case 12:return Ye(s,l,l.pendingProps.children,c),l.child;case 10:return h=l.pendingProps,bs(l,l.type,h.value),Ye(s,l,h.children,c),l.child;case 9:return g=l.type._context,h=l.pendingProps.children,fr(l),g=Je(g),h=h(g),l.flags|=1,Ye(s,l,h,c),l.child;case 14:return Dy(s,l,l.type,l.pendingProps,c);case 15:return Oy(s,l,l.type,l.pendingProps,c);case 19:return jy(s,l,c);case 31:return h=l.pendingProps,c=l.mode,h={mode:h.mode,children:h.children},s===null?(c=wc(h,c),c.ref=l.ref,l.child=c,c.return=l,l=c):(c=Qi(s.child,h),c.ref=l.ref,l.child=c,c.return=l,l=c),l;case 22:return Ey(s,l,c);case 24:return fr(l),h=Je(Te),s===null?(g=xf(),g===null&&(g=ie,y=bf(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=c),g=y),l.memoizedState={parent:h,cache:g},wf(l),bs(l,Te,g)):((s.lanes&c)!==0&&(kf(s,l),po(l,null,null,c),mo()),g=s.memoizedState,y=l.memoizedState,g.parent!==h?(g={parent:h,cache:h},l.memoizedState=g,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=g),bs(l,Te,h)):(h=y.cache,bs(l,Te,h),h!==g.cache&&yf(l,[Te],c,!0))),Ye(s,l,l.pendingProps.children,c),l.child;case 29:throw l.pendingProps}throw Error(n(156,l.tag))}function es(s){s.flags|=4}function Uy(s,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!Qb(l)){if(l=Wn.current,l!==null&&((zt&4194048)===zt?ki!==null:(zt&62914560)!==zt&&(zt&536870912)===0||l!==ki))throw fo=Sf,w0;s.flags|=8192}}function kc(s,l){l!==null&&(s.flags|=4),s.flags&16384&&(l=s.tag!==22?Lr():536870912,s.lanes|=l,cl|=l)}function ko(s,l){if(!Vt)switch(s.tailMode){case"hidden":l=s.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function he(s){var l=s.alternate!==null&&s.alternate.child===s.child,c=0,h=0;if(l)for(var g=s.child;g!==null;)c|=g.lanes|g.childLanes,h|=g.subtreeFlags&65011712,h|=g.flags&65011712,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)c|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=h,s.childLanes=c,l}function yC(s,l,c){var h=l.pendingProps;switch(df(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return he(l),null;case 1:return he(l),null;case 3:return c=l.stateNode,h=null,s!==null&&(h=s.memoizedState.cache),l.memoizedState.cache!==h&&(l.flags|=2048),Zi(Te),se(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(s===null||s.child===null)&&(ro(l)?es(l):s===null||s.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,y0())),he(l),null;case 26:return c=l.memoizedState,s===null?(es(l),c!==null?(he(l),Uy(l,c)):(he(l),l.flags&=-16777217)):c?c!==s.memoizedState?(es(l),he(l),Uy(l,c)):(he(l),l.flags&=-16777217):(s.memoizedProps!==h&&es(l),he(l),l.flags&=-16777217),null;case 27:ln(l),c=lt.current;var g=l.type;if(s!==null&&l.stateNode!=null)s.memoizedProps!==h&&es(l);else{if(!h){if(l.stateNode===null)throw Error(n(166));return he(l),null}s=nt.current,ro(l)?m0(l):(s=Ub(g,h,c),l.stateNode=s,es(l))}return he(l),null;case 5:if(ln(l),c=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==h&&es(l);else{if(!h){if(l.stateNode===null)throw Error(n(166));return he(l),null}if(s=nt.current,ro(l))m0(l);else{switch(g=Hc(lt.current),s){case 1:s=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:s=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":s=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":s=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":s=g.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof h.is=="string"?g.createElement("select",{is:h.is}):g.createElement("select"),h.multiple?s.multiple=!0:h.size&&(s.size=h.size);break;default:s=typeof h.is=="string"?g.createElement(c,{is:h.is}):g.createElement(c)}}s[Gt]=l,s[Rt]=h;t:for(g=l.child;g!==null;){if(g.tag===5||g.tag===6)s.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===l)break t;for(;g.sibling===null;){if(g.return===null||g.return===l)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}l.stateNode=s;t:switch(Ie(s,c,h),c){case"button":case"input":case"select":case"textarea":s=!!h.autoFocus;break t;case"img":s=!0;break t;default:s=!1}s&&es(l)}}return he(l),l.flags&=-16777217,null;case 6:if(s&&l.stateNode!=null)s.memoizedProps!==h&&es(l);else{if(typeof h!="string"&&l.stateNode===null)throw Error(n(166));if(s=lt.current,ro(l)){if(s=l.stateNode,c=l.memoizedProps,h=null,g=an,g!==null)switch(g.tag){case 27:case 5:h=g.memoizedProps}s[Gt]=l,s=!!(s.nodeValue===c||h!==null&&h.suppressHydrationWarning===!0||Nb(s.nodeValue,c)),s||ur(l)}else s=Hc(s).createTextNode(h),s[Gt]=l,l.stateNode=s}return he(l),null;case 13:if(h=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(g=ro(l),h!==null&&h.dehydrated!==null){if(s===null){if(!g)throw Error(n(318));if(g=l.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(n(317));g[Gt]=l}else lo(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;he(l),g=!1}else g=y0(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=g),g=!0;if(!g)return l.flags&256?(Ji(l),l):(Ji(l),null)}if(Ji(l),(l.flags&128)!==0)return l.lanes=c,l;if(c=h!==null,s=s!==null&&s.memoizedState!==null,c){h=l.child,g=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(g=h.alternate.memoizedState.cachePool.pool);var y=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(y=h.memoizedState.cachePool.pool),y!==g&&(h.flags|=2048)}return c!==s&&c&&(l.child.flags|=8192),kc(l,l.updateQueue),he(l),null;case 4:return se(),s===null&&Ad(l.stateNode.containerInfo),he(l),null;case 10:return Zi(l.type),he(l),null;case 19:if($(De),g=l.memoizedState,g===null)return he(l),null;if(h=(l.flags&128)!==0,y=g.rendering,y===null)if(h)ko(g,!1);else{if(ge!==0||s!==null&&(s.flags&128)!==0)for(s=l.child;s!==null;){if(y=bc(s),y!==null){for(l.flags|=128,ko(g,!1),s=y.updateQueue,l.updateQueue=s,kc(l,s),l.subtreeFlags=0,s=c,c=l.child;c!==null;)d0(c,s),c=c.sibling;return I(De,De.current&1|2),l.child}s=s.sibling}g.tail!==null&&Me()>Mc&&(l.flags|=128,h=!0,ko(g,!1),l.lanes=4194304)}else{if(!h)if(s=bc(y),s!==null){if(l.flags|=128,h=!0,s=s.updateQueue,l.updateQueue=s,kc(l,s),ko(g,!0),g.tail===null&&g.tailMode==="hidden"&&!y.alternate&&!Vt)return he(l),null}else 2*Me()-g.renderingStartTime>Mc&&c!==536870912&&(l.flags|=128,h=!0,ko(g,!1),l.lanes=4194304);g.isBackwards?(y.sibling=l.child,l.child=y):(s=g.last,s!==null?s.sibling=y:l.child=y,g.last=y)}return g.tail!==null?(l=g.tail,g.rendering=l,g.tail=l.sibling,g.renderingStartTime=Me(),l.sibling=null,s=De.current,I(De,h?s&1|2:s&1),l):(he(l),null);case 22:case 23:return Ji(l),Tf(),h=l.memoizedState!==null,s!==null?s.memoizedState!==null!==h&&(l.flags|=8192):h&&(l.flags|=8192),h?(c&536870912)!==0&&(l.flags&128)===0&&(he(l),l.subtreeFlags&6&&(l.flags|=8192)):he(l),c=l.updateQueue,c!==null&&kc(l,c.retryQueue),c=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),h=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==c&&(l.flags|=2048),s!==null&&$(dr),null;case 24:return c=null,s!==null&&(c=s.memoizedState.cache),l.memoizedState.cache!==c&&(l.flags|=2048),Zi(Te),he(l),null;case 25:return null;case 30:return null}throw Error(n(156,l.tag))}function bC(s,l){switch(df(l),l.tag){case 1:return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return Zi(Te),se(),s=l.flags,(s&65536)!==0&&(s&128)===0?(l.flags=s&-65537|128,l):null;case 26:case 27:case 5:return ln(l),null;case 13:if(Ji(l),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(n(340));lo()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return $(De),null;case 4:return se(),null;case 10:return Zi(l.type),null;case 22:case 23:return Ji(l),Tf(),s!==null&&$(dr),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 24:return Zi(Te),null;case 25:return null;default:return null}}function qy(s,l){switch(df(l),l.tag){case 3:Zi(Te),se();break;case 26:case 27:case 5:ln(l);break;case 4:se();break;case 13:Ji(l);break;case 19:$(De);break;case 10:Zi(l.type);break;case 22:case 23:Ji(l),Tf(),s!==null&&$(dr);break;case 24:Zi(Te)}}function Co(s,l){try{var c=l.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var g=h.next;c=g;do{if((c.tag&s)===s){h=void 0;var y=c.create,x=c.inst;h=y(),x.destroy=h}c=c.next}while(c!==g)}}catch(w){$t(l,l.return,w)}}function As(s,l,c){try{var h=l.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var y=g.next;h=y;do{if((h.tag&s)===s){var x=h.inst,w=x.destroy;if(w!==void 0){x.destroy=void 0,g=l;var T=c,_=w;try{_()}catch(Q){$t(g,T,Q)}}}h=h.next}while(h!==y)}}catch(Q){$t(l,l.return,Q)}}function Vy(s){var l=s.updateQueue;if(l!==null){var c=s.stateNode;try{D0(l,c)}catch(h){$t(s,s.return,h)}}}function Py(s,l,c){c.props=mr(s.type,s.memoizedProps),c.state=s.memoizedState;try{c.componentWillUnmount()}catch(h){$t(s,l,h)}}function Ao(s,l){try{var c=s.ref;if(c!==null){switch(s.tag){case 26:case 27:case 5:var h=s.stateNode;break;case 30:h=s.stateNode;break;default:h=s.stateNode}typeof c=="function"?s.refCleanup=c(h):c.current=h}}catch(g){$t(s,l,g)}}function Ci(s,l){var c=s.ref,h=s.refCleanup;if(c!==null)if(typeof h=="function")try{h()}catch(g){$t(s,l,g)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(g){$t(s,l,g)}else c.current=null}function Yy(s){var l=s.type,c=s.memoizedProps,h=s.stateNode;try{t:switch(l){case"button":case"input":case"select":case"textarea":c.autoFocus&&h.focus();break t;case"img":c.src?h.src=c.src:c.srcSet&&(h.srcset=c.srcSet)}}catch(g){$t(s,s.return,g)}}function ed(s,l,c){try{var h=s.stateNode;UC(h,s.type,c,l),h[Rt]=l}catch(g){$t(s,s.return,g)}}function Gy(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Bs(s.type)||s.tag===4}function nd(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||Gy(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Bs(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function id(s,l,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,l?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(s,l):(l=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,l.appendChild(s),c=c._reactRootContainer,c!=null||l.onclick!==null||(l.onclick=zc));else if(h!==4&&(h===27&&Bs(s.type)&&(c=s.stateNode,l=null),s=s.child,s!==null))for(id(s,l,c),s=s.sibling;s!==null;)id(s,l,c),s=s.sibling}function Cc(s,l,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,l?c.insertBefore(s,l):c.appendChild(s);else if(h!==4&&(h===27&&Bs(s.type)&&(c=s.stateNode),s=s.child,s!==null))for(Cc(s,l,c),s=s.sibling;s!==null;)Cc(s,l,c),s=s.sibling}function Iy(s){var l=s.stateNode,c=s.memoizedProps;try{for(var h=s.type,g=l.attributes;g.length;)l.removeAttributeNode(g[0]);Ie(l,h,c),l[Gt]=s,l[Rt]=c}catch(y){$t(s,s.return,y)}}var ns=!1,ye=!1,sd=!1,Xy=typeof WeakSet=="function"?WeakSet:Set,je=null;function vC(s,l){if(s=s.containerInfo,Dd=Pc,s=i0(s),ef(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else t:{c=(c=s.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var g=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{c.nodeType,y.nodeType}catch{c=null;break t}var x=0,w=-1,T=-1,_=0,Q=0,F=s,q=null;e:for(;;){for(var V;F!==c||g!==0&&F.nodeType!==3||(w=x+g),F!==y||h!==0&&F.nodeType!==3||(T=x+h),F.nodeType===3&&(x+=F.nodeValue.length),(V=F.firstChild)!==null;)q=F,F=V;for(;;){if(F===s)break e;if(q===c&&++_===g&&(w=x),q===y&&++Q===h&&(T=x),(V=F.nextSibling)!==null)break;F=q,q=F.parentNode}F=V}c=w===-1||T===-1?null:{start:w,end:T}}else c=null}c=c||{start:0,end:0}}else c=null;for(Od={focusedElem:s,selectionRange:c},Pc=!1,je=l;je!==null;)if(l=je,s=l.child,(l.subtreeFlags&1024)!==0&&s!==null)s.return=l,je=s;else for(;je!==null;){switch(l=je,y=l.alternate,s=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&y!==null){s=void 0,c=l,g=y.memoizedProps,y=y.memoizedState,h=c.stateNode;try{var kt=mr(c.type,g,c.elementType===c.type);s=h.getSnapshotBeforeUpdate(kt,y),h.__reactInternalSnapshotBeforeUpdate=s}catch(St){$t(c,c.return,St)}}break;case 3:if((s&1024)!==0){if(s=l.stateNode.containerInfo,c=s.nodeType,c===9)Nd(s);else if(c===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Nd(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(n(163))}if(s=l.sibling,s!==null){s.return=l.return,je=s;break}je=l.return}}function Qy(s,l,c){var h=c.flags;switch(c.tag){case 0:case 11:case 15:Ms(s,c),h&4&&Co(5,c);break;case 1:if(Ms(s,c),h&4)if(s=c.stateNode,l===null)try{s.componentDidMount()}catch(x){$t(c,c.return,x)}else{var g=mr(c.type,l.memoizedProps);l=l.memoizedState;try{s.componentDidUpdate(g,l,s.__reactInternalSnapshotBeforeUpdate)}catch(x){$t(c,c.return,x)}}h&64&&Vy(c),h&512&&Ao(c,c.return);break;case 3:if(Ms(s,c),h&64&&(s=c.updateQueue,s!==null)){if(l=null,c.child!==null)switch(c.child.tag){case 27:case 5:l=c.child.stateNode;break;case 1:l=c.child.stateNode}try{D0(s,l)}catch(x){$t(c,c.return,x)}}break;case 27:l===null&&h&4&&Iy(c);case 26:case 5:Ms(s,c),l===null&&h&4&&Yy(c),h&512&&Ao(c,c.return);break;case 12:Ms(s,c);break;case 13:Ms(s,c),h&4&&Fy(s,c),h&64&&(s=c.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(c=DC.bind(null,c),XC(s,c))));break;case 22:if(h=c.memoizedState!==null||ns,!h){l=l!==null&&l.memoizedState!==null||ye,g=ns;var y=ye;ns=h,(ye=l)&&!y?Ts(s,c,(c.subtreeFlags&8772)!==0):Ms(s,c),ns=g,ye=y}break;case 30:break;default:Ms(s,c)}}function Ky(s){var l=s.alternate;l!==null&&(s.alternate=null,Ky(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&Hh(l)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var ae=null,mn=!1;function is(s,l,c){for(c=c.child;c!==null;)Wy(s,l,c),c=c.sibling}function Wy(s,l,c){if(fe&&typeof fe.onCommitFiberUnmount=="function")try{fe.onCommitFiberUnmount(Vn,c)}catch{}switch(c.tag){case 26:ye||Ci(c,l),is(s,l,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:ye||Ci(c,l);var h=ae,g=mn;Bs(c.type)&&(ae=c.stateNode,mn=!1),is(s,l,c),Lo(c.stateNode),ae=h,mn=g;break;case 5:ye||Ci(c,l);case 6:if(h=ae,g=mn,ae=null,is(s,l,c),ae=h,mn=g,ae!==null)if(mn)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(c.stateNode)}catch(y){$t(c,l,y)}else try{ae.removeChild(c.stateNode)}catch(y){$t(c,l,y)}break;case 18:ae!==null&&(mn?(s=ae,jb(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,c.stateNode),Po(s)):jb(ae,c.stateNode));break;case 4:h=ae,g=mn,ae=c.stateNode.containerInfo,mn=!0,is(s,l,c),ae=h,mn=g;break;case 0:case 11:case 14:case 15:ye||As(2,c,l),ye||As(4,c,l),is(s,l,c);break;case 1:ye||(Ci(c,l),h=c.stateNode,typeof h.componentWillUnmount=="function"&&Py(c,l,h)),is(s,l,c);break;case 21:is(s,l,c);break;case 22:ye=(h=ye)||c.memoizedState!==null,is(s,l,c),ye=h;break;default:is(s,l,c)}}function Fy(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Po(s)}catch(c){$t(l,l.return,c)}}function xC(s){switch(s.tag){case 13:case 19:var l=s.stateNode;return l===null&&(l=s.stateNode=new Xy),l;case 22:return s=s.stateNode,l=s._retryCache,l===null&&(l=s._retryCache=new Xy),l;default:throw Error(n(435,s.tag))}}function rd(s,l){var c=xC(s);l.forEach(function(h){var g=OC.bind(null,s,h);c.has(h)||(c.add(h),h.then(g,g))})}function En(s,l){var c=l.deletions;if(c!==null)for(var h=0;h<c.length;h++){var g=c[h],y=s,x=l,w=x;t:for(;w!==null;){switch(w.tag){case 27:if(Bs(w.type)){ae=w.stateNode,mn=!1;break t}break;case 5:ae=w.stateNode,mn=!1;break t;case 3:case 4:ae=w.stateNode.containerInfo,mn=!0;break t}w=w.return}if(ae===null)throw Error(n(160));Wy(y,x,g),ae=null,mn=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)Zy(l,s),l=l.sibling}var fi=null;function Zy(s,l){var c=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:En(l,s),Rn(s),h&4&&(As(3,s,s.return),Co(3,s),As(5,s,s.return));break;case 1:En(l,s),Rn(s),h&512&&(ye||c===null||Ci(c,c.return)),h&64&&ns&&(s=s.updateQueue,s!==null&&(h=s.callbacks,h!==null&&(c=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=c===null?h:c.concat(h))));break;case 26:var g=fi;if(En(l,s),Rn(s),h&512&&(ye||c===null||Ci(c,c.return)),h&4){var y=c!==null?c.memoizedState:null;if(h=s.memoizedState,c===null)if(h===null)if(s.stateNode===null){t:{h=s.type,c=s.memoizedProps,g=g.ownerDocument||g;e:switch(h){case"title":y=g.getElementsByTagName("title")[0],(!y||y[Gi]||y[Gt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(h),g.head.insertBefore(y,g.querySelector("head > title"))),Ie(y,h,c),y[Gt]=s,ze(y),h=y;break t;case"link":var x=Ib("link","href",g).get(h+(c.href||""));if(x){for(var w=0;w<x.length;w++)if(y=x[w],y.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&y.getAttribute("rel")===(c.rel==null?null:c.rel)&&y.getAttribute("title")===(c.title==null?null:c.title)&&y.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){x.splice(w,1);break e}}y=g.createElement(h),Ie(y,h,c),g.head.appendChild(y);break;case"meta":if(x=Ib("meta","content",g).get(h+(c.content||""))){for(w=0;w<x.length;w++)if(y=x[w],y.getAttribute("content")===(c.content==null?null:""+c.content)&&y.getAttribute("name")===(c.name==null?null:c.name)&&y.getAttribute("property")===(c.property==null?null:c.property)&&y.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&y.getAttribute("charset")===(c.charSet==null?null:c.charSet)){x.splice(w,1);break e}}y=g.createElement(h),Ie(y,h,c),g.head.appendChild(y);break;default:throw Error(n(468,h))}y[Gt]=s,ze(y),h=y}s.stateNode=h}else Xb(g,s.type,s.stateNode);else s.stateNode=Gb(g,h,s.memoizedProps);else y!==h?(y===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):y.count--,h===null?Xb(g,s.type,s.stateNode):Gb(g,h,s.memoizedProps)):h===null&&s.stateNode!==null&&ed(s,s.memoizedProps,c.memoizedProps)}break;case 27:En(l,s),Rn(s),h&512&&(ye||c===null||Ci(c,c.return)),c!==null&&h&4&&ed(s,s.memoizedProps,c.memoizedProps);break;case 5:if(En(l,s),Rn(s),h&512&&(ye||c===null||Ci(c,c.return)),s.flags&32){g=s.stateNode;try{Vr(g,"")}catch(V){$t(s,s.return,V)}}h&4&&s.stateNode!=null&&(g=s.memoizedProps,ed(s,g,c!==null?c.memoizedProps:g)),h&1024&&(sd=!0);break;case 6:if(En(l,s),Rn(s),h&4){if(s.stateNode===null)throw Error(n(162));h=s.memoizedProps,c=s.stateNode;try{c.nodeValue=h}catch(V){$t(s,s.return,V)}}break;case 3:if(Uc=null,g=fi,fi=jc(l.containerInfo),En(l,s),fi=g,Rn(s),h&4&&c!==null&&c.memoizedState.isDehydrated)try{Po(l.containerInfo)}catch(V){$t(s,s.return,V)}sd&&(sd=!1,$y(s));break;case 4:h=fi,fi=jc(s.stateNode.containerInfo),En(l,s),Rn(s),fi=h;break;case 12:En(l,s),Rn(s);break;case 13:En(l,s),Rn(s),s.child.flags&8192&&s.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(hd=Me()),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,rd(s,h)));break;case 22:g=s.memoizedState!==null;var T=c!==null&&c.memoizedState!==null,_=ns,Q=ye;if(ns=_||g,ye=Q||T,En(l,s),ye=Q,ns=_,Rn(s),h&8192)t:for(l=s.stateNode,l._visibility=g?l._visibility&-2:l._visibility|1,g&&(c===null||T||ns||ye||pr(s)),c=null,l=s;;){if(l.tag===5||l.tag===26){if(c===null){T=c=l;try{if(y=T.stateNode,g)x=y.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{w=T.stateNode;var F=T.memoizedProps.style,q=F!=null&&F.hasOwnProperty("display")?F.display:null;w.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(V){$t(T,T.return,V)}}}else if(l.tag===6){if(c===null){T=l;try{T.stateNode.nodeValue=g?"":T.memoizedProps}catch(V){$t(T,T.return,V)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===s)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break t;for(;l.sibling===null;){if(l.return===null||l.return===s)break t;c===l&&(c=null),l=l.return}c===l&&(c=null),l.sibling.return=l.return,l=l.sibling}h&4&&(h=s.updateQueue,h!==null&&(c=h.retryQueue,c!==null&&(h.retryQueue=null,rd(s,c))));break;case 19:En(l,s),Rn(s),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,rd(s,h)));break;case 30:break;case 21:break;default:En(l,s),Rn(s)}}function Rn(s){var l=s.flags;if(l&2){try{for(var c,h=s.return;h!==null;){if(Gy(h)){c=h;break}h=h.return}if(c==null)throw Error(n(160));switch(c.tag){case 27:var g=c.stateNode,y=nd(s);Cc(s,y,g);break;case 5:var x=c.stateNode;c.flags&32&&(Vr(x,""),c.flags&=-33);var w=nd(s);Cc(s,w,x);break;case 3:case 4:var T=c.stateNode.containerInfo,_=nd(s);id(s,_,T);break;default:throw Error(n(161))}}catch(Q){$t(s,s.return,Q)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function $y(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var l=s;$y(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),s=s.sibling}}function Ms(s,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)Qy(s,l.alternate,l),l=l.sibling}function pr(s){for(s=s.child;s!==null;){var l=s;switch(l.tag){case 0:case 11:case 14:case 15:As(4,l,l.return),pr(l);break;case 1:Ci(l,l.return);var c=l.stateNode;typeof c.componentWillUnmount=="function"&&Py(l,l.return,c),pr(l);break;case 27:Lo(l.stateNode);case 26:case 5:Ci(l,l.return),pr(l);break;case 22:l.memoizedState===null&&pr(l);break;case 30:pr(l);break;default:pr(l)}s=s.sibling}}function Ts(s,l,c){for(c=c&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var h=l.alternate,g=s,y=l,x=y.flags;switch(y.tag){case 0:case 11:case 15:Ts(g,y,c),Co(4,y);break;case 1:if(Ts(g,y,c),h=y,g=h.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(_){$t(h,h.return,_)}if(h=y,g=h.updateQueue,g!==null){var w=h.stateNode;try{var T=g.shared.hiddenCallbacks;if(T!==null)for(g.shared.hiddenCallbacks=null,g=0;g<T.length;g++)T0(T[g],w)}catch(_){$t(h,h.return,_)}}c&&x&64&&Vy(y),Ao(y,y.return);break;case 27:Iy(y);case 26:case 5:Ts(g,y,c),c&&h===null&&x&4&&Yy(y),Ao(y,y.return);break;case 12:Ts(g,y,c);break;case 13:Ts(g,y,c),c&&x&4&&Fy(g,y);break;case 22:y.memoizedState===null&&Ts(g,y,c),Ao(y,y.return);break;case 30:break;default:Ts(g,y,c)}l=l.sibling}}function ld(s,l){var c=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),s=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(s=l.memoizedState.cachePool.pool),s!==c&&(s!=null&&s.refCount++,c!=null&&co(c))}function od(s,l){s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&co(s))}function Ai(s,l,c,h){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)Jy(s,l,c,h),l=l.sibling}function Jy(s,l,c,h){var g=l.flags;switch(l.tag){case 0:case 11:case 15:Ai(s,l,c,h),g&2048&&Co(9,l);break;case 1:Ai(s,l,c,h);break;case 3:Ai(s,l,c,h),g&2048&&(s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&co(s)));break;case 12:if(g&2048){Ai(s,l,c,h),s=l.stateNode;try{var y=l.memoizedProps,x=y.id,w=y.onPostCommit;typeof w=="function"&&w(x,l.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(T){$t(l,l.return,T)}}else Ai(s,l,c,h);break;case 13:Ai(s,l,c,h);break;case 23:break;case 22:y=l.stateNode,x=l.alternate,l.memoizedState!==null?y._visibility&2?Ai(s,l,c,h):Mo(s,l):y._visibility&2?Ai(s,l,c,h):(y._visibility|=2,ll(s,l,c,h,(l.subtreeFlags&10256)!==0)),g&2048&&ld(x,l);break;case 24:Ai(s,l,c,h),g&2048&&od(l.alternate,l);break;default:Ai(s,l,c,h)}}function ll(s,l,c,h,g){for(g=g&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var y=s,x=l,w=c,T=h,_=x.flags;switch(x.tag){case 0:case 11:case 15:ll(y,x,w,T,g),Co(8,x);break;case 23:break;case 22:var Q=x.stateNode;x.memoizedState!==null?Q._visibility&2?ll(y,x,w,T,g):Mo(y,x):(Q._visibility|=2,ll(y,x,w,T,g)),g&&_&2048&&ld(x.alternate,x);break;case 24:ll(y,x,w,T,g),g&&_&2048&&od(x.alternate,x);break;default:ll(y,x,w,T,g)}l=l.sibling}}function Mo(s,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var c=s,h=l,g=h.flags;switch(h.tag){case 22:Mo(c,h),g&2048&&ld(h.alternate,h);break;case 24:Mo(c,h),g&2048&&od(h.alternate,h);break;default:Mo(c,h)}l=l.sibling}}var To=8192;function ol(s){if(s.subtreeFlags&To)for(s=s.child;s!==null;)tb(s),s=s.sibling}function tb(s){switch(s.tag){case 26:ol(s),s.flags&To&&s.memoizedState!==null&&rA(fi,s.memoizedState,s.memoizedProps);break;case 5:ol(s);break;case 3:case 4:var l=fi;fi=jc(s.stateNode.containerInfo),ol(s),fi=l;break;case 22:s.memoizedState===null&&(l=s.alternate,l!==null&&l.memoizedState!==null?(l=To,To=16777216,ol(s),To=l):ol(s));break;default:ol(s)}}function eb(s){var l=s.alternate;if(l!==null&&(s=l.child,s!==null)){l.child=null;do l=s.sibling,s.sibling=null,s=l;while(s!==null)}}function Do(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var c=0;c<l.length;c++){var h=l[c];je=h,ib(h,s)}eb(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)nb(s),s=s.sibling}function nb(s){switch(s.tag){case 0:case 11:case 15:Do(s),s.flags&2048&&As(9,s,s.return);break;case 3:Do(s);break;case 12:Do(s);break;case 22:var l=s.stateNode;s.memoizedState!==null&&l._visibility&2&&(s.return===null||s.return.tag!==13)?(l._visibility&=-3,Ac(s)):Do(s);break;default:Do(s)}}function Ac(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var c=0;c<l.length;c++){var h=l[c];je=h,ib(h,s)}eb(s)}for(s=s.child;s!==null;){switch(l=s,l.tag){case 0:case 11:case 15:As(8,l,l.return),Ac(l);break;case 22:c=l.stateNode,c._visibility&2&&(c._visibility&=-3,Ac(l));break;default:Ac(l)}s=s.sibling}}function ib(s,l){for(;je!==null;){var c=je;switch(c.tag){case 0:case 11:case 15:As(8,c,l);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var h=c.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:co(c.memoizedState.cache)}if(h=c.child,h!==null)h.return=c,je=h;else t:for(c=s;je!==null;){h=je;var g=h.sibling,y=h.return;if(Ky(h),h===c){je=null;break t}if(g!==null){g.return=y,je=g;break t}je=y}}}var SC={getCacheForType:function(s){var l=Je(Te),c=l.data.get(s);return c===void 0&&(c=s(),l.data.set(s,c)),c}},wC=typeof WeakMap=="function"?WeakMap:Map,It=0,ie=null,Nt=null,zt=0,Xt=0,Nn=null,Ds=!1,al=!1,ad=!1,ss=0,ge=0,Os=0,yr=0,cd=0,Fn=0,cl=0,Oo=null,pn=null,ud=!1,hd=0,Mc=1/0,Tc=null,Es=null,Ge=0,Rs=null,ul=null,hl=0,fd=0,dd=null,sb=null,Eo=0,gd=null;function Bn(){if((It&2)!==0&&zt!==0)return zt&-zt;if(L.T!==null){var s=$r;return s!==0?s:Sd()}return Le()}function rb(){Fn===0&&(Fn=(zt&536870912)===0||Vt?Tn():536870912);var s=Wn.current;return s!==null&&(s.flags|=32),Fn}function Ln(s,l,c){(s===ie&&(Xt===2||Xt===9)||s.cancelPendingCommit!==null)&&(fl(s,0),Ns(s,zt,Fn,!1)),re(s,c),((It&2)===0||s!==ie)&&(s===ie&&((It&2)===0&&(yr|=c),ge===4&&Ns(s,zt,Fn,!1)),Mi(s))}function lb(s,l,c){if((It&6)!==0)throw Error(n(327));var h=!c&&(l&124)===0&&(l&s.expiredLanes)===0||Yi(s,l),g=h?AC(s,l):yd(s,l,!0),y=h;do{if(g===0){al&&!h&&Ns(s,l,0,!1);break}else{if(c=s.current.alternate,y&&!kC(c)){g=yd(s,l,!1),y=!1;continue}if(g===2){if(y=l,s.errorRecoveryDisabledLanes&y)var x=0;else x=s.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){l=x;t:{var w=s;g=Oo;var T=w.current.memoizedState.isDehydrated;if(T&&(fl(w,x).flags|=256),x=yd(w,x,!1),x!==2){if(ad&&!T){w.errorRecoveryDisabledLanes|=y,yr|=y,g=4;break t}y=pn,pn=g,y!==null&&(pn===null?pn=y:pn.push.apply(pn,y))}g=x}if(y=!1,g!==2)continue}}if(g===1){fl(s,0),Ns(s,l,0,!0);break}t:{switch(h=s,y=g,y){case 0:case 1:throw Error(n(345));case 4:if((l&4194048)!==l)break;case 6:Ns(h,l,Fn,!Ds);break t;case 2:pn=null;break;case 3:case 5:break;default:throw Error(n(329))}if((l&62914560)===l&&(g=hd+300-Me(),10<g)){if(Ns(h,l,Fn,!Ds),Si(h,0,!0)!==0)break t;h.timeoutHandle=zb(ob.bind(null,h,c,pn,Tc,ud,l,Fn,yr,cl,Ds,y,2,-0,0),g);break t}ob(h,c,pn,Tc,ud,l,Fn,yr,cl,Ds,y,0,-0,0)}}break}while(!0);Mi(s)}function ob(s,l,c,h,g,y,x,w,T,_,Q,F,q,V){if(s.timeoutHandle=-1,F=l.subtreeFlags,(F&8192||(F&16785408)===16785408)&&(jo={stylesheets:null,count:0,unsuspend:sA},tb(l),F=lA(),F!==null)){s.cancelPendingCommit=F(gb.bind(null,s,l,y,c,h,g,x,w,T,Q,1,q,V)),Ns(s,y,x,!_);return}gb(s,l,y,c,h,g,x,w,T)}function kC(s){for(var l=s;;){var c=l.tag;if((c===0||c===11||c===15)&&l.flags&16384&&(c=l.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var h=0;h<c.length;h++){var g=c[h],y=g.getSnapshot;g=g.value;try{if(!Dn(y(),g))return!1}catch{return!1}}if(c=l.child,l.subtreeFlags&16384&&c!==null)c.return=l,l=c;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Ns(s,l,c,h){l&=~cd,l&=~yr,s.suspendedLanes|=l,s.pingedLanes&=~l,h&&(s.warmLanes|=l),h=s.expirationTimes;for(var g=l;0<g;){var y=31-ue(g),x=1<<y;h[y]=-1,g&=~x}c!==0&&bt(s,c,l)}function Dc(){return(It&6)===0?(Ro(0),!1):!0}function md(){if(Nt!==null){if(Xt===0)var s=Nt.return;else s=Nt,Fi=hr=null,Nf(s),sl=null,So=0,s=Nt;for(;s!==null;)qy(s.alternate,s),s=s.return;Nt=null}}function fl(s,l){var c=s.timeoutHandle;c!==-1&&(s.timeoutHandle=-1,VC(c)),c=s.cancelPendingCommit,c!==null&&(s.cancelPendingCommit=null,c()),md(),ie=s,Nt=c=Qi(s.current,null),zt=l,Xt=0,Nn=null,Ds=!1,al=Yi(s,l),ad=!1,cl=Fn=cd=yr=Os=ge=0,pn=Oo=null,ud=!1,(l&8)!==0&&(l|=l&32);var h=s.entangledLanes;if(h!==0)for(s=s.entanglements,h&=l;0<h;){var g=31-ue(h),y=1<<g;l|=s[g],h&=~y}return ss=l,Fa(),c}function ab(s,l){Tt=null,L.H=mc,l===ho||l===rc?(l=A0(),Xt=3):l===w0?(l=A0(),Xt=4):Xt=l===My?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Nn=l,Nt===null&&(ge=1,xc(s,In(l,s.current)))}function cb(){var s=L.H;return L.H=mc,s===null?mc:s}function ub(){var s=L.A;return L.A=SC,s}function pd(){ge=4,Ds||(zt&4194048)!==zt&&Wn.current!==null||(al=!0),(Os&134217727)===0&&(yr&134217727)===0||ie===null||Ns(ie,zt,Fn,!1)}function yd(s,l,c){var h=It;It|=2;var g=cb(),y=ub();(ie!==s||zt!==l)&&(Tc=null,fl(s,l)),l=!1;var x=ge;t:do try{if(Xt!==0&&Nt!==null){var w=Nt,T=Nn;switch(Xt){case 8:md(),x=6;break t;case 3:case 2:case 9:case 6:Wn.current===null&&(l=!0);var _=Xt;if(Xt=0,Nn=null,dl(s,w,T,_),c&&al){x=0;break t}break;default:_=Xt,Xt=0,Nn=null,dl(s,w,T,_)}}CC(),x=ge;break}catch(Q){ab(s,Q)}while(!0);return l&&s.shellSuspendCounter++,Fi=hr=null,It=h,L.H=g,L.A=y,Nt===null&&(ie=null,zt=0,Fa()),x}function CC(){for(;Nt!==null;)hb(Nt)}function AC(s,l){var c=It;It|=2;var h=cb(),g=ub();ie!==s||zt!==l?(Tc=null,Mc=Me()+500,fl(s,l)):al=Yi(s,l);t:do try{if(Xt!==0&&Nt!==null){l=Nt;var y=Nn;e:switch(Xt){case 1:Xt=0,Nn=null,dl(s,l,y,1);break;case 2:case 9:if(k0(y)){Xt=0,Nn=null,fb(l);break}l=function(){Xt!==2&&Xt!==9||ie!==s||(Xt=7),Mi(s)},y.then(l,l);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:k0(y)?(Xt=0,Nn=null,fb(l)):(Xt=0,Nn=null,dl(s,l,y,7));break;case 5:var x=null;switch(Nt.tag){case 26:x=Nt.memoizedState;case 5:case 27:var w=Nt;if(!x||Qb(x)){Xt=0,Nn=null;var T=w.sibling;if(T!==null)Nt=T;else{var _=w.return;_!==null?(Nt=_,Oc(_)):Nt=null}break e}}Xt=0,Nn=null,dl(s,l,y,5);break;case 6:Xt=0,Nn=null,dl(s,l,y,6);break;case 8:md(),ge=6;break t;default:throw Error(n(462))}}MC();break}catch(Q){ab(s,Q)}while(!0);return Fi=hr=null,L.H=h,L.A=g,It=c,Nt!==null?0:(ie=null,zt=0,Fa(),ge)}function MC(){for(;Nt!==null&&!xi();)hb(Nt)}function hb(s){var l=_y(s.alternate,s,ss);s.memoizedProps=s.pendingProps,l===null?Oc(s):Nt=l}function fb(s){var l=s,c=l.alternate;switch(l.tag){case 15:case 0:l=Ny(c,l,l.pendingProps,l.type,void 0,zt);break;case 11:l=Ny(c,l,l.pendingProps,l.type.render,l.ref,zt);break;case 5:Nf(l);default:qy(c,l),l=Nt=d0(l,ss),l=_y(c,l,ss)}s.memoizedProps=s.pendingProps,l===null?Oc(s):Nt=l}function dl(s,l,c,h){Fi=hr=null,Nf(l),sl=null,So=0;var g=l.return;try{if(mC(s,g,l,c,zt)){ge=1,xc(s,In(c,s.current)),Nt=null;return}}catch(y){if(g!==null)throw Nt=g,y;ge=1,xc(s,In(c,s.current)),Nt=null;return}l.flags&32768?(Vt||h===1?s=!0:al||(zt&536870912)!==0?s=!1:(Ds=s=!0,(h===2||h===9||h===3||h===6)&&(h=Wn.current,h!==null&&h.tag===13&&(h.flags|=16384))),db(l,s)):Oc(l)}function Oc(s){var l=s;do{if((l.flags&32768)!==0){db(l,Ds);return}s=l.return;var c=yC(l.alternate,l,ss);if(c!==null){Nt=c;return}if(l=l.sibling,l!==null){Nt=l;return}Nt=l=s}while(l!==null);ge===0&&(ge=5)}function db(s,l){do{var c=bC(s.alternate,s);if(c!==null){c.flags&=32767,Nt=c;return}if(c=s.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!l&&(s=s.sibling,s!==null)){Nt=s;return}Nt=s=c}while(s!==null);ge=6,Nt=null}function gb(s,l,c,h,g,y,x,w,T){s.cancelPendingCommit=null;do Ec();while(Ge!==0);if((It&6)!==0)throw Error(n(327));if(l!==null){if(l===s.current)throw Error(n(177));if(y=l.lanes|l.childLanes,y|=of,Be(s,c,y,x,w,T),s===ie&&(Nt=ie=null,zt=0),ul=l,Rs=s,hl=c,fd=y,dd=g,sb=h,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,EC(oi,function(){return vb(),null})):(s.callbackNode=null,s.callbackPriority=0),h=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||h){h=L.T,L.T=null,g=X.p,X.p=2,x=It,It|=4;try{vC(s,l,c)}finally{It=x,X.p=g,L.T=h}}Ge=1,mb(),pb(),yb()}}function mb(){if(Ge===1){Ge=0;var s=Rs,l=ul,c=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||c){c=L.T,L.T=null;var h=X.p;X.p=2;var g=It;It|=4;try{Zy(l,s);var y=Od,x=i0(s.containerInfo),w=y.focusedElem,T=y.selectionRange;if(x!==w&&w&&w.ownerDocument&&n0(w.ownerDocument.documentElement,w)){if(T!==null&&ef(w)){var _=T.start,Q=T.end;if(Q===void 0&&(Q=_),"selectionStart"in w)w.selectionStart=_,w.selectionEnd=Math.min(Q,w.value.length);else{var F=w.ownerDocument||document,q=F&&F.defaultView||window;if(q.getSelection){var V=q.getSelection(),kt=w.textContent.length,St=Math.min(T.start,kt),Zt=T.end===void 0?St:Math.min(T.end,kt);!V.extend&&St>Zt&&(x=Zt,Zt=St,St=x);var N=e0(w,St),E=e0(w,Zt);if(N&&E&&(V.rangeCount!==1||V.anchorNode!==N.node||V.anchorOffset!==N.offset||V.focusNode!==E.node||V.focusOffset!==E.offset)){var H=F.createRange();H.setStart(N.node,N.offset),V.removeAllRanges(),St>Zt?(V.addRange(H),V.extend(E.node,E.offset)):(H.setEnd(E.node,E.offset),V.addRange(H))}}}}for(F=[],V=w;V=V.parentNode;)V.nodeType===1&&F.push({element:V,left:V.scrollLeft,top:V.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<F.length;w++){var W=F[w];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Pc=!!Dd,Od=Dd=null}finally{It=g,X.p=h,L.T=c}}s.current=l,Ge=2}}function pb(){if(Ge===2){Ge=0;var s=Rs,l=ul,c=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||c){c=L.T,L.T=null;var h=X.p;X.p=2;var g=It;It|=4;try{Qy(s,l.alternate,l)}finally{It=g,X.p=h,L.T=c}}Ge=3}}function yb(){if(Ge===4||Ge===3){Ge=0,li();var s=Rs,l=ul,c=hl,h=sb;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Ge=5:(Ge=0,ul=Rs=null,bb(s,s.pendingLanes));var g=s.pendingLanes;if(g===0&&(Es=null),qt(c),l=l.stateNode,fe&&typeof fe.onCommitFiberRoot=="function")try{fe.onCommitFiberRoot(Vn,l,void 0,(l.current.flags&128)===128)}catch{}if(h!==null){l=L.T,g=X.p,X.p=2,L.T=null;try{for(var y=s.onRecoverableError,x=0;x<h.length;x++){var w=h[x];y(w.value,{componentStack:w.stack})}}finally{L.T=l,X.p=g}}(hl&3)!==0&&Ec(),Mi(s),g=s.pendingLanes,(c&4194090)!==0&&(g&42)!==0?s===gd?Eo++:(Eo=0,gd=s):Eo=0,Ro(0)}}function bb(s,l){(s.pooledCacheLanes&=l)===0&&(l=s.pooledCache,l!=null&&(s.pooledCache=null,co(l)))}function Ec(s){return mb(),pb(),yb(),vb()}function vb(){if(Ge!==5)return!1;var s=Rs,l=fd;fd=0;var c=qt(hl),h=L.T,g=X.p;try{X.p=32>c?32:c,L.T=null,c=dd,dd=null;var y=Rs,x=hl;if(Ge=0,ul=Rs=null,hl=0,(It&6)!==0)throw Error(n(331));var w=It;if(It|=4,nb(y.current),Jy(y,y.current,x,c),It=w,Ro(0,!1),fe&&typeof fe.onPostCommitFiberRoot=="function")try{fe.onPostCommitFiberRoot(Vn,y)}catch{}return!0}finally{X.p=g,L.T=h,bb(s,l)}}function xb(s,l,c){l=In(c,l),l=Xf(s.stateNode,l,2),s=Ss(s,l,2),s!==null&&(re(s,2),Mi(s))}function $t(s,l,c){if(s.tag===3)xb(s,s,c);else for(;l!==null;){if(l.tag===3){xb(l,s,c);break}else if(l.tag===1){var h=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Es===null||!Es.has(h))){s=In(c,s),c=Cy(2),h=Ss(l,c,2),h!==null&&(Ay(c,h,l,s),re(h,2),Mi(h));break}}l=l.return}}function bd(s,l,c){var h=s.pingCache;if(h===null){h=s.pingCache=new wC;var g=new Set;h.set(l,g)}else g=h.get(l),g===void 0&&(g=new Set,h.set(l,g));g.has(c)||(ad=!0,g.add(c),s=TC.bind(null,s,l,c),l.then(s,s))}function TC(s,l,c){var h=s.pingCache;h!==null&&h.delete(l),s.pingedLanes|=s.suspendedLanes&c,s.warmLanes&=~c,ie===s&&(zt&c)===c&&(ge===4||ge===3&&(zt&62914560)===zt&&300>Me()-hd?(It&2)===0&&fl(s,0):cd|=c,cl===zt&&(cl=0)),Mi(s)}function Sb(s,l){l===0&&(l=Lr()),s=Kr(s,l),s!==null&&(re(s,l),Mi(s))}function DC(s){var l=s.memoizedState,c=0;l!==null&&(c=l.retryLane),Sb(s,c)}function OC(s,l){var c=0;switch(s.tag){case 13:var h=s.stateNode,g=s.memoizedState;g!==null&&(c=g.retryLane);break;case 19:h=s.stateNode;break;case 22:h=s.stateNode._retryCache;break;default:throw Error(n(314))}h!==null&&h.delete(l),Sb(s,c)}function EC(s,l){return Un(s,l)}var Rc=null,gl=null,vd=!1,Nc=!1,xd=!1,br=0;function Mi(s){s!==gl&&s.next===null&&(gl===null?Rc=gl=s:gl=gl.next=s),Nc=!0,vd||(vd=!0,NC())}function Ro(s,l){if(!xd&&Nc){xd=!0;do for(var c=!1,h=Rc;h!==null;){if(s!==0){var g=h.pendingLanes;if(g===0)var y=0;else{var x=h.suspendedLanes,w=h.pingedLanes;y=(1<<31-ue(42|s)+1)-1,y&=g&~(x&~w),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(c=!0,Ab(h,y))}else y=zt,y=Si(h,h===ie?y:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(y&3)===0||Yi(h,y)||(c=!0,Ab(h,y));h=h.next}while(c);xd=!1}}function RC(){wb()}function wb(){Nc=vd=!1;var s=0;br!==0&&(qC()&&(s=br),br=0);for(var l=Me(),c=null,h=Rc;h!==null;){var g=h.next,y=kb(h,l);y===0?(h.next=null,c===null?Rc=g:c.next=g,g===null&&(gl=c)):(c=h,(s!==0||(y&3)!==0)&&(Nc=!0)),h=g}Ro(s)}function kb(s,l){for(var c=s.suspendedLanes,h=s.pingedLanes,g=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var x=31-ue(y),w=1<<x,T=g[x];T===-1?((w&c)===0||(w&h)!==0)&&(g[x]=ms(w,l)):T<=l&&(s.expiredLanes|=w),y&=~w}if(l=ie,c=zt,c=Si(s,s===l?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h=s.callbackNode,c===0||s===l&&(Xt===2||Xt===9)||s.cancelPendingCommit!==null)return h!==null&&h!==null&&Pe(h),s.callbackNode=null,s.callbackPriority=0;if((c&3)===0||Yi(s,c)){if(l=c&-c,l===s.callbackPriority)return l;switch(h!==null&&Pe(h),qt(c)){case 2:case 8:c=An;break;case 32:c=oi;break;case 268435456:c=qn;break;default:c=oi}return h=Cb.bind(null,s),c=Un(c,h),s.callbackPriority=l,s.callbackNode=c,l}return h!==null&&h!==null&&Pe(h),s.callbackPriority=2,s.callbackNode=null,2}function Cb(s,l){if(Ge!==0&&Ge!==5)return s.callbackNode=null,s.callbackPriority=0,null;var c=s.callbackNode;if(Ec()&&s.callbackNode!==c)return null;var h=zt;return h=Si(s,s===ie?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h===0?null:(lb(s,h,l),kb(s,Me()),s.callbackNode!=null&&s.callbackNode===c?Cb.bind(null,s):null)}function Ab(s,l){if(Ec())return null;lb(s,l,!0)}function NC(){PC(function(){(It&6)!==0?Un($e,RC):wb()})}function Sd(){return br===0&&(br=Tn()),br}function Mb(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Ya(""+s)}function Tb(s,l){var c=l.ownerDocument.createElement("input");return c.name=l.name,c.value=l.value,s.id&&c.setAttribute("form",s.id),l.parentNode.insertBefore(c,l),s=new FormData(s),c.parentNode.removeChild(c),s}function BC(s,l,c,h,g){if(l==="submit"&&c&&c.stateNode===g){var y=Mb((g[Rt]||null).action),x=h.submitter;x&&(l=(l=x[Rt]||null)?Mb(l.formAction):x.getAttribute("formAction"),l!==null&&(y=l,x=null));var w=new Qa("action","action",null,h,g);s.push({event:w,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(br!==0){var T=x?Tb(g,x):new FormData(g);Vf(c,{pending:!0,data:T,method:g.method,action:y},null,T)}}else typeof y=="function"&&(w.preventDefault(),T=x?Tb(g,x):new FormData(g),Vf(c,{pending:!0,data:T,method:g.method,action:y},y,T))},currentTarget:g}]})}}for(var wd=0;wd<lf.length;wd++){var kd=lf[wd],LC=kd.toLowerCase(),zC=kd[0].toUpperCase()+kd.slice(1);hi(LC,"on"+zC)}hi(l0,"onAnimationEnd"),hi(o0,"onAnimationIteration"),hi(a0,"onAnimationStart"),hi("dblclick","onDoubleClick"),hi("focusin","onFocus"),hi("focusout","onBlur"),hi($k,"onTransitionRun"),hi(Jk,"onTransitionStart"),hi(tC,"onTransitionCancel"),hi(c0,"onTransitionEnd"),_r("onMouseEnter",["mouseout","mouseover"]),_r("onMouseLeave",["mouseout","mouseover"]),_r("onPointerEnter",["pointerout","pointerover"]),_r("onPointerLeave",["pointerout","pointerover"]),nr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),nr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),nr("onBeforeInput",["compositionend","keypress","textInput","paste"]),nr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),nr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),nr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var No="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(No));function Db(s,l){l=(l&4)!==0;for(var c=0;c<s.length;c++){var h=s[c],g=h.event;h=h.listeners;t:{var y=void 0;if(l)for(var x=h.length-1;0<=x;x--){var w=h[x],T=w.instance,_=w.currentTarget;if(w=w.listener,T!==y&&g.isPropagationStopped())break t;y=w,g.currentTarget=_;try{y(g)}catch(Q){vc(Q)}g.currentTarget=null,y=T}else for(x=0;x<h.length;x++){if(w=h[x],T=w.instance,_=w.currentTarget,w=w.listener,T!==y&&g.isPropagationStopped())break t;y=w,g.currentTarget=_;try{y(g)}catch(Q){vc(Q)}g.currentTarget=null,y=T}}}}function Bt(s,l){var c=l[Pn];c===void 0&&(c=l[Pn]=new Set);var h=s+"__bubble";c.has(h)||(Ob(l,s,2,!1),c.add(h))}function Cd(s,l,c){var h=0;l&&(h|=4),Ob(c,s,h,l)}var Bc="_reactListening"+Math.random().toString(36).slice(2);function Ad(s){if(!s[Bc]){s[Bc]=!0,wp.forEach(function(c){c!=="selectionchange"&&(HC.has(c)||Cd(c,!1,s),Cd(c,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[Bc]||(l[Bc]=!0,Cd("selectionchange",!1,l))}}function Ob(s,l,c,h){switch(Jb(l)){case 2:var g=cA;break;case 8:g=uA;break;default:g=Ud}c=g.bind(null,l,c,s),g=void 0,!Xh||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(g=!0),h?g!==void 0?s.addEventListener(l,c,{capture:!0,passive:g}):s.addEventListener(l,c,!0):g!==void 0?s.addEventListener(l,c,{passive:g}):s.addEventListener(l,c,!1)}function Md(s,l,c,h,g){var y=h;if((l&1)===0&&(l&2)===0&&h!==null)t:for(;;){if(h===null)return;var x=h.tag;if(x===3||x===4){var w=h.stateNode.containerInfo;if(w===g)break;if(x===4)for(x=h.return;x!==null;){var T=x.tag;if((T===3||T===4)&&x.stateNode.containerInfo===g)return;x=x.return}for(;w!==null;){if(x=zr(w),x===null)return;if(T=x.tag,T===5||T===6||T===26||T===27){h=y=x;continue t}w=w.parentNode}}h=h.return}Hp(function(){var _=y,Q=Gh(c),F=[];t:{var q=u0.get(s);if(q!==void 0){var V=Qa,kt=s;switch(s){case"keypress":if(Ia(c)===0)break t;case"keydown":case"keyup":V=Ek;break;case"focusin":kt="focus",V=Fh;break;case"focusout":kt="blur",V=Fh;break;case"beforeblur":case"afterblur":V=Fh;break;case"click":if(c.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=Up;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=bk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=Bk;break;case l0:case o0:case a0:V=Sk;break;case c0:V=zk;break;case"scroll":case"scrollend":V=pk;break;case"wheel":V=jk;break;case"copy":case"cut":case"paste":V=kk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=Vp;break;case"toggle":case"beforetoggle":V=Uk}var St=(l&4)!==0,Zt=!St&&(s==="scroll"||s==="scrollend"),N=St?q!==null?q+"Capture":null:q;St=[];for(var E=_,H;E!==null;){var W=E;if(H=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||H===null||N===null||(W=Fl(E,N),W!=null&&St.push(Bo(E,W,H))),Zt)break;E=E.return}0<St.length&&(q=new V(q,kt,null,c,Q),F.push({event:q,listeners:St}))}}if((l&7)===0){t:{if(q=s==="mouseover"||s==="pointerover",V=s==="mouseout"||s==="pointerout",q&&c!==Yh&&(kt=c.relatedTarget||c.fromElement)&&(zr(kt)||kt[Kt]))break t;if((V||q)&&(q=Q.window===Q?Q:(q=Q.ownerDocument)?q.defaultView||q.parentWindow:window,V?(kt=c.relatedTarget||c.toElement,V=_,kt=kt?zr(kt):null,kt!==null&&(Zt=o(kt),St=kt.tag,kt!==Zt||St!==5&&St!==27&&St!==6)&&(kt=null)):(V=null,kt=_),V!==kt)){if(St=Up,W="onMouseLeave",N="onMouseEnter",E="mouse",(s==="pointerout"||s==="pointerover")&&(St=Vp,W="onPointerLeave",N="onPointerEnter",E="pointer"),Zt=V==null?q:Wl(V),H=kt==null?q:Wl(kt),q=new St(W,E+"leave",V,c,Q),q.target=Zt,q.relatedTarget=H,W=null,zr(Q)===_&&(St=new St(N,E+"enter",kt,c,Q),St.target=H,St.relatedTarget=Zt,W=St),Zt=W,V&&kt)e:{for(St=V,N=kt,E=0,H=St;H;H=ml(H))E++;for(H=0,W=N;W;W=ml(W))H++;for(;0<E-H;)St=ml(St),E--;for(;0<H-E;)N=ml(N),H--;for(;E--;){if(St===N||N!==null&&St===N.alternate)break e;St=ml(St),N=ml(N)}St=null}else St=null;V!==null&&Eb(F,q,V,St,!1),kt!==null&&Zt!==null&&Eb(F,Zt,kt,St,!0)}}t:{if(q=_?Wl(_):window,V=q.nodeName&&q.nodeName.toLowerCase(),V==="select"||V==="input"&&q.type==="file")var gt=Wp;else if(Qp(q))if(Fp)gt=Wk;else{gt=Qk;var Dt=Xk}else V=q.nodeName,!V||V.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?_&&Ph(_.elementType)&&(gt=Wp):gt=Kk;if(gt&&(gt=gt(s,_))){Kp(F,gt,c,Q);break t}Dt&&Dt(s,q,_),s==="focusout"&&_&&q.type==="number"&&_.memoizedProps.value!=null&&Vh(q,"number",q.value)}switch(Dt=_?Wl(_):window,s){case"focusin":(Qp(Dt)||Dt.contentEditable==="true")&&(Ir=Dt,nf=_,so=null);break;case"focusout":so=nf=Ir=null;break;case"mousedown":sf=!0;break;case"contextmenu":case"mouseup":case"dragend":sf=!1,s0(F,c,Q);break;case"selectionchange":if(Zk)break;case"keydown":case"keyup":s0(F,c,Q)}var vt;if($h)t:{switch(s){case"compositionstart":var wt="onCompositionStart";break t;case"compositionend":wt="onCompositionEnd";break t;case"compositionupdate":wt="onCompositionUpdate";break t}wt=void 0}else Gr?Ip(s,c)&&(wt="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(wt="onCompositionStart");wt&&(Pp&&c.locale!=="ko"&&(Gr||wt!=="onCompositionStart"?wt==="onCompositionEnd"&&Gr&&(vt=jp()):(ys=Q,Qh="value"in ys?ys.value:ys.textContent,Gr=!0)),Dt=Lc(_,wt),0<Dt.length&&(wt=new qp(wt,s,null,c,Q),F.push({event:wt,listeners:Dt}),vt?wt.data=vt:(vt=Xp(c),vt!==null&&(wt.data=vt)))),(vt=Vk?Pk(s,c):Yk(s,c))&&(wt=Lc(_,"onBeforeInput"),0<wt.length&&(Dt=new qp("onBeforeInput","beforeinput",null,c,Q),F.push({event:Dt,listeners:wt}),Dt.data=vt)),BC(F,s,_,c,Q)}Db(F,l)})}function Bo(s,l,c){return{instance:s,listener:l,currentTarget:c}}function Lc(s,l){for(var c=l+"Capture",h=[];s!==null;){var g=s,y=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=Fl(s,c),g!=null&&h.unshift(Bo(s,g,y)),g=Fl(s,l),g!=null&&h.push(Bo(s,g,y))),s.tag===3)return h;s=s.return}return[]}function ml(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Eb(s,l,c,h,g){for(var y=l._reactName,x=[];c!==null&&c!==h;){var w=c,T=w.alternate,_=w.stateNode;if(w=w.tag,T!==null&&T===h)break;w!==5&&w!==26&&w!==27||_===null||(T=_,g?(_=Fl(c,y),_!=null&&x.unshift(Bo(c,_,T))):g||(_=Fl(c,y),_!=null&&x.push(Bo(c,_,T)))),c=c.return}x.length!==0&&s.push({event:l,listeners:x})}var jC=/\r\n?/g,_C=/\u0000|\uFFFD/g;function Rb(s){return(typeof s=="string"?s:""+s).replace(jC,`
`).replace(_C,"")}function Nb(s,l){return l=Rb(l),Rb(s)===l}function zc(){}function Ft(s,l,c,h,g,y){switch(c){case"children":typeof h=="string"?l==="body"||l==="textarea"&&h===""||Vr(s,h):(typeof h=="number"||typeof h=="bigint")&&l!=="body"&&Vr(s,""+h);break;case"className":qa(s,"class",h);break;case"tabIndex":qa(s,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":qa(s,c,h);break;case"style":Lp(s,h,y);break;case"data":if(l!=="object"){qa(s,"data",h);break}case"src":case"href":if(h===""&&(l!=="a"||c!=="href")){s.removeAttribute(c);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(c);break}h=Ya(""+h),s.setAttribute(c,h);break;case"action":case"formAction":if(typeof h=="function"){s.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(c==="formAction"?(l!=="input"&&Ft(s,l,"name",g.name,g,null),Ft(s,l,"formEncType",g.formEncType,g,null),Ft(s,l,"formMethod",g.formMethod,g,null),Ft(s,l,"formTarget",g.formTarget,g,null)):(Ft(s,l,"encType",g.encType,g,null),Ft(s,l,"method",g.method,g,null),Ft(s,l,"target",g.target,g,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(c);break}h=Ya(""+h),s.setAttribute(c,h);break;case"onClick":h!=null&&(s.onclick=zc);break;case"onScroll":h!=null&&Bt("scroll",s);break;case"onScrollEnd":h!=null&&Bt("scrollend",s);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(n(61));if(c=h.__html,c!=null){if(g.children!=null)throw Error(n(60));s.innerHTML=c}}break;case"multiple":s.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":s.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){s.removeAttribute("xlink:href");break}c=Ya(""+h),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(c,""+h):s.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(c,""):s.removeAttribute(c);break;case"capture":case"download":h===!0?s.setAttribute(c,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(c,h):s.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?s.setAttribute(c,h):s.removeAttribute(c);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?s.removeAttribute(c):s.setAttribute(c,h);break;case"popover":Bt("beforetoggle",s),Bt("toggle",s),Ua(s,"popover",h);break;case"xlinkActuate":Ii(s,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Ii(s,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Ii(s,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Ii(s,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Ii(s,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Ii(s,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Ii(s,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Ii(s,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Ii(s,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Ua(s,"is",h);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=gk.get(c)||c,Ua(s,c,h))}}function Td(s,l,c,h,g,y){switch(c){case"style":Lp(s,h,y);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(n(61));if(c=h.__html,c!=null){if(g.children!=null)throw Error(n(60));s.innerHTML=c}}break;case"children":typeof h=="string"?Vr(s,h):(typeof h=="number"||typeof h=="bigint")&&Vr(s,""+h);break;case"onScroll":h!=null&&Bt("scroll",s);break;case"onScrollEnd":h!=null&&Bt("scrollend",s);break;case"onClick":h!=null&&(s.onclick=zc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!kp.hasOwnProperty(c))t:{if(c[0]==="o"&&c[1]==="n"&&(g=c.endsWith("Capture"),l=c.slice(2,g?c.length-7:void 0),y=s[Rt]||null,y=y!=null?y[c]:null,typeof y=="function"&&s.removeEventListener(l,y,g),typeof h=="function")){typeof y!="function"&&y!==null&&(c in s?s[c]=null:s.hasAttribute(c)&&s.removeAttribute(c)),s.addEventListener(l,h,g);break t}c in s?s[c]=h:h===!0?s.setAttribute(c,""):Ua(s,c,h)}}}function Ie(s,l,c){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Bt("error",s),Bt("load",s);var h=!1,g=!1,y;for(y in c)if(c.hasOwnProperty(y)){var x=c[y];if(x!=null)switch(y){case"src":h=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,l));default:Ft(s,l,y,x,c,null)}}g&&Ft(s,l,"srcSet",c.srcSet,c,null),h&&Ft(s,l,"src",c.src,c,null);return;case"input":Bt("invalid",s);var w=y=x=g=null,T=null,_=null;for(h in c)if(c.hasOwnProperty(h)){var Q=c[h];if(Q!=null)switch(h){case"name":g=Q;break;case"type":x=Q;break;case"checked":T=Q;break;case"defaultChecked":_=Q;break;case"value":y=Q;break;case"defaultValue":w=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(n(137,l));break;default:Ft(s,l,h,Q,c,null)}}Ep(s,y,w,T,_,x,g,!1),Va(s);return;case"select":Bt("invalid",s),h=x=y=null;for(g in c)if(c.hasOwnProperty(g)&&(w=c[g],w!=null))switch(g){case"value":y=w;break;case"defaultValue":x=w;break;case"multiple":h=w;default:Ft(s,l,g,w,c,null)}l=y,c=x,s.multiple=!!h,l!=null?qr(s,!!h,l,!1):c!=null&&qr(s,!!h,c,!0);return;case"textarea":Bt("invalid",s),y=g=h=null;for(x in c)if(c.hasOwnProperty(x)&&(w=c[x],w!=null))switch(x){case"value":h=w;break;case"defaultValue":g=w;break;case"children":y=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(n(91));break;default:Ft(s,l,x,w,c,null)}Np(s,h,g,y),Va(s);return;case"option":for(T in c)if(c.hasOwnProperty(T)&&(h=c[T],h!=null))switch(T){case"selected":s.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Ft(s,l,T,h,c,null)}return;case"dialog":Bt("beforetoggle",s),Bt("toggle",s),Bt("cancel",s),Bt("close",s);break;case"iframe":case"object":Bt("load",s);break;case"video":case"audio":for(h=0;h<No.length;h++)Bt(No[h],s);break;case"image":Bt("error",s),Bt("load",s);break;case"details":Bt("toggle",s);break;case"embed":case"source":case"link":Bt("error",s),Bt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(_ in c)if(c.hasOwnProperty(_)&&(h=c[_],h!=null))switch(_){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,l));default:Ft(s,l,_,h,c,null)}return;default:if(Ph(l)){for(Q in c)c.hasOwnProperty(Q)&&(h=c[Q],h!==void 0&&Td(s,l,Q,h,c,void 0));return}}for(w in c)c.hasOwnProperty(w)&&(h=c[w],h!=null&&Ft(s,l,w,h,c,null))}function UC(s,l,c,h){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,x=null,w=null,T=null,_=null,Q=null;for(V in c){var F=c[V];if(c.hasOwnProperty(V)&&F!=null)switch(V){case"checked":break;case"value":break;case"defaultValue":T=F;default:h.hasOwnProperty(V)||Ft(s,l,V,null,h,F)}}for(var q in h){var V=h[q];if(F=c[q],h.hasOwnProperty(q)&&(V!=null||F!=null))switch(q){case"type":y=V;break;case"name":g=V;break;case"checked":_=V;break;case"defaultChecked":Q=V;break;case"value":x=V;break;case"defaultValue":w=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(n(137,l));break;default:V!==F&&Ft(s,l,q,V,h,F)}}qh(s,x,w,T,_,Q,y,g);return;case"select":V=x=w=q=null;for(y in c)if(T=c[y],c.hasOwnProperty(y)&&T!=null)switch(y){case"value":break;case"multiple":V=T;default:h.hasOwnProperty(y)||Ft(s,l,y,null,h,T)}for(g in h)if(y=h[g],T=c[g],h.hasOwnProperty(g)&&(y!=null||T!=null))switch(g){case"value":q=y;break;case"defaultValue":w=y;break;case"multiple":x=y;default:y!==T&&Ft(s,l,g,y,h,T)}l=w,c=x,h=V,q!=null?qr(s,!!c,q,!1):!!h!=!!c&&(l!=null?qr(s,!!c,l,!0):qr(s,!!c,c?[]:"",!1));return;case"textarea":V=q=null;for(w in c)if(g=c[w],c.hasOwnProperty(w)&&g!=null&&!h.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Ft(s,l,w,null,h,g)}for(x in h)if(g=h[x],y=c[x],h.hasOwnProperty(x)&&(g!=null||y!=null))switch(x){case"value":q=g;break;case"defaultValue":V=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(n(91));break;default:g!==y&&Ft(s,l,x,g,h,y)}Rp(s,q,V);return;case"option":for(var kt in c)if(q=c[kt],c.hasOwnProperty(kt)&&q!=null&&!h.hasOwnProperty(kt))switch(kt){case"selected":s.selected=!1;break;default:Ft(s,l,kt,null,h,q)}for(T in h)if(q=h[T],V=c[T],h.hasOwnProperty(T)&&q!==V&&(q!=null||V!=null))switch(T){case"selected":s.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Ft(s,l,T,q,h,V)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var St in c)q=c[St],c.hasOwnProperty(St)&&q!=null&&!h.hasOwnProperty(St)&&Ft(s,l,St,null,h,q);for(_ in h)if(q=h[_],V=c[_],h.hasOwnProperty(_)&&q!==V&&(q!=null||V!=null))switch(_){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(n(137,l));break;default:Ft(s,l,_,q,h,V)}return;default:if(Ph(l)){for(var Zt in c)q=c[Zt],c.hasOwnProperty(Zt)&&q!==void 0&&!h.hasOwnProperty(Zt)&&Td(s,l,Zt,void 0,h,q);for(Q in h)q=h[Q],V=c[Q],!h.hasOwnProperty(Q)||q===V||q===void 0&&V===void 0||Td(s,l,Q,q,h,V);return}}for(var N in c)q=c[N],c.hasOwnProperty(N)&&q!=null&&!h.hasOwnProperty(N)&&Ft(s,l,N,null,h,q);for(F in h)q=h[F],V=c[F],!h.hasOwnProperty(F)||q===V||q==null&&V==null||Ft(s,l,F,q,h,V)}var Dd=null,Od=null;function Hc(s){return s.nodeType===9?s:s.ownerDocument}function Bb(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Lb(s,l){if(s===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&l==="foreignObject"?0:s}function Ed(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Rd=null;function qC(){var s=window.event;return s&&s.type==="popstate"?s===Rd?!1:(Rd=s,!0):(Rd=null,!1)}var zb=typeof setTimeout=="function"?setTimeout:void 0,VC=typeof clearTimeout=="function"?clearTimeout:void 0,Hb=typeof Promise=="function"?Promise:void 0,PC=typeof queueMicrotask=="function"?queueMicrotask:typeof Hb<"u"?function(s){return Hb.resolve(null).then(s).catch(YC)}:zb;function YC(s){setTimeout(function(){throw s})}function Bs(s){return s==="head"}function jb(s,l){var c=l,h=0,g=0;do{var y=c.nextSibling;if(s.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"){if(0<h&&8>h){c=h;var x=s.ownerDocument;if(c&1&&Lo(x.documentElement),c&2&&Lo(x.body),c&4)for(c=x.head,Lo(c),x=c.firstChild;x;){var w=x.nextSibling,T=x.nodeName;x[Gi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&x.rel.toLowerCase()==="stylesheet"||c.removeChild(x),x=w}}if(g===0){s.removeChild(y),Po(l);return}g--}else c==="$"||c==="$?"||c==="$!"?g++:h=c.charCodeAt(0)-48;else h=0;c=y}while(c);Po(l)}function Nd(s){var l=s.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var c=l;switch(l=l.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Nd(c),Hh(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}s.removeChild(c)}}function GC(s,l,c,h){for(;s.nodeType===1;){var g=c;if(s.nodeName.toLowerCase()!==l.toLowerCase()){if(!h&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(h){if(!s[Gi])switch(l){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==g.rel||s.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||s.getAttribute("title")!==(g.title==null?null:g.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(g.src==null?null:g.src)||s.getAttribute("type")!==(g.type==null?null:g.type)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(l==="input"&&s.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=di(s.nextSibling),s===null)break}return null}function IC(s,l,c){if(l==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=di(s.nextSibling),s===null))return null;return s}function Bd(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function XC(s,l){var c=s.ownerDocument;if(s.data!=="$?"||c.readyState==="complete")l();else{var h=function(){l(),c.removeEventListener("DOMContentLoaded",h)};c.addEventListener("DOMContentLoaded",h),s._reactRetry=h}}function di(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return s}var Ld=null;function _b(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(l===0)return s;l--}else c==="/$"&&l++}s=s.previousSibling}return null}function Ub(s,l,c){switch(l=Hc(c),s){case"html":if(s=l.documentElement,!s)throw Error(n(452));return s;case"head":if(s=l.head,!s)throw Error(n(453));return s;case"body":if(s=l.body,!s)throw Error(n(454));return s;default:throw Error(n(451))}}function Lo(s){for(var l=s.attributes;l.length;)s.removeAttributeNode(l[0]);Hh(s)}var Zn=new Map,qb=new Set;function jc(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var rs=X.d;X.d={f:QC,r:KC,D:WC,C:FC,L:ZC,m:$C,X:tA,S:JC,M:eA};function QC(){var s=rs.f(),l=Dc();return s||l}function KC(s){var l=Hr(s);l!==null&&l.tag===5&&l.type==="form"?ly(l):rs.r(s)}var pl=typeof document>"u"?null:document;function Vb(s,l,c){var h=pl;if(h&&typeof l=="string"&&l){var g=Gn(l);g='link[rel="'+s+'"][href="'+g+'"]',typeof c=="string"&&(g+='[crossorigin="'+c+'"]'),qb.has(g)||(qb.add(g),s={rel:s,crossOrigin:c,href:l},h.querySelector(g)===null&&(l=h.createElement("link"),Ie(l,"link",s),ze(l),h.head.appendChild(l)))}}function WC(s){rs.D(s),Vb("dns-prefetch",s,null)}function FC(s,l){rs.C(s,l),Vb("preconnect",s,l)}function ZC(s,l,c){rs.L(s,l,c);var h=pl;if(h&&s&&l){var g='link[rel="preload"][as="'+Gn(l)+'"]';l==="image"&&c&&c.imageSrcSet?(g+='[imagesrcset="'+Gn(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(g+='[imagesizes="'+Gn(c.imageSizes)+'"]')):g+='[href="'+Gn(s)+'"]';var y=g;switch(l){case"style":y=yl(s);break;case"script":y=bl(s)}Zn.has(y)||(s=m({rel:"preload",href:l==="image"&&c&&c.imageSrcSet?void 0:s,as:l},c),Zn.set(y,s),h.querySelector(g)!==null||l==="style"&&h.querySelector(zo(y))||l==="script"&&h.querySelector(Ho(y))||(l=h.createElement("link"),Ie(l,"link",s),ze(l),h.head.appendChild(l)))}}function $C(s,l){rs.m(s,l);var c=pl;if(c&&s){var h=l&&typeof l.as=="string"?l.as:"script",g='link[rel="modulepreload"][as="'+Gn(h)+'"][href="'+Gn(s)+'"]',y=g;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=bl(s)}if(!Zn.has(y)&&(s=m({rel:"modulepreload",href:s},l),Zn.set(y,s),c.querySelector(g)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Ho(y)))return}h=c.createElement("link"),Ie(h,"link",s),ze(h),c.head.appendChild(h)}}}function JC(s,l,c){rs.S(s,l,c);var h=pl;if(h&&s){var g=jr(h).hoistableStyles,y=yl(s);l=l||"default";var x=g.get(y);if(!x){var w={loading:0,preload:null};if(x=h.querySelector(zo(y)))w.loading=5;else{s=m({rel:"stylesheet",href:s,"data-precedence":l},c),(c=Zn.get(y))&&zd(s,c);var T=x=h.createElement("link");ze(T),Ie(T,"link",s),T._p=new Promise(function(_,Q){T.onload=_,T.onerror=Q}),T.addEventListener("load",function(){w.loading|=1}),T.addEventListener("error",function(){w.loading|=2}),w.loading|=4,_c(x,l,h)}x={type:"stylesheet",instance:x,count:1,state:w},g.set(y,x)}}}function tA(s,l){rs.X(s,l);var c=pl;if(c&&s){var h=jr(c).hoistableScripts,g=bl(s),y=h.get(g);y||(y=c.querySelector(Ho(g)),y||(s=m({src:s,async:!0},l),(l=Zn.get(g))&&Hd(s,l),y=c.createElement("script"),ze(y),Ie(y,"link",s),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(g,y))}}function eA(s,l){rs.M(s,l);var c=pl;if(c&&s){var h=jr(c).hoistableScripts,g=bl(s),y=h.get(g);y||(y=c.querySelector(Ho(g)),y||(s=m({src:s,async:!0,type:"module"},l),(l=Zn.get(g))&&Hd(s,l),y=c.createElement("script"),ze(y),Ie(y,"link",s),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(g,y))}}function Pb(s,l,c,h){var g=(g=lt.current)?jc(g):null;if(!g)throw Error(n(446));switch(s){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(l=yl(c.href),c=jr(g).hoistableStyles,h=c.get(l),h||(h={type:"style",instance:null,count:0,state:null},c.set(l,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){s=yl(c.href);var y=jr(g).hoistableStyles,x=y.get(s);if(x||(g=g.ownerDocument||g,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,x),(y=g.querySelector(zo(s)))&&!y._p&&(x.instance=y,x.state.loading=5),Zn.has(s)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Zn.set(s,c),y||nA(g,s,c,x.state))),l&&h===null)throw Error(n(528,""));return x}if(l&&h!==null)throw Error(n(529,""));return null;case"script":return l=c.async,c=c.src,typeof c=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=bl(c),c=jr(g).hoistableScripts,h=c.get(l),h||(h={type:"script",instance:null,count:0,state:null},c.set(l,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,s))}}function yl(s){return'href="'+Gn(s)+'"'}function zo(s){return'link[rel="stylesheet"]['+s+"]"}function Yb(s){return m({},s,{"data-precedence":s.precedence,precedence:null})}function nA(s,l,c,h){s.querySelector('link[rel="preload"][as="style"]['+l+"]")?h.loading=1:(l=s.createElement("link"),h.preload=l,l.addEventListener("load",function(){return h.loading|=1}),l.addEventListener("error",function(){return h.loading|=2}),Ie(l,"link",c),ze(l),s.head.appendChild(l))}function bl(s){return'[src="'+Gn(s)+'"]'}function Ho(s){return"script[async]"+s}function Gb(s,l,c){if(l.count++,l.instance===null)switch(l.type){case"style":var h=s.querySelector('style[data-href~="'+Gn(c.href)+'"]');if(h)return l.instance=h,ze(h),h;var g=m({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return h=(s.ownerDocument||s).createElement("style"),ze(h),Ie(h,"style",g),_c(h,c.precedence,s),l.instance=h;case"stylesheet":g=yl(c.href);var y=s.querySelector(zo(g));if(y)return l.state.loading|=4,l.instance=y,ze(y),y;h=Yb(c),(g=Zn.get(g))&&zd(h,g),y=(s.ownerDocument||s).createElement("link"),ze(y);var x=y;return x._p=new Promise(function(w,T){x.onload=w,x.onerror=T}),Ie(y,"link",h),l.state.loading|=4,_c(y,c.precedence,s),l.instance=y;case"script":return y=bl(c.src),(g=s.querySelector(Ho(y)))?(l.instance=g,ze(g),g):(h=c,(g=Zn.get(y))&&(h=m({},c),Hd(h,g)),s=s.ownerDocument||s,g=s.createElement("script"),ze(g),Ie(g,"link",h),s.head.appendChild(g),l.instance=g);case"void":return null;default:throw Error(n(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(h=l.instance,l.state.loading|=4,_c(h,c.precedence,s));return l.instance}function _c(s,l,c){for(var h=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=h.length?h[h.length-1]:null,y=g,x=0;x<h.length;x++){var w=h[x];if(w.dataset.precedence===l)y=w;else if(y!==g)break}y?y.parentNode.insertBefore(s,y.nextSibling):(l=c.nodeType===9?c.head:c,l.insertBefore(s,l.firstChild))}function zd(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.title==null&&(s.title=l.title)}function Hd(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.integrity==null&&(s.integrity=l.integrity)}var Uc=null;function Ib(s,l,c){if(Uc===null){var h=new Map,g=Uc=new Map;g.set(c,h)}else g=Uc,h=g.get(c),h||(h=new Map,g.set(c,h));if(h.has(s))return h;for(h.set(s,null),c=c.getElementsByTagName(s),g=0;g<c.length;g++){var y=c[g];if(!(y[Gi]||y[Gt]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var x=y.getAttribute(l)||"";x=s+x;var w=h.get(x);w?w.push(y):h.set(x,[y])}}return h}function Xb(s,l,c){s=s.ownerDocument||s,s.head.insertBefore(c,l==="title"?s.querySelector("head > title"):null)}function iA(s,l,c){if(c===1||l.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return s=l.disabled,typeof l.precedence=="string"&&s==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function Qb(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var jo=null;function sA(){}function rA(s,l,c){if(jo===null)throw Error(n(475));var h=jo;if(l.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var g=yl(c.href),y=s.querySelector(zo(g));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(h.count++,h=qc.bind(h),s.then(h,h)),l.state.loading|=4,l.instance=y,ze(y);return}y=s.ownerDocument||s,c=Yb(c),(g=Zn.get(g))&&zd(c,g),y=y.createElement("link"),ze(y);var x=y;x._p=new Promise(function(w,T){x.onload=w,x.onerror=T}),Ie(y,"link",c),l.instance=y}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(h.count++,l=qc.bind(h),s.addEventListener("load",l),s.addEventListener("error",l))}}function lA(){if(jo===null)throw Error(n(475));var s=jo;return s.stylesheets&&s.count===0&&jd(s,s.stylesheets),0<s.count?function(l){var c=setTimeout(function(){if(s.stylesheets&&jd(s,s.stylesheets),s.unsuspend){var h=s.unsuspend;s.unsuspend=null,h()}},6e4);return s.unsuspend=l,function(){s.unsuspend=null,clearTimeout(c)}}:null}function qc(){if(this.count--,this.count===0){if(this.stylesheets)jd(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Vc=null;function jd(s,l){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Vc=new Map,l.forEach(oA,s),Vc=null,qc.call(s))}function oA(s,l){if(!(l.state.loading&4)){var c=Vc.get(s);if(c)var h=c.get(null);else{c=new Map,Vc.set(s,c);for(var g=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var x=g[y];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(c.set(x.dataset.precedence,x),h=x)}h&&c.set(null,h)}g=l.instance,x=g.getAttribute("data-precedence"),y=c.get(x)||h,y===h&&c.set(null,g),c.set(x,g),this.count++,h=qc.bind(this),g.addEventListener("load",h),g.addEventListener("error",h),y?y.parentNode.insertBefore(g,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(g,s.firstChild)),l.state.loading|=4}}var _o={$$typeof:j,Provider:null,Consumer:null,_currentValue:st,_currentValue2:st,_threadCount:0};function aA(s,l,c,h,g,y,x,w){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=er(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=er(0),this.hiddenUpdates=er(null),this.identifierPrefix=h,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function Kb(s,l,c,h,g,y,x,w,T,_,Q,F){return s=new aA(s,l,c,x,w,T,_,F),l=1,y===!0&&(l|=24),y=On(3,null,null,l),s.current=y,y.stateNode=s,l=bf(),l.refCount++,s.pooledCache=l,l.refCount++,y.memoizedState={element:h,isDehydrated:c,cache:l},wf(y),s}function Wb(s){return s?(s=Wr,s):Wr}function Fb(s,l,c,h,g,y){g=Wb(g),h.context===null?h.context=g:h.pendingContext=g,h=xs(l),h.payload={element:c},y=y===void 0?null:y,y!==null&&(h.callback=y),c=Ss(s,h,l),c!==null&&(Ln(c,s,l),go(c,s,l))}function Zb(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<l?c:l}}function _d(s,l){Zb(s,l),(s=s.alternate)&&Zb(s,l)}function $b(s){if(s.tag===13){var l=Kr(s,67108864);l!==null&&Ln(l,s,67108864),_d(s,67108864)}}var Pc=!0;function cA(s,l,c,h){var g=L.T;L.T=null;var y=X.p;try{X.p=2,Ud(s,l,c,h)}finally{X.p=y,L.T=g}}function uA(s,l,c,h){var g=L.T;L.T=null;var y=X.p;try{X.p=8,Ud(s,l,c,h)}finally{X.p=y,L.T=g}}function Ud(s,l,c,h){if(Pc){var g=qd(h);if(g===null)Md(s,l,h,Yc,c),tv(s,h);else if(fA(g,s,l,c,h))h.stopPropagation();else if(tv(s,h),l&4&&-1<hA.indexOf(s)){for(;g!==null;){var y=Hr(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var x=fn(y.pendingLanes);if(x!==0){var w=y;for(w.pendingLanes|=2,w.entangledLanes|=2;x;){var T=1<<31-ue(x);w.entanglements[1]|=T,x&=~T}Mi(y),(It&6)===0&&(Mc=Me()+500,Ro(0))}}break;case 13:w=Kr(y,2),w!==null&&Ln(w,y,2),Dc(),_d(y,2)}if(y=qd(h),y===null&&Md(s,l,h,Yc,c),y===g)break;g=y}g!==null&&h.stopPropagation()}else Md(s,l,h,null,c)}}function qd(s){return s=Gh(s),Vd(s)}var Yc=null;function Vd(s){if(Yc=null,s=zr(s),s!==null){var l=o(s);if(l===null)s=null;else{var c=l.tag;if(c===13){if(s=a(l),s!==null)return s;s=null}else if(c===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null)}}return Yc=s,null}function Jb(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(tr()){case $e:return 2;case An:return 8;case oi:case xe:return 32;case qn:return 268435456;default:return 32}default:return 32}}var Pd=!1,Ls=null,zs=null,Hs=null,Uo=new Map,qo=new Map,js=[],hA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function tv(s,l){switch(s){case"focusin":case"focusout":Ls=null;break;case"dragenter":case"dragleave":zs=null;break;case"mouseover":case"mouseout":Hs=null;break;case"pointerover":case"pointerout":Uo.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":qo.delete(l.pointerId)}}function Vo(s,l,c,h,g,y){return s===null||s.nativeEvent!==y?(s={blockedOn:l,domEventName:c,eventSystemFlags:h,nativeEvent:y,targetContainers:[g]},l!==null&&(l=Hr(l),l!==null&&$b(l)),s):(s.eventSystemFlags|=h,l=s.targetContainers,g!==null&&l.indexOf(g)===-1&&l.push(g),s)}function fA(s,l,c,h,g){switch(l){case"focusin":return Ls=Vo(Ls,s,l,c,h,g),!0;case"dragenter":return zs=Vo(zs,s,l,c,h,g),!0;case"mouseover":return Hs=Vo(Hs,s,l,c,h,g),!0;case"pointerover":var y=g.pointerId;return Uo.set(y,Vo(Uo.get(y)||null,s,l,c,h,g)),!0;case"gotpointercapture":return y=g.pointerId,qo.set(y,Vo(qo.get(y)||null,s,l,c,h,g)),!0}return!1}function ev(s){var l=zr(s.target);if(l!==null){var c=o(l);if(c!==null){if(l=c.tag,l===13){if(l=a(c),l!==null){s.blockedOn=l,ne(s.priority,function(){if(c.tag===13){var h=Bn();h=Ht(h);var g=Kr(c,h);g!==null&&Ln(g,c,h),_d(c,h)}});return}}else if(l===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Gc(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var c=qd(s.nativeEvent);if(c===null){c=s.nativeEvent;var h=new c.constructor(c.type,c);Yh=h,c.target.dispatchEvent(h),Yh=null}else return l=Hr(c),l!==null&&$b(l),s.blockedOn=c,!1;l.shift()}return!0}function nv(s,l,c){Gc(s)&&c.delete(l)}function dA(){Pd=!1,Ls!==null&&Gc(Ls)&&(Ls=null),zs!==null&&Gc(zs)&&(zs=null),Hs!==null&&Gc(Hs)&&(Hs=null),Uo.forEach(nv),qo.forEach(nv)}function Ic(s,l){s.blockedOn===l&&(s.blockedOn=null,Pd||(Pd=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,dA)))}var Xc=null;function iv(s){Xc!==s&&(Xc=s,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Xc===s&&(Xc=null);for(var l=0;l<s.length;l+=3){var c=s[l],h=s[l+1],g=s[l+2];if(typeof h!="function"){if(Vd(h||c)===null)continue;break}var y=Hr(c);y!==null&&(s.splice(l,3),l-=3,Vf(y,{pending:!0,data:g,method:c.method,action:h},h,g))}}))}function Po(s){function l(T){return Ic(T,s)}Ls!==null&&Ic(Ls,s),zs!==null&&Ic(zs,s),Hs!==null&&Ic(Hs,s),Uo.forEach(l),qo.forEach(l);for(var c=0;c<js.length;c++){var h=js[c];h.blockedOn===s&&(h.blockedOn=null)}for(;0<js.length&&(c=js[0],c.blockedOn===null);)ev(c),c.blockedOn===null&&js.shift();if(c=(s.ownerDocument||s).$$reactFormReplay,c!=null)for(h=0;h<c.length;h+=3){var g=c[h],y=c[h+1],x=g[Rt]||null;if(typeof y=="function")x||iv(c);else if(x){var w=null;if(y&&y.hasAttribute("formAction")){if(g=y,x=y[Rt]||null)w=x.formAction;else if(Vd(g)!==null)continue}else w=x.action;typeof w=="function"?c[h+1]=w:(c.splice(h,3),h-=3),iv(c)}}}function Yd(s){this._internalRoot=s}Qc.prototype.render=Yd.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(n(409));var c=l.current,h=Bn();Fb(c,h,s,l,null,null)},Qc.prototype.unmount=Yd.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;Fb(s.current,2,null,s,null,null),Dc(),l[Kt]=null}};function Qc(s){this._internalRoot=s}Qc.prototype.unstable_scheduleHydration=function(s){if(s){var l=Le();s={blockedOn:null,target:s,priority:l};for(var c=0;c<js.length&&l!==0&&l<js[c].priority;c++);js.splice(c,0,s),c===0&&ev(s)}};var sv=t.version;if(sv!=="19.1.1")throw Error(n(527,sv,"19.1.1"));X.findDOMNode=function(s){var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=f(l),s=s!==null?d(s):null,s=s===null?null:s.stateNode,s};var gA={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kc.isDisabled&&Kc.supportsFiber)try{Vn=Kc.inject(gA),fe=Kc}catch{}}return Go.createRoot=function(s,l){if(!r(s))throw Error(n(299));var c=!1,h="",g=xy,y=Sy,x=wy,w=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(h=l.identifierPrefix),l.onUncaughtError!==void 0&&(g=l.onUncaughtError),l.onCaughtError!==void 0&&(y=l.onCaughtError),l.onRecoverableError!==void 0&&(x=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(w=l.unstable_transitionCallbacks)),l=Kb(s,1,!1,null,null,c,h,g,y,x,w,null),s[Kt]=l.current,Ad(s),new Yd(l)},Go.hydrateRoot=function(s,l,c){if(!r(s))throw Error(n(299));var h=!1,g="",y=xy,x=Sy,w=wy,T=null,_=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onUncaughtError!==void 0&&(y=c.onUncaughtError),c.onCaughtError!==void 0&&(x=c.onCaughtError),c.onRecoverableError!==void 0&&(w=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(T=c.unstable_transitionCallbacks),c.formState!==void 0&&(_=c.formState)),l=Kb(s,1,!0,l,c??null,h,g,y,x,w,T,_),l.context=Wb(null),c=l.current,h=Bn(),h=Ht(h),g=xs(h),g.callback=null,Ss(c,g,h),c=h,l.current.lanes=c,re(l,c),Mi(l),s[Kt]=l.current,Ad(s),new Qc(l)},Go.version="19.1.1",Go}var gv;function kA(){if(gv)return Xd.exports;gv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Xd.exports=wA(),Xd.exports}var CA=kA();const AA=Lm(CA);var wl=Hx();const MA=Lm(wl);function TA(i){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",t.appendChild(e),e.styleSheet?e.styleSheet.cssText=i:e.appendChild(document.createTextNode(i))}const DA=i=>{switch(i){case"success":return RA;case"info":return BA;case"warning":return NA;case"error":return LA;default:return null}},OA=Array(12).fill(0),EA=({visible:i,className:t})=>J.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":i},J.createElement("div",{className:"sonner-spinner"},OA.map((e,n)=>J.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),RA=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),NA=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),BA=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),LA=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),zA=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},J.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),J.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),HA=()=>{const[i,t]=J.useState(document.hidden);return J.useEffect(()=>{const e=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)},[]),i};let Eg=1;class jA{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;const{message:n,...r}=t,o=typeof t?.id=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:Eg++,a=this.toasts.find(f=>f.id===o),u=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),a?this.toasts=this.toasts.map(f=>f.id===o?(this.publish({...f,...t,id:o,title:n}),{...f,...t,id:o,dismissible:u,title:n}):f):this.addToast({title:n,...r,dismissible:u,id:o}),o},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(e=>e({id:t,dismiss:!0})))):this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));const r=Promise.resolve(t instanceof Function?t():t);let o=n!==void 0,a;const u=r.then(async d=>{if(a=["resolve",d],J.isValidElement(d))o=!1,this.create({id:n,type:"default",message:d});else if(UA(d)&&!d.ok){o=!1;const p=typeof e.error=="function"?await e.error(`HTTP error! status: ${d.status}`):e.error,b=typeof e.description=="function"?await e.description(`HTTP error! status: ${d.status}`):e.description,S=typeof p=="object"&&!J.isValidElement(p)?p:{message:p};this.create({id:n,type:"error",description:b,...S})}else if(d instanceof Error){o=!1;const p=typeof e.error=="function"?await e.error(d):e.error,b=typeof e.description=="function"?await e.description(d):e.description,S=typeof p=="object"&&!J.isValidElement(p)?p:{message:p};this.create({id:n,type:"error",description:b,...S})}else if(e.success!==void 0){o=!1;const p=typeof e.success=="function"?await e.success(d):e.success,b=typeof e.description=="function"?await e.description(d):e.description,S=typeof p=="object"&&!J.isValidElement(p)?p:{message:p};this.create({id:n,type:"success",description:b,...S})}}).catch(async d=>{if(a=["reject",d],e.error!==void 0){o=!1;const m=typeof e.error=="function"?await e.error(d):e.error,p=typeof e.description=="function"?await e.description(d):e.description,v=typeof m=="object"&&!J.isValidElement(m)?m:{message:m};this.create({id:n,type:"error",description:p,...v})}}).finally(()=>{o&&(this.dismiss(n),n=void 0),e.finally==null||e.finally.call(e)}),f=()=>new Promise((d,m)=>u.then(()=>a[0]==="reject"?m(a[1]):d(a[1])).catch(m));return typeof n!="string"&&typeof n!="number"?{unwrap:f}:Object.assign(n,{unwrap:f})},this.custom=(t,e)=>{const n=e?.id||Eg++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const yn=new jA,_A=(i,t)=>{const e=t?.id||Eg++;return yn.addToast({title:i,...t,id:e}),e},UA=i=>i&&typeof i=="object"&&"ok"in i&&typeof i.ok=="boolean"&&"status"in i&&typeof i.status=="number",qA=_A,VA=()=>yn.toasts,PA=()=>yn.getActiveToasts(),Ce=Object.assign(qA,{success:yn.success,info:yn.info,warning:yn.warning,error:yn.error,custom:yn.custom,message:yn.message,promise:yn.promise,dismiss:yn.dismiss,loading:yn.loading},{getHistory:VA,getToasts:PA});TA("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Wc(i){return i.label!==void 0}const YA=3,GA="24px",IA="16px",mv=4e3,XA=356,QA=14,KA=45,WA=200;function Ti(...i){return i.filter(Boolean).join(" ")}function FA(i){const[t,e]=i.split("-"),n=[];return t&&n.push(t),e&&n.push(e),n}const ZA=i=>{var t,e,n,r,o,a,u,f,d;const{invert:m,toast:p,unstyled:b,interacting:v,setHeights:S,visibleToasts:k,heights:C,index:A,toasts:B,expanded:j,removeToast:R,defaultRichColors:O,closeButton:z,style:U,cancelButtonStyle:K,actionButtonStyle:tt,className:ut="",descriptionClassName:it="",duration:et,position:ct,gap:mt,expandByDefault:pt,classNames:L,icons:X,closeButtonAriaLabel:st="Close toast"}=i,[ot,M]=J.useState(null),[Y,$]=J.useState(null),[I,nt]=J.useState(!1),[dt,lt]=J.useState(!1),[Qt,yt]=J.useState(!1),[se,Et]=J.useState(!1),[ln,me]=J.useState(!1),[Un,Pe]=J.useState(0),[xi,li]=J.useState(0),Me=J.useRef(p.duration||et||mv),tr=J.useRef(null),$e=J.useRef(null),An=A===0,oi=A+1<=k,xe=p.type,qn=p.dismissible!==!1,Br=p.className||"",Kl=p.descriptionClassName||"",Vn=J.useMemo(()=>C.findIndex(bt=>bt.toastId===p.id)||0,[C,p.id]),fe=J.useMemo(()=>{var bt;return(bt=p.closeButton)!=null?bt:z},[p.closeButton,z]),Ne=J.useMemo(()=>p.duration||et||mv,[p.duration,et]),ue=J.useRef(0),ai=J.useRef(0),Mn=J.useRef(0),ci=J.useRef(null),[ds,gs]=ct.split("-"),fn=J.useMemo(()=>C.reduce((bt,Yt,Ht)=>Ht>=Vn?bt:bt+Yt.height,0),[C,Vn]),Si=HA(),Yi=p.invert||m,ms=xe==="loading";ai.current=J.useMemo(()=>Vn*mt+fn,[Vn,fn]),J.useEffect(()=>{Me.current=Ne},[Ne]),J.useEffect(()=>{nt(!0)},[]),J.useEffect(()=>{const bt=$e.current;if(bt){const Yt=bt.getBoundingClientRect().height;return li(Yt),S(Ht=>[{toastId:p.id,height:Yt,position:p.position},...Ht]),()=>S(Ht=>Ht.filter(qt=>qt.toastId!==p.id))}},[S,p.id]),J.useLayoutEffect(()=>{if(!I)return;const bt=$e.current,Yt=bt.style.height;bt.style.height="auto";const Ht=bt.getBoundingClientRect().height;bt.style.height=Yt,li(Ht),S(qt=>qt.find(ne=>ne.toastId===p.id)?qt.map(ne=>ne.toastId===p.id?{...ne,height:Ht}:ne):[{toastId:p.id,height:Ht,position:p.position},...qt])},[I,p.title,p.description,S,p.id,p.jsx,p.action,p.cancel]);const Tn=J.useCallback(()=>{lt(!0),Pe(ai.current),S(bt=>bt.filter(Yt=>Yt.toastId!==p.id)),setTimeout(()=>{R(p)},WA)},[p,R,S,ai]);J.useEffect(()=>{if(p.promise&&xe==="loading"||p.duration===1/0||p.type==="loading")return;let bt;return j||v||Si?(()=>{if(Mn.current<ue.current){const qt=new Date().getTime()-ue.current;Me.current=Me.current-qt}Mn.current=new Date().getTime()})():(()=>{Me.current!==1/0&&(ue.current=new Date().getTime(),bt=setTimeout(()=>{p.onAutoClose==null||p.onAutoClose.call(p,p),Tn()},Me.current))})(),()=>clearTimeout(bt)},[j,v,p,xe,Si,Tn]),J.useEffect(()=>{p.delete&&(Tn(),p.onDismiss==null||p.onDismiss.call(p,p))},[Tn,p.delete]);function Lr(){var bt;if(X?.loading){var Yt;return J.createElement("div",{className:Ti(L?.loader,p==null||(Yt=p.classNames)==null?void 0:Yt.loader,"sonner-loader"),"data-visible":xe==="loading"},X.loading)}return J.createElement(EA,{className:Ti(L?.loader,p==null||(bt=p.classNames)==null?void 0:bt.loader),visible:xe==="loading"})}const er=p.icon||X?.[xe]||DA(xe);var re,Be;return J.createElement("li",{tabIndex:0,ref:$e,className:Ti(ut,Br,L?.toast,p==null||(t=p.classNames)==null?void 0:t.toast,L?.default,L?.[xe],p==null||(e=p.classNames)==null?void 0:e[xe]),"data-sonner-toast":"","data-rich-colors":(re=p.richColors)!=null?re:O,"data-styled":!(p.jsx||p.unstyled||b),"data-mounted":I,"data-promise":!!p.promise,"data-swiped":ln,"data-removed":dt,"data-visible":oi,"data-y-position":ds,"data-x-position":gs,"data-index":A,"data-front":An,"data-swiping":Qt,"data-dismissible":qn,"data-type":xe,"data-invert":Yi,"data-swipe-out":se,"data-swipe-direction":Y,"data-expanded":!!(j||pt&&I),"data-testid":p.testId,style:{"--index":A,"--toasts-before":A,"--z-index":B.length-A,"--offset":`${dt?Un:ai.current}px`,"--initial-height":pt?"auto":`${xi}px`,...U,...p.style},onDragEnd:()=>{yt(!1),M(null),ci.current=null},onPointerDown:bt=>{bt.button!==2&&(ms||!qn||(tr.current=new Date,Pe(ai.current),bt.target.setPointerCapture(bt.pointerId),bt.target.tagName!=="BUTTON"&&(yt(!0),ci.current={x:bt.clientX,y:bt.clientY})))},onPointerUp:()=>{var bt,Yt,Ht;if(se||!qn)return;ci.current=null;const qt=Number(((bt=$e.current)==null?void 0:bt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Le=Number(((Yt=$e.current)==null?void 0:Yt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ne=new Date().getTime()-((Ht=tr.current)==null?void 0:Ht.getTime()),Mt=ot==="x"?qt:Le,Gt=Math.abs(Mt)/ne;if(Math.abs(Mt)>=KA||Gt>.11){Pe(ai.current),p.onDismiss==null||p.onDismiss.call(p,p),$(ot==="x"?qt>0?"right":"left":Le>0?"down":"up"),Tn(),Et(!0);return}else{var Rt,Kt;(Rt=$e.current)==null||Rt.style.setProperty("--swipe-amount-x","0px"),(Kt=$e.current)==null||Kt.style.setProperty("--swipe-amount-y","0px")}me(!1),yt(!1),M(null)},onPointerMove:bt=>{var Yt,Ht,qt;if(!ci.current||!qn||((Yt=window.getSelection())==null?void 0:Yt.toString().length)>0)return;const ne=bt.clientY-ci.current.y,Mt=bt.clientX-ci.current.x;var Gt;const Rt=(Gt=i.swipeDirections)!=null?Gt:FA(ct);!ot&&(Math.abs(Mt)>1||Math.abs(ne)>1)&&M(Math.abs(Mt)>Math.abs(ne)?"x":"y");let Kt={x:0,y:0};const Pn=on=>1/(1.5+Math.abs(on)/20);if(ot==="y"){if(Rt.includes("top")||Rt.includes("bottom"))if(Rt.includes("top")&&ne<0||Rt.includes("bottom")&&ne>0)Kt.y=ne;else{const on=ne*Pn(ne);Kt.y=Math.abs(on)<Math.abs(ne)?on:ne}}else if(ot==="x"&&(Rt.includes("left")||Rt.includes("right")))if(Rt.includes("left")&&Mt<0||Rt.includes("right")&&Mt>0)Kt.x=Mt;else{const on=Mt*Pn(Mt);Kt.x=Math.abs(on)<Math.abs(Mt)?on:Mt}(Math.abs(Kt.x)>0||Math.abs(Kt.y)>0)&&me(!0),(Ht=$e.current)==null||Ht.style.setProperty("--swipe-amount-x",`${Kt.x}px`),(qt=$e.current)==null||qt.style.setProperty("--swipe-amount-y",`${Kt.y}px`)}},fe&&!p.jsx&&xe!=="loading"?J.createElement("button",{"aria-label":st,"data-disabled":ms,"data-close-button":!0,onClick:ms||!qn?()=>{}:()=>{Tn(),p.onDismiss==null||p.onDismiss.call(p,p)},className:Ti(L?.closeButton,p==null||(n=p.classNames)==null?void 0:n.closeButton)},(Be=X?.close)!=null?Be:zA):null,(xe||p.icon||p.promise)&&p.icon!==null&&(X?.[xe]!==null||p.icon)?J.createElement("div",{"data-icon":"",className:Ti(L?.icon,p==null||(r=p.classNames)==null?void 0:r.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||Lr():null,p.type!=="loading"?er:null):null,J.createElement("div",{"data-content":"",className:Ti(L?.content,p==null||(o=p.classNames)==null?void 0:o.content)},J.createElement("div",{"data-title":"",className:Ti(L?.title,p==null||(a=p.classNames)==null?void 0:a.title)},p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title),p.description?J.createElement("div",{"data-description":"",className:Ti(it,Kl,L?.description,p==null||(u=p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),J.isValidElement(p.cancel)?p.cancel:p.cancel&&Wc(p.cancel)?J.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||K,onClick:bt=>{Wc(p.cancel)&&qn&&(p.cancel.onClick==null||p.cancel.onClick.call(p.cancel,bt),Tn())},className:Ti(L?.cancelButton,p==null||(f=p.classNames)==null?void 0:f.cancelButton)},p.cancel.label):null,J.isValidElement(p.action)?p.action:p.action&&Wc(p.action)?J.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||tt,onClick:bt=>{Wc(p.action)&&(p.action.onClick==null||p.action.onClick.call(p.action,bt),!bt.defaultPrevented&&Tn())},className:Ti(L?.actionButton,p==null||(d=p.classNames)==null?void 0:d.actionButton)},p.action.label):null)};function pv(){if(typeof window>"u"||typeof document>"u")return"ltr";const i=document.documentElement.getAttribute("dir");return i==="auto"||!i?window.getComputedStyle(document.documentElement).direction:i}function $A(i,t){const e={};return[i,t].forEach((n,r)=>{const o=r===1,a=o?"--mobile-offset":"--offset",u=o?IA:GA;function f(d){["top","right","bottom","left"].forEach(m=>{e[`${a}-${m}`]=typeof d=="number"?`${d}px`:d})}typeof n=="number"||typeof n=="string"?f(n):typeof n=="object"?["top","right","bottom","left"].forEach(d=>{n[d]===void 0?e[`${a}-${d}`]=u:e[`${a}-${d}`]=typeof n[d]=="number"?`${n[d]}px`:n[d]}):f(u)}),e}const JA=J.forwardRef(function(t,e){const{id:n,invert:r,position:o="bottom-right",hotkey:a=["altKey","KeyT"],expand:u,closeButton:f,className:d,offset:m,mobileOffset:p,theme:b="light",richColors:v,duration:S,style:k,visibleToasts:C=YA,toastOptions:A,dir:B=pv(),gap:j=QA,icons:R,containerAriaLabel:O="Notifications"}=t,[z,U]=J.useState([]),K=J.useMemo(()=>n?z.filter(I=>I.toasterId===n):z.filter(I=>!I.toasterId),[z,n]),tt=J.useMemo(()=>Array.from(new Set([o].concat(K.filter(I=>I.position).map(I=>I.position)))),[K,o]),[ut,it]=J.useState([]),[et,ct]=J.useState(!1),[mt,pt]=J.useState(!1),[L,X]=J.useState(b!=="system"?b:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),st=J.useRef(null),ot=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),M=J.useRef(null),Y=J.useRef(!1),$=J.useCallback(I=>{U(nt=>{var dt;return(dt=nt.find(lt=>lt.id===I.id))!=null&&dt.delete||yn.dismiss(I.id),nt.filter(({id:lt})=>lt!==I.id)})},[]);return J.useEffect(()=>yn.subscribe(I=>{if(I.dismiss){requestAnimationFrame(()=>{U(nt=>nt.map(dt=>dt.id===I.id?{...dt,delete:!0}:dt))});return}setTimeout(()=>{MA.flushSync(()=>{U(nt=>{const dt=nt.findIndex(lt=>lt.id===I.id);return dt!==-1?[...nt.slice(0,dt),{...nt[dt],...I},...nt.slice(dt+1)]:[I,...nt]})})})}),[z]),J.useEffect(()=>{if(b!=="system"){X(b);return}if(b==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?X("dark"):X("light")),typeof window>"u")return;const I=window.matchMedia("(prefers-color-scheme: dark)");try{I.addEventListener("change",({matches:nt})=>{X(nt?"dark":"light")})}catch{I.addListener(({matches:dt})=>{try{X(dt?"dark":"light")}catch(lt){console.error(lt)}})}},[b]),J.useEffect(()=>{z.length<=1&&ct(!1)},[z]),J.useEffect(()=>{const I=nt=>{var dt;if(a.every(yt=>nt[yt]||nt.code===yt)){var Qt;ct(!0),(Qt=st.current)==null||Qt.focus()}nt.code==="Escape"&&(document.activeElement===st.current||(dt=st.current)!=null&&dt.contains(document.activeElement))&&ct(!1)};return document.addEventListener("keydown",I),()=>document.removeEventListener("keydown",I)},[a]),J.useEffect(()=>{if(st.current)return()=>{M.current&&(M.current.focus({preventScroll:!0}),M.current=null,Y.current=!1)}},[st.current]),J.createElement("section",{ref:e,"aria-label":`${O} ${ot}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},tt.map((I,nt)=>{var dt;const[lt,Qt]=I.split("-");return K.length?J.createElement("ol",{key:I,dir:B==="auto"?pv():B,tabIndex:-1,ref:st,className:d,"data-sonner-toaster":!0,"data-sonner-theme":L,"data-y-position":lt,"data-x-position":Qt,style:{"--front-toast-height":`${((dt=ut[0])==null?void 0:dt.height)||0}px`,"--width":`${XA}px`,"--gap":`${j}px`,...k,...$A(m,p)},onBlur:yt=>{Y.current&&!yt.currentTarget.contains(yt.relatedTarget)&&(Y.current=!1,M.current&&(M.current.focus({preventScroll:!0}),M.current=null))},onFocus:yt=>{yt.target instanceof HTMLElement&&yt.target.dataset.dismissible==="false"||Y.current||(Y.current=!0,M.current=yt.relatedTarget)},onMouseEnter:()=>ct(!0),onMouseMove:()=>ct(!0),onMouseLeave:()=>{mt||ct(!1)},onDragEnd:()=>ct(!1),onPointerDown:yt=>{yt.target instanceof HTMLElement&&yt.target.dataset.dismissible==="false"||pt(!0)},onPointerUp:()=>pt(!1)},K.filter(yt=>!yt.position&&nt===0||yt.position===I).map((yt,se)=>{var Et,ln;return J.createElement(ZA,{key:yt.id,icons:R,index:se,toast:yt,defaultRichColors:v,duration:(Et=A?.duration)!=null?Et:S,className:A?.className,descriptionClassName:A?.descriptionClassName,invert:r,visibleToasts:C,closeButton:(ln=A?.closeButton)!=null?ln:f,interacting:mt,position:I,style:A?.style,unstyled:A?.unstyled,classNames:A?.classNames,cancelButtonStyle:A?.cancelButtonStyle,actionButtonStyle:A?.actionButtonStyle,closeButtonAriaLabel:A?.closeButtonAriaLabel,removeToast:$,toasts:K.filter(me=>me.position==yt.position),heights:ut.filter(me=>me.position==yt.position),setHeights:it,expandByDefault:u,gap:j,expanded:et,swipeDirections:t.swipeDirections})})):null}))});/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),eM=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,n)=>n?n.toUpperCase():e.toLowerCase()),yv=i=>{const t=eM(i);return t.charAt(0).toUpperCase()+t.slice(1)},jx=(...i)=>i.filter((t,e,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===e).join(" ").trim(),nM=i=>{for(const t in i)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var iM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=P.forwardRef(({color:i="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:n,className:r="",children:o,iconNode:a,...u},f)=>P.createElement("svg",{ref:f,...iM,width:t,height:t,stroke:i,strokeWidth:n?Number(e)*24/Number(t):e,className:jx("lucide",r),...!o&&!nM(u)&&{"aria-hidden":"true"},...u},[...a.map(([d,m])=>P.createElement(d,m)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=(i,t)=>{const e=P.forwardRef(({className:n,...r},o)=>P.createElement(sM,{ref:o,iconNode:t,className:jx(`lucide-${tM(yv(i))}`,`lucide-${i}`,n),...r}));return e.displayName=yv(i),e};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],lM=Fe("circle-check-big",rM);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],aM=Fe("circle-x",oM);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cM=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],wu=Fe("clock",cM);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uM=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],hM=Fe("copy",uM);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fM=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],_x=Fe("download",fM);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dM=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],bv=Fe("grip-vertical",dM);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gM=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],mM=Fe("moon",gM);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],yM=Fe("plus",pM);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],vM=Fe("send",bM);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xM=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ux=Fe("settings",xM);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],wM=Fe("sun",SM);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kM=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],CM=Fe("terminal",kM);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],qx=Fe("trash-2",AM);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MM=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Rg=Fe("upload",MM);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],DM=Fe("wifi-off",TM);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OM=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],EM=Fe("wifi",OM);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ju=Fe("x",RM);function Ng(){return Ng=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)({}).hasOwnProperty.call(e,n)&&(i[n]=e[n])}return i},Ng.apply(null,arguments)}function NM(i,t){if(i==null)return{};var e={};for(var n in i)if({}.hasOwnProperty.call(i,n)){if(t.indexOf(n)!==-1)continue;e[n]=i[n]}return e}let Bg=[],Vx=[];(()=>{let i="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(t=>t?parseInt(t,36):1);for(let t=0,e=0;t<i.length;t++)(t%2?Vx:Bg).push(e=e+i[t])})();function BM(i){if(i<768)return!1;for(let t=0,e=Bg.length;;){let n=t+e>>1;if(i<Bg[n])e=n;else if(i>=Vx[n])t=n+1;else return!0;if(t==e)return!1}}function vv(i){return i>=127462&&i<=127487}const xv=8205;function LM(i,t,e=!0,n=!0){return(e?Px:zM)(i,t,n)}function Px(i,t,e){if(t==i.length)return t;t&&Yx(i.charCodeAt(t))&&Gx(i.charCodeAt(t-1))&&t--;let n=Fd(i,t);for(t+=Sv(n);t<i.length;){let r=Fd(i,t);if(n==xv||r==xv||e&&BM(r))t+=Sv(r),n=r;else if(vv(r)){let o=0,a=t-2;for(;a>=0&&vv(Fd(i,a));)o++,a-=2;if(o%2==0)break;t+=2}else break}return t}function zM(i,t,e){for(;t>0;){let n=Px(i,t-2,e);if(n<t)return n;t--}return 0}function Fd(i,t){let e=i.charCodeAt(t);if(!Gx(e)||t+1==i.length)return e;let n=i.charCodeAt(t+1);return Yx(n)?(e-55296<<10)+(n-56320)+65536:e}function Yx(i){return i>=56320&&i<57344}function Gx(i){return i>=55296&&i<56320}function Sv(i){return i<65536?1:2}class _t{lineAt(t){if(t<0||t>this.length)throw new RangeError(`Invalid position ${t} in document of length ${this.length}`);return this.lineInner(t,!1,1,0)}line(t){if(t<1||t>this.lines)throw new RangeError(`Invalid line number ${t} in ${this.lines}-line document`);return this.lineInner(t,!0,1,0)}replace(t,e,n){[t,e]=Ll(this,t,e);let r=[];return this.decompose(0,t,r,2),n.length&&n.decompose(0,n.length,r,3),this.decompose(e,this.length,r,1),Ni.from(r,this.length-(e-t)+n.length)}append(t){return this.replace(this.length,this.length,t)}slice(t,e=this.length){[t,e]=Ll(this,t,e);let n=[];return this.decompose(t,e,n,0),Ni.from(n,e-t)}eq(t){if(t==this)return!0;if(t.length!=this.length||t.lines!=this.lines)return!1;let e=this.scanIdentical(t,1),n=this.length-this.scanIdentical(t,-1),r=new ea(this),o=new ea(t);for(let a=e,u=e;;){if(r.next(a),o.next(a),a=0,r.lineBreak!=o.lineBreak||r.done!=o.done||r.value!=o.value)return!1;if(u+=r.value.length,r.done||u>=n)return!0}}iter(t=1){return new ea(this,t)}iterRange(t,e=this.length){return new Ix(this,t,e)}iterLines(t,e){let n;if(t==null)n=this.iter();else{e==null&&(e=this.lines+1);let r=this.line(t).from;n=this.iterRange(r,Math.max(r,e==this.lines+1?this.length:e<=1?0:this.line(e-1).to))}return new Xx(n)}toString(){return this.sliceString(0)}toJSON(){let t=[];return this.flatten(t),t}constructor(){}static of(t){if(t.length==0)throw new RangeError("A document must have at least one line");return t.length==1&&!t[0]?_t.empty:t.length<=32?new be(t):Ni.from(be.split(t,[]))}}class be extends _t{constructor(t,e=HM(t)){super(),this.text=t,this.length=e}get lines(){return this.text.length}get children(){return null}lineInner(t,e,n,r){for(let o=0;;o++){let a=this.text[o],u=r+a.length;if((e?n:u)>=t)return new jM(r,u,n,a);r=u+1,n++}}decompose(t,e,n,r){let o=t<=0&&e>=this.length?this:new be(wv(this.text,t,e),Math.min(e,this.length)-Math.max(0,t));if(r&1){let a=n.pop(),u=ku(o.text,a.text.slice(),0,o.length);if(u.length<=32)n.push(new be(u,a.length+o.length));else{let f=u.length>>1;n.push(new be(u.slice(0,f)),new be(u.slice(f)))}}else n.push(o)}replace(t,e,n){if(!(n instanceof be))return super.replace(t,e,n);[t,e]=Ll(this,t,e);let r=ku(this.text,ku(n.text,wv(this.text,0,t)),e),o=this.length+n.length-(e-t);return r.length<=32?new be(r,o):Ni.from(be.split(r,[]),o)}sliceString(t,e=this.length,n=`
`){[t,e]=Ll(this,t,e);let r="";for(let o=0,a=0;o<=e&&a<this.text.length;a++){let u=this.text[a],f=o+u.length;o>t&&a&&(r+=n),t<f&&e>o&&(r+=u.slice(Math.max(0,t-o),e-o)),o=f+1}return r}flatten(t){for(let e of this.text)t.push(e)}scanIdentical(){return 0}static split(t,e){let n=[],r=-1;for(let o of t)n.push(o),r+=o.length+1,n.length==32&&(e.push(new be(n,r)),n=[],r=-1);return r>-1&&e.push(new be(n,r)),e}}class Ni extends _t{constructor(t,e){super(),this.children=t,this.length=e,this.lines=0;for(let n of t)this.lines+=n.lines}lineInner(t,e,n,r){for(let o=0;;o++){let a=this.children[o],u=r+a.length,f=n+a.lines-1;if((e?f:u)>=t)return a.lineInner(t,e,n,r);r=u+1,n=f+1}}decompose(t,e,n,r){for(let o=0,a=0;a<=e&&o<this.children.length;o++){let u=this.children[o],f=a+u.length;if(t<=f&&e>=a){let d=r&((a<=t?1:0)|(f>=e?2:0));a>=t&&f<=e&&!d?n.push(u):u.decompose(t-a,e-a,n,d)}a=f+1}}replace(t,e,n){if([t,e]=Ll(this,t,e),n.lines<this.lines)for(let r=0,o=0;r<this.children.length;r++){let a=this.children[r],u=o+a.length;if(t>=o&&e<=u){let f=a.replace(t-o,e-o,n),d=this.lines-a.lines+f.lines;if(f.lines<d>>4&&f.lines>d>>6){let m=this.children.slice();return m[r]=f,new Ni(m,this.length-(e-t)+n.length)}return super.replace(o,u,f)}o=u+1}return super.replace(t,e,n)}sliceString(t,e=this.length,n=`
`){[t,e]=Ll(this,t,e);let r="";for(let o=0,a=0;o<this.children.length&&a<=e;o++){let u=this.children[o],f=a+u.length;a>t&&o&&(r+=n),t<f&&e>a&&(r+=u.sliceString(t-a,e-a,n)),a=f+1}return r}flatten(t){for(let e of this.children)e.flatten(t)}scanIdentical(t,e){if(!(t instanceof Ni))return 0;let n=0,[r,o,a,u]=e>0?[0,0,this.children.length,t.children.length]:[this.children.length-1,t.children.length-1,-1,-1];for(;;r+=e,o+=e){if(r==a||o==u)return n;let f=this.children[r],d=t.children[o];if(f!=d)return n+f.scanIdentical(d,e);n+=f.length+1}}static from(t,e=t.reduce((n,r)=>n+r.length+1,-1)){let n=0;for(let v of t)n+=v.lines;if(n<32){let v=[];for(let S of t)S.flatten(v);return new be(v,e)}let r=Math.max(32,n>>5),o=r<<1,a=r>>1,u=[],f=0,d=-1,m=[];function p(v){let S;if(v.lines>o&&v instanceof Ni)for(let k of v.children)p(k);else v.lines>a&&(f>a||!f)?(b(),u.push(v)):v instanceof be&&f&&(S=m[m.length-1])instanceof be&&v.lines+S.lines<=32?(f+=v.lines,d+=v.length+1,m[m.length-1]=new be(S.text.concat(v.text),S.length+1+v.length)):(f+v.lines>r&&b(),f+=v.lines,d+=v.length+1,m.push(v))}function b(){f!=0&&(u.push(m.length==1?m[0]:Ni.from(m,d)),d=-1,f=m.length=0)}for(let v of t)p(v);return b(),u.length==1?u[0]:new Ni(u,e)}}_t.empty=new be([""],0);function HM(i){let t=-1;for(let e of i)t+=e.length+1;return t}function ku(i,t,e=0,n=1e9){for(let r=0,o=0,a=!0;o<i.length&&r<=n;o++){let u=i[o],f=r+u.length;f>=e&&(f>n&&(u=u.slice(0,n-r)),r<e&&(u=u.slice(e-r)),a?(t[t.length-1]+=u,a=!1):t.push(u)),r=f+1}return t}function wv(i,t,e){return ku(i,[""],t,e)}class ea{constructor(t,e=1){this.dir=e,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[t],this.offsets=[e>0?1:(t instanceof be?t.text.length:t.children.length)<<1]}nextInner(t,e){for(this.done=this.lineBreak=!1;;){let n=this.nodes.length-1,r=this.nodes[n],o=this.offsets[n],a=o>>1,u=r instanceof be?r.text.length:r.children.length;if(a==(e>0?u:0)){if(n==0)return this.done=!0,this.value="",this;e>0&&this.offsets[n-1]++,this.nodes.pop(),this.offsets.pop()}else if((o&1)==(e>0?0:1)){if(this.offsets[n]+=e,t==0)return this.lineBreak=!0,this.value=`
`,this;t--}else if(r instanceof be){let f=r.text[a+(e<0?-1:0)];if(this.offsets[n]+=e,f.length>Math.max(0,t))return this.value=t==0?f:e>0?f.slice(t):f.slice(0,f.length-t),this;t-=f.length}else{let f=r.children[a+(e<0?-1:0)];t>f.length?(t-=f.length,this.offsets[n]+=e):(e<0&&this.offsets[n]--,this.nodes.push(f),this.offsets.push(e>0?1:(f instanceof be?f.text.length:f.children.length)<<1))}}}next(t=0){return t<0&&(this.nextInner(-t,-this.dir),t=this.value.length),this.nextInner(t,this.dir)}}class Ix{constructor(t,e,n){this.value="",this.done=!1,this.cursor=new ea(t,e>n?-1:1),this.pos=e>n?t.length:0,this.from=Math.min(e,n),this.to=Math.max(e,n)}nextInner(t,e){if(e<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;t+=Math.max(0,e<0?this.pos-this.to:this.from-this.pos);let n=e<0?this.pos-this.from:this.to-this.pos;t>n&&(t=n),n-=t;let{value:r}=this.cursor.next(t);return this.pos+=(r.length+t)*e,this.value=r.length<=n?r:e<0?r.slice(r.length-n):r.slice(0,n),this.done=!this.value,this}next(t=0){return t<0?t=Math.max(t,this.from-this.pos):t>0&&(t=Math.min(t,this.to-this.pos)),this.nextInner(t,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class Xx{constructor(t){this.inner=t,this.afterBreak=!0,this.value="",this.done=!1}next(t=0){let{done:e,lineBreak:n,value:r}=this.inner.next(t);return e&&this.afterBreak?(this.value="",this.afterBreak=!1):e?(this.done=!0,this.value=""):n?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=r,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(_t.prototype[Symbol.iterator]=function(){return this.iter()},ea.prototype[Symbol.iterator]=Ix.prototype[Symbol.iterator]=Xx.prototype[Symbol.iterator]=function(){return this});class jM{constructor(t,e,n,r){this.from=t,this.to=e,this.number=n,this.text=r}get length(){return this.to-this.from}}function Ll(i,t,e){return t=Math.max(0,Math.min(i.length,t)),[t,Math.max(t,Math.min(i.length,e))]}function We(i,t,e=!0,n=!0){return LM(i,t,e,n)}function _M(i){return i>=56320&&i<57344}function UM(i){return i>=55296&&i<56320}function bn(i,t){let e=i.charCodeAt(t);if(!UM(e)||t+1==i.length)return e;let n=i.charCodeAt(t+1);return _M(n)?(e-55296<<10)+(n-56320)+65536:e}function Hm(i){return i<=65535?String.fromCharCode(i):(i-=65536,String.fromCharCode((i>>10)+55296,(i&1023)+56320))}function Bi(i){return i<65536?1:2}const Lg=/\r\n?|\n/;var cn=(function(i){return i[i.Simple=0]="Simple",i[i.TrackDel=1]="TrackDel",i[i.TrackBefore=2]="TrackBefore",i[i.TrackAfter=3]="TrackAfter",i})(cn||(cn={}));class ji{constructor(t){this.sections=t}get length(){let t=0;for(let e=0;e<this.sections.length;e+=2)t+=this.sections[e];return t}get newLength(){let t=0;for(let e=0;e<this.sections.length;e+=2){let n=this.sections[e+1];t+=n<0?this.sections[e]:n}return t}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(t){for(let e=0,n=0,r=0;e<this.sections.length;){let o=this.sections[e++],a=this.sections[e++];a<0?(t(n,r,o),r+=o):r+=a,n+=o}}iterChangedRanges(t,e=!1){zg(this,t,e)}get invertedDesc(){let t=[];for(let e=0;e<this.sections.length;){let n=this.sections[e++],r=this.sections[e++];r<0?t.push(n,r):t.push(r,n)}return new ji(t)}composeDesc(t){return this.empty?t:t.empty?this:Qx(this,t)}mapDesc(t,e=!1){return t.empty?this:Hg(this,t,e)}mapPos(t,e=-1,n=cn.Simple){let r=0,o=0;for(let a=0;a<this.sections.length;){let u=this.sections[a++],f=this.sections[a++],d=r+u;if(f<0){if(d>t)return o+(t-r);o+=u}else{if(n!=cn.Simple&&d>=t&&(n==cn.TrackDel&&r<t&&d>t||n==cn.TrackBefore&&r<t||n==cn.TrackAfter&&d>t))return null;if(d>t||d==t&&e<0&&!u)return t==r||e<0?o:o+f;o+=f}r=d}if(t>r)throw new RangeError(`Position ${t} is out of range for changeset of length ${r}`);return o}touchesRange(t,e=t){for(let n=0,r=0;n<this.sections.length&&r<=e;){let o=this.sections[n++],a=this.sections[n++],u=r+o;if(a>=0&&r<=e&&u>=t)return r<t&&u>e?"cover":!0;r=u}return!1}toString(){let t="";for(let e=0;e<this.sections.length;){let n=this.sections[e++],r=this.sections[e++];t+=(t?" ":"")+n+(r>=0?":"+r:"")}return t}toJSON(){return this.sections}static fromJSON(t){if(!Array.isArray(t)||t.length%2||t.some(e=>typeof e!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new ji(t)}static create(t){return new ji(t)}}class Oe extends ji{constructor(t,e){super(t),this.inserted=e}apply(t){if(this.length!=t.length)throw new RangeError("Applying change set to a document with the wrong length");return zg(this,(e,n,r,o,a)=>t=t.replace(r,r+(n-e),a),!1),t}mapDesc(t,e=!1){return Hg(this,t,e,!0)}invert(t){let e=this.sections.slice(),n=[];for(let r=0,o=0;r<e.length;r+=2){let a=e[r],u=e[r+1];if(u>=0){e[r]=u,e[r+1]=a;let f=r>>1;for(;n.length<f;)n.push(_t.empty);n.push(a?t.slice(o,o+a):_t.empty)}o+=a}return new Oe(e,n)}compose(t){return this.empty?t:t.empty?this:Qx(this,t,!0)}map(t,e=!1){return t.empty?this:Hg(this,t,e,!0)}iterChanges(t,e=!1){zg(this,t,e)}get desc(){return ji.create(this.sections)}filter(t){let e=[],n=[],r=[],o=new ua(this);t:for(let a=0,u=0;;){let f=a==t.length?1e9:t[a++];for(;u<f||u==f&&o.len==0;){if(o.done)break t;let m=Math.min(o.len,f-u);en(r,m,-1);let p=o.ins==-1?-1:o.off==0?o.ins:0;en(e,m,p),p>0&&Ys(n,e,o.text),o.forward(m),u+=m}let d=t[a++];for(;u<d;){if(o.done)break t;let m=Math.min(o.len,d-u);en(e,m,-1),en(r,m,o.ins==-1?-1:o.off==0?o.ins:0),o.forward(m),u+=m}}return{changes:new Oe(e,n),filtered:ji.create(r)}}toJSON(){let t=[];for(let e=0;e<this.sections.length;e+=2){let n=this.sections[e],r=this.sections[e+1];r<0?t.push(n):r==0?t.push([n]):t.push([n].concat(this.inserted[e>>1].toJSON()))}return t}static of(t,e,n){let r=[],o=[],a=0,u=null;function f(m=!1){if(!m&&!r.length)return;a<e&&en(r,e-a,-1);let p=new Oe(r,o);u=u?u.compose(p.map(u)):p,r=[],o=[],a=0}function d(m){if(Array.isArray(m))for(let p of m)d(p);else if(m instanceof Oe){if(m.length!=e)throw new RangeError(`Mismatched change set length (got ${m.length}, expected ${e})`);f(),u=u?u.compose(m.map(u)):m}else{let{from:p,to:b=p,insert:v}=m;if(p>b||p<0||b>e)throw new RangeError(`Invalid change range ${p} to ${b} (in doc of length ${e})`);let S=v?typeof v=="string"?_t.of(v.split(n||Lg)):v:_t.empty,k=S.length;if(p==b&&k==0)return;p<a&&f(),p>a&&en(r,p-a,-1),en(r,b-p,k),Ys(o,r,S),a=b}}return d(t),f(!u),u}static empty(t){return new Oe(t?[t,-1]:[],[])}static fromJSON(t){if(!Array.isArray(t))throw new RangeError("Invalid JSON representation of ChangeSet");let e=[],n=[];for(let r=0;r<t.length;r++){let o=t[r];if(typeof o=="number")e.push(o,-1);else{if(!Array.isArray(o)||typeof o[0]!="number"||o.some((a,u)=>u&&typeof a!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(o.length==1)e.push(o[0],0);else{for(;n.length<r;)n.push(_t.empty);n[r]=_t.of(o.slice(1)),e.push(o[0],n[r].length)}}}return new Oe(e,n)}static createSet(t,e){return new Oe(t,e)}}function en(i,t,e,n=!1){if(t==0&&e<=0)return;let r=i.length-2;r>=0&&e<=0&&e==i[r+1]?i[r]+=t:r>=0&&t==0&&i[r]==0?i[r+1]+=e:n?(i[r]+=t,i[r+1]+=e):i.push(t,e)}function Ys(i,t,e){if(e.length==0)return;let n=t.length-2>>1;if(n<i.length)i[i.length-1]=i[i.length-1].append(e);else{for(;i.length<n;)i.push(_t.empty);i.push(e)}}function zg(i,t,e){let n=i.inserted;for(let r=0,o=0,a=0;a<i.sections.length;){let u=i.sections[a++],f=i.sections[a++];if(f<0)r+=u,o+=u;else{let d=r,m=o,p=_t.empty;for(;d+=u,m+=f,f&&n&&(p=p.append(n[a-2>>1])),!(e||a==i.sections.length||i.sections[a+1]<0);)u=i.sections[a++],f=i.sections[a++];t(r,d,o,m,p),r=d,o=m}}}function Hg(i,t,e,n=!1){let r=[],o=n?[]:null,a=new ua(i),u=new ua(t);for(let f=-1;;){if(a.done&&u.len||u.done&&a.len)throw new Error("Mismatched change set lengths");if(a.ins==-1&&u.ins==-1){let d=Math.min(a.len,u.len);en(r,d,-1),a.forward(d),u.forward(d)}else if(u.ins>=0&&(a.ins<0||f==a.i||a.off==0&&(u.len<a.len||u.len==a.len&&!e))){let d=u.len;for(en(r,u.ins,-1);d;){let m=Math.min(a.len,d);a.ins>=0&&f<a.i&&a.len<=m&&(en(r,0,a.ins),o&&Ys(o,r,a.text),f=a.i),a.forward(m),d-=m}u.next()}else if(a.ins>=0){let d=0,m=a.len;for(;m;)if(u.ins==-1){let p=Math.min(m,u.len);d+=p,m-=p,u.forward(p)}else if(u.ins==0&&u.len<m)m-=u.len,u.next();else break;en(r,d,f<a.i?a.ins:0),o&&f<a.i&&Ys(o,r,a.text),f=a.i,a.forward(a.len-m)}else{if(a.done&&u.done)return o?Oe.createSet(r,o):ji.create(r);throw new Error("Mismatched change set lengths")}}}function Qx(i,t,e=!1){let n=[],r=e?[]:null,o=new ua(i),a=new ua(t);for(let u=!1;;){if(o.done&&a.done)return r?Oe.createSet(n,r):ji.create(n);if(o.ins==0)en(n,o.len,0,u),o.next();else if(a.len==0&&!a.done)en(n,0,a.ins,u),r&&Ys(r,n,a.text),a.next();else{if(o.done||a.done)throw new Error("Mismatched change set lengths");{let f=Math.min(o.len2,a.len),d=n.length;if(o.ins==-1){let m=a.ins==-1?-1:a.off?0:a.ins;en(n,f,m,u),r&&m&&Ys(r,n,a.text)}else a.ins==-1?(en(n,o.off?0:o.len,f,u),r&&Ys(r,n,o.textBit(f))):(en(n,o.off?0:o.len,a.off?0:a.ins,u),r&&!a.off&&Ys(r,n,a.text));u=(o.ins>f||a.ins>=0&&a.len>f)&&(u||n.length>d),o.forward2(f),a.forward(f)}}}}class ua{constructor(t){this.set=t,this.i=0,this.next()}next(){let{sections:t}=this.set;this.i<t.length?(this.len=t[this.i++],this.ins=t[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:t}=this.set,e=this.i-2>>1;return e>=t.length?_t.empty:t[e]}textBit(t){let{inserted:e}=this.set,n=this.i-2>>1;return n>=e.length&&!t?_t.empty:e[n].slice(this.off,t==null?void 0:this.off+t)}forward(t){t==this.len?this.next():(this.len-=t,this.off+=t)}forward2(t){this.ins==-1?this.forward(t):t==this.ins?this.next():(this.ins-=t,this.off+=t)}}class wr{constructor(t,e,n){this.from=t,this.to=e,this.flags=n}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let t=this.flags&7;return t==7?null:t}get goalColumn(){let t=this.flags>>6;return t==16777215?void 0:t}map(t,e=-1){let n,r;return this.empty?n=r=t.mapPos(this.from,e):(n=t.mapPos(this.from,1),r=t.mapPos(this.to,-1)),n==this.from&&r==this.to?this:new wr(n,r,this.flags)}extend(t,e=t){if(t<=this.anchor&&e>=this.anchor)return Z.range(t,e);let n=Math.abs(t-this.anchor)>Math.abs(e-this.anchor)?t:e;return Z.range(this.anchor,n)}eq(t,e=!1){return this.anchor==t.anchor&&this.head==t.head&&(!e||!this.empty||this.assoc==t.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(t){if(!t||typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return Z.range(t.anchor,t.head)}static create(t,e,n){return new wr(t,e,n)}}class Z{constructor(t,e){this.ranges=t,this.mainIndex=e}map(t,e=-1){return t.empty?this:Z.create(this.ranges.map(n=>n.map(t,e)),this.mainIndex)}eq(t,e=!1){if(this.ranges.length!=t.ranges.length||this.mainIndex!=t.mainIndex)return!1;for(let n=0;n<this.ranges.length;n++)if(!this.ranges[n].eq(t.ranges[n],e))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new Z([this.main],0)}addRange(t,e=!0){return Z.create([t].concat(this.ranges),e?0:this.mainIndex+1)}replaceRange(t,e=this.mainIndex){let n=this.ranges.slice();return n[e]=t,Z.create(n,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(t=>t.toJSON()),main:this.mainIndex}}static fromJSON(t){if(!t||!Array.isArray(t.ranges)||typeof t.main!="number"||t.main>=t.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new Z(t.ranges.map(e=>wr.fromJSON(e)),t.main)}static single(t,e=t){return new Z([Z.range(t,e)],0)}static create(t,e=0){if(t.length==0)throw new RangeError("A selection needs at least one range");for(let n=0,r=0;r<t.length;r++){let o=t[r];if(o.empty?o.from<=n:o.from<n)return Z.normalized(t.slice(),e);n=o.to}return new Z(t,e)}static cursor(t,e=0,n,r){return wr.create(t,t,(e==0?0:e<0?8:16)|(n==null?7:Math.min(6,n))|(r??16777215)<<6)}static range(t,e,n,r){let o=(n??16777215)<<6|(r==null?7:Math.min(6,r));return e<t?wr.create(e,t,48|o):wr.create(t,e,(e>t?8:0)|o)}static normalized(t,e=0){let n=t[e];t.sort((r,o)=>r.from-o.from),e=t.indexOf(n);for(let r=1;r<t.length;r++){let o=t[r],a=t[r-1];if(o.empty?o.from<=a.to:o.from<a.to){let u=a.from,f=Math.max(o.to,a.to);r<=e&&e--,t.splice(--r,2,o.anchor>o.head?Z.range(f,u):Z.range(u,f))}}return new Z(t,e)}}function Kx(i,t){for(let e of i.ranges)if(e.to>t)throw new RangeError("Selection points outside of document")}let jm=0;class ft{constructor(t,e,n,r,o){this.combine=t,this.compareInput=e,this.compare=n,this.isStatic=r,this.id=jm++,this.default=t([]),this.extensions=typeof o=="function"?o(this):o}get reader(){return this}static define(t={}){return new ft(t.combine||(e=>e),t.compareInput||((e,n)=>e===n),t.compare||(t.combine?(e,n)=>e===n:_m),!!t.static,t.enables)}of(t){return new Cu([],this,0,t)}compute(t,e){if(this.isStatic)throw new Error("Can't compute a static facet");return new Cu(t,this,1,e)}computeN(t,e){if(this.isStatic)throw new Error("Can't compute a static facet");return new Cu(t,this,2,e)}from(t,e){return e||(e=n=>n),this.compute([t],n=>e(n.field(t)))}}function _m(i,t){return i==t||i.length==t.length&&i.every((e,n)=>e===t[n])}class Cu{constructor(t,e,n,r){this.dependencies=t,this.facet=e,this.type=n,this.value=r,this.id=jm++}dynamicSlot(t){var e;let n=this.value,r=this.facet.compareInput,o=this.id,a=t[o]>>1,u=this.type==2,f=!1,d=!1,m=[];for(let p of this.dependencies)p=="doc"?f=!0:p=="selection"?d=!0:(((e=t[p.id])!==null&&e!==void 0?e:1)&1)==0&&m.push(t[p.id]);return{create(p){return p.values[a]=n(p),1},update(p,b){if(f&&b.docChanged||d&&(b.docChanged||b.selection)||jg(p,m)){let v=n(p);if(u?!kv(v,p.values[a],r):!r(v,p.values[a]))return p.values[a]=v,1}return 0},reconfigure:(p,b)=>{let v,S=b.config.address[o];if(S!=null){let k=Uu(b,S);if(this.dependencies.every(C=>C instanceof ft?b.facet(C)===p.facet(C):C instanceof Ze?b.field(C,!1)==p.field(C,!1):!0)||(u?kv(v=n(p),k,r):r(v=n(p),k)))return p.values[a]=k,0}else v=n(p);return p.values[a]=v,1}}}}function kv(i,t,e){if(i.length!=t.length)return!1;for(let n=0;n<i.length;n++)if(!e(i[n],t[n]))return!1;return!0}function jg(i,t){let e=!1;for(let n of t)na(i,n)&1&&(e=!0);return e}function qM(i,t,e){let n=e.map(f=>i[f.id]),r=e.map(f=>f.type),o=n.filter(f=>!(f&1)),a=i[t.id]>>1;function u(f){let d=[];for(let m=0;m<n.length;m++){let p=Uu(f,n[m]);if(r[m]==2)for(let b of p)d.push(b);else d.push(p)}return t.combine(d)}return{create(f){for(let d of n)na(f,d);return f.values[a]=u(f),1},update(f,d){if(!jg(f,o))return 0;let m=u(f);return t.compare(m,f.values[a])?0:(f.values[a]=m,1)},reconfigure(f,d){let m=jg(f,n),p=d.config.facets[t.id],b=d.facet(t);if(p&&!m&&_m(e,p))return f.values[a]=b,0;let v=u(f);return t.compare(v,b)?(f.values[a]=b,0):(f.values[a]=v,1)}}}const Fc=ft.define({static:!0});class Ze{constructor(t,e,n,r,o){this.id=t,this.createF=e,this.updateF=n,this.compareF=r,this.spec=o,this.provides=void 0}static define(t){let e=new Ze(jm++,t.create,t.update,t.compare||((n,r)=>n===r),t);return t.provide&&(e.provides=t.provide(e)),e}create(t){let e=t.facet(Fc).find(n=>n.field==this);return(e?.create||this.createF)(t)}slot(t){let e=t[this.id]>>1;return{create:n=>(n.values[e]=this.create(n),1),update:(n,r)=>{let o=n.values[e],a=this.updateF(o,r);return this.compareF(o,a)?0:(n.values[e]=a,1)},reconfigure:(n,r)=>{let o=n.facet(Fc),a=r.facet(Fc),u;return(u=o.find(f=>f.field==this))&&u!=a.find(f=>f.field==this)?(n.values[e]=u.create(n),1):r.config.address[this.id]!=null?(n.values[e]=r.field(this),0):(n.values[e]=this.create(n),1)}}}init(t){return[this,Fc.of({field:this,create:t})]}get extension(){return this}}const xr={lowest:4,low:3,default:2,high:1,highest:0};function Io(i){return t=>new Wx(t,i)}const Nr={highest:Io(xr.highest),high:Io(xr.high),default:Io(xr.default),low:Io(xr.low),lowest:Io(xr.lowest)};class Wx{constructor(t,e){this.inner=t,this.prec=e}}class vh{of(t){return new _g(this,t)}reconfigure(t){return vh.reconfigure.of({compartment:this,extension:t})}get(t){return t.config.compartments.get(this)}}class _g{constructor(t,e){this.compartment=t,this.inner=e}}class _u{constructor(t,e,n,r,o,a){for(this.base=t,this.compartments=e,this.dynamicSlots=n,this.address=r,this.staticValues=o,this.facets=a,this.statusTemplate=[];this.statusTemplate.length<n.length;)this.statusTemplate.push(0)}staticFacet(t){let e=this.address[t.id];return e==null?t.default:this.staticValues[e>>1]}static resolve(t,e,n){let r=[],o=Object.create(null),a=new Map;for(let b of VM(t,e,a))b instanceof Ze?r.push(b):(o[b.facet.id]||(o[b.facet.id]=[])).push(b);let u=Object.create(null),f=[],d=[];for(let b of r)u[b.id]=d.length<<1,d.push(v=>b.slot(v));let m=n?.config.facets;for(let b in o){let v=o[b],S=v[0].facet,k=m&&m[b]||[];if(v.every(C=>C.type==0))if(u[S.id]=f.length<<1|1,_m(k,v))f.push(n.facet(S));else{let C=S.combine(v.map(A=>A.value));f.push(n&&S.compare(C,n.facet(S))?n.facet(S):C)}else{for(let C of v)C.type==0?(u[C.id]=f.length<<1|1,f.push(C.value)):(u[C.id]=d.length<<1,d.push(A=>C.dynamicSlot(A)));u[S.id]=d.length<<1,d.push(C=>qM(C,S,v))}}let p=d.map(b=>b(u));return new _u(t,a,p,u,f,o)}}function VM(i,t,e){let n=[[],[],[],[],[]],r=new Map;function o(a,u){let f=r.get(a);if(f!=null){if(f<=u)return;let d=n[f].indexOf(a);d>-1&&n[f].splice(d,1),a instanceof _g&&e.delete(a.compartment)}if(r.set(a,u),Array.isArray(a))for(let d of a)o(d,u);else if(a instanceof _g){if(e.has(a.compartment))throw new RangeError("Duplicate use of compartment in extensions");let d=t.get(a.compartment)||a.inner;e.set(a.compartment,d),o(d,u)}else if(a instanceof Wx)o(a.inner,a.prec);else if(a instanceof Ze)n[u].push(a),a.provides&&o(a.provides,u);else if(a instanceof Cu)n[u].push(a),a.facet.extensions&&o(a.facet.extensions,xr.default);else{let d=a.extension;if(!d)throw new Error(`Unrecognized extension value in extension set (${a}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);o(d,u)}}return o(i,xr.default),n.reduce((a,u)=>a.concat(u))}function na(i,t){if(t&1)return 2;let e=t>>1,n=i.status[e];if(n==4)throw new Error("Cyclic dependency between fields and/or facets");if(n&2)return n;i.status[e]=4;let r=i.computeSlot(i,i.config.dynamicSlots[e]);return i.status[e]=2|r}function Uu(i,t){return t&1?i.config.staticValues[t>>1]:i.values[t>>1]}const Fx=ft.define(),Ug=ft.define({combine:i=>i.some(t=>t),static:!0}),Zx=ft.define({combine:i=>i.length?i[0]:void 0,static:!0}),$x=ft.define(),Jx=ft.define(),tS=ft.define(),eS=ft.define({combine:i=>i.length?i[0]:!1});class qi{constructor(t,e){this.type=t,this.value=e}static define(){return new PM}}class PM{of(t){return new qi(this,t)}}class YM{constructor(t){this.map=t}of(t){return new Ct(this,t)}}class Ct{constructor(t,e){this.type=t,this.value=e}map(t){let e=this.type.map(this.value,t);return e===void 0?void 0:e==this.value?this:new Ct(this.type,e)}is(t){return this.type==t}static define(t={}){return new YM(t.map||(e=>e))}static mapEffects(t,e){if(!t.length)return t;let n=[];for(let r of t){let o=r.map(e);o&&n.push(o)}return n}}Ct.reconfigure=Ct.define();Ct.appendConfig=Ct.define();class Re{constructor(t,e,n,r,o,a){this.startState=t,this.changes=e,this.selection=n,this.effects=r,this.annotations=o,this.scrollIntoView=a,this._doc=null,this._state=null,n&&Kx(n,e.newLength),o.some(u=>u.type==Re.time)||(this.annotations=o.concat(Re.time.of(Date.now())))}static create(t,e,n,r,o,a){return new Re(t,e,n,r,o,a)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(t){for(let e of this.annotations)if(e.type==t)return e.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(t){let e=this.annotation(Re.userEvent);return!!(e&&(e==t||e.length>t.length&&e.slice(0,t.length)==t&&e[t.length]=="."))}}Re.time=qi.define();Re.userEvent=qi.define();Re.addToHistory=qi.define();Re.remote=qi.define();function GM(i,t){let e=[];for(let n=0,r=0;;){let o,a;if(n<i.length&&(r==t.length||t[r]>=i[n]))o=i[n++],a=i[n++];else if(r<t.length)o=t[r++],a=t[r++];else return e;!e.length||e[e.length-1]<o?e.push(o,a):e[e.length-1]<a&&(e[e.length-1]=a)}}function nS(i,t,e){var n;let r,o,a;return e?(r=t.changes,o=Oe.empty(t.changes.length),a=i.changes.compose(t.changes)):(r=t.changes.map(i.changes),o=i.changes.mapDesc(t.changes,!0),a=i.changes.compose(r)),{changes:a,selection:t.selection?t.selection.map(o):(n=i.selection)===null||n===void 0?void 0:n.map(r),effects:Ct.mapEffects(i.effects,r).concat(Ct.mapEffects(t.effects,o)),annotations:i.annotations.length?i.annotations.concat(t.annotations):t.annotations,scrollIntoView:i.scrollIntoView||t.scrollIntoView}}function qg(i,t,e){let n=t.selection,r=Tl(t.annotations);return t.userEvent&&(r=r.concat(Re.userEvent.of(t.userEvent))),{changes:t.changes instanceof Oe?t.changes:Oe.of(t.changes||[],e,i.facet(Zx)),selection:n&&(n instanceof Z?n:Z.single(n.anchor,n.head)),effects:Tl(t.effects),annotations:r,scrollIntoView:!!t.scrollIntoView}}function iS(i,t,e){let n=qg(i,t.length?t[0]:{},i.doc.length);t.length&&t[0].filter===!1&&(e=!1);for(let o=1;o<t.length;o++){t[o].filter===!1&&(e=!1);let a=!!t[o].sequential;n=nS(n,qg(i,t[o],a?n.changes.newLength:i.doc.length),a)}let r=Re.create(i,n.changes,n.selection,n.effects,n.annotations,n.scrollIntoView);return XM(e?IM(r):r)}function IM(i){let t=i.startState,e=!0;for(let r of t.facet($x)){let o=r(i);if(o===!1){e=!1;break}Array.isArray(o)&&(e=e===!0?o:GM(e,o))}if(e!==!0){let r,o;if(e===!1)o=i.changes.invertedDesc,r=Oe.empty(t.doc.length);else{let a=i.changes.filter(e);r=a.changes,o=a.filtered.mapDesc(a.changes).invertedDesc}i=Re.create(t,r,i.selection&&i.selection.map(o),Ct.mapEffects(i.effects,o),i.annotations,i.scrollIntoView)}let n=t.facet(Jx);for(let r=n.length-1;r>=0;r--){let o=n[r](i);o instanceof Re?i=o:Array.isArray(o)&&o.length==1&&o[0]instanceof Re?i=o[0]:i=iS(t,Tl(o),!1)}return i}function XM(i){let t=i.startState,e=t.facet(tS),n=i;for(let r=e.length-1;r>=0;r--){let o=e[r](i);o&&Object.keys(o).length&&(n=nS(n,qg(t,o,i.changes.newLength),!0))}return n==i?i:Re.create(t,i.changes,i.selection,n.effects,n.annotations,n.scrollIntoView)}const QM=[];function Tl(i){return i==null?QM:Array.isArray(i)?i:[i]}var ce=(function(i){return i[i.Word=0]="Word",i[i.Space=1]="Space",i[i.Other=2]="Other",i})(ce||(ce={}));const KM=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let Vg;try{Vg=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function WM(i){if(Vg)return Vg.test(i);for(let t=0;t<i.length;t++){let e=i[t];if(/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||KM.test(e)))return!0}return!1}function FM(i){return t=>{if(!/\S/.test(t))return ce.Space;if(WM(t))return ce.Word;for(let e=0;e<i.length;e++)if(t.indexOf(i[e])>-1)return ce.Word;return ce.Other}}class Lt{constructor(t,e,n,r,o,a){this.config=t,this.doc=e,this.selection=n,this.values=r,this.status=t.statusTemplate.slice(),this.computeSlot=o,a&&(a._state=this);for(let u=0;u<this.config.dynamicSlots.length;u++)na(this,u<<1);this.computeSlot=null}field(t,e=!0){let n=this.config.address[t.id];if(n==null){if(e)throw new RangeError("Field is not present in this state");return}return na(this,n),Uu(this,n)}update(...t){return iS(this,t,!0)}applyTransaction(t){let e=this.config,{base:n,compartments:r}=e;for(let u of t.effects)u.is(vh.reconfigure)?(e&&(r=new Map,e.compartments.forEach((f,d)=>r.set(d,f)),e=null),r.set(u.value.compartment,u.value.extension)):u.is(Ct.reconfigure)?(e=null,n=u.value):u.is(Ct.appendConfig)&&(e=null,n=Tl(n).concat(u.value));let o;e?o=t.startState.values.slice():(e=_u.resolve(n,r,this),o=new Lt(e,this.doc,this.selection,e.dynamicSlots.map(()=>null),(f,d)=>d.reconfigure(f,this),null).values);let a=t.startState.facet(Ug)?t.newSelection:t.newSelection.asSingle();new Lt(e,t.newDoc,a,o,(u,f)=>f.update(u,t),t)}replaceSelection(t){return typeof t=="string"&&(t=this.toText(t)),this.changeByRange(e=>({changes:{from:e.from,to:e.to,insert:t},range:Z.cursor(e.from+t.length)}))}changeByRange(t){let e=this.selection,n=t(e.ranges[0]),r=this.changes(n.changes),o=[n.range],a=Tl(n.effects);for(let u=1;u<e.ranges.length;u++){let f=t(e.ranges[u]),d=this.changes(f.changes),m=d.map(r);for(let b=0;b<u;b++)o[b]=o[b].map(m);let p=r.mapDesc(d,!0);o.push(f.range.map(p)),r=r.compose(m),a=Ct.mapEffects(a,m).concat(Ct.mapEffects(Tl(f.effects),p))}return{changes:r,selection:Z.create(o,e.mainIndex),effects:a}}changes(t=[]){return t instanceof Oe?t:Oe.of(t,this.doc.length,this.facet(Lt.lineSeparator))}toText(t){return _t.of(t.split(this.facet(Lt.lineSeparator)||Lg))}sliceDoc(t=0,e=this.doc.length){return this.doc.sliceString(t,e,this.lineBreak)}facet(t){let e=this.config.address[t.id];return e==null?t.default:(na(this,e),Uu(this,e))}toJSON(t){let e={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(t)for(let n in t){let r=t[n];r instanceof Ze&&this.config.address[r.id]!=null&&(e[n]=r.spec.toJSON(this.field(t[n]),this))}return e}static fromJSON(t,e={},n){if(!t||typeof t.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let r=[];if(n){for(let o in n)if(Object.prototype.hasOwnProperty.call(t,o)){let a=n[o],u=t[o];r.push(a.init(f=>a.spec.fromJSON(u,f)))}}return Lt.create({doc:t.doc,selection:Z.fromJSON(t.selection),extensions:e.extensions?r.concat([e.extensions]):r})}static create(t={}){let e=_u.resolve(t.extensions||[],new Map),n=t.doc instanceof _t?t.doc:_t.of((t.doc||"").split(e.staticFacet(Lt.lineSeparator)||Lg)),r=t.selection?t.selection instanceof Z?t.selection:Z.single(t.selection.anchor,t.selection.head):Z.single(0);return Kx(r,n.length),e.staticFacet(Ug)||(r=r.asSingle()),new Lt(e,n,r,e.dynamicSlots.map(()=>null),(o,a)=>a.create(o),null)}get tabSize(){return this.facet(Lt.tabSize)}get lineBreak(){return this.facet(Lt.lineSeparator)||`
`}get readOnly(){return this.facet(eS)}phrase(t,...e){for(let n of this.facet(Lt.phrases))if(Object.prototype.hasOwnProperty.call(n,t)){t=n[t];break}return e.length&&(t=t.replace(/\$(\$|\d*)/g,(n,r)=>{if(r=="$")return"$";let o=+(r||1);return!o||o>e.length?n:e[o-1]})),t}languageDataAt(t,e,n=-1){let r=[];for(let o of this.facet(Fx))for(let a of o(this,e,n))Object.prototype.hasOwnProperty.call(a,t)&&r.push(a[t]);return r}charCategorizer(t){return FM(this.languageDataAt("wordChars",t).join(""))}wordAt(t){let{text:e,from:n,length:r}=this.doc.lineAt(t),o=this.charCategorizer(t),a=t-n,u=t-n;for(;a>0;){let f=We(e,a,!1);if(o(e.slice(f,a))!=ce.Word)break;a=f}for(;u<r;){let f=We(e,u);if(o(e.slice(u,f))!=ce.Word)break;u=f}return a==u?null:Z.range(a+n,u+n)}}Lt.allowMultipleSelections=Ug;Lt.tabSize=ft.define({combine:i=>i.length?i[0]:4});Lt.lineSeparator=Zx;Lt.readOnly=eS;Lt.phrases=ft.define({compare(i,t){let e=Object.keys(i),n=Object.keys(t);return e.length==n.length&&e.every(r=>i[r]==t[r])}});Lt.languageData=Fx;Lt.changeFilter=$x;Lt.transactionFilter=Jx;Lt.transactionExtender=tS;vh.reconfigure=Ct.define();function Vi(i,t,e={}){let n={};for(let r of i)for(let o of Object.keys(r)){let a=r[o],u=n[o];if(u===void 0)n[o]=a;else if(!(u===a||a===void 0))if(Object.hasOwnProperty.call(e,o))n[o]=e[o](u,a);else throw new Error("Config merge conflict for field "+o)}for(let r in t)n[r]===void 0&&(n[r]=t[r]);return n}class Mr{eq(t){return this==t}range(t,e=t){return Pg.create(t,e,this)}}Mr.prototype.startSide=Mr.prototype.endSide=0;Mr.prototype.point=!1;Mr.prototype.mapMode=cn.TrackDel;let Pg=class sS{constructor(t,e,n){this.from=t,this.to=e,this.value=n}static create(t,e,n){return new sS(t,e,n)}};function Yg(i,t){return i.from-t.from||i.value.startSide-t.value.startSide}class Um{constructor(t,e,n,r){this.from=t,this.to=e,this.value=n,this.maxPoint=r}get length(){return this.to[this.to.length-1]}findIndex(t,e,n,r=0){let o=n?this.to:this.from;for(let a=r,u=o.length;;){if(a==u)return a;let f=a+u>>1,d=o[f]-t||(n?this.value[f].endSide:this.value[f].startSide)-e;if(f==a)return d>=0?a:u;d>=0?u=f:a=f+1}}between(t,e,n,r){for(let o=this.findIndex(e,-1e9,!0),a=this.findIndex(n,1e9,!1,o);o<a;o++)if(r(this.from[o]+t,this.to[o]+t,this.value[o])===!1)return!1}map(t,e){let n=[],r=[],o=[],a=-1,u=-1;for(let f=0;f<this.value.length;f++){let d=this.value[f],m=this.from[f]+t,p=this.to[f]+t,b,v;if(m==p){let S=e.mapPos(m,d.startSide,d.mapMode);if(S==null||(b=v=S,d.startSide!=d.endSide&&(v=e.mapPos(m,d.endSide),v<b)))continue}else if(b=e.mapPos(m,d.startSide),v=e.mapPos(p,d.endSide),b>v||b==v&&d.startSide>0&&d.endSide<=0)continue;(v-b||d.endSide-d.startSide)<0||(a<0&&(a=b),d.point&&(u=Math.max(u,v-b)),n.push(d),r.push(b-a),o.push(v-a))}return{mapped:n.length?new Um(r,o,n,u):null,pos:a}}}class jt{constructor(t,e,n,r){this.chunkPos=t,this.chunk=e,this.nextLayer=n,this.maxPoint=r}static create(t,e,n,r){return new jt(t,e,n,r)}get length(){let t=this.chunk.length-1;return t<0?0:Math.max(this.chunkEnd(t),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let t=this.nextLayer.size;for(let e of this.chunk)t+=e.value.length;return t}chunkEnd(t){return this.chunkPos[t]+this.chunk[t].length}update(t){let{add:e=[],sort:n=!1,filterFrom:r=0,filterTo:o=this.length}=t,a=t.filter;if(e.length==0&&!a)return this;if(n&&(e=e.slice().sort(Yg)),this.isEmpty)return e.length?jt.of(e):this;let u=new rS(this,null,-1).goto(0),f=0,d=[],m=new cs;for(;u.value||f<e.length;)if(f<e.length&&(u.from-e[f].from||u.startSide-e[f].value.startSide)>=0){let p=e[f++];m.addInner(p.from,p.to,p.value)||d.push(p)}else u.rangeIndex==1&&u.chunkIndex<this.chunk.length&&(f==e.length||this.chunkEnd(u.chunkIndex)<e[f].from)&&(!a||r>this.chunkEnd(u.chunkIndex)||o<this.chunkPos[u.chunkIndex])&&m.addChunk(this.chunkPos[u.chunkIndex],this.chunk[u.chunkIndex])?u.nextChunk():((!a||r>u.to||o<u.from||a(u.from,u.to,u.value))&&(m.addInner(u.from,u.to,u.value)||d.push(Pg.create(u.from,u.to,u.value))),u.next());return m.finishInner(this.nextLayer.isEmpty&&!d.length?jt.empty:this.nextLayer.update({add:d,filter:a,filterFrom:r,filterTo:o}))}map(t){if(t.empty||this.isEmpty)return this;let e=[],n=[],r=-1;for(let a=0;a<this.chunk.length;a++){let u=this.chunkPos[a],f=this.chunk[a],d=t.touchesRange(u,u+f.length);if(d===!1)r=Math.max(r,f.maxPoint),e.push(f),n.push(t.mapPos(u));else if(d===!0){let{mapped:m,pos:p}=f.map(u,t);m&&(r=Math.max(r,m.maxPoint),e.push(m),n.push(p))}}let o=this.nextLayer.map(t);return e.length==0?o:new jt(n,e,o||jt.empty,r)}between(t,e,n){if(!this.isEmpty){for(let r=0;r<this.chunk.length;r++){let o=this.chunkPos[r],a=this.chunk[r];if(e>=o&&t<=o+a.length&&a.between(o,t-o,e-o,n)===!1)return}this.nextLayer.between(t,e,n)}}iter(t=0){return ha.from([this]).goto(t)}get isEmpty(){return this.nextLayer==this}static iter(t,e=0){return ha.from(t).goto(e)}static compare(t,e,n,r,o=-1){let a=t.filter(p=>p.maxPoint>0||!p.isEmpty&&p.maxPoint>=o),u=e.filter(p=>p.maxPoint>0||!p.isEmpty&&p.maxPoint>=o),f=Cv(a,u,n),d=new Xo(a,f,o),m=new Xo(u,f,o);n.iterGaps((p,b,v)=>Av(d,p,m,b,v,r)),n.empty&&n.length==0&&Av(d,0,m,0,0,r)}static eq(t,e,n=0,r){r==null&&(r=999999999);let o=t.filter(m=>!m.isEmpty&&e.indexOf(m)<0),a=e.filter(m=>!m.isEmpty&&t.indexOf(m)<0);if(o.length!=a.length)return!1;if(!o.length)return!0;let u=Cv(o,a),f=new Xo(o,u,0).goto(n),d=new Xo(a,u,0).goto(n);for(;;){if(f.to!=d.to||!Gg(f.active,d.active)||f.point&&(!d.point||!f.point.eq(d.point)))return!1;if(f.to>r)return!0;f.next(),d.next()}}static spans(t,e,n,r,o=-1){let a=new Xo(t,null,o).goto(e),u=e,f=a.openStart;for(;;){let d=Math.min(a.to,n);if(a.point){let m=a.activeForPoint(a.to),p=a.pointFrom<e?m.length+1:a.point.startSide<0?m.length:Math.min(m.length,f);r.point(u,d,a.point,m,p,a.pointRank),f=Math.min(a.openEnd(d),m.length)}else d>u&&(r.span(u,d,a.active,f),f=a.openEnd(d));if(a.to>n)return f+(a.point&&a.to>n?1:0);u=a.to,a.next()}}static of(t,e=!1){let n=new cs;for(let r of t instanceof Pg?[t]:e?ZM(t):t)n.add(r.from,r.to,r.value);return n.finish()}static join(t){if(!t.length)return jt.empty;let e=t[t.length-1];for(let n=t.length-2;n>=0;n--)for(let r=t[n];r!=jt.empty;r=r.nextLayer)e=new jt(r.chunkPos,r.chunk,e,Math.max(r.maxPoint,e.maxPoint));return e}}jt.empty=new jt([],[],null,-1);function ZM(i){if(i.length>1)for(let t=i[0],e=1;e<i.length;e++){let n=i[e];if(Yg(t,n)>0)return i.slice().sort(Yg);t=n}return i}jt.empty.nextLayer=jt.empty;class cs{finishChunk(t){this.chunks.push(new Um(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,t&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(t,e,n){this.addInner(t,e,n)||(this.nextLayer||(this.nextLayer=new cs)).add(t,e,n)}addInner(t,e,n){let r=t-this.lastTo||n.startSide-this.last.endSide;if(r<=0&&(t-this.lastFrom||n.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return r<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=t),this.from.push(t-this.chunkStart),this.to.push(e-this.chunkStart),this.last=n,this.lastFrom=t,this.lastTo=e,this.value.push(n),n.point&&(this.maxPoint=Math.max(this.maxPoint,e-t)),!0)}addChunk(t,e){if((t-this.lastTo||e.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,e.maxPoint),this.chunks.push(e),this.chunkPos.push(t);let n=e.value.length-1;return this.last=e.value[n],this.lastFrom=e.from[n]+t,this.lastTo=e.to[n]+t,!0}finish(){return this.finishInner(jt.empty)}finishInner(t){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return t;let e=jt.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(t):t,this.setMaxPoint);return this.from=null,e}}function Cv(i,t,e){let n=new Map;for(let o of i)for(let a=0;a<o.chunk.length;a++)o.chunk[a].maxPoint<=0&&n.set(o.chunk[a],o.chunkPos[a]);let r=new Set;for(let o of t)for(let a=0;a<o.chunk.length;a++){let u=n.get(o.chunk[a]);u!=null&&(e?e.mapPos(u):u)==o.chunkPos[a]&&!e?.touchesRange(u,u+o.chunk[a].length)&&r.add(o.chunk[a])}return r}class rS{constructor(t,e,n,r=0){this.layer=t,this.skip=e,this.minPoint=n,this.rank=r}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(t,e=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(t,e,!1),this}gotoInner(t,e,n){for(;this.chunkIndex<this.layer.chunk.length;){let r=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(r)||this.layer.chunkEnd(this.chunkIndex)<t||r.maxPoint<this.minPoint))break;this.chunkIndex++,n=!1}if(this.chunkIndex<this.layer.chunk.length){let r=this.layer.chunk[this.chunkIndex].findIndex(t-this.layer.chunkPos[this.chunkIndex],e,!0);(!n||this.rangeIndex<r)&&this.setRangeIndex(r)}this.next()}forward(t,e){(this.to-t||this.endSide-e)<0&&this.gotoInner(t,e,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let t=this.layer.chunkPos[this.chunkIndex],e=this.layer.chunk[this.chunkIndex],n=t+e.from[this.rangeIndex];if(this.from=n,this.to=t+e.to[this.rangeIndex],this.value=e.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(t){if(t==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=t}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(t){return this.from-t.from||this.startSide-t.startSide||this.rank-t.rank||this.to-t.to||this.endSide-t.endSide}}class ha{constructor(t){this.heap=t}static from(t,e=null,n=-1){let r=[];for(let o=0;o<t.length;o++)for(let a=t[o];!a.isEmpty;a=a.nextLayer)a.maxPoint>=n&&r.push(new rS(a,e,n,o));return r.length==1?r[0]:new ha(r)}get startSide(){return this.value?this.value.startSide:0}goto(t,e=-1e9){for(let n of this.heap)n.goto(t,e);for(let n=this.heap.length>>1;n>=0;n--)Zd(this.heap,n);return this.next(),this}forward(t,e){for(let n of this.heap)n.forward(t,e);for(let n=this.heap.length>>1;n>=0;n--)Zd(this.heap,n);(this.to-t||this.value.endSide-e)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let t=this.heap[0];this.from=t.from,this.to=t.to,this.value=t.value,this.rank=t.rank,t.value&&t.next(),Zd(this.heap,0)}}}function Zd(i,t){for(let e=i[t];;){let n=(t<<1)+1;if(n>=i.length)break;let r=i[n];if(n+1<i.length&&r.compare(i[n+1])>=0&&(r=i[n+1],n++),e.compare(r)<0)break;i[n]=e,i[t]=r,t=n}}class Xo{constructor(t,e,n){this.minPoint=n,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=ha.from(t,e,n)}goto(t,e=-1e9){return this.cursor.goto(t,e),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=t,this.endSide=e,this.openStart=-1,this.next(),this}forward(t,e){for(;this.minActive>-1&&(this.activeTo[this.minActive]-t||this.active[this.minActive].endSide-e)<0;)this.removeActive(this.minActive);this.cursor.forward(t,e)}removeActive(t){Zc(this.active,t),Zc(this.activeTo,t),Zc(this.activeRank,t),this.minActive=Mv(this.active,this.activeTo)}addActive(t){let e=0,{value:n,to:r,rank:o}=this.cursor;for(;e<this.activeRank.length&&(o-this.activeRank[e]||r-this.activeTo[e])>0;)e++;$c(this.active,e,n),$c(this.activeTo,e,r),$c(this.activeRank,e,o),t&&$c(t,e,this.cursor.from),this.minActive=Mv(this.active,this.activeTo)}next(){let t=this.to,e=this.point;this.point=null;let n=this.openStart<0?[]:null;for(;;){let r=this.minActive;if(r>-1&&(this.activeTo[r]-this.cursor.from||this.active[r].endSide-this.cursor.startSide)<0){if(this.activeTo[r]>t){this.to=this.activeTo[r],this.endSide=this.active[r].endSide;break}this.removeActive(r),n&&Zc(n,r)}else if(this.cursor.value)if(this.cursor.from>t){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let o=this.cursor.value;if(!o.point)this.addActive(n),this.cursor.next();else if(e&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=o,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=o.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(n){this.openStart=0;for(let r=n.length-1;r>=0&&n[r]<t;r--)this.openStart++}}activeForPoint(t){if(!this.active.length)return this.active;let e=[];for(let n=this.active.length-1;n>=0&&!(this.activeRank[n]<this.pointRank);n--)(this.activeTo[n]>t||this.activeTo[n]==t&&this.active[n].endSide>=this.point.endSide)&&e.push(this.active[n]);return e.reverse()}openEnd(t){let e=0;for(let n=this.activeTo.length-1;n>=0&&this.activeTo[n]>t;n--)e++;return e}}function Av(i,t,e,n,r,o){i.goto(t),e.goto(n);let a=n+r,u=n,f=n-t;for(;;){let d=i.to+f-e.to,m=d||i.endSide-e.endSide,p=m<0?i.to+f:e.to,b=Math.min(p,a);if(i.point||e.point?i.point&&e.point&&(i.point==e.point||i.point.eq(e.point))&&Gg(i.activeForPoint(i.to),e.activeForPoint(e.to))||o.comparePoint(u,b,i.point,e.point):b>u&&!Gg(i.active,e.active)&&o.compareRange(u,b,i.active,e.active),p>a)break;(d||i.openEnd!=e.openEnd)&&o.boundChange&&o.boundChange(p),u=p,m<=0&&i.next(),m>=0&&e.next()}}function Gg(i,t){if(i.length!=t.length)return!1;for(let e=0;e<i.length;e++)if(i[e]!=t[e]&&!i[e].eq(t[e]))return!1;return!0}function Zc(i,t){for(let e=t,n=i.length-1;e<n;e++)i[e]=i[e+1];i.pop()}function $c(i,t,e){for(let n=i.length-1;n>=t;n--)i[n+1]=i[n];i[t]=e}function Mv(i,t){let e=-1,n=1e9;for(let r=0;r<t.length;r++)(t[r]-n||i[r].endSide-i[e].endSide)<0&&(e=r,n=t[r]);return e}function Pl(i,t,e=i.length){let n=0;for(let r=0;r<e&&r<i.length;)i.charCodeAt(r)==9?(n+=t-n%t,r++):(n++,r=We(i,r));return n}function Ig(i,t,e,n){for(let r=0,o=0;;){if(o>=t)return r;if(r==i.length)break;o+=i.charCodeAt(r)==9?e-o%e:1,r=We(i,r)}return n===!0?-1:i.length}const Xg="ͼ",Tv=typeof Symbol>"u"?"__"+Xg:Symbol.for(Xg),Qg=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),Dv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class Ks{constructor(t,e){this.rules=[];let{finish:n}=e||{};function r(a){return/^@/.test(a)?[a]:a.split(/,\s*/)}function o(a,u,f,d){let m=[],p=/^@(\w+)\b/.exec(a[0]),b=p&&p[1]=="keyframes";if(p&&u==null)return f.push(a[0]+";");for(let v in u){let S=u[v];if(/&/.test(v))o(v.split(/,\s*/).map(k=>a.map(C=>k.replace(/&/,C))).reduce((k,C)=>k.concat(C)),S,f);else if(S&&typeof S=="object"){if(!p)throw new RangeError("The value of a property ("+v+") should be a primitive value.");o(r(v),S,m,b)}else S!=null&&m.push(v.replace(/_.*/,"").replace(/[A-Z]/g,k=>"-"+k.toLowerCase())+": "+S+";")}(m.length||b)&&f.push((n&&!p&&!d?a.map(n):a).join(", ")+" {"+m.join(" ")+"}")}for(let a in t)o(r(a),t[a],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let t=Dv[Tv]||1;return Dv[Tv]=t+1,Xg+t.toString(36)}static mount(t,e,n){let r=t[Qg],o=n&&n.nonce;r?o&&r.setNonce(o):r=new $M(t,o),r.mount(Array.isArray(e)?e:[e],t)}}let Ov=new Map;class $M{constructor(t,e){let n=t.ownerDocument||t,r=n.defaultView;if(!t.head&&t.adoptedStyleSheets&&r.CSSStyleSheet){let o=Ov.get(n);if(o)return t[Qg]=o;this.sheet=new r.CSSStyleSheet,Ov.set(n,this)}else this.styleTag=n.createElement("style"),e&&this.styleTag.setAttribute("nonce",e);this.modules=[],t[Qg]=this}mount(t,e){let n=this.sheet,r=0,o=0;for(let a=0;a<t.length;a++){let u=t[a],f=this.modules.indexOf(u);if(f<o&&f>-1&&(this.modules.splice(f,1),o--,f=-1),f==-1){if(this.modules.splice(o++,0,u),n)for(let d=0;d<u.rules.length;d++)n.insertRule(u.rules[d],r++)}else{for(;o<f;)r+=this.modules[o++].rules.length;r+=u.rules.length,o++}}if(n)e.adoptedStyleSheets.indexOf(this.sheet)<0&&(e.adoptedStyleSheets=[this.sheet,...e.adoptedStyleSheets]);else{let a="";for(let f=0;f<this.modules.length;f++)a+=this.modules[f].getRules()+`
`;this.styleTag.textContent=a;let u=e.head||e;this.styleTag.parentNode!=u&&u.insertBefore(this.styleTag,u.firstChild)}}setNonce(t){this.styleTag&&this.styleTag.getAttribute("nonce")!=t&&this.styleTag.setAttribute("nonce",t)}}var Ws={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},fa={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},JM=typeof navigator<"u"&&/Mac/.test(navigator.platform),tT=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Ke=0;Ke<10;Ke++)Ws[48+Ke]=Ws[96+Ke]=String(Ke);for(var Ke=1;Ke<=24;Ke++)Ws[Ke+111]="F"+Ke;for(var Ke=65;Ke<=90;Ke++)Ws[Ke]=String.fromCharCode(Ke+32),fa[Ke]=String.fromCharCode(Ke);for(var $d in Ws)fa.hasOwnProperty($d)||(fa[$d]=Ws[$d]);function eT(i){var t=JM&&i.metaKey&&i.shiftKey&&!i.ctrlKey&&!i.altKey||tT&&i.shiftKey&&i.key&&i.key.length==1||i.key=="Unidentified",e=!t&&i.key||(i.shiftKey?fa:Ws)[i.keyCode]||i.key||"Unidentified";return e=="Esc"&&(e="Escape"),e=="Del"&&(e="Delete"),e=="Left"&&(e="ArrowLeft"),e=="Up"&&(e="ArrowUp"),e=="Right"&&(e="ArrowRight"),e=="Down"&&(e="ArrowDown"),e}function Jt(){var i=arguments[0];typeof i=="string"&&(i=document.createElement(i));var t=1,e=arguments[1];if(e&&typeof e=="object"&&e.nodeType==null&&!Array.isArray(e)){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=e[n];typeof r=="string"?i.setAttribute(n,r):r!=null&&(i[n]=r)}t++}for(;t<arguments.length;t++)lS(i,arguments[t]);return i}function lS(i,t){if(typeof t=="string")i.appendChild(document.createTextNode(t));else if(t!=null)if(t.nodeType!=null)i.appendChild(t);else if(Array.isArray(t))for(var e=0;e<t.length;e++)lS(i,t[e]);else throw new RangeError("Unsupported child node: "+t)}function da(i){let t;return i.nodeType==11?t=i.getSelection?i:i.ownerDocument:t=i,t.getSelection()}function Kg(i,t){return t?i==t||i.contains(t.nodeType!=1?t.parentNode:t):!1}function Au(i,t){if(!t.anchorNode)return!1;try{return Kg(i,t.anchorNode)}catch{return!1}}function zl(i){return i.nodeType==3?Dr(i,0,i.nodeValue.length).getClientRects():i.nodeType==1?i.getClientRects():[]}function ia(i,t,e,n){return e?Ev(i,t,e,n,-1)||Ev(i,t,e,n,1):!1}function Tr(i){for(var t=0;;t++)if(i=i.previousSibling,!i)return t}function qu(i){return i.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(i.nodeName)}function Ev(i,t,e,n,r){for(;;){if(i==e&&t==n)return!0;if(t==(r<0?0:_i(i))){if(i.nodeName=="DIV")return!1;let o=i.parentNode;if(!o||o.nodeType!=1)return!1;t=Tr(i)+(r<0?0:1),i=o}else if(i.nodeType==1){if(i=i.childNodes[t+(r<0?-1:0)],i.nodeType==1&&i.contentEditable=="false")return!1;t=r<0?_i(i):0}else return!1}}function _i(i){return i.nodeType==3?i.nodeValue.length:i.childNodes.length}function Da(i,t){let e=t?i.left:i.right;return{left:e,right:e,top:i.top,bottom:i.bottom}}function nT(i){let t=i.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:i.innerWidth,top:0,bottom:i.innerHeight}}function oS(i,t){let e=t.width/i.offsetWidth,n=t.height/i.offsetHeight;return(e>.995&&e<1.005||!isFinite(e)||Math.abs(t.width-i.offsetWidth)<1)&&(e=1),(n>.995&&n<1.005||!isFinite(n)||Math.abs(t.height-i.offsetHeight)<1)&&(n=1),{scaleX:e,scaleY:n}}function iT(i,t,e,n,r,o,a,u){let f=i.ownerDocument,d=f.defaultView||window;for(let m=i,p=!1;m&&!p;)if(m.nodeType==1){let b,v=m==f.body,S=1,k=1;if(v)b=nT(d);else{if(/^(fixed|sticky)$/.test(getComputedStyle(m).position)&&(p=!0),m.scrollHeight<=m.clientHeight&&m.scrollWidth<=m.clientWidth){m=m.assignedSlot||m.parentNode;continue}let B=m.getBoundingClientRect();({scaleX:S,scaleY:k}=oS(m,B)),b={left:B.left,right:B.left+m.clientWidth*S,top:B.top,bottom:B.top+m.clientHeight*k}}let C=0,A=0;if(r=="nearest")t.top<b.top?(A=t.top-(b.top+a),e>0&&t.bottom>b.bottom+A&&(A=t.bottom-b.bottom+a)):t.bottom>b.bottom&&(A=t.bottom-b.bottom+a,e<0&&t.top-A<b.top&&(A=t.top-(b.top+a)));else{let B=t.bottom-t.top,j=b.bottom-b.top;A=(r=="center"&&B<=j?t.top+B/2-j/2:r=="start"||r=="center"&&e<0?t.top-a:t.bottom-j+a)-b.top}if(n=="nearest"?t.left<b.left?(C=t.left-(b.left+o),e>0&&t.right>b.right+C&&(C=t.right-b.right+o)):t.right>b.right&&(C=t.right-b.right+o,e<0&&t.left<b.left+C&&(C=t.left-(b.left+o))):C=(n=="center"?t.left+(t.right-t.left)/2-(b.right-b.left)/2:n=="start"==u?t.left-o:t.right-(b.right-b.left)+o)-b.left,C||A)if(v)d.scrollBy(C,A);else{let B=0,j=0;if(A){let R=m.scrollTop;m.scrollTop+=A/k,j=(m.scrollTop-R)*k}if(C){let R=m.scrollLeft;m.scrollLeft+=C/S,B=(m.scrollLeft-R)*S}t={left:t.left-B,top:t.top-j,right:t.right-B,bottom:t.bottom-j},B&&Math.abs(B-C)<1&&(n="nearest"),j&&Math.abs(j-A)<1&&(r="nearest")}if(v)break;(t.top<b.top||t.bottom>b.bottom||t.left<b.left||t.right>b.right)&&(t={left:Math.max(t.left,b.left),right:Math.min(t.right,b.right),top:Math.max(t.top,b.top),bottom:Math.min(t.bottom,b.bottom)}),m=m.assignedSlot||m.parentNode}else if(m.nodeType==11)m=m.host;else break}function sT(i){let t=i.ownerDocument,e,n;for(let r=i.parentNode;r&&!(r==t.body||e&&n);)if(r.nodeType==1)!n&&r.scrollHeight>r.clientHeight&&(n=r),!e&&r.scrollWidth>r.clientWidth&&(e=r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;return{x:e,y:n}}class rT{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(t){return this.anchorNode==t.anchorNode&&this.anchorOffset==t.anchorOffset&&this.focusNode==t.focusNode&&this.focusOffset==t.focusOffset}setRange(t){let{anchorNode:e,focusNode:n}=t;this.set(e,Math.min(t.anchorOffset,e?_i(e):0),n,Math.min(t.focusOffset,n?_i(n):0))}set(t,e,n,r){this.anchorNode=t,this.anchorOffset=e,this.focusNode=n,this.focusOffset=r}}let vl=null;function aS(i){if(i.setActive)return i.setActive();if(vl)return i.focus(vl);let t=[];for(let e=i;e&&(t.push(e,e.scrollTop,e.scrollLeft),e!=e.ownerDocument);e=e.parentNode);if(i.focus(vl==null?{get preventScroll(){return vl={preventScroll:!0},!0}}:void 0),!vl){vl=!1;for(let e=0;e<t.length;){let n=t[e++],r=t[e++],o=t[e++];n.scrollTop!=r&&(n.scrollTop=r),n.scrollLeft!=o&&(n.scrollLeft=o)}}}let Rv;function Dr(i,t,e=t){let n=Rv||(Rv=document.createRange());return n.setEnd(i,e),n.setStart(i,t),n}function Dl(i,t,e,n){let r={key:t,code:t,keyCode:e,which:e,cancelable:!0};n&&({altKey:r.altKey,ctrlKey:r.ctrlKey,shiftKey:r.shiftKey,metaKey:r.metaKey}=n);let o=new KeyboardEvent("keydown",r);o.synthetic=!0,i.dispatchEvent(o);let a=new KeyboardEvent("keyup",r);return a.synthetic=!0,i.dispatchEvent(a),o.defaultPrevented||a.defaultPrevented}function lT(i){for(;i;){if(i&&(i.nodeType==9||i.nodeType==11&&i.host))return i;i=i.assignedSlot||i.parentNode}return null}function cS(i){for(;i.attributes.length;)i.removeAttributeNode(i.attributes[0])}function oT(i,t){let e=t.focusNode,n=t.focusOffset;if(!e||t.anchorNode!=e||t.anchorOffset!=n)return!1;for(n=Math.min(n,_i(e));;)if(n){if(e.nodeType!=1)return!1;let r=e.childNodes[n-1];r.contentEditable=="false"?n--:(e=r,n=_i(e))}else{if(e==i)return!0;n=Tr(e),e=e.parentNode}}function uS(i){return i.scrollTop>Math.max(1,i.scrollHeight-i.clientHeight-4)}function hS(i,t){for(let e=i,n=t;;){if(e.nodeType==3&&n>0)return{node:e,offset:n};if(e.nodeType==1&&n>0){if(e.contentEditable=="false")return null;e=e.childNodes[n-1],n=_i(e)}else if(e.parentNode&&!qu(e))n=Tr(e),e=e.parentNode;else return null}}function fS(i,t){for(let e=i,n=t;;){if(e.nodeType==3&&n<e.nodeValue.length)return{node:e,offset:n};if(e.nodeType==1&&n<e.childNodes.length){if(e.contentEditable=="false")return null;e=e.childNodes[n],n=0}else if(e.parentNode&&!qu(e))n=Tr(e)+1,e=e.parentNode;else return null}}class nn{constructor(t,e,n=!0){this.node=t,this.offset=e,this.precise=n}static before(t,e){return new nn(t.parentNode,Tr(t),e)}static after(t,e){return new nn(t.parentNode,Tr(t)+1,e)}}const qm=[];class ee{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(t){let e=this.posAtStart;for(let n of this.children){if(n==t)return e;e+=n.length+n.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(t){return this.posBefore(t)+t.length}sync(t,e){if(this.flags&2){let n=this.dom,r=null,o;for(let a of this.children){if(a.flags&7){if(!a.dom&&(o=r?r.nextSibling:n.firstChild)){let u=ee.get(o);(!u||!u.parent&&u.canReuseDOM(a))&&a.reuseDOM(o)}a.sync(t,e),a.flags&=-8}if(o=r?r.nextSibling:n.firstChild,e&&!e.written&&e.node==n&&o!=a.dom&&(e.written=!0),a.dom.parentNode==n)for(;o&&o!=a.dom;)o=Nv(o);else n.insertBefore(a.dom,o);r=a.dom}for(o=r?r.nextSibling:n.firstChild,o&&e&&e.node==n&&(e.written=!0);o;)o=Nv(o)}else if(this.flags&1)for(let n of this.children)n.flags&7&&(n.sync(t,e),n.flags&=-8)}reuseDOM(t){}localPosFromDOM(t,e){let n;if(t==this.dom)n=this.dom.childNodes[e];else{let r=_i(t)==0?0:e==0?-1:1;for(;;){let o=t.parentNode;if(o==this.dom)break;r==0&&o.firstChild!=o.lastChild&&(t==o.firstChild?r=-1:r=1),t=o}r<0?n=t:n=t.nextSibling}if(n==this.dom.firstChild)return 0;for(;n&&!ee.get(n);)n=n.nextSibling;if(!n)return this.length;for(let r=0,o=0;;r++){let a=this.children[r];if(a.dom==n)return o;o+=a.length+a.breakAfter}}domBoundsAround(t,e,n=0){let r=-1,o=-1,a=-1,u=-1;for(let f=0,d=n,m=n;f<this.children.length;f++){let p=this.children[f],b=d+p.length;if(d<t&&b>e)return p.domBoundsAround(t,e,d);if(b>=t&&r==-1&&(r=f,o=d),d>e&&p.dom.parentNode==this.dom){a=f,u=m;break}m=b,d=b+p.breakAfter}return{from:o,to:u<0?n+this.length:u,startDOM:(r?this.children[r-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:a<this.children.length&&a>=0?this.children[a].dom:null}}markDirty(t=!1){this.flags|=2,this.markParentsDirty(t)}markParentsDirty(t){for(let e=this.parent;e;e=e.parent){if(t&&(e.flags|=2),e.flags&1)return;e.flags|=1,t=!1}}setParent(t){this.parent!=t&&(this.parent=t,this.flags&7&&this.markParentsDirty(!0))}setDOM(t){this.dom!=t&&(this.dom&&(this.dom.cmView=null),this.dom=t,t.cmView=this)}get rootView(){for(let t=this;;){let e=t.parent;if(!e)return t;t=e}}replaceChildren(t,e,n=qm){this.markDirty();for(let r=t;r<e;r++){let o=this.children[r];o.parent==this&&n.indexOf(o)<0&&o.destroy()}n.length<250?this.children.splice(t,e-t,...n):this.children=[].concat(this.children.slice(0,t),n,this.children.slice(e));for(let r=0;r<n.length;r++)n[r].setParent(this)}ignoreMutation(t){return!1}ignoreEvent(t){return!1}childCursor(t=this.length){return new dS(this.children,t,this.children.length)}childPos(t,e=1){return this.childCursor().findPos(t,e)}toString(){let t=this.constructor.name.replace("View","");return t+(this.children.length?"("+this.children.join()+")":this.length?"["+(t=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(t){return t.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(t,e,n,r,o,a){return!1}become(t){return!1}canReuseDOM(t){return t.constructor==this.constructor&&!((this.flags|t.flags)&8)}getSide(){return 0}destroy(){for(let t of this.children)t.parent==this&&t.destroy();this.parent=null}}ee.prototype.breakAfter=0;function Nv(i){let t=i.nextSibling;return i.parentNode.removeChild(i),t}class dS{constructor(t,e,n){this.children=t,this.pos=e,this.i=n,this.off=0}findPos(t,e=1){for(;;){if(t>this.pos||t==this.pos&&(e>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=t-this.pos,this;let n=this.children[--this.i];this.pos-=n.length+n.breakAfter}}}function gS(i,t,e,n,r,o,a,u,f){let{children:d}=i,m=d.length?d[t]:null,p=o.length?o[o.length-1]:null,b=p?p.breakAfter:a;if(!(t==n&&m&&!a&&!b&&o.length<2&&m.merge(e,r,o.length?p:null,e==0,u,f))){if(n<d.length){let v=d[n];v&&(r<v.length||v.breakAfter&&p?.breakAfter)?(t==n&&(v=v.split(r),r=0),!b&&p&&v.merge(0,r,p,!0,0,f)?o[o.length-1]=v:((r||v.children.length&&!v.children[0].length)&&v.merge(0,r,null,!1,0,f),o.push(v))):v?.breakAfter&&(p?p.breakAfter=1:a=1),n++}for(m&&(m.breakAfter=a,e>0&&(!a&&o.length&&m.merge(e,m.length,o[0],!1,u,0)?m.breakAfter=o.shift().breakAfter:(e<m.length||m.children.length&&m.children[m.children.length-1].length==0)&&m.merge(e,m.length,null,!1,u,0),t++));t<n&&o.length;)if(d[n-1].become(o[o.length-1]))n--,o.pop(),f=o.length?0:u;else if(d[t].become(o[0]))t++,o.shift(),u=o.length?0:f;else break;!o.length&&t&&n<d.length&&!d[t-1].breakAfter&&d[n].merge(0,0,d[t-1],!1,u,f)&&t--,(t<n||o.length)&&i.replaceChildren(t,n,o)}}function mS(i,t,e,n,r,o){let a=i.childCursor(),{i:u,off:f}=a.findPos(e,1),{i:d,off:m}=a.findPos(t,-1),p=t-e;for(let b of n)p+=b.length;i.length+=p,gS(i,d,m,u,f,n,0,r,o)}let vn=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},Wg=typeof document<"u"?document:{documentElement:{style:{}}};const Fg=/Edge\/(\d+)/.exec(vn.userAgent),pS=/MSIE \d/.test(vn.userAgent),Zg=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(vn.userAgent),xh=!!(pS||Zg||Fg),Bv=!xh&&/gecko\/(\d+)/i.test(vn.userAgent),Jd=!xh&&/Chrome\/(\d+)/.exec(vn.userAgent),aT="webkitFontSmoothing"in Wg.documentElement.style,yS=!xh&&/Apple Computer/.test(vn.vendor),Lv=yS&&(/Mobile\/\w+/.test(vn.userAgent)||vn.maxTouchPoints>2);var ht={mac:Lv||/Mac/.test(vn.platform),windows:/Win/.test(vn.platform),linux:/Linux|X11/.test(vn.platform),ie:xh,ie_version:pS?Wg.documentMode||6:Zg?+Zg[1]:Fg?+Fg[1]:0,gecko:Bv,gecko_version:Bv?+(/Firefox\/(\d+)/.exec(vn.userAgent)||[0,0])[1]:0,chrome:!!Jd,chrome_version:Jd?+Jd[1]:0,ios:Lv,android:/Android\b/.test(vn.userAgent),safari:yS,webkit_version:aT?+(/\bAppleWebKit\/(\d+)/.exec(vn.userAgent)||[0,0])[1]:0,tabSize:Wg.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const cT=256;class pi extends ee{constructor(t){super(),this.text=t}get length(){return this.text.length}createDOM(t){this.setDOM(t||document.createTextNode(this.text))}sync(t,e){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(e&&e.node==this.dom&&(e.written=!0),this.dom.nodeValue=this.text)}reuseDOM(t){t.nodeType==3&&this.createDOM(t)}merge(t,e,n){return this.flags&8||n&&(!(n instanceof pi)||this.length-(e-t)+n.length>cT||n.flags&8)?!1:(this.text=this.text.slice(0,t)+(n?n.text:"")+this.text.slice(e),this.markDirty(),!0)}split(t){let e=new pi(this.text.slice(t));return this.text=this.text.slice(0,t),this.markDirty(),e.flags|=this.flags&8,e}localPosFromDOM(t,e){return t==this.dom?e:e?this.text.length:0}domAtPos(t){return new nn(this.dom,t)}domBoundsAround(t,e,n){return{from:n,to:n+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(t,e){return uT(this.dom,t,e)}}class us extends ee{constructor(t,e=[],n=0){super(),this.mark=t,this.children=e,this.length=n;for(let r of e)r.setParent(this)}setAttrs(t){if(cS(t),this.mark.class&&(t.className=this.mark.class),this.mark.attrs)for(let e in this.mark.attrs)t.setAttribute(e,this.mark.attrs[e]);return t}canReuseDOM(t){return super.canReuseDOM(t)&&!((this.flags|t.flags)&8)}reuseDOM(t){t.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(t),this.flags|=6)}sync(t,e){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(t,e)}merge(t,e,n,r,o,a){return n&&(!(n instanceof us&&n.mark.eq(this.mark))||t&&o<=0||e<this.length&&a<=0)?!1:(mS(this,t,e,n?n.children.slice():[],o-1,a-1),this.markDirty(),!0)}split(t){let e=[],n=0,r=-1,o=0;for(let u of this.children){let f=n+u.length;f>t&&e.push(n<t?u.split(t-n):u),r<0&&n>=t&&(r=o),n=f,o++}let a=this.length-t;return this.length=t,r>-1&&(this.children.length=r,this.markDirty()),new us(this.mark,e,a)}domAtPos(t){return bS(this,t)}coordsAt(t,e){return xS(this,t,e)}}function uT(i,t,e){let n=i.nodeValue.length;t>n&&(t=n);let r=t,o=t,a=0;t==0&&e<0||t==n&&e>=0?ht.chrome||ht.gecko||(t?(r--,a=1):o<n&&(o++,a=-1)):e<0?r--:o<n&&o++;let u=Dr(i,r,o).getClientRects();if(!u.length)return null;let f=u[(a?a<0:e>=0)?0:u.length-1];return ht.safari&&!a&&f.width==0&&(f=Array.prototype.find.call(u,d=>d.width)||f),a?Da(f,a<0):f||null}class Gs extends ee{static create(t,e,n){return new Gs(t,e,n)}constructor(t,e,n){super(),this.widget=t,this.length=e,this.side=n,this.prevWidget=null}split(t){let e=Gs.create(this.widget,this.length-t,this.side);return this.length-=t,e}sync(t){(!this.dom||!this.widget.updateDOM(this.dom,t))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(t)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(t,e,n,r,o,a){return n&&(!(n instanceof Gs)||!this.widget.compare(n.widget)||t>0&&o<=0||e<this.length&&a<=0)?!1:(this.length=t+(n?n.length:0)+(this.length-e),!0)}become(t){return t instanceof Gs&&t.side==this.side&&this.widget.constructor==t.widget.constructor?(this.widget.compare(t.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=t.widget,this.length=t.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(t){return this.widget.ignoreEvent(t)}get overrideDOMText(){if(this.length==0)return _t.empty;let t=this;for(;t.parent;)t=t.parent;let{view:e}=t,n=e&&e.state.doc,r=this.posAtStart;return n?n.slice(r,r+this.length):_t.empty}domAtPos(t){return(this.length?t==0:this.side>0)?nn.before(this.dom):nn.after(this.dom,t==this.length)}domBoundsAround(){return null}coordsAt(t,e){let n=this.widget.coordsAt(this.dom,t,e);if(n)return n;let r=this.dom.getClientRects(),o=null;if(!r.length)return null;let a=this.side?this.side<0:t>0;for(let u=a?r.length-1:0;o=r[u],!(t>0?u==0:u==r.length-1||o.top<o.bottom);u+=a?-1:1);return Da(o,!a)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Hl extends ee{constructor(t){super(),this.side=t}get length(){return 0}merge(){return!1}become(t){return t instanceof Hl&&t.side==this.side}split(){return new Hl(this.side)}sync(){if(!this.dom){let t=document.createElement("img");t.className="cm-widgetBuffer",t.setAttribute("aria-hidden","true"),this.setDOM(t)}}getSide(){return this.side}domAtPos(t){return this.side>0?nn.before(this.dom):nn.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(t){return this.dom.getBoundingClientRect()}get overrideDOMText(){return _t.empty}get isHidden(){return!0}}pi.prototype.children=Gs.prototype.children=Hl.prototype.children=qm;function bS(i,t){let e=i.dom,{children:n}=i,r=0;for(let o=0;r<n.length;r++){let a=n[r],u=o+a.length;if(!(u==o&&a.getSide()<=0)){if(t>o&&t<u&&a.dom.parentNode==e)return a.domAtPos(t-o);if(t<=o)break;o=u}}for(let o=r;o>0;o--){let a=n[o-1];if(a.dom.parentNode==e)return a.domAtPos(a.length)}for(let o=r;o<n.length;o++){let a=n[o];if(a.dom.parentNode==e)return a.domAtPos(0)}return new nn(e,0)}function vS(i,t,e){let n,{children:r}=i;e>0&&t instanceof us&&r.length&&(n=r[r.length-1])instanceof us&&n.mark.eq(t.mark)?vS(n,t.children[0],e-1):(r.push(t),t.setParent(i)),i.length+=t.length}function xS(i,t,e){let n=null,r=-1,o=null,a=-1;function u(d,m){for(let p=0,b=0;p<d.children.length&&b<=m;p++){let v=d.children[p],S=b+v.length;S>=m&&(v.children.length?u(v,m-b):(!o||o.isHidden&&(e>0||fT(o,v)))&&(S>m||b==S&&v.getSide()>0)?(o=v,a=m-b):(b<m||b==S&&v.getSide()<0&&!v.isHidden)&&(n=v,r=m-b)),b=S}}u(i,t);let f=(e<0?n:o)||n||o;return f?f.coordsAt(Math.max(0,f==n?r:a),e):hT(i)}function hT(i){let t=i.dom.lastChild;if(!t)return i.dom.getBoundingClientRect();let e=zl(t);return e[e.length-1]||null}function fT(i,t){let e=i.coordsAt(0,1),n=t.coordsAt(0,1);return e&&n&&n.top<e.bottom}function $g(i,t){for(let e in i)e=="class"&&t.class?t.class+=" "+i.class:e=="style"&&t.style?t.style+=";"+i.style:t[e]=i[e];return t}const zv=Object.create(null);function Vu(i,t,e){if(i==t)return!0;i||(i=zv),t||(t=zv);let n=Object.keys(i),r=Object.keys(t);if(n.length-(e&&n.indexOf(e)>-1?1:0)!=r.length-(e&&r.indexOf(e)>-1?1:0))return!1;for(let o of n)if(o!=e&&(r.indexOf(o)==-1||i[o]!==t[o]))return!1;return!0}function Jg(i,t,e){let n=!1;if(t)for(let r in t)e&&r in e||(n=!0,r=="style"?i.style.cssText="":i.removeAttribute(r));if(e)for(let r in e)t&&t[r]==e[r]||(n=!0,r=="style"?i.style.cssText=e[r]:i.setAttribute(r,e[r]));return n}function dT(i){let t=Object.create(null);for(let e=0;e<i.attributes.length;e++){let n=i.attributes[e];t[n.name]=n.value}return t}class fs{eq(t){return!1}updateDOM(t,e){return!1}compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(t){return!0}coordsAt(t,e,n){return null}get isHidden(){return!1}get editable(){return!1}destroy(t){}}var un=(function(i){return i[i.Text=0]="Text",i[i.WidgetBefore=1]="WidgetBefore",i[i.WidgetAfter=2]="WidgetAfter",i[i.WidgetRange=3]="WidgetRange",i})(un||(un={}));class xt extends Mr{constructor(t,e,n,r){super(),this.startSide=t,this.endSide=e,this.widget=n,this.spec=r}get heightRelevant(){return!1}static mark(t){return new Oa(t)}static widget(t){let e=Math.max(-1e4,Math.min(1e4,t.side||0)),n=!!t.block;return e+=n&&!t.inlineOrder?e>0?3e8:-4e8:e>0?1e8:-1e8,new Fs(t,e,e,n,t.widget||null,!1)}static replace(t){let e=!!t.block,n,r;if(t.isBlockGap)n=-5e8,r=4e8;else{let{start:o,end:a}=SS(t,e);n=(o?e?-3e8:-1:5e8)-1,r=(a?e?2e8:1:-6e8)+1}return new Fs(t,n,r,e,t.widget||null,!0)}static line(t){return new Ea(t)}static set(t,e=!1){return jt.of(t,e)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}xt.none=jt.empty;class Oa extends xt{constructor(t){let{start:e,end:n}=SS(t);super(e?-1:5e8,n?1:-6e8,null,t),this.tagName=t.tagName||"span",this.class=t.class||"",this.attrs=t.attributes||null}eq(t){var e,n;return this==t||t instanceof Oa&&this.tagName==t.tagName&&(this.class||((e=this.attrs)===null||e===void 0?void 0:e.class))==(t.class||((n=t.attrs)===null||n===void 0?void 0:n.class))&&Vu(this.attrs,t.attrs,"class")}range(t,e=t){if(t>=e)throw new RangeError("Mark decorations may not be empty");return super.range(t,e)}}Oa.prototype.point=!1;class Ea extends xt{constructor(t){super(-2e8,-2e8,null,t)}eq(t){return t instanceof Ea&&this.spec.class==t.spec.class&&Vu(this.spec.attributes,t.spec.attributes)}range(t,e=t){if(e!=t)throw new RangeError("Line decoration ranges must be zero-length");return super.range(t,e)}}Ea.prototype.mapMode=cn.TrackBefore;Ea.prototype.point=!0;class Fs extends xt{constructor(t,e,n,r,o,a){super(e,n,o,t),this.block=r,this.isReplace=a,this.mapMode=r?e<=0?cn.TrackBefore:cn.TrackAfter:cn.TrackDel}get type(){return this.startSide!=this.endSide?un.WidgetRange:this.startSide<=0?un.WidgetBefore:un.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(t){return t instanceof Fs&&gT(this.widget,t.widget)&&this.block==t.block&&this.startSide==t.startSide&&this.endSide==t.endSide}range(t,e=t){if(this.isReplace&&(t>e||t==e&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&e!=t)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(t,e)}}Fs.prototype.point=!0;function SS(i,t=!1){let{inclusiveStart:e,inclusiveEnd:n}=i;return e==null&&(e=i.inclusive),n==null&&(n=i.inclusive),{start:e??t,end:n??t}}function gT(i,t){return i==t||!!(i&&t&&i.compare(t))}function Mu(i,t,e,n=0){let r=e.length-1;r>=0&&e[r]+n>=i?e[r]=Math.max(e[r],t):e.push(i,t)}class ke extends ee{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(t,e,n,r,o,a){if(n){if(!(n instanceof ke))return!1;this.dom||n.transferDOM(this)}return r&&this.setDeco(n?n.attrs:null),mS(this,t,e,n?n.children.slice():[],o,a),!0}split(t){let e=new ke;if(e.breakAfter=this.breakAfter,this.length==0)return e;let{i:n,off:r}=this.childPos(t);r&&(e.append(this.children[n].split(r),0),this.children[n].merge(r,this.children[n].length,null,!1,0,0),n++);for(let o=n;o<this.children.length;o++)e.append(this.children[o],0);for(;n>0&&this.children[n-1].length==0;)this.children[--n].destroy();return this.children.length=n,this.markDirty(),this.length=t,e}transferDOM(t){this.dom&&(this.markDirty(),t.setDOM(this.dom),t.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(t){Vu(this.attrs,t)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=t)}append(t,e){vS(this,t,e)}addLineDeco(t){let e=t.spec.attributes,n=t.spec.class;e&&(this.attrs=$g(e,this.attrs||{})),n&&(this.attrs=$g({class:n},this.attrs||{}))}domAtPos(t){return bS(this,t)}reuseDOM(t){t.nodeName=="DIV"&&(this.setDOM(t),this.flags|=6)}sync(t,e){var n;this.dom?this.flags&4&&(cS(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(Jg(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(t,e);let r=this.dom.lastChild;for(;r&&ee.get(r)instanceof us;)r=r.lastChild;if(!r||!this.length||r.nodeName!="BR"&&((n=ee.get(r))===null||n===void 0?void 0:n.isEditable)==!1&&(!ht.ios||!this.children.some(o=>o instanceof pi))){let o=document.createElement("BR");o.cmIgnore=!0,this.dom.appendChild(o)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let t=0,e;for(let n of this.children){if(!(n instanceof pi)||/[^ -~]/.test(n.text))return null;let r=zl(n.dom);if(r.length!=1)return null;t+=r[0].width,e=r[0].height}return t?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:t/this.length,textHeight:e}:null}coordsAt(t,e){let n=xS(this,t,e);if(!this.children.length&&n&&this.parent){let{heightOracle:r}=this.parent.view.viewState,o=n.bottom-n.top;if(Math.abs(o-r.lineHeight)<2&&r.textHeight<o){let a=(o-r.textHeight)/2;return{top:n.top+a,bottom:n.bottom-a,left:n.left,right:n.left}}}return n}become(t){return t instanceof ke&&this.children.length==0&&t.children.length==0&&Vu(this.attrs,t.attrs)&&this.breakAfter==t.breakAfter}covers(){return!0}static find(t,e){for(let n=0,r=0;n<t.children.length;n++){let o=t.children[n],a=r+o.length;if(a>=e){if(o instanceof ke)return o;if(a>e)break}r=a+o.breakAfter}return null}}class as extends ee{constructor(t,e,n){super(),this.widget=t,this.length=e,this.deco=n,this.breakAfter=0,this.prevWidget=null}merge(t,e,n,r,o,a){return n&&(!(n instanceof as)||!this.widget.compare(n.widget)||t>0&&o<=0||e<this.length&&a<=0)?!1:(this.length=t+(n?n.length:0)+(this.length-e),!0)}domAtPos(t){return t==0?nn.before(this.dom):nn.after(this.dom,t==this.length)}split(t){let e=this.length-t;this.length=t;let n=new as(this.widget,e,this.deco);return n.breakAfter=this.breakAfter,n}get children(){return qm}sync(t){(!this.dom||!this.widget.updateDOM(this.dom,t))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(t)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):_t.empty}domBoundsAround(){return null}become(t){return t instanceof as&&t.widget.constructor==this.widget.constructor?(t.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=t.widget,this.length=t.length,this.deco=t.deco,this.breakAfter=t.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(t){return this.widget.ignoreEvent(t)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(t,e){let n=this.widget.coordsAt(this.dom,t,e);return n||(this.widget instanceof tm?null:Da(this.dom.getBoundingClientRect(),this.length?t==0:e<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(t){let{startSide:e,endSide:n}=this.deco;return e==n?!1:t<0?e<0:n>0}}class tm extends fs{constructor(t){super(),this.height=t}toDOM(){let t=document.createElement("div");return t.className="cm-gap",this.updateDOM(t),t}eq(t){return t.height==this.height}updateDOM(t){return t.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class sa{constructor(t,e,n,r){this.doc=t,this.pos=e,this.end=n,this.disallowBlockEffectsFor=r,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=t.iter(),this.skip=e}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let t=this.content[this.content.length-1];return!(t.breakAfter||t instanceof as&&t.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new ke),this.atCursorPos=!0),this.curLine}flushBuffer(t=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(Jc(new Hl(-1),t),t.length),this.pendingBuffer=0)}addBlockWidget(t){this.flushBuffer(),this.curLine=null,this.content.push(t)}finish(t){this.pendingBuffer&&t<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(t&&this.content.length&&this.content[this.content.length-1]instanceof as)&&this.getLine()}buildText(t,e,n){for(;t>0;){if(this.textOff==this.text.length){let{value:o,lineBreak:a,done:u}=this.cursor.next(this.skip);if(this.skip=0,u)throw new Error("Ran out of text content when drawing inline views");if(a){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,t--;continue}else this.text=o,this.textOff=0}let r=Math.min(this.text.length-this.textOff,t,512);this.flushBuffer(e.slice(e.length-n)),this.getLine().append(Jc(new pi(this.text.slice(this.textOff,this.textOff+r)),e),n),this.atCursorPos=!0,this.textOff+=r,t-=r,n=0}}span(t,e,n,r){this.buildText(e-t,n,r),this.pos=e,this.openStart<0&&(this.openStart=r)}point(t,e,n,r,o,a){if(this.disallowBlockEffectsFor[a]&&n instanceof Fs){if(n.block)throw new RangeError("Block decorations may not be specified via plugins");if(e>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let u=e-t;if(n instanceof Fs)if(n.block)n.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new as(n.widget||jl.block,u,n));else{let f=Gs.create(n.widget||jl.inline,u,u?0:n.startSide),d=this.atCursorPos&&!f.isEditable&&o<=r.length&&(t<e||n.startSide>0),m=!f.isEditable&&(t<e||o>r.length||n.startSide<=0),p=this.getLine();this.pendingBuffer==2&&!d&&!f.isEditable&&(this.pendingBuffer=0),this.flushBuffer(r),d&&(p.append(Jc(new Hl(1),r),o),o=r.length+Math.max(0,o-r.length)),p.append(Jc(f,r),o),this.atCursorPos=m,this.pendingBuffer=m?t<e||o>r.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=r.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(n);u&&(this.textOff+u<=this.text.length?this.textOff+=u:(this.skip+=u-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=e),this.openStart<0&&(this.openStart=o)}static build(t,e,n,r,o){let a=new sa(t,e,n,o);return a.openEnd=jt.spans(r,e,n,a),a.openStart<0&&(a.openStart=a.openEnd),a.finish(a.openEnd),a}}function Jc(i,t){for(let e of t)i=new us(e,[i],i.length);return i}class jl extends fs{constructor(t){super(),this.tag=t}eq(t){return t.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(t){return t.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}jl.inline=new jl("span");jl.block=new jl("div");var oe=(function(i){return i[i.LTR=0]="LTR",i[i.RTL=1]="RTL",i})(oe||(oe={}));const Or=oe.LTR,Vm=oe.RTL;function wS(i){let t=[];for(let e=0;e<i.length;e++)t.push(1<<+i[e]);return t}const mT=wS("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),pT=wS("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),em=Object.create(null),Di=[];for(let i of["()","[]","{}"]){let t=i.charCodeAt(0),e=i.charCodeAt(1);em[t]=e,em[e]=-t}function kS(i){return i<=247?mT[i]:1424<=i&&i<=1524?2:1536<=i&&i<=1785?pT[i-1536]:1774<=i&&i<=2220?4:8192<=i&&i<=8204?256:64336<=i&&i<=65023?4:1}const yT=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Is{get dir(){return this.level%2?Vm:Or}constructor(t,e,n){this.from=t,this.to=e,this.level=n}side(t,e){return this.dir==e==t?this.to:this.from}forward(t,e){return t==(this.dir==e)}static find(t,e,n,r){let o=-1;for(let a=0;a<t.length;a++){let u=t[a];if(u.from<=e&&u.to>=e){if(u.level==n)return a;(o<0||(r!=0?r<0?u.from<e:u.to>e:t[o].level>u.level))&&(o=a)}}if(o<0)throw new RangeError("Index out of range");return o}}function CS(i,t){if(i.length!=t.length)return!1;for(let e=0;e<i.length;e++){let n=i[e],r=t[e];if(n.from!=r.from||n.to!=r.to||n.direction!=r.direction||!CS(n.inner,r.inner))return!1}return!0}const te=[];function bT(i,t,e,n,r){for(let o=0;o<=n.length;o++){let a=o?n[o-1].to:t,u=o<n.length?n[o].from:e,f=o?256:r;for(let d=a,m=f,p=f;d<u;d++){let b=kS(i.charCodeAt(d));b==512?b=m:b==8&&p==4&&(b=16),te[d]=b==4?2:b,b&7&&(p=b),m=b}for(let d=a,m=f,p=f;d<u;d++){let b=te[d];if(b==128)d<u-1&&m==te[d+1]&&m&24?b=te[d]=m:te[d]=256;else if(b==64){let v=d+1;for(;v<u&&te[v]==64;)v++;let S=d&&m==8||v<e&&te[v]==8?p==1?1:8:256;for(let k=d;k<v;k++)te[k]=S;d=v-1}else b==8&&p==1&&(te[d]=1);m=b,b&7&&(p=b)}}}function vT(i,t,e,n,r){let o=r==1?2:1;for(let a=0,u=0,f=0;a<=n.length;a++){let d=a?n[a-1].to:t,m=a<n.length?n[a].from:e;for(let p=d,b,v,S;p<m;p++)if(v=em[b=i.charCodeAt(p)])if(v<0){for(let k=u-3;k>=0;k-=3)if(Di[k+1]==-v){let C=Di[k+2],A=C&2?r:C&4?C&1?o:r:0;A&&(te[p]=te[Di[k]]=A),u=k;break}}else{if(Di.length==189)break;Di[u++]=p,Di[u++]=b,Di[u++]=f}else if((S=te[p])==2||S==1){let k=S==r;f=k?0:1;for(let C=u-3;C>=0;C-=3){let A=Di[C+2];if(A&2)break;if(k)Di[C+2]|=2;else{if(A&4)break;Di[C+2]|=4}}}}}function xT(i,t,e,n){for(let r=0,o=n;r<=e.length;r++){let a=r?e[r-1].to:i,u=r<e.length?e[r].from:t;for(let f=a;f<u;){let d=te[f];if(d==256){let m=f+1;for(;;)if(m==u){if(r==e.length)break;m=e[r++].to,u=r<e.length?e[r].from:t}else if(te[m]==256)m++;else break;let p=o==1,b=(m<t?te[m]:n)==1,v=p==b?p?1:2:n;for(let S=m,k=r,C=k?e[k-1].to:i;S>f;)S==C&&(S=e[--k].from,C=k?e[k-1].to:i),te[--S]=v;f=m}else o=d,f++}}}function nm(i,t,e,n,r,o,a){let u=n%2?2:1;if(n%2==r%2)for(let f=t,d=0;f<e;){let m=!0,p=!1;if(d==o.length||f<o[d].from){let k=te[f];k!=u&&(m=!1,p=k==16)}let b=!m&&u==1?[]:null,v=m?n:n+1,S=f;t:for(;;)if(d<o.length&&S==o[d].from){if(p)break t;let k=o[d];if(!m)for(let C=k.to,A=d+1;;){if(C==e)break t;if(A<o.length&&o[A].from==C)C=o[A++].to;else{if(te[C]==u)break t;break}}if(d++,b)b.push(k);else{k.from>f&&a.push(new Is(f,k.from,v));let C=k.direction==Or!=!(v%2);im(i,C?n+1:n,r,k.inner,k.from,k.to,a),f=k.to}S=k.to}else{if(S==e||(m?te[S]!=u:te[S]==u))break;S++}b?nm(i,f,S,n+1,r,b,a):f<S&&a.push(new Is(f,S,v)),f=S}else for(let f=e,d=o.length;f>t;){let m=!0,p=!1;if(!d||f>o[d-1].to){let k=te[f-1];k!=u&&(m=!1,p=k==16)}let b=!m&&u==1?[]:null,v=m?n:n+1,S=f;t:for(;;)if(d&&S==o[d-1].to){if(p)break t;let k=o[--d];if(!m)for(let C=k.from,A=d;;){if(C==t)break t;if(A&&o[A-1].to==C)C=o[--A].from;else{if(te[C-1]==u)break t;break}}if(b)b.push(k);else{k.to<f&&a.push(new Is(k.to,f,v));let C=k.direction==Or!=!(v%2);im(i,C?n+1:n,r,k.inner,k.from,k.to,a),f=k.from}S=k.from}else{if(S==t||(m?te[S-1]!=u:te[S-1]==u))break;S--}b?nm(i,S,f,n+1,r,b,a):S<f&&a.push(new Is(S,f,v)),f=S}}function im(i,t,e,n,r,o,a){let u=t%2?2:1;bT(i,r,o,n,u),vT(i,r,o,n,u),xT(r,o,n,u),nm(i,r,o,t,e,n,a)}function ST(i,t,e){if(!i)return[new Is(0,0,t==Vm?1:0)];if(t==Or&&!e.length&&!yT.test(i))return AS(i.length);if(e.length)for(;i.length>te.length;)te[te.length]=256;let n=[],r=t==Or?0:1;return im(i,r,r,e,0,i.length,n),n}function AS(i){return[new Is(0,i,0)]}let MS="";function wT(i,t,e,n,r){var o;let a=n.head-i.from,u=Is.find(t,a,(o=n.bidiLevel)!==null&&o!==void 0?o:-1,n.assoc),f=t[u],d=f.side(r,e);if(a==d){let b=u+=r?1:-1;if(b<0||b>=t.length)return null;f=t[u=b],a=f.side(!r,e),d=f.side(r,e)}let m=We(i.text,a,f.forward(r,e));(m<f.from||m>f.to)&&(m=d),MS=i.text.slice(Math.min(a,m),Math.max(a,m));let p=u==(r?t.length-1:0)?null:t[u+(r?1:-1)];return p&&m==d&&p.level+(r?0:1)<f.level?Z.cursor(p.side(!r,e)+i.from,p.forward(r,e)?1:-1,p.level):Z.cursor(m+i.from,f.forward(r,e)?-1:1,f.level)}function kT(i,t,e){for(let n=t;n<e;n++){let r=kS(i.charCodeAt(n));if(r==1)return Or;if(r==2||r==4)return Vm}return Or}const TS=ft.define(),DS=ft.define(),OS=ft.define(),ES=ft.define(),sm=ft.define(),RS=ft.define(),NS=ft.define(),Pm=ft.define(),Ym=ft.define(),BS=ft.define({combine:i=>i.some(t=>t)}),LS=ft.define({combine:i=>i.some(t=>t)}),zS=ft.define();class Ol{constructor(t,e="nearest",n="nearest",r=5,o=5,a=!1){this.range=t,this.y=e,this.x=n,this.yMargin=r,this.xMargin=o,this.isSnapshot=a}map(t){return t.empty?this:new Ol(this.range.map(t),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(t){return this.range.to<=t.doc.length?this:new Ol(Z.cursor(t.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const tu=Ct.define({map:(i,t)=>i.map(t)}),HS=Ct.define();function Sn(i,t,e){let n=i.facet(ES);n.length?n[0](t):window.onerror&&window.onerror(String(t),e,void 0,void 0,t)||(e?console.error(e+":",t):console.error(t))}const os=ft.define({combine:i=>i.length?i[0]:!0});let CT=0;const kl=ft.define({combine(i){return i.filter((t,e)=>{for(let n=0;n<e;n++)if(i[n].plugin==t.plugin)return!1;return!0})}});class ve{constructor(t,e,n,r,o){this.id=t,this.create=e,this.domEventHandlers=n,this.domEventObservers=r,this.baseExtensions=o(this),this.extension=this.baseExtensions.concat(kl.of({plugin:this,arg:void 0}))}of(t){return this.baseExtensions.concat(kl.of({plugin:this,arg:t}))}static define(t,e){const{eventHandlers:n,eventObservers:r,provide:o,decorations:a}=e||{};return new ve(CT++,t,n,r,u=>{let f=[];return a&&f.push(ga.of(d=>{let m=d.plugin(u);return m?a(m):xt.none})),o&&f.push(o(u)),f})}static fromClass(t,e){return ve.define((n,r)=>new t(n,r),e)}}class tg{constructor(t){this.spec=t,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(t){if(this.value){if(this.mustUpdate){let e=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(e)}catch(n){if(Sn(e.state,n,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(t,this.spec.arg)}catch(e){Sn(t.state,e,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(t){var e;if(!((e=this.value)===null||e===void 0)&&e.destroy)try{this.value.destroy()}catch(n){Sn(t.state,n,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const jS=ft.define(),Gm=ft.define(),ga=ft.define(),_S=ft.define(),Sh=ft.define(),US=ft.define();function Hv(i,t){let e=i.state.facet(US);if(!e.length)return e;let n=e.map(o=>o instanceof Function?o(i):o),r=[];return jt.spans(n,t.from,t.to,{point(){},span(o,a,u,f){let d=o-t.from,m=a-t.from,p=r;for(let b=u.length-1;b>=0;b--,f--){let v=u[b].spec.bidiIsolate,S;if(v==null&&(v=kT(t.text,d,m)),f>0&&p.length&&(S=p[p.length-1]).to==d&&S.direction==v)S.to=m,p=S.inner;else{let k={from:d,to:m,direction:v,inner:[]};p.push(k),p=k.inner}}}}),r}const qS=ft.define();function Im(i){let t=0,e=0,n=0,r=0;for(let o of i.state.facet(qS)){let a=o(i);a&&(a.left!=null&&(t=Math.max(t,a.left)),a.right!=null&&(e=Math.max(e,a.right)),a.top!=null&&(n=Math.max(n,a.top)),a.bottom!=null&&(r=Math.max(r,a.bottom)))}return{left:t,right:e,top:n,bottom:r}}const Zo=ft.define();class ni{constructor(t,e,n,r){this.fromA=t,this.toA=e,this.fromB=n,this.toB=r}join(t){return new ni(Math.min(this.fromA,t.fromA),Math.max(this.toA,t.toA),Math.min(this.fromB,t.fromB),Math.max(this.toB,t.toB))}addToSet(t){let e=t.length,n=this;for(;e>0;e--){let r=t[e-1];if(!(r.fromA>n.toA)){if(r.toA<n.fromA)break;n=n.join(r),t.splice(e-1,1)}}return t.splice(e,0,n),t}static extendWithRanges(t,e){if(e.length==0)return t;let n=[];for(let r=0,o=0,a=0,u=0;;r++){let f=r==t.length?null:t[r],d=a-u,m=f?f.fromB:1e9;for(;o<e.length&&e[o]<m;){let p=e[o],b=e[o+1],v=Math.max(u,p),S=Math.min(m,b);if(v<=S&&new ni(v+d,S+d,v,S).addToSet(n),b>m)break;o+=2}if(!f)return n;new ni(f.fromA,f.toA,f.fromB,f.toB).addToSet(n),a=f.toA,u=f.toB}}}class Pu{constructor(t,e,n){this.view=t,this.state=e,this.transactions=n,this.flags=0,this.startState=t.state,this.changes=Oe.empty(this.startState.doc.length);for(let o of n)this.changes=this.changes.compose(o.changes);let r=[];this.changes.iterChangedRanges((o,a,u,f)=>r.push(new ni(o,a,u,f))),this.changedRanges=r}static create(t,e,n){return new Pu(t,e,n)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(t=>t.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class jv extends ee{get length(){return this.view.state.doc.length}constructor(t){super(),this.view=t,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=xt.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(t.contentDOM),this.children=[new ke],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new ni(0,0,0,t.state.doc.length)],0,null)}update(t){var e;let n=t.changedRanges;this.minWidth>0&&n.length&&(n.every(({fromA:d,toA:m})=>m<this.minWidthFrom||d>this.minWidthTo)?(this.minWidthFrom=t.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=t.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(t);let r=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((e=this.domChanged)===null||e===void 0)&&e.newSel?r=this.domChanged.newSel.head:!RT(t.changes,this.hasComposition)&&!t.selectionSet&&(r=t.state.selection.main.head));let o=r>-1?MT(this.view,t.changes,r):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:d,to:m}=this.hasComposition;n=new ni(d,m,t.changes.mapPos(d,-1),t.changes.mapPos(m,1)).addToSet(n.slice())}this.hasComposition=o?{from:o.range.fromB,to:o.range.toB}:null,(ht.ie||ht.chrome)&&!o&&t&&t.state.doc.lines!=t.startState.doc.lines&&(this.forceSelection=!0);let a=this.decorations,u=this.updateDeco(),f=OT(a,u,t.changes);return n=ni.extendWithRanges(n,f),!(this.flags&7)&&n.length==0?!1:(this.updateInner(n,t.startState.doc.length,o),t.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(t,e,n){this.view.viewState.mustMeasureContent=!0,this.updateChildren(t,e,n);let{observer:r}=this.view;r.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let a=ht.chrome||ht.ios?{node:r.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,a),this.flags&=-8,a&&(a.written||r.selectionRange.focusNode!=a.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(a=>a.flags&=-9);let o=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let a of this.children)a instanceof as&&a.widget instanceof tm&&o.push(a.dom);r.updateGaps(o)}updateChildren(t,e,n){let r=n?n.range.addToSet(t.slice()):t,o=this.childCursor(e);for(let a=r.length-1;;a--){let u=a>=0?r[a]:null;if(!u)break;let{fromA:f,toA:d,fromB:m,toB:p}=u,b,v,S,k;if(n&&n.range.fromB<p&&n.range.toB>m){let R=sa.build(this.view.state.doc,m,n.range.fromB,this.decorations,this.dynamicDecorationMap),O=sa.build(this.view.state.doc,n.range.toB,p,this.decorations,this.dynamicDecorationMap);v=R.breakAtStart,S=R.openStart,k=O.openEnd;let z=this.compositionView(n);O.breakAtStart?z.breakAfter=1:O.content.length&&z.merge(z.length,z.length,O.content[0],!1,O.openStart,0)&&(z.breakAfter=O.content[0].breakAfter,O.content.shift()),R.content.length&&z.merge(0,0,R.content[R.content.length-1],!0,0,R.openEnd)&&R.content.pop(),b=R.content.concat(z).concat(O.content)}else({content:b,breakAtStart:v,openStart:S,openEnd:k}=sa.build(this.view.state.doc,m,p,this.decorations,this.dynamicDecorationMap));let{i:C,off:A}=o.findPos(d,1),{i:B,off:j}=o.findPos(f,-1);gS(this,B,j,C,A,b,v,S,k)}n&&this.fixCompositionDOM(n)}updateEditContextFormatting(t){this.editContextFormatting=this.editContextFormatting.map(t.changes);for(let e of t.transactions)for(let n of e.effects)n.is(HS)&&(this.editContextFormatting=n.value)}compositionView(t){let e=new pi(t.text.nodeValue);e.flags|=8;for(let{deco:r}of t.marks)e=new us(r,[e],e.length);let n=new ke;return n.append(e,0),n}fixCompositionDOM(t){let e=(o,a)=>{a.flags|=8|(a.children.some(f=>f.flags&7)?1:0),this.markedForComposition.add(a);let u=ee.get(o);u&&u!=a&&(u.dom=null),a.setDOM(o)},n=this.childPos(t.range.fromB,1),r=this.children[n.i];e(t.line,r);for(let o=t.marks.length-1;o>=-1;o--)n=r.childPos(n.off,1),r=r.children[n.i],e(o>=0?t.marks[o].node:t.text,r)}updateSelection(t=!1,e=!1){(t||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let n=this.view.root.activeElement,r=n==this.dom,o=!r&&!(this.view.state.facet(os)||this.dom.tabIndex>-1)&&Au(this.dom,this.view.observer.selectionRange)&&!(n&&this.dom.contains(n));if(!(r||e||o))return;let a=this.forceSelection;this.forceSelection=!1;let u=this.view.state.selection.main,f=this.moveToLine(this.domAtPos(u.anchor)),d=u.empty?f:this.moveToLine(this.domAtPos(u.head));if(ht.gecko&&u.empty&&!this.hasComposition&&AT(f)){let p=document.createTextNode("");this.view.observer.ignore(()=>f.node.insertBefore(p,f.node.childNodes[f.offset]||null)),f=d=new nn(p,0),a=!0}let m=this.view.observer.selectionRange;(a||!m.focusNode||(!ia(f.node,f.offset,m.anchorNode,m.anchorOffset)||!ia(d.node,d.offset,m.focusNode,m.focusOffset))&&!this.suppressWidgetCursorChange(m,u))&&(this.view.observer.ignore(()=>{ht.android&&ht.chrome&&this.dom.contains(m.focusNode)&&ET(m.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let p=da(this.view.root);if(p)if(u.empty){if(ht.gecko){let b=TT(f.node,f.offset);if(b&&b!=3){let v=(b==1?hS:fS)(f.node,f.offset);v&&(f=new nn(v.node,v.offset))}}p.collapse(f.node,f.offset),u.bidiLevel!=null&&p.caretBidiLevel!==void 0&&(p.caretBidiLevel=u.bidiLevel)}else if(p.extend){p.collapse(f.node,f.offset);try{p.extend(d.node,d.offset)}catch{}}else{let b=document.createRange();u.anchor>u.head&&([f,d]=[d,f]),b.setEnd(d.node,d.offset),b.setStart(f.node,f.offset),p.removeAllRanges(),p.addRange(b)}o&&this.view.root.activeElement==this.dom&&(this.dom.blur(),n&&n.focus())}),this.view.observer.setSelectionRange(f,d)),this.impreciseAnchor=f.precise?null:new nn(m.anchorNode,m.anchorOffset),this.impreciseHead=d.precise?null:new nn(m.focusNode,m.focusOffset)}suppressWidgetCursorChange(t,e){return this.hasComposition&&e.empty&&ia(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)&&this.posFromDOM(t.focusNode,t.focusOffset)==e.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:t}=this,e=t.state.selection.main,n=da(t.root),{anchorNode:r,anchorOffset:o}=t.observer.selectionRange;if(!n||!e.empty||!e.assoc||!n.modify)return;let a=ke.find(this,e.head);if(!a)return;let u=a.posAtStart;if(e.head==u||e.head==u+a.length)return;let f=this.coordsAt(e.head,-1),d=this.coordsAt(e.head,1);if(!f||!d||f.bottom>d.top)return;let m=this.domAtPos(e.head+e.assoc);n.collapse(m.node,m.offset),n.modify("move",e.assoc<0?"forward":"backward","lineboundary"),t.observer.readSelectionRange();let p=t.observer.selectionRange;t.docView.posFromDOM(p.anchorNode,p.anchorOffset)!=e.from&&n.collapse(r,o)}moveToLine(t){let e=this.dom,n;if(t.node!=e)return t;for(let r=t.offset;!n&&r<e.childNodes.length;r++){let o=ee.get(e.childNodes[r]);o instanceof ke&&(n=o.domAtPos(0))}for(let r=t.offset-1;!n&&r>=0;r--){let o=ee.get(e.childNodes[r]);o instanceof ke&&(n=o.domAtPos(o.length))}return n?new nn(n.node,n.offset,!0):t}nearest(t){for(let e=t;e;){let n=ee.get(e);if(n&&n.rootView==this)return n;e=e.parentNode}return null}posFromDOM(t,e){let n=this.nearest(t);if(!n)throw new RangeError("Trying to find position for a DOM position outside of the document");return n.localPosFromDOM(t,e)+n.posAtStart}domAtPos(t){let{i:e,off:n}=this.childCursor().findPos(t,-1);for(;e<this.children.length-1;){let r=this.children[e];if(n<r.length||r instanceof ke)break;e++,n=0}return this.children[e].domAtPos(n)}coordsAt(t,e){let n=null,r=0;for(let o=this.length,a=this.children.length-1;a>=0;a--){let u=this.children[a],f=o-u.breakAfter,d=f-u.length;if(f<t)break;if(d<=t&&(d<t||u.covers(-1))&&(f>t||u.covers(1))&&(!n||u instanceof ke&&!(n instanceof ke&&e>=0)))n=u,r=d;else if(n&&d==t&&f==t&&u instanceof as&&Math.abs(e)<2){if(u.deco.startSide<0)break;a&&(n=null)}o=d}return n?n.coordsAt(t-r,e):null}coordsForChar(t){let{i:e,off:n}=this.childPos(t,1),r=this.children[e];if(!(r instanceof ke))return null;for(;r.children.length;){let{i:u,off:f}=r.childPos(n,1);for(;;u++){if(u==r.children.length)return null;if((r=r.children[u]).length)break}n=f}if(!(r instanceof pi))return null;let o=We(r.text,n);if(o==n)return null;let a=Dr(r.dom,n,o).getClientRects();for(let u=0;u<a.length;u++){let f=a[u];if(u==a.length-1||f.top<f.bottom&&f.left<f.right)return f}return null}measureVisibleLineHeights(t){let e=[],{from:n,to:r}=t,o=this.view.contentDOM.clientWidth,a=o>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,u=-1,f=this.view.textDirection==oe.LTR;for(let d=0,m=0;m<this.children.length;m++){let p=this.children[m],b=d+p.length;if(b>r)break;if(d>=n){let v=p.dom.getBoundingClientRect();if(e.push(v.height),a){let S=p.dom.lastChild,k=S?zl(S):[];if(k.length){let C=k[k.length-1],A=f?C.right-v.left:v.right-C.left;A>u&&(u=A,this.minWidth=o,this.minWidthFrom=d,this.minWidthTo=b)}}}d=b+p.breakAfter}return e}textDirectionAt(t){let{i:e}=this.childPos(t,1);return getComputedStyle(this.children[e].dom).direction=="rtl"?oe.RTL:oe.LTR}measureTextSize(){for(let o of this.children)if(o instanceof ke){let a=o.measureTextSize();if(a)return a}let t=document.createElement("div"),e,n,r;return t.className="cm-line",t.style.width="99999px",t.style.position="absolute",t.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(t);let o=zl(t.firstChild)[0];e=t.getBoundingClientRect().height,n=o?o.width/27:7,r=o?o.height:e,t.remove()}),{lineHeight:e,charWidth:n,textHeight:r}}childCursor(t=this.length){let e=this.children.length;return e&&(t-=this.children[--e].length),new dS(this.children,t,e)}computeBlockGapDeco(){let t=[],e=this.view.viewState;for(let n=0,r=0;;r++){let o=r==e.viewports.length?null:e.viewports[r],a=o?o.from-1:this.length;if(a>n){let u=(e.lineBlockAt(a).bottom-e.lineBlockAt(n).top)/this.view.scaleY;t.push(xt.replace({widget:new tm(u),block:!0,inclusive:!0,isBlockGap:!0}).range(n,a))}if(!o)break;n=o.to+1}return xt.set(t)}updateDeco(){let t=1,e=this.view.state.facet(ga).map(o=>(this.dynamicDecorationMap[t++]=typeof o=="function")?o(this.view):o),n=!1,r=this.view.state.facet(_S).map((o,a)=>{let u=typeof o=="function";return u&&(n=!0),u?o(this.view):o});for(r.length&&(this.dynamicDecorationMap[t++]=n,e.push(jt.join(r))),this.decorations=[this.editContextFormatting,...e,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];t<this.decorations.length;)this.dynamicDecorationMap[t++]=!1;return this.decorations}scrollIntoView(t){if(t.isSnapshot){let d=this.view.viewState.lineBlockAt(t.range.head);this.view.scrollDOM.scrollTop=d.top-t.yMargin,this.view.scrollDOM.scrollLeft=t.xMargin;return}for(let d of this.view.state.facet(zS))try{if(d(this.view,t.range,t))return!0}catch(m){Sn(this.view.state,m,"scroll handler")}let{range:e}=t,n=this.coordsAt(e.head,e.empty?e.assoc:e.head>e.anchor?-1:1),r;if(!n)return;!e.empty&&(r=this.coordsAt(e.anchor,e.anchor>e.head?-1:1))&&(n={left:Math.min(n.left,r.left),top:Math.min(n.top,r.top),right:Math.max(n.right,r.right),bottom:Math.max(n.bottom,r.bottom)});let o=Im(this.view),a={left:n.left-o.left,top:n.top-o.top,right:n.right+o.right,bottom:n.bottom+o.bottom},{offsetWidth:u,offsetHeight:f}=this.view.scrollDOM;iT(this.view.scrollDOM,a,e.head<e.anchor?-1:1,t.x,t.y,Math.max(Math.min(t.xMargin,u),-u),Math.max(Math.min(t.yMargin,f),-f),this.view.textDirection==oe.LTR)}}function AT(i){return i.node.nodeType==1&&i.node.firstChild&&(i.offset==0||i.node.childNodes[i.offset-1].contentEditable=="false")&&(i.offset==i.node.childNodes.length||i.node.childNodes[i.offset].contentEditable=="false")}function VS(i,t){let e=i.observer.selectionRange;if(!e.focusNode)return null;let n=hS(e.focusNode,e.focusOffset),r=fS(e.focusNode,e.focusOffset),o=n||r;if(r&&n&&r.node!=n.node){let u=ee.get(r.node);if(!u||u instanceof pi&&u.text!=r.node.nodeValue)o=r;else if(i.docView.lastCompositionAfterCursor){let f=ee.get(n.node);!f||f instanceof pi&&f.text!=n.node.nodeValue||(o=r)}}if(i.docView.lastCompositionAfterCursor=o!=n,!o)return null;let a=t-o.offset;return{from:a,to:a+o.node.nodeValue.length,node:o.node}}function MT(i,t,e){let n=VS(i,e);if(!n)return null;let{node:r,from:o,to:a}=n,u=r.nodeValue;if(/[\n\r]/.test(u)||i.state.doc.sliceString(n.from,n.to)!=u)return null;let f=t.invertedDesc,d=new ni(f.mapPos(o),f.mapPos(a),o,a),m=[];for(let p=r.parentNode;;p=p.parentNode){let b=ee.get(p);if(b instanceof us)m.push({node:p,deco:b.mark});else{if(b instanceof ke||p.nodeName=="DIV"&&p.parentNode==i.contentDOM)return{range:d,text:r,marks:m,line:p};if(p!=i.contentDOM)m.push({node:p,deco:new Oa({inclusive:!0,attributes:dT(p),tagName:p.tagName.toLowerCase()})});else return null}}}function TT(i,t){return i.nodeType!=1?0:(t&&i.childNodes[t-1].contentEditable=="false"?1:0)|(t<i.childNodes.length&&i.childNodes[t].contentEditable=="false"?2:0)}let DT=class{constructor(){this.changes=[]}compareRange(t,e){Mu(t,e,this.changes)}comparePoint(t,e){Mu(t,e,this.changes)}boundChange(t){Mu(t,t,this.changes)}};function OT(i,t,e){let n=new DT;return jt.compare(i,t,e,n),n.changes}function ET(i,t){for(let e=i;e&&e!=t;e=e.assignedSlot||e.parentNode)if(e.nodeType==1&&e.contentEditable=="false")return!0;return!1}function RT(i,t){let e=!1;return t&&i.iterChangedRanges((n,r)=>{n<t.to&&r>t.from&&(e=!0)}),e}function NT(i,t,e=1){let n=i.charCategorizer(t),r=i.doc.lineAt(t),o=t-r.from;if(r.length==0)return Z.cursor(t);o==0?e=1:o==r.length&&(e=-1);let a=o,u=o;e<0?a=We(r.text,o,!1):u=We(r.text,o);let f=n(r.text.slice(a,u));for(;a>0;){let d=We(r.text,a,!1);if(n(r.text.slice(d,a))!=f)break;a=d}for(;u<r.length;){let d=We(r.text,u);if(n(r.text.slice(u,d))!=f)break;u=d}return Z.range(a+r.from,u+r.from)}function BT(i,t){return t.left>i?t.left-i:Math.max(0,i-t.right)}function LT(i,t){return t.top>i?t.top-i:Math.max(0,i-t.bottom)}function eg(i,t){return i.top<t.bottom-1&&i.bottom>t.top+1}function _v(i,t){return t<i.top?{top:t,left:i.left,right:i.right,bottom:i.bottom}:i}function Uv(i,t){return t>i.bottom?{top:i.top,left:i.left,right:i.right,bottom:t}:i}function rm(i,t,e){let n,r,o,a,u=!1,f,d,m,p;for(let S=i.firstChild;S;S=S.nextSibling){let k=zl(S);for(let C=0;C<k.length;C++){let A=k[C];r&&eg(r,A)&&(A=_v(Uv(A,r.bottom),r.top));let B=BT(t,A),j=LT(e,A);if(B==0&&j==0)return S.nodeType==3?qv(S,t,e):rm(S,t,e);(!n||a>j||a==j&&o>B)&&(n=S,r=A,o=B,a=j,u=B?t<A.left?C>0:C<k.length-1:!0),B==0?e>A.bottom&&(!m||m.bottom<A.bottom)?(f=S,m=A):e<A.top&&(!p||p.top>A.top)&&(d=S,p=A):m&&eg(m,A)?m=Uv(m,A.bottom):p&&eg(p,A)&&(p=_v(p,A.top))}}if(m&&m.bottom>=e?(n=f,r=m):p&&p.top<=e&&(n=d,r=p),!n)return{node:i,offset:0};let b=Math.max(r.left,Math.min(r.right,t));if(n.nodeType==3)return qv(n,b,e);if(u&&n.contentEditable!="false")return rm(n,b,e);let v=Array.prototype.indexOf.call(i.childNodes,n)+(t>=(r.left+r.right)/2?1:0);return{node:i,offset:v}}function qv(i,t,e){let n=i.nodeValue.length,r=-1,o=1e9,a=0;for(let u=0;u<n;u++){let f=Dr(i,u,u+1).getClientRects();for(let d=0;d<f.length;d++){let m=f[d];if(m.top==m.bottom)continue;a||(a=t-m.left);let p=(m.top>e?m.top-e:e-m.bottom)-1;if(m.left-1<=t&&m.right+1>=t&&p<o){let b=t>=(m.left+m.right)/2,v=b;if((ht.chrome||ht.gecko)&&Dr(i,u).getBoundingClientRect().left==m.right&&(v=!b),p<=0)return{node:i,offset:u+(v?1:0)};r=u+(v?1:0),o=p}}}return{node:i,offset:r>-1?r:a>0?i.nodeValue.length:0}}function PS(i,t,e,n=-1){var r,o;let a=i.contentDOM.getBoundingClientRect(),u=a.top+i.viewState.paddingTop,f,{docHeight:d}=i.viewState,{x:m,y:p}=t,b=p-u;if(b<0)return 0;if(b>d)return i.state.doc.length;for(let R=i.viewState.heightOracle.textHeight/2,O=!1;f=i.elementAtHeight(b),f.type!=un.Text;)for(;b=n>0?f.bottom+R:f.top-R,!(b>=0&&b<=d);){if(O)return e?null:0;O=!0,n=-n}p=u+b;let v=f.from;if(v<i.viewport.from)return i.viewport.from==0?0:e?null:Vv(i,a,f,m,p);if(v>i.viewport.to)return i.viewport.to==i.state.doc.length?i.state.doc.length:e?null:Vv(i,a,f,m,p);let S=i.dom.ownerDocument,k=i.root.elementFromPoint?i.root:S,C=k.elementFromPoint(m,p);C&&!i.contentDOM.contains(C)&&(C=null),C||(m=Math.max(a.left+1,Math.min(a.right-1,m)),C=k.elementFromPoint(m,p),C&&!i.contentDOM.contains(C)&&(C=null));let A,B=-1;if(C&&((r=i.docView.nearest(C))===null||r===void 0?void 0:r.isEditable)!=!1){if(S.caretPositionFromPoint){let R=S.caretPositionFromPoint(m,p);R&&({offsetNode:A,offset:B}=R)}else if(S.caretRangeFromPoint){let R=S.caretRangeFromPoint(m,p);R&&({startContainer:A,startOffset:B}=R,(!i.contentDOM.contains(A)||ht.safari&&zT(A,B,m)||ht.chrome&&HT(A,B,m))&&(A=void 0))}A&&(B=Math.min(_i(A),B))}if(!A||!i.docView.dom.contains(A)){let R=ke.find(i.docView,v);if(!R)return b>f.top+f.height/2?f.to:f.from;({node:A,offset:B}=rm(R.dom,m,p))}let j=i.docView.nearest(A);if(!j)return null;if(j.isWidget&&((o=j.dom)===null||o===void 0?void 0:o.nodeType)==1){let R=j.dom.getBoundingClientRect();return t.y<R.top||t.y<=R.bottom&&t.x<=(R.left+R.right)/2?j.posAtStart:j.posAtEnd}else return j.localPosFromDOM(A,B)+j.posAtStart}function Vv(i,t,e,n,r){let o=Math.round((n-t.left)*i.defaultCharacterWidth);if(i.lineWrapping&&e.height>i.defaultLineHeight*1.5){let u=i.viewState.heightOracle.textHeight,f=Math.floor((r-e.top-(i.defaultLineHeight-u)*.5)/u);o+=f*i.viewState.heightOracle.lineLength}let a=i.state.sliceDoc(e.from,e.to);return e.from+Ig(a,o,i.state.tabSize)}function zT(i,t,e){let n,r=i;if(i.nodeType!=3||t!=(n=i.nodeValue.length))return!1;for(;;){let o=r.nextSibling;if(o){if(o.nodeName=="BR")break;return!1}else{let a=r.parentNode;if(!a||a.nodeName=="DIV")break;r=a}}return Dr(i,n-1,n).getBoundingClientRect().right>e}function HT(i,t,e){if(t!=0)return!1;for(let r=i;;){let o=r.parentNode;if(!o||o.nodeType!=1||o.firstChild!=r)return!1;if(o.classList.contains("cm-line"))break;r=o}let n=i.nodeType==1?i.getBoundingClientRect():Dr(i,0,Math.max(i.nodeValue.length,1)).getBoundingClientRect();return e-n.left>5}function lm(i,t,e){let n=i.lineBlockAt(t);if(Array.isArray(n.type)){let r;for(let o of n.type){if(o.from>t)break;if(!(o.to<t)){if(o.from<t&&o.to>t)return o;(!r||o.type==un.Text&&(r.type!=o.type||(e<0?o.from<t:o.to>t)))&&(r=o)}}return r||n}return n}function jT(i,t,e,n){let r=lm(i,t.head,t.assoc||-1),o=!n||r.type!=un.Text||!(i.lineWrapping||r.widgetLineBreaks)?null:i.coordsAtPos(t.assoc<0&&t.head>r.from?t.head-1:t.head);if(o){let a=i.dom.getBoundingClientRect(),u=i.textDirectionAt(r.from),f=i.posAtCoords({x:e==(u==oe.LTR)?a.right-1:a.left+1,y:(o.top+o.bottom)/2});if(f!=null)return Z.cursor(f,e?-1:1)}return Z.cursor(e?r.to:r.from,e?-1:1)}function Pv(i,t,e,n){let r=i.state.doc.lineAt(t.head),o=i.bidiSpans(r),a=i.textDirectionAt(r.from);for(let u=t,f=null;;){let d=wT(r,o,a,u,e),m=MS;if(!d){if(r.number==(e?i.state.doc.lines:1))return u;m=`
`,r=i.state.doc.line(r.number+(e?1:-1)),o=i.bidiSpans(r),d=i.visualLineSide(r,!e)}if(f){if(!f(m))return u}else{if(!n)return d;f=n(m)}u=d}}function _T(i,t,e){let n=i.state.charCategorizer(t),r=n(e);return o=>{let a=n(o);return r==ce.Space&&(r=a),r==a}}function UT(i,t,e,n){let r=t.head,o=e?1:-1;if(r==(e?i.state.doc.length:0))return Z.cursor(r,t.assoc);let a=t.goalColumn,u,f=i.contentDOM.getBoundingClientRect(),d=i.coordsAtPos(r,t.assoc||-1),m=i.documentTop;if(d)a==null&&(a=d.left-f.left),u=o<0?d.top:d.bottom;else{let v=i.viewState.lineBlockAt(r);a==null&&(a=Math.min(f.right-f.left,i.defaultCharacterWidth*(r-v.from))),u=(o<0?v.top:v.bottom)+m}let p=f.left+a,b=n??i.viewState.heightOracle.textHeight>>1;for(let v=0;;v+=10){let S=u+(b+v)*o,k=PS(i,{x:p,y:S},!1,o);if(S<f.top||S>f.bottom||(o<0?k<r:k>r)){let C=i.docView.coordsForChar(k),A=!C||S<C.top?-1:1;return Z.cursor(k,A,void 0,a)}}}function Tu(i,t,e){for(;;){let n=0;for(let r of i)r.between(t-1,t+1,(o,a,u)=>{if(t>o&&t<a){let f=n||e||(t-o<a-t?-1:1);t=f<0?o:a,n=f}});if(!n)return t}}function YS(i,t){let e=null;for(let n=0;n<t.ranges.length;n++){let r=t.ranges[n],o=null;if(r.empty){let a=Tu(i,r.from,0);a!=r.from&&(o=Z.cursor(a,-1))}else{let a=Tu(i,r.from,-1),u=Tu(i,r.to,1);(a!=r.from||u!=r.to)&&(o=Z.range(r.from==r.anchor?a:u,r.from==r.head?a:u))}o&&(e||(e=t.ranges.slice()),e[n]=o)}return e?Z.create(e,t.mainIndex):t}function ng(i,t,e){let n=Tu(i.state.facet(Sh).map(r=>r(i)),e.from,t.head>e.from?-1:1);return n==e.from?e:Z.cursor(n,n<e.from?1:-1)}const $o="￿";class qT{constructor(t,e){this.points=t,this.text="",this.lineSeparator=e.facet(Lt.lineSeparator)}append(t){this.text+=t}lineBreak(){this.text+=$o}readRange(t,e){if(!t)return this;let n=t.parentNode;for(let r=t;;){this.findPointBefore(n,r);let o=this.text.length;this.readNode(r);let a=r.nextSibling;if(a==e)break;let u=ee.get(r),f=ee.get(a);(u&&f?u.breakAfter:(u?u.breakAfter:qu(r))||qu(a)&&(r.nodeName!="BR"||r.cmIgnore)&&this.text.length>o)&&this.lineBreak(),r=a}return this.findPointBefore(n,e),this}readTextNode(t){let e=t.nodeValue;for(let n of this.points)n.node==t&&(n.pos=this.text.length+Math.min(n.offset,e.length));for(let n=0,r=this.lineSeparator?null:/\r\n?|\n/g;;){let o=-1,a=1,u;if(this.lineSeparator?(o=e.indexOf(this.lineSeparator,n),a=this.lineSeparator.length):(u=r.exec(e))&&(o=u.index,a=u[0].length),this.append(e.slice(n,o<0?e.length:o)),o<0)break;if(this.lineBreak(),a>1)for(let f of this.points)f.node==t&&f.pos>this.text.length&&(f.pos-=a-1);n=o+a}}readNode(t){if(t.cmIgnore)return;let e=ee.get(t),n=e&&e.overrideDOMText;if(n!=null){this.findPointInside(t,n.length);for(let r=n.iter();!r.next().done;)r.lineBreak?this.lineBreak():this.append(r.value)}else t.nodeType==3?this.readTextNode(t):t.nodeName=="BR"?t.nextSibling&&this.lineBreak():t.nodeType==1&&this.readRange(t.firstChild,null)}findPointBefore(t,e){for(let n of this.points)n.node==t&&t.childNodes[n.offset]==e&&(n.pos=this.text.length)}findPointInside(t,e){for(let n of this.points)(t.nodeType==3?n.node==t:t.contains(n.node))&&(n.pos=this.text.length+(VT(t,n.node,n.offset)?e:0))}}function VT(i,t,e){for(;;){if(!t||e<_i(t))return!1;if(t==i)return!0;e=Tr(t)+1,t=t.parentNode}}class Yv{constructor(t,e){this.node=t,this.offset=e,this.pos=-1}}class PT{constructor(t,e,n,r){this.typeOver=r,this.bounds=null,this.text="",this.domChanged=e>-1;let{impreciseHead:o,impreciseAnchor:a}=t.docView;if(t.state.readOnly&&e>-1)this.newSel=null;else if(e>-1&&(this.bounds=t.docView.domBoundsAround(e,n,0))){let u=o||a?[]:IT(t),f=new qT(u,t.state);f.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=f.text,this.newSel=XT(u,this.bounds.from)}else{let u=t.observer.selectionRange,f=o&&o.node==u.focusNode&&o.offset==u.focusOffset||!Kg(t.contentDOM,u.focusNode)?t.state.selection.main.head:t.docView.posFromDOM(u.focusNode,u.focusOffset),d=a&&a.node==u.anchorNode&&a.offset==u.anchorOffset||!Kg(t.contentDOM,u.anchorNode)?t.state.selection.main.anchor:t.docView.posFromDOM(u.anchorNode,u.anchorOffset),m=t.viewport;if((ht.ios||ht.chrome)&&t.state.selection.main.empty&&f!=d&&(m.from>0||m.to<t.state.doc.length)){let p=Math.min(f,d),b=Math.max(f,d),v=m.from-p,S=m.to-b;(v==0||v==1||p==0)&&(S==0||S==-1||b==t.state.doc.length)&&(f=0,d=t.state.doc.length)}this.newSel=Z.single(d,f)}}}function GS(i,t){let e,{newSel:n}=t,r=i.state.selection.main,o=i.inputState.lastKeyTime>Date.now()-100?i.inputState.lastKeyCode:-1;if(t.bounds){let{from:a,to:u}=t.bounds,f=r.from,d=null;(o===8||ht.android&&t.text.length<u-a)&&(f=r.to,d="end");let m=GT(i.state.doc.sliceString(a,u,$o),t.text,f-a,d);m&&(ht.chrome&&o==13&&m.toB==m.from+2&&t.text.slice(m.from,m.toB)==$o+$o&&m.toB--,e={from:a+m.from,to:a+m.toA,insert:_t.of(t.text.slice(m.from,m.toB).split($o))})}else n&&(!i.hasFocus&&i.state.facet(os)||n.main.eq(r))&&(n=null);if(!e&&!n)return!1;if(!e&&t.typeOver&&!r.empty&&n&&n.main.empty?e={from:r.from,to:r.to,insert:i.state.doc.slice(r.from,r.to)}:(ht.mac||ht.android)&&e&&e.from==e.to&&e.from==r.head-1&&/^\. ?$/.test(e.insert.toString())&&i.contentDOM.getAttribute("autocorrect")=="off"?(n&&e.insert.length==2&&(n=Z.single(n.main.anchor-1,n.main.head-1)),e={from:e.from,to:e.to,insert:_t.of([e.insert.toString().replace("."," ")])}):e&&e.from>=r.from&&e.to<=r.to&&(e.from!=r.from||e.to!=r.to)&&r.to-r.from-(e.to-e.from)<=4?e={from:r.from,to:r.to,insert:i.state.doc.slice(r.from,e.from).append(e.insert).append(i.state.doc.slice(e.to,r.to))}:ht.chrome&&e&&e.from==e.to&&e.from==r.head&&e.insert.toString()==`
 `&&i.lineWrapping&&(n&&(n=Z.single(n.main.anchor-1,n.main.head-1)),e={from:r.from,to:r.to,insert:_t.of([" "])}),e)return Xm(i,e,n,o);if(n&&!n.main.eq(r)){let a=!1,u="select";return i.inputState.lastSelectionTime>Date.now()-50&&(i.inputState.lastSelectionOrigin=="select"&&(a=!0),u=i.inputState.lastSelectionOrigin,u=="select.pointer"&&(n=YS(i.state.facet(Sh).map(f=>f(i)),n))),i.dispatch({selection:n,scrollIntoView:a,userEvent:u}),!0}else return!1}function Xm(i,t,e,n=-1){if(ht.ios&&i.inputState.flushIOSKey(t))return!0;let r=i.state.selection.main;if(ht.android&&(t.to==r.to&&(t.from==r.from||t.from==r.from-1&&i.state.sliceDoc(t.from,r.from)==" ")&&t.insert.length==1&&t.insert.lines==2&&Dl(i.contentDOM,"Enter",13)||(t.from==r.from-1&&t.to==r.to&&t.insert.length==0||n==8&&t.insert.length<t.to-t.from&&t.to>r.head)&&Dl(i.contentDOM,"Backspace",8)||t.from==r.from&&t.to==r.to+1&&t.insert.length==0&&Dl(i.contentDOM,"Delete",46)))return!0;let o=t.insert.toString();i.inputState.composing>=0&&i.inputState.composing++;let a,u=()=>a||(a=YT(i,t,e));return i.state.facet(RS).some(f=>f(i,t.from,t.to,o,u))||i.dispatch(u()),!0}function YT(i,t,e){let n,r=i.state,o=r.selection.main;if(t.from>=o.from&&t.to<=o.to&&t.to-t.from>=(o.to-o.from)/3&&(!e||e.main.empty&&e.main.from==t.from+t.insert.length)&&i.inputState.composing<0){let u=o.from<t.from?r.sliceDoc(o.from,t.from):"",f=o.to>t.to?r.sliceDoc(t.to,o.to):"";n=r.replaceSelection(i.state.toText(u+t.insert.sliceString(0,void 0,i.state.lineBreak)+f))}else{let u=r.changes(t),f=e&&e.main.to<=u.newLength?e.main:void 0;if(r.selection.ranges.length>1&&i.inputState.composing>=0&&t.to<=o.to&&t.to>=o.to-10){let d=i.state.sliceDoc(t.from,t.to),m,p=e&&VS(i,e.main.head);if(p){let S=t.insert.length-(t.to-t.from);m={from:p.from,to:p.to-S}}else m=i.state.doc.lineAt(o.head);let b=o.to-t.to,v=o.to-o.from;n=r.changeByRange(S=>{if(S.from==o.from&&S.to==o.to)return{changes:u,range:f||S.map(u)};let k=S.to-b,C=k-d.length;if(S.to-S.from!=v||i.state.sliceDoc(C,k)!=d||S.to>=m.from&&S.from<=m.to)return{range:S};let A=r.changes({from:C,to:k,insert:t.insert}),B=S.to-o.to;return{changes:A,range:f?Z.range(Math.max(0,f.anchor+B),Math.max(0,f.head+B)):S.map(A)}})}else n={changes:u,selection:f&&r.selection.replaceRange(f)}}let a="input.type";return(i.composing||i.inputState.compositionPendingChange&&i.inputState.compositionEndedAt>Date.now()-50)&&(i.inputState.compositionPendingChange=!1,a+=".compose",i.inputState.compositionFirstChange&&(a+=".start",i.inputState.compositionFirstChange=!1)),r.update(n,{userEvent:a,scrollIntoView:!0})}function GT(i,t,e,n){let r=Math.min(i.length,t.length),o=0;for(;o<r&&i.charCodeAt(o)==t.charCodeAt(o);)o++;if(o==r&&i.length==t.length)return null;let a=i.length,u=t.length;for(;a>0&&u>0&&i.charCodeAt(a-1)==t.charCodeAt(u-1);)a--,u--;if(n=="end"){let f=Math.max(0,o-Math.min(a,u));e-=a+f-o}if(a<o&&i.length<t.length){let f=e<=o&&e>=a?o-e:0;o-=f,u=o+(u-a),a=o}else if(u<o){let f=e<=o&&e>=u?o-e:0;o-=f,a=o+(a-u),u=o}return{from:o,toA:a,toB:u}}function IT(i){let t=[];if(i.root.activeElement!=i.contentDOM)return t;let{anchorNode:e,anchorOffset:n,focusNode:r,focusOffset:o}=i.observer.selectionRange;return e&&(t.push(new Yv(e,n)),(r!=e||o!=n)&&t.push(new Yv(r,o))),t}function XT(i,t){if(i.length==0)return null;let e=i[0].pos,n=i.length==2?i[1].pos:e;return e>-1&&n>-1?Z.single(e+t,n+t):null}class QT{setSelectionOrigin(t){this.lastSelectionOrigin=t,this.lastSelectionTime=Date.now()}constructor(t){this.view=t,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=t.hasFocus,ht.safari&&t.contentDOM.addEventListener("input",()=>null),ht.gecko&&cD(t.contentDOM.ownerDocument)}handleEvent(t){!eD(this.view,t)||this.ignoreDuringComposition(t)||t.type=="keydown"&&this.keydown(t)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(t.type,t)):this.runHandlers(t.type,t))}runHandlers(t,e){let n=this.handlers[t];if(n){for(let r of n.observers)r(this.view,e);for(let r of n.handlers){if(e.defaultPrevented)break;if(r(this.view,e)){e.preventDefault();break}}}}ensureHandlers(t){let e=KT(t),n=this.handlers,r=this.view.contentDOM;for(let o in e)if(o!="scroll"){let a=!e[o].handlers.length,u=n[o];u&&a!=!u.handlers.length&&(r.removeEventListener(o,this.handleEvent),u=null),u||r.addEventListener(o,this.handleEvent,{passive:a})}for(let o in n)o!="scroll"&&!e[o]&&r.removeEventListener(o,this.handleEvent);this.handlers=e}keydown(t){if(this.lastKeyCode=t.keyCode,this.lastKeyTime=Date.now(),t.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&t.keyCode!=27&&XS.indexOf(t.keyCode)<0&&(this.tabFocusMode=-1),ht.android&&ht.chrome&&!t.synthetic&&(t.keyCode==13||t.keyCode==8))return this.view.observer.delayAndroidKey(t.key,t.keyCode),!0;let e;return ht.ios&&!t.synthetic&&!t.altKey&&!t.metaKey&&((e=IS.find(n=>n.keyCode==t.keyCode))&&!t.ctrlKey||WT.indexOf(t.key)>-1&&t.ctrlKey&&!t.shiftKey)?(this.pendingIOSKey=e||t,setTimeout(()=>this.flushIOSKey(),250),!0):(t.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(t){let e=this.pendingIOSKey;return!e||e.key=="Enter"&&t&&t.from<t.to&&/^\S+$/.test(t.insert.toString())?!1:(this.pendingIOSKey=void 0,Dl(this.view.contentDOM,e.key,e.keyCode,e instanceof KeyboardEvent?e:void 0))}ignoreDuringComposition(t){return/^key/.test(t.type)?this.composing>0?!0:ht.safari&&!ht.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(t){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=t}update(t){this.view.observer.update(t),this.mouseSelection&&this.mouseSelection.update(t),this.draggedContent&&t.docChanged&&(this.draggedContent=this.draggedContent.map(t.changes)),t.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function Gv(i,t){return(e,n)=>{try{return t.call(i,n,e)}catch(r){Sn(e.state,r)}}}function KT(i){let t=Object.create(null);function e(n){return t[n]||(t[n]={observers:[],handlers:[]})}for(let n of i){let r=n.spec,o=r&&r.plugin.domEventHandlers,a=r&&r.plugin.domEventObservers;if(o)for(let u in o){let f=o[u];f&&e(u).handlers.push(Gv(n.value,f))}if(a)for(let u in a){let f=a[u];f&&e(u).observers.push(Gv(n.value,f))}}for(let n in yi)e(n).handlers.push(yi[n]);for(let n in si)e(n).observers.push(si[n]);return t}const IS=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],WT="dthko",XS=[16,17,18,20,91,92,224,225],eu=6;function nu(i){return Math.max(0,i)*.7+8}function FT(i,t){return Math.max(Math.abs(i.clientX-t.clientX),Math.abs(i.clientY-t.clientY))}class ZT{constructor(t,e,n,r){this.view=t,this.startEvent=e,this.style=n,this.mustSelect=r,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=e,this.scrollParents=sT(t.contentDOM),this.atoms=t.state.facet(Sh).map(a=>a(t));let o=t.contentDOM.ownerDocument;o.addEventListener("mousemove",this.move=this.move.bind(this)),o.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=e.shiftKey,this.multiple=t.state.facet(Lt.allowMultipleSelections)&&$T(t,e),this.dragging=tD(t,e)&&WS(e)==1?null:!1}start(t){this.dragging===!1&&this.select(t)}move(t){if(t.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&FT(this.startEvent,t)<10)return;this.select(this.lastEvent=t);let e=0,n=0,r=0,o=0,a=this.view.win.innerWidth,u=this.view.win.innerHeight;this.scrollParents.x&&({left:r,right:a}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:o,bottom:u}=this.scrollParents.y.getBoundingClientRect());let f=Im(this.view);t.clientX-f.left<=r+eu?e=-nu(r-t.clientX):t.clientX+f.right>=a-eu&&(e=nu(t.clientX-a)),t.clientY-f.top<=o+eu?n=-nu(o-t.clientY):t.clientY+f.bottom>=u-eu&&(n=nu(t.clientY-u)),this.setScrollSpeed(e,n)}up(t){this.dragging==null&&this.select(this.lastEvent),this.dragging||t.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let t=this.view.contentDOM.ownerDocument;t.removeEventListener("mousemove",this.move),t.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(t,e){this.scrollSpeed={x:t,y:e},t||e?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:t,y:e}=this.scrollSpeed;t&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=t,t=0),e&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=e,e=0),(t||e)&&this.view.win.scrollBy(t,e),this.dragging===!1&&this.select(this.lastEvent)}select(t){let{view:e}=this,n=YS(this.atoms,this.style.get(t,this.extend,this.multiple));(this.mustSelect||!n.eq(e.state.selection,this.dragging===!1))&&this.view.dispatch({selection:n,userEvent:"select.pointer"}),this.mustSelect=!1}update(t){t.transactions.some(e=>e.isUserEvent("input.type"))?this.destroy():this.style.update(t)&&setTimeout(()=>this.select(this.lastEvent),20)}}function $T(i,t){let e=i.state.facet(TS);return e.length?e[0](t):ht.mac?t.metaKey:t.ctrlKey}function JT(i,t){let e=i.state.facet(DS);return e.length?e[0](t):ht.mac?!t.altKey:!t.ctrlKey}function tD(i,t){let{main:e}=i.state.selection;if(e.empty)return!1;let n=da(i.root);if(!n||n.rangeCount==0)return!0;let r=n.getRangeAt(0).getClientRects();for(let o=0;o<r.length;o++){let a=r[o];if(a.left<=t.clientX&&a.right>=t.clientX&&a.top<=t.clientY&&a.bottom>=t.clientY)return!0}return!1}function eD(i,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let e=t.target,n;e!=i.contentDOM;e=e.parentNode)if(!e||e.nodeType==11||(n=ee.get(e))&&n.ignoreEvent(t))return!1;return!0}const yi=Object.create(null),si=Object.create(null),QS=ht.ie&&ht.ie_version<15||ht.ios&&ht.webkit_version<604;function nD(i){let t=i.dom.parentNode;if(!t)return;let e=t.appendChild(document.createElement("textarea"));e.style.cssText="position: fixed; left: -10000px; top: 10px",e.focus(),setTimeout(()=>{i.focus(),e.remove(),KS(i,e.value)},50)}function wh(i,t,e){for(let n of i.facet(t))e=n(e,i);return e}function KS(i,t){t=wh(i.state,Pm,t);let{state:e}=i,n,r=1,o=e.toText(t),a=o.lines==e.selection.ranges.length;if(om!=null&&e.selection.ranges.every(f=>f.empty)&&om==o.toString()){let f=-1;n=e.changeByRange(d=>{let m=e.doc.lineAt(d.from);if(m.from==f)return{range:d};f=m.from;let p=e.toText((a?o.line(r++).text:t)+e.lineBreak);return{changes:{from:m.from,insert:p},range:Z.cursor(d.from+p.length)}})}else a?n=e.changeByRange(f=>{let d=o.line(r++);return{changes:{from:f.from,to:f.to,insert:d.text},range:Z.cursor(f.from+d.length)}}):n=e.replaceSelection(o);i.dispatch(n,{userEvent:"input.paste",scrollIntoView:!0})}si.scroll=i=>{i.inputState.lastScrollTop=i.scrollDOM.scrollTop,i.inputState.lastScrollLeft=i.scrollDOM.scrollLeft};yi.keydown=(i,t)=>(i.inputState.setSelectionOrigin("select"),t.keyCode==27&&i.inputState.tabFocusMode!=0&&(i.inputState.tabFocusMode=Date.now()+2e3),!1);si.touchstart=(i,t)=>{i.inputState.lastTouchTime=Date.now(),i.inputState.setSelectionOrigin("select.pointer")};si.touchmove=i=>{i.inputState.setSelectionOrigin("select.pointer")};yi.mousedown=(i,t)=>{if(i.observer.flush(),i.inputState.lastTouchTime>Date.now()-2e3)return!1;let e=null;for(let n of i.state.facet(OS))if(e=n(i,t),e)break;if(!e&&t.button==0&&(e=rD(i,t)),e){let n=!i.hasFocus;i.inputState.startMouseSelection(new ZT(i,t,e,n)),n&&i.observer.ignore(()=>{aS(i.contentDOM);let o=i.root.activeElement;o&&!o.contains(i.contentDOM)&&o.blur()});let r=i.inputState.mouseSelection;if(r)return r.start(t),r.dragging===!1}else i.inputState.setSelectionOrigin("select.pointer");return!1};function Iv(i,t,e,n){if(n==1)return Z.cursor(t,e);if(n==2)return NT(i.state,t,e);{let r=ke.find(i.docView,t),o=i.state.doc.lineAt(r?r.posAtEnd:t),a=r?r.posAtStart:o.from,u=r?r.posAtEnd:o.to;return u<i.state.doc.length&&u==o.to&&u++,Z.range(a,u)}}let Xv=(i,t,e)=>t>=e.top&&t<=e.bottom&&i>=e.left&&i<=e.right;function iD(i,t,e,n){let r=ke.find(i.docView,t);if(!r)return 1;let o=t-r.posAtStart;if(o==0)return 1;if(o==r.length)return-1;let a=r.coordsAt(o,-1);if(a&&Xv(e,n,a))return-1;let u=r.coordsAt(o,1);return u&&Xv(e,n,u)?1:a&&a.bottom>=n?-1:1}function Qv(i,t){let e=i.posAtCoords({x:t.clientX,y:t.clientY},!1);return{pos:e,bias:iD(i,e,t.clientX,t.clientY)}}const sD=ht.ie&&ht.ie_version<=11;let Kv=null,Wv=0,Fv=0;function WS(i){if(!sD)return i.detail;let t=Kv,e=Fv;return Kv=i,Fv=Date.now(),Wv=!t||e>Date.now()-400&&Math.abs(t.clientX-i.clientX)<2&&Math.abs(t.clientY-i.clientY)<2?(Wv+1)%3:1}function rD(i,t){let e=Qv(i,t),n=WS(t),r=i.state.selection;return{update(o){o.docChanged&&(e.pos=o.changes.mapPos(e.pos),r=r.map(o.changes))},get(o,a,u){let f=Qv(i,o),d,m=Iv(i,f.pos,f.bias,n);if(e.pos!=f.pos&&!a){let p=Iv(i,e.pos,e.bias,n),b=Math.min(p.from,m.from),v=Math.max(p.to,m.to);m=b<m.from?Z.range(b,v):Z.range(v,b)}return a?r.replaceRange(r.main.extend(m.from,m.to)):u&&n==1&&r.ranges.length>1&&(d=lD(r,f.pos))?d:u?r.addRange(m):Z.create([m])}}}function lD(i,t){for(let e=0;e<i.ranges.length;e++){let{from:n,to:r}=i.ranges[e];if(n<=t&&r>=t)return Z.create(i.ranges.slice(0,e).concat(i.ranges.slice(e+1)),i.mainIndex==e?0:i.mainIndex-(i.mainIndex>e?1:0))}return null}yi.dragstart=(i,t)=>{let{selection:{main:e}}=i.state;if(t.target.draggable){let r=i.docView.nearest(t.target);if(r&&r.isWidget){let o=r.posAtStart,a=o+r.length;(o>=e.to||a<=e.from)&&(e=Z.range(o,a))}}let{inputState:n}=i;return n.mouseSelection&&(n.mouseSelection.dragging=!0),n.draggedContent=e,t.dataTransfer&&(t.dataTransfer.setData("Text",wh(i.state,Ym,i.state.sliceDoc(e.from,e.to))),t.dataTransfer.effectAllowed="copyMove"),!1};yi.dragend=i=>(i.inputState.draggedContent=null,!1);function Zv(i,t,e,n){if(e=wh(i.state,Pm,e),!e)return;let r=i.posAtCoords({x:t.clientX,y:t.clientY},!1),{draggedContent:o}=i.inputState,a=n&&o&&JT(i,t)?{from:o.from,to:o.to}:null,u={from:r,insert:e},f=i.state.changes(a?[a,u]:u);i.focus(),i.dispatch({changes:f,selection:{anchor:f.mapPos(r,-1),head:f.mapPos(r,1)},userEvent:a?"move.drop":"input.drop"}),i.inputState.draggedContent=null}yi.drop=(i,t)=>{if(!t.dataTransfer)return!1;if(i.state.readOnly)return!0;let e=t.dataTransfer.files;if(e&&e.length){let n=Array(e.length),r=0,o=()=>{++r==e.length&&Zv(i,t,n.filter(a=>a!=null).join(i.state.lineBreak),!1)};for(let a=0;a<e.length;a++){let u=new FileReader;u.onerror=o,u.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(u.result)||(n[a]=u.result),o()},u.readAsText(e[a])}return!0}else{let n=t.dataTransfer.getData("Text");if(n)return Zv(i,t,n,!0),!0}return!1};yi.paste=(i,t)=>{if(i.state.readOnly)return!0;i.observer.flush();let e=QS?null:t.clipboardData;return e?(KS(i,e.getData("text/plain")||e.getData("text/uri-list")),!0):(nD(i),!1)};function oD(i,t){let e=i.dom.parentNode;if(!e)return;let n=e.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.value=t,n.focus(),n.selectionEnd=t.length,n.selectionStart=0,setTimeout(()=>{n.remove(),i.focus()},50)}function aD(i){let t=[],e=[],n=!1;for(let r of i.selection.ranges)r.empty||(t.push(i.sliceDoc(r.from,r.to)),e.push(r));if(!t.length){let r=-1;for(let{from:o}of i.selection.ranges){let a=i.doc.lineAt(o);a.number>r&&(t.push(a.text),e.push({from:a.from,to:Math.min(i.doc.length,a.to+1)})),r=a.number}n=!0}return{text:wh(i,Ym,t.join(i.lineBreak)),ranges:e,linewise:n}}let om=null;yi.copy=yi.cut=(i,t)=>{let{text:e,ranges:n,linewise:r}=aD(i.state);if(!e&&!r)return!1;om=r?e:null,t.type=="cut"&&!i.state.readOnly&&i.dispatch({changes:n,scrollIntoView:!0,userEvent:"delete.cut"});let o=QS?null:t.clipboardData;return o?(o.clearData(),o.setData("text/plain",e),!0):(oD(i,e),!1)};const FS=qi.define();function ZS(i,t){let e=[];for(let n of i.facet(NS)){let r=n(i,t);r&&e.push(r)}return e.length?i.update({effects:e,annotations:FS.of(!0)}):null}function $S(i){setTimeout(()=>{let t=i.hasFocus;if(t!=i.inputState.notifiedFocused){let e=ZS(i.state,t);e?i.dispatch(e):i.update([])}},10)}si.focus=i=>{i.inputState.lastFocusTime=Date.now(),!i.scrollDOM.scrollTop&&(i.inputState.lastScrollTop||i.inputState.lastScrollLeft)&&(i.scrollDOM.scrollTop=i.inputState.lastScrollTop,i.scrollDOM.scrollLeft=i.inputState.lastScrollLeft),$S(i)};si.blur=i=>{i.observer.clearSelectionRange(),$S(i)};si.compositionstart=si.compositionupdate=i=>{i.observer.editContext||(i.inputState.compositionFirstChange==null&&(i.inputState.compositionFirstChange=!0),i.inputState.composing<0&&(i.inputState.composing=0))};si.compositionend=i=>{i.observer.editContext||(i.inputState.composing=-1,i.inputState.compositionEndedAt=Date.now(),i.inputState.compositionPendingKey=!0,i.inputState.compositionPendingChange=i.observer.pendingRecords().length>0,i.inputState.compositionFirstChange=null,ht.chrome&&ht.android?i.observer.flushSoon():i.inputState.compositionPendingChange?Promise.resolve().then(()=>i.observer.flush()):setTimeout(()=>{i.inputState.composing<0&&i.docView.hasComposition&&i.update([])},50))};si.contextmenu=i=>{i.inputState.lastContextMenu=Date.now()};yi.beforeinput=(i,t)=>{var e,n;if(t.inputType=="insertReplacementText"&&i.observer.editContext){let o=(e=t.dataTransfer)===null||e===void 0?void 0:e.getData("text/plain"),a=t.getTargetRanges();if(o&&a.length){let u=a[0],f=i.posAtDOM(u.startContainer,u.startOffset),d=i.posAtDOM(u.endContainer,u.endOffset);return Xm(i,{from:f,to:d,insert:i.state.toText(o)},null),!0}}let r;if(ht.chrome&&ht.android&&(r=IS.find(o=>o.inputType==t.inputType))&&(i.observer.delayAndroidKey(r.key,r.keyCode),r.key=="Backspace"||r.key=="Delete")){let o=((n=window.visualViewport)===null||n===void 0?void 0:n.height)||0;setTimeout(()=>{var a;(((a=window.visualViewport)===null||a===void 0?void 0:a.height)||0)>o+10&&i.hasFocus&&(i.contentDOM.blur(),i.focus())},100)}return ht.ios&&t.inputType=="deleteContentForward"&&i.observer.flushSoon(),ht.safari&&t.inputType=="insertText"&&i.inputState.composing>=0&&setTimeout(()=>si.compositionend(i,t),20),!1};const $v=new Set;function cD(i){$v.has(i)||($v.add(i),i.addEventListener("copy",()=>{}),i.addEventListener("cut",()=>{}))}const Jv=["pre-wrap","normal","pre-line","break-spaces"];let _l=!1;function t1(){_l=!1}class uD{constructor(t){this.lineWrapping=t,this.doc=_t.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(t,e){let n=this.doc.lineAt(e).number-this.doc.lineAt(t).number+1;return this.lineWrapping&&(n+=Math.max(0,Math.ceil((e-t-n*this.lineLength*.5)/this.lineLength))),this.lineHeight*n}heightForLine(t){return this.lineWrapping?(1+Math.max(0,Math.ceil((t-this.lineLength)/Math.max(1,this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(t){return this.doc=t,this}mustRefreshForWrapping(t){return Jv.indexOf(t)>-1!=this.lineWrapping}mustRefreshForHeights(t){let e=!1;for(let n=0;n<t.length;n++){let r=t[n];r<0?n++:this.heightSamples[Math.floor(r*10)]||(e=!0,this.heightSamples[Math.floor(r*10)]=!0)}return e}refresh(t,e,n,r,o,a){let u=Jv.indexOf(t)>-1,f=Math.round(e)!=Math.round(this.lineHeight)||this.lineWrapping!=u;if(this.lineWrapping=u,this.lineHeight=e,this.charWidth=n,this.textHeight=r,this.lineLength=o,f){this.heightSamples={};for(let d=0;d<a.length;d++){let m=a[d];m<0?d++:this.heightSamples[Math.floor(m*10)]=!0}}return f}}class hD{constructor(t,e){this.from=t,this.heights=e,this.index=0}get more(){return this.index<this.heights.length}}class Li{constructor(t,e,n,r,o){this.from=t,this.length=e,this.top=n,this.height=r,this._content=o}get type(){return typeof this._content=="number"?un.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof Fs?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(t){let e=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(t._content)?t._content:[t]);return new Li(this.from,this.length+t.length,this.top,this.height+t.height,e)}}var le=(function(i){return i[i.ByPos=0]="ByPos",i[i.ByHeight=1]="ByHeight",i[i.ByPosNoHeight=2]="ByPosNoHeight",i})(le||(le={}));const Du=.001;class hn{constructor(t,e,n=2){this.length=t,this.height=e,this.flags=n}get outdated(){return(this.flags&2)>0}set outdated(t){this.flags=(t?2:0)|this.flags&-3}setHeight(t){this.height!=t&&(Math.abs(this.height-t)>Du&&(_l=!0),this.height=t)}replace(t,e,n){return hn.of(n)}decomposeLeft(t,e){e.push(this)}decomposeRight(t,e){e.push(this)}applyChanges(t,e,n,r){let o=this,a=n.doc;for(let u=r.length-1;u>=0;u--){let{fromA:f,toA:d,fromB:m,toB:p}=r[u],b=o.lineAt(f,le.ByPosNoHeight,n.setDoc(e),0,0),v=b.to>=d?b:o.lineAt(d,le.ByPosNoHeight,n,0,0);for(p+=v.to-d,d=v.to;u>0&&b.from<=r[u-1].toA;)f=r[u-1].fromA,m=r[u-1].fromB,u--,f<b.from&&(b=o.lineAt(f,le.ByPosNoHeight,n,0,0));m+=b.from-f,f=b.from;let S=Qm.build(n.setDoc(a),t,m,p);o=Yu(o,o.replace(f,d,S))}return o.updateHeight(n,0)}static empty(){return new jn(0,0)}static of(t){if(t.length==1)return t[0];let e=0,n=t.length,r=0,o=0;for(;;)if(e==n)if(r>o*2){let u=t[e-1];u.break?t.splice(--e,1,u.left,null,u.right):t.splice(--e,1,u.left,u.right),n+=1+u.break,r-=u.size}else if(o>r*2){let u=t[n];u.break?t.splice(n,1,u.left,null,u.right):t.splice(n,1,u.left,u.right),n+=2+u.break,o-=u.size}else break;else if(r<o){let u=t[e++];u&&(r+=u.size)}else{let u=t[--n];u&&(o+=u.size)}let a=0;return t[e-1]==null?(a=1,e--):t[e]==null&&(a=1,n++),new fD(hn.of(t.slice(0,e)),a,hn.of(t.slice(n)))}}function Yu(i,t){return i==t?i:(i.constructor!=t.constructor&&(_l=!0),t)}hn.prototype.size=1;class JS extends hn{constructor(t,e,n){super(t,e),this.deco=n}blockAt(t,e,n,r){return new Li(r,this.length,n,this.height,this.deco||0)}lineAt(t,e,n,r,o){return this.blockAt(0,n,r,o)}forEachLine(t,e,n,r,o,a){t<=o+this.length&&e>=o&&a(this.blockAt(0,n,r,o))}updateHeight(t,e=0,n=!1,r){return r&&r.from<=e&&r.more&&this.setHeight(r.heights[r.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class jn extends JS{constructor(t,e){super(t,e,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(t,e,n,r){return new Li(r,this.length,n,this.height,this.breaks)}replace(t,e,n){let r=n[0];return n.length==1&&(r instanceof jn||r instanceof Qe&&r.flags&4)&&Math.abs(this.length-r.length)<10?(r instanceof Qe?r=new jn(r.length,this.height):r.height=this.height,this.outdated||(r.outdated=!1),r):hn.of(n)}updateHeight(t,e=0,n=!1,r){return r&&r.from<=e&&r.more?this.setHeight(r.heights[r.index++]):(n||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,t.heightForLine(this.length-this.collapsed))+this.breaks*t.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Qe extends hn{constructor(t){super(t,0)}heightMetrics(t,e){let n=t.doc.lineAt(e).number,r=t.doc.lineAt(e+this.length).number,o=r-n+1,a,u=0;if(t.lineWrapping){let f=Math.min(this.height,t.lineHeight*o);a=f/o,this.length>o+1&&(u=(this.height-f)/(this.length-o-1))}else a=this.height/o;return{firstLine:n,lastLine:r,perLine:a,perChar:u}}blockAt(t,e,n,r){let{firstLine:o,lastLine:a,perLine:u,perChar:f}=this.heightMetrics(e,r);if(e.lineWrapping){let d=r+(t<e.lineHeight?0:Math.round(Math.max(0,Math.min(1,(t-n)/this.height))*this.length)),m=e.doc.lineAt(d),p=u+m.length*f,b=Math.max(n,t-p/2);return new Li(m.from,m.length,b,p,0)}else{let d=Math.max(0,Math.min(a-o,Math.floor((t-n)/u))),{from:m,length:p}=e.doc.line(o+d);return new Li(m,p,n+u*d,u,0)}}lineAt(t,e,n,r,o){if(e==le.ByHeight)return this.blockAt(t,n,r,o);if(e==le.ByPosNoHeight){let{from:v,to:S}=n.doc.lineAt(t);return new Li(v,S-v,0,0,0)}let{firstLine:a,perLine:u,perChar:f}=this.heightMetrics(n,o),d=n.doc.lineAt(t),m=u+d.length*f,p=d.number-a,b=r+u*p+f*(d.from-o-p);return new Li(d.from,d.length,Math.max(r,Math.min(b,r+this.height-m)),m,0)}forEachLine(t,e,n,r,o,a){t=Math.max(t,o),e=Math.min(e,o+this.length);let{firstLine:u,perLine:f,perChar:d}=this.heightMetrics(n,o);for(let m=t,p=r;m<=e;){let b=n.doc.lineAt(m);if(m==t){let S=b.number-u;p+=f*S+d*(t-o-S)}let v=f+d*b.length;a(new Li(b.from,b.length,p,v,0)),p+=v,m=b.to+1}}replace(t,e,n){let r=this.length-e;if(r>0){let o=n[n.length-1];o instanceof Qe?n[n.length-1]=new Qe(o.length+r):n.push(null,new Qe(r-1))}if(t>0){let o=n[0];o instanceof Qe?n[0]=new Qe(t+o.length):n.unshift(new Qe(t-1),null)}return hn.of(n)}decomposeLeft(t,e){e.push(new Qe(t-1),null)}decomposeRight(t,e){e.push(null,new Qe(this.length-t-1))}updateHeight(t,e=0,n=!1,r){let o=e+this.length;if(r&&r.from<=e+this.length&&r.more){let a=[],u=Math.max(e,r.from),f=-1;for(r.from>e&&a.push(new Qe(r.from-e-1).updateHeight(t,e));u<=o&&r.more;){let m=t.doc.lineAt(u).length;a.length&&a.push(null);let p=r.heights[r.index++];f==-1?f=p:Math.abs(p-f)>=Du&&(f=-2);let b=new jn(m,p);b.outdated=!1,a.push(b),u+=m+1}u<=o&&a.push(null,new Qe(o-u).updateHeight(t,u));let d=hn.of(a);return(f<0||Math.abs(d.height-this.height)>=Du||Math.abs(f-this.heightMetrics(t,e).perLine)>=Du)&&(_l=!0),Yu(this,d)}else(n||this.outdated)&&(this.setHeight(t.heightForGap(e,e+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class fD extends hn{constructor(t,e,n){super(t.length+e+n.length,t.height+n.height,e|(t.outdated||n.outdated?2:0)),this.left=t,this.right=n,this.size=t.size+n.size}get break(){return this.flags&1}blockAt(t,e,n,r){let o=n+this.left.height;return t<o?this.left.blockAt(t,e,n,r):this.right.blockAt(t,e,o,r+this.left.length+this.break)}lineAt(t,e,n,r,o){let a=r+this.left.height,u=o+this.left.length+this.break,f=e==le.ByHeight?t<a:t<u,d=f?this.left.lineAt(t,e,n,r,o):this.right.lineAt(t,e,n,a,u);if(this.break||(f?d.to<u:d.from>u))return d;let m=e==le.ByPosNoHeight?le.ByPosNoHeight:le.ByPos;return f?d.join(this.right.lineAt(u,m,n,a,u)):this.left.lineAt(u,m,n,r,o).join(d)}forEachLine(t,e,n,r,o,a){let u=r+this.left.height,f=o+this.left.length+this.break;if(this.break)t<f&&this.left.forEachLine(t,e,n,r,o,a),e>=f&&this.right.forEachLine(t,e,n,u,f,a);else{let d=this.lineAt(f,le.ByPos,n,r,o);t<d.from&&this.left.forEachLine(t,d.from-1,n,r,o,a),d.to>=t&&d.from<=e&&a(d),e>d.to&&this.right.forEachLine(d.to+1,e,n,u,f,a)}}replace(t,e,n){let r=this.left.length+this.break;if(e<r)return this.balanced(this.left.replace(t,e,n),this.right);if(t>this.left.length)return this.balanced(this.left,this.right.replace(t-r,e-r,n));let o=[];t>0&&this.decomposeLeft(t,o);let a=o.length;for(let u of n)o.push(u);if(t>0&&e1(o,a-1),e<this.length){let u=o.length;this.decomposeRight(e,o),e1(o,u)}return hn.of(o)}decomposeLeft(t,e){let n=this.left.length;if(t<=n)return this.left.decomposeLeft(t,e);e.push(this.left),this.break&&(n++,t>=n&&e.push(null)),t>n&&this.right.decomposeLeft(t-n,e)}decomposeRight(t,e){let n=this.left.length,r=n+this.break;if(t>=r)return this.right.decomposeRight(t-r,e);t<n&&this.left.decomposeRight(t,e),this.break&&t<r&&e.push(null),e.push(this.right)}balanced(t,e){return t.size>2*e.size||e.size>2*t.size?hn.of(this.break?[t,null,e]:[t,e]):(this.left=Yu(this.left,t),this.right=Yu(this.right,e),this.setHeight(t.height+e.height),this.outdated=t.outdated||e.outdated,this.size=t.size+e.size,this.length=t.length+this.break+e.length,this)}updateHeight(t,e=0,n=!1,r){let{left:o,right:a}=this,u=e+o.length+this.break,f=null;return r&&r.from<=e+o.length&&r.more?f=o=o.updateHeight(t,e,n,r):o.updateHeight(t,e,n),r&&r.from<=u+a.length&&r.more?f=a=a.updateHeight(t,u,n,r):a.updateHeight(t,u,n),f?this.balanced(o,a):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function e1(i,t){let e,n;i[t]==null&&(e=i[t-1])instanceof Qe&&(n=i[t+1])instanceof Qe&&i.splice(t-1,3,new Qe(e.length+1+n.length))}const dD=5;class Qm{constructor(t,e){this.pos=t,this.oracle=e,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=t}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(t,e){if(this.lineStart>-1){let n=Math.min(e,this.lineEnd),r=this.nodes[this.nodes.length-1];r instanceof jn?r.length+=n-this.pos:(n>this.pos||!this.isCovered)&&this.nodes.push(new jn(n-this.pos,-1)),this.writtenTo=n,e>n&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=e}point(t,e,n){if(t<e||n.heightRelevant){let r=n.widget?n.widget.estimatedHeight:0,o=n.widget?n.widget.lineBreaks:0;r<0&&(r=this.oracle.lineHeight);let a=e-t;n.block?this.addBlock(new JS(a,r,n)):(a||o||r>=dD)&&this.addLineDeco(r,o,a)}else e>t&&this.span(t,e);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:t,to:e}=this.oracle.doc.lineAt(this.pos);this.lineStart=t,this.lineEnd=e,this.writtenTo<t&&((this.writtenTo<t-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,t-1)),this.nodes.push(null)),this.pos>t&&this.nodes.push(new jn(this.pos-t,-1)),this.writtenTo=this.pos}blankContent(t,e){let n=new Qe(e-t);return this.oracle.doc.lineAt(t).to==e&&(n.flags|=4),n}ensureLine(){this.enterLine();let t=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(t instanceof jn)return t;let e=new jn(0,-1);return this.nodes.push(e),e}addBlock(t){this.enterLine();let e=t.deco;e&&e.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(t),this.writtenTo=this.pos=this.pos+t.length,e&&e.endSide>0&&(this.covering=t)}addLineDeco(t,e,n){let r=this.ensureLine();r.length+=n,r.collapsed+=n,r.widgetHeight=Math.max(r.widgetHeight,t),r.breaks+=e,this.writtenTo=this.pos=this.pos+n}finish(t){let e=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(e instanceof jn)&&!this.isCovered?this.nodes.push(new jn(0,-1)):(this.writtenTo<this.pos||e==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let n=t;for(let r of this.nodes)r instanceof jn&&r.updateHeight(this.oracle,n),n+=r?r.length:1;return this.nodes}static build(t,e,n,r){let o=new Qm(n,t);return jt.spans(e,n,r,o,0),o.finish(n)}}function gD(i,t,e){let n=new mD;return jt.compare(i,t,e,n,0),n.changes}class mD{constructor(){this.changes=[]}compareRange(){}comparePoint(t,e,n,r){(t<e||n&&n.heightRelevant||r&&r.heightRelevant)&&Mu(t,e,this.changes,5)}}function pD(i,t){let e=i.getBoundingClientRect(),n=i.ownerDocument,r=n.defaultView||window,o=Math.max(0,e.left),a=Math.min(r.innerWidth,e.right),u=Math.max(0,e.top),f=Math.min(r.innerHeight,e.bottom);for(let d=i.parentNode;d&&d!=n.body;)if(d.nodeType==1){let m=d,p=window.getComputedStyle(m);if((m.scrollHeight>m.clientHeight||m.scrollWidth>m.clientWidth)&&p.overflow!="visible"){let b=m.getBoundingClientRect();o=Math.max(o,b.left),a=Math.min(a,b.right),u=Math.max(u,b.top),f=Math.min(d==i.parentNode?r.innerHeight:f,b.bottom)}d=p.position=="absolute"||p.position=="fixed"?m.offsetParent:m.parentNode}else if(d.nodeType==11)d=d.host;else break;return{left:o-e.left,right:Math.max(o,a)-e.left,top:u-(e.top+t),bottom:Math.max(u,f)-(e.top+t)}}function yD(i){let t=i.getBoundingClientRect(),e=i.ownerDocument.defaultView||window;return t.left<e.innerWidth&&t.right>0&&t.top<e.innerHeight&&t.bottom>0}function bD(i,t){let e=i.getBoundingClientRect();return{left:0,right:e.right-e.left,top:t,bottom:e.bottom-(e.top+t)}}class ig{constructor(t,e,n,r){this.from=t,this.to=e,this.size=n,this.displaySize=r}static same(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++){let r=t[n],o=e[n];if(r.from!=o.from||r.to!=o.to||r.size!=o.size)return!1}return!0}draw(t,e){return xt.replace({widget:new vD(this.displaySize*(e?t.scaleY:t.scaleX),e)}).range(this.from,this.to)}}class vD extends fs{constructor(t,e){super(),this.size=t,this.vertical=e}eq(t){return t.size==this.size&&t.vertical==this.vertical}toDOM(){let t=document.createElement("div");return this.vertical?t.style.height=this.size+"px":(t.style.width=this.size+"px",t.style.height="2px",t.style.display="inline-block"),t}get estimatedHeight(){return this.vertical?this.size:-1}}class n1{constructor(t){this.state=t,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=i1,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=oe.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let e=t.facet(Gm).some(n=>typeof n!="function"&&n.class=="cm-lineWrapping");this.heightOracle=new uD(e),this.stateDeco=t.facet(ga).filter(n=>typeof n!="function"),this.heightMap=hn.empty().applyChanges(this.stateDeco,_t.empty,this.heightOracle.setDoc(t.doc),[new ni(0,0,0,t.doc.length)]);for(let n=0;n<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());n++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=xt.set(this.lineGaps.map(n=>n.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let t=[this.viewport],{main:e}=this.state.selection;for(let n=0;n<=1;n++){let r=n?e.head:e.anchor;if(!t.some(({from:o,to:a})=>r>=o&&r<=a)){let{from:o,to:a}=this.lineBlockAt(r);t.push(new iu(o,a))}}return this.viewports=t.sort((n,r)=>n.from-r.from),this.updateScaler()}updateScaler(){let t=this.scaler;return this.scaler=this.heightMap.height<=7e6?i1:new Km(this.heightOracle,this.heightMap,this.viewports),t.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,t=>{this.viewportLines.push(Jo(t,this.scaler))})}update(t,e=null){this.state=t.state;let n=this.stateDeco;this.stateDeco=this.state.facet(ga).filter(m=>typeof m!="function");let r=t.changedRanges,o=ni.extendWithRanges(r,gD(n,this.stateDeco,t?t.changes:Oe.empty(this.state.doc.length))),a=this.heightMap.height,u=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);t1(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,t.startState.doc,this.heightOracle.setDoc(this.state.doc),o),(this.heightMap.height!=a||_l)&&(t.flags|=2),u?(this.scrollAnchorPos=t.changes.mapPos(u.from,-1),this.scrollAnchorHeight=u.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=a);let f=o.length?this.mapViewport(this.viewport,t.changes):this.viewport;(e&&(e.range.head<f.from||e.range.head>f.to)||!this.viewportIsAppropriate(f))&&(f=this.getViewport(0,e));let d=f.from!=this.viewport.from||f.to!=this.viewport.to;this.viewport=f,t.flags|=this.updateForViewport(),(d||!t.changes.empty||t.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,t.changes))),t.flags|=this.computeVisibleRanges(t.changes),e&&(this.scrollTarget=e),!this.mustEnforceCursorAssoc&&t.selectionSet&&t.view.lineWrapping&&t.state.selection.main.empty&&t.state.selection.main.assoc&&!t.state.facet(LS)&&(this.mustEnforceCursorAssoc=!0)}measure(t){let e=t.contentDOM,n=window.getComputedStyle(e),r=this.heightOracle,o=n.whiteSpace;this.defaultTextDirection=n.direction=="rtl"?oe.RTL:oe.LTR;let a=this.heightOracle.mustRefreshForWrapping(o),u=e.getBoundingClientRect(),f=a||this.mustMeasureContent||this.contentDOMHeight!=u.height;this.contentDOMHeight=u.height,this.mustMeasureContent=!1;let d=0,m=0;if(u.width&&u.height){let{scaleX:R,scaleY:O}=oS(e,u);(R>.005&&Math.abs(this.scaleX-R)>.005||O>.005&&Math.abs(this.scaleY-O)>.005)&&(this.scaleX=R,this.scaleY=O,d|=16,a=f=!0)}let p=(parseInt(n.paddingTop)||0)*this.scaleY,b=(parseInt(n.paddingBottom)||0)*this.scaleY;(this.paddingTop!=p||this.paddingBottom!=b)&&(this.paddingTop=p,this.paddingBottom=b,d|=18),this.editorWidth!=t.scrollDOM.clientWidth&&(r.lineWrapping&&(f=!0),this.editorWidth=t.scrollDOM.clientWidth,d|=16);let v=t.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=v&&(this.scrollAnchorHeight=-1,this.scrollTop=v),this.scrolledToBottom=uS(t.scrollDOM);let S=(this.printing?bD:pD)(e,this.paddingTop),k=S.top-this.pixelViewport.top,C=S.bottom-this.pixelViewport.bottom;this.pixelViewport=S;let A=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(A!=this.inView&&(this.inView=A,A&&(f=!0)),!this.inView&&!this.scrollTarget&&!yD(t.dom))return 0;let B=u.width;if((this.contentDOMWidth!=B||this.editorHeight!=t.scrollDOM.clientHeight)&&(this.contentDOMWidth=u.width,this.editorHeight=t.scrollDOM.clientHeight,d|=16),f){let R=t.docView.measureVisibleLineHeights(this.viewport);if(r.mustRefreshForHeights(R)&&(a=!0),a||r.lineWrapping&&Math.abs(B-this.contentDOMWidth)>r.charWidth){let{lineHeight:O,charWidth:z,textHeight:U}=t.docView.measureTextSize();a=O>0&&r.refresh(o,O,z,U,Math.max(5,B/z),R),a&&(t.docView.minWidth=0,d|=16)}k>0&&C>0?m=Math.max(k,C):k<0&&C<0&&(m=Math.min(k,C)),t1();for(let O of this.viewports){let z=O.from==this.viewport.from?R:t.docView.measureVisibleLineHeights(O);this.heightMap=(a?hn.empty().applyChanges(this.stateDeco,_t.empty,this.heightOracle,[new ni(0,0,0,t.state.doc.length)]):this.heightMap).updateHeight(r,0,a,new hD(O.from,z))}_l&&(d|=2)}let j=!this.viewportIsAppropriate(this.viewport,m)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return j&&(d&2&&(d|=this.updateScaler()),this.viewport=this.getViewport(m,this.scrollTarget),d|=this.updateForViewport()),(d&2||j)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(a?[]:this.lineGaps,t)),d|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,t.docView.enforceCursorAssoc()),d}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(t,e){let n=.5-Math.max(-.5,Math.min(.5,t/1e3/2)),r=this.heightMap,o=this.heightOracle,{visibleTop:a,visibleBottom:u}=this,f=new iu(r.lineAt(a-n*1e3,le.ByHeight,o,0,0).from,r.lineAt(u+(1-n)*1e3,le.ByHeight,o,0,0).to);if(e){let{head:d}=e.range;if(d<f.from||d>f.to){let m=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),p=r.lineAt(d,le.ByPos,o,0,0),b;e.y=="center"?b=(p.top+p.bottom)/2-m/2:e.y=="start"||e.y=="nearest"&&d<f.from?b=p.top:b=p.bottom-m,f=new iu(r.lineAt(b-1e3/2,le.ByHeight,o,0,0).from,r.lineAt(b+m+1e3/2,le.ByHeight,o,0,0).to)}}return f}mapViewport(t,e){let n=e.mapPos(t.from,-1),r=e.mapPos(t.to,1);return new iu(this.heightMap.lineAt(n,le.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(r,le.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:t,to:e},n=0){if(!this.inView)return!0;let{top:r}=this.heightMap.lineAt(t,le.ByPos,this.heightOracle,0,0),{bottom:o}=this.heightMap.lineAt(e,le.ByPos,this.heightOracle,0,0),{visibleTop:a,visibleBottom:u}=this;return(t==0||r<=a-Math.max(10,Math.min(-n,250)))&&(e==this.state.doc.length||o>=u+Math.max(10,Math.min(n,250)))&&r>a-2*1e3&&o<u+2*1e3}mapLineGaps(t,e){if(!t.length||e.empty)return t;let n=[];for(let r of t)e.touchesRange(r.from,r.to)||n.push(new ig(e.mapPos(r.from),e.mapPos(r.to),r.size,r.displaySize));return n}ensureLineGaps(t,e){let n=this.heightOracle.lineWrapping,r=n?1e4:2e3,o=r>>1,a=r<<1;if(this.defaultTextDirection!=oe.LTR&&!n)return[];let u=[],f=(m,p,b,v)=>{if(p-m<o)return;let S=this.state.selection.main,k=[S.from];S.empty||k.push(S.to);for(let A of k)if(A>m&&A<p){f(m,A-10,b,v),f(A+10,p,b,v);return}let C=SD(t,A=>A.from>=b.from&&A.to<=b.to&&Math.abs(A.from-m)<o&&Math.abs(A.to-p)<o&&!k.some(B=>A.from<B&&A.to>B));if(!C){if(p<b.to&&e&&n&&e.visibleRanges.some(j=>j.from<=p&&j.to>=p)){let j=e.moveToLineBoundary(Z.cursor(p),!1,!0).head;j>m&&(p=j)}let A=this.gapSize(b,m,p,v),B=n||A<2e6?A:2e6;C=new ig(m,p,A,B)}u.push(C)},d=m=>{if(m.length<a||m.type!=un.Text)return;let p=xD(m.from,m.to,this.stateDeco);if(p.total<a)return;let b=this.scrollTarget?this.scrollTarget.range.head:null,v,S;if(n){let k=r/this.heightOracle.lineLength*this.heightOracle.lineHeight,C,A;if(b!=null){let B=ru(p,b),j=((this.visibleBottom-this.visibleTop)/2+k)/m.height;C=B-j,A=B+j}else C=(this.visibleTop-m.top-k)/m.height,A=(this.visibleBottom-m.top+k)/m.height;v=su(p,C),S=su(p,A)}else{let k=p.total*this.heightOracle.charWidth,C=r*this.heightOracle.charWidth,A=0;if(k>2e6)for(let z of t)z.from>=m.from&&z.from<m.to&&z.size!=z.displaySize&&z.from*this.heightOracle.charWidth+A<this.pixelViewport.left&&(A=z.size-z.displaySize);let B=this.pixelViewport.left+A,j=this.pixelViewport.right+A,R,O;if(b!=null){let z=ru(p,b),U=((j-B)/2+C)/k;R=z-U,O=z+U}else R=(B-C)/k,O=(j+C)/k;v=su(p,R),S=su(p,O)}v>m.from&&f(m.from,v,m,p),S<m.to&&f(S,m.to,m,p)};for(let m of this.viewportLines)Array.isArray(m.type)?m.type.forEach(d):d(m);return u}gapSize(t,e,n,r){let o=ru(r,n)-ru(r,e);return this.heightOracle.lineWrapping?t.height*o:r.total*this.heightOracle.charWidth*o}updateLineGaps(t){ig.same(t,this.lineGaps)||(this.lineGaps=t,this.lineGapDeco=xt.set(t.map(e=>e.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(t){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let n=[];jt.spans(e,this.viewport.from,this.viewport.to,{span(o,a){n.push({from:o,to:a})},point(){}},20);let r=0;if(n.length!=this.visibleRanges.length)r=12;else for(let o=0;o<n.length&&!(r&8);o++){let a=this.visibleRanges[o],u=n[o];(a.from!=u.from||a.to!=u.to)&&(r|=4,t&&t.mapPos(a.from,-1)==u.from&&t.mapPos(a.to,1)==u.to||(r|=8))}return this.visibleRanges=n,r}lineBlockAt(t){return t>=this.viewport.from&&t<=this.viewport.to&&this.viewportLines.find(e=>e.from<=t&&e.to>=t)||Jo(this.heightMap.lineAt(t,le.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(t){return t>=this.viewportLines[0].top&&t<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(e=>e.top<=t&&e.bottom>=t)||Jo(this.heightMap.lineAt(this.scaler.fromDOM(t),le.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(t){let e=this.lineBlockAtHeight(t+8);return e.from>=this.viewport.from||this.viewportLines[0].top-t>200?e:this.viewportLines[0]}elementAtHeight(t){return Jo(this.heightMap.blockAt(this.scaler.fromDOM(t),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class iu{constructor(t,e){this.from=t,this.to=e}}function xD(i,t,e){let n=[],r=i,o=0;return jt.spans(e,i,t,{span(){},point(a,u){a>r&&(n.push({from:r,to:a}),o+=a-r),r=u}},20),r<t&&(n.push({from:r,to:t}),o+=t-r),{total:o,ranges:n}}function su({total:i,ranges:t},e){if(e<=0)return t[0].from;if(e>=1)return t[t.length-1].to;let n=Math.floor(i*e);for(let r=0;;r++){let{from:o,to:a}=t[r],u=a-o;if(n<=u)return o+n;n-=u}}function ru(i,t){let e=0;for(let{from:n,to:r}of i.ranges){if(t<=r){e+=t-n;break}e+=r-n}return e/i.total}function SD(i,t){for(let e of i)if(t(e))return e}const i1={toDOM(i){return i},fromDOM(i){return i},scale:1,eq(i){return i==this}};class Km{constructor(t,e,n){let r=0,o=0,a=0;this.viewports=n.map(({from:u,to:f})=>{let d=e.lineAt(u,le.ByPos,t,0,0).top,m=e.lineAt(f,le.ByPos,t,0,0).bottom;return r+=m-d,{from:u,to:f,top:d,bottom:m,domTop:0,domBottom:0}}),this.scale=(7e6-r)/(e.height-r);for(let u of this.viewports)u.domTop=a+(u.top-o)*this.scale,a=u.domBottom=u.domTop+(u.bottom-u.top),o=u.bottom}toDOM(t){for(let e=0,n=0,r=0;;e++){let o=e<this.viewports.length?this.viewports[e]:null;if(!o||t<o.top)return r+(t-n)*this.scale;if(t<=o.bottom)return o.domTop+(t-o.top);n=o.bottom,r=o.domBottom}}fromDOM(t){for(let e=0,n=0,r=0;;e++){let o=e<this.viewports.length?this.viewports[e]:null;if(!o||t<o.domTop)return n+(t-r)/this.scale;if(t<=o.domBottom)return o.top+(t-o.domTop);n=o.bottom,r=o.domBottom}}eq(t){return t instanceof Km?this.scale==t.scale&&this.viewports.length==t.viewports.length&&this.viewports.every((e,n)=>e.from==t.viewports[n].from&&e.to==t.viewports[n].to):!1}}function Jo(i,t){if(t.scale==1)return i;let e=t.toDOM(i.top),n=t.toDOM(i.bottom);return new Li(i.from,i.length,e,n-e,Array.isArray(i._content)?i._content.map(r=>Jo(r,t)):i._content)}const lu=ft.define({combine:i=>i.join(" ")}),am=ft.define({combine:i=>i.indexOf(!0)>-1}),cm=Ks.newName(),tw=Ks.newName(),ew=Ks.newName(),nw={"&light":"."+tw,"&dark":"."+ew};function um(i,t,e){return new Ks(t,{finish(n){return/&/.test(n)?n.replace(/&\w*/,r=>{if(r=="&")return i;if(!e||!e[r])throw new RangeError(`Unsupported selector: ${r}`);return e[r]}):i+" "+n}})}const wD=um("."+cm,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},nw),kD={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},sg=ht.ie&&ht.ie_version<=11;class CD{constructor(t){this.view=t,this.active=!1,this.editContext=null,this.selectionRange=new rT,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=t.contentDOM,this.observer=new MutationObserver(e=>{for(let n of e)this.queue.push(n);(ht.ie&&ht.ie_version<=11||ht.ios&&t.composing)&&e.some(n=>n.type=="childList"&&n.removedNodes.length||n.type=="characterData"&&n.oldValue.length>n.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&ht.android&&t.constructor.EDIT_CONTEXT!==!1&&!(ht.chrome&&ht.chrome_version<126)&&(this.editContext=new MD(t),t.state.facet(os)&&(t.contentDOM.editContext=this.editContext.editContext)),sg&&(this.onCharData=e=>{this.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var e;((e=this.view.docView)===null||e===void 0?void 0:e.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(t.scrollDOM)),this.addWindowListeners(this.win=t.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(e=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),e.length>0&&e[e.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(e=>{e.length>0&&e[e.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(t){this.view.inputState.runHandlers("scroll",t),this.intersecting&&this.view.measure()}onScroll(t){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(t)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(t){(t.type=="change"||!t.type)&&!t.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(t){if(this.gapIntersection&&(t.length!=this.gaps.length||this.gaps.some((e,n)=>e!=t[n]))){this.gapIntersection.disconnect();for(let e of t)this.gapIntersection.observe(e);this.gaps=t}}onSelectionChange(t){let e=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:n}=this,r=this.selectionRange;if(n.state.facet(os)?n.root.activeElement!=this.dom:!Au(this.dom,r))return;let o=r.anchorNode&&n.docView.nearest(r.anchorNode);if(o&&o.ignoreEvent(t)){e||(this.selectionChanged=!1);return}(ht.ie&&ht.ie_version<=11||ht.android&&ht.chrome)&&!n.state.selection.main.empty&&r.focusNode&&ia(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:t}=this,e=da(t.root);if(!e)return!1;let n=ht.safari&&t.root.nodeType==11&&t.root.activeElement==this.dom&&AD(this.view,e)||e;if(!n||this.selectionRange.eq(n))return!1;let r=Au(this.dom,n);return r&&!this.selectionChanged&&t.inputState.lastFocusTime>Date.now()-200&&t.inputState.lastTouchTime<Date.now()-300&&oT(this.dom,n)?(this.view.inputState.lastFocusTime=0,t.docView.updateSelection(),!1):(this.selectionRange.setRange(n),r&&(this.selectionChanged=!0),!0)}setSelectionRange(t,e){this.selectionRange.set(t.node,t.offset,e.node,e.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let t=0,e=null;for(let n=this.dom;n;)if(n.nodeType==1)!e&&t<this.scrollTargets.length&&this.scrollTargets[t]==n?t++:e||(e=this.scrollTargets.slice(0,t)),e&&e.push(n),n=n.assignedSlot||n.parentNode;else if(n.nodeType==11)n=n.host;else break;if(t<this.scrollTargets.length&&!e&&(e=this.scrollTargets.slice(0,t)),e){for(let n of this.scrollTargets)n.removeEventListener("scroll",this.onScroll);for(let n of this.scrollTargets=e)n.addEventListener("scroll",this.onScroll)}}ignore(t){if(!this.active)return t();try{return this.stop(),t()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,kD),sg&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),sg&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(t,e){var n;if(!this.delayedAndroidKey){let r=()=>{let o=this.delayedAndroidKey;o&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=o.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&o.force&&Dl(this.dom,o.key,o.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(r)}(!this.delayedAndroidKey||t=="Enter")&&(this.delayedAndroidKey={key:t,keyCode:e,force:this.lastChange<Date.now()-50||!!(!((n=this.delayedAndroidKey)===null||n===void 0)&&n.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}processRecords(){let t=this.pendingRecords();t.length&&(this.queue=[]);let e=-1,n=-1,r=!1;for(let o of t){let a=this.readMutation(o);a&&(a.typeOver&&(r=!0),e==-1?{from:e,to:n}=a:(e=Math.min(a.from,e),n=Math.max(a.to,n)))}return{from:e,to:n,typeOver:r}}readChange(){let{from:t,to:e,typeOver:n}=this.processRecords(),r=this.selectionChanged&&Au(this.dom,this.selectionRange);if(t<0&&!r)return null;t>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let o=new PT(this.view,t,e,n);return this.view.docView.domChanged={newSel:o.newSel?o.newSel.main:null},o}flush(t=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;t&&this.readSelectionRange();let e=this.readChange();if(!e)return this.view.requestMeasure(),!1;let n=this.view.state,r=GS(this.view,e);return this.view.state==n&&(e.domChanged||e.newSel&&!e.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),r}readMutation(t){let e=this.view.docView.nearest(t.target);if(!e||e.ignoreMutation(t))return null;if(e.markDirty(t.type=="attributes"),t.type=="attributes"&&(e.flags|=4),t.type=="childList"){let n=s1(e,t.previousSibling||t.target.previousSibling,-1),r=s1(e,t.nextSibling||t.target.nextSibling,1);return{from:n?e.posAfter(n):e.posAtStart,to:r?e.posBefore(r):e.posAtEnd,typeOver:!1}}else return t.type=="characterData"?{from:e.posAtStart,to:e.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}:null}setWindow(t){t!=this.win&&(this.removeWindowListeners(this.win),this.win=t,this.addWindowListeners(this.win))}addWindowListeners(t){t.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):t.addEventListener("beforeprint",this.onPrint),t.addEventListener("scroll",this.onScroll),t.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(t){t.removeEventListener("scroll",this.onScroll),t.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):t.removeEventListener("beforeprint",this.onPrint),t.document.removeEventListener("selectionchange",this.onSelectionChange)}update(t){this.editContext&&(this.editContext.update(t),t.startState.facet(os)!=t.state.facet(os)&&(t.view.contentDOM.editContext=t.state.facet(os)?this.editContext.editContext:null))}destroy(){var t,e,n;this.stop(),(t=this.intersection)===null||t===void 0||t.disconnect(),(e=this.gapIntersection)===null||e===void 0||e.disconnect(),(n=this.resizeScroll)===null||n===void 0||n.disconnect();for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function s1(i,t,e){for(;t;){let n=ee.get(t);if(n&&n.parent==i)return n;let r=t.parentNode;t=r!=i.dom?r:e>0?t.nextSibling:t.previousSibling}return null}function r1(i,t){let e=t.startContainer,n=t.startOffset,r=t.endContainer,o=t.endOffset,a=i.docView.domAtPos(i.state.selection.main.anchor);return ia(a.node,a.offset,r,o)&&([e,n,r,o]=[r,o,e,n]),{anchorNode:e,anchorOffset:n,focusNode:r,focusOffset:o}}function AD(i,t){if(t.getComposedRanges){let r=t.getComposedRanges(i.root)[0];if(r)return r1(i,r)}let e=null;function n(r){r.preventDefault(),r.stopImmediatePropagation(),e=r.getTargetRanges()[0]}return i.contentDOM.addEventListener("beforeinput",n,!0),i.dom.ownerDocument.execCommand("indent"),i.contentDOM.removeEventListener("beforeinput",n,!0),e?r1(i,e):null}class MD{constructor(t){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(t.state);let e=this.editContext=new window.EditContext({text:t.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,t.state.selection.main.anchor))),selectionEnd:this.toContextPos(t.state.selection.main.head)});this.handlers.textupdate=n=>{let r=t.state.selection.main,{anchor:o,head:a}=r,u=this.toEditorPos(n.updateRangeStart),f=this.toEditorPos(n.updateRangeEnd);t.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:n.updateRangeStart,editorBase:u,drifted:!1});let d={from:u,to:f,insert:_t.of(n.text.split(`
`))};if(d.from==this.from&&o<this.from?d.from=o:d.to==this.to&&o>this.to&&(d.to=o),d.from==d.to&&!d.insert.length){let m=Z.single(this.toEditorPos(n.selectionStart),this.toEditorPos(n.selectionEnd));m.main.eq(r)||t.dispatch({selection:m,userEvent:"select"});return}if((ht.mac||ht.android)&&d.from==a-1&&/^\. ?$/.test(n.text)&&t.contentDOM.getAttribute("autocorrect")=="off"&&(d={from:u,to:f,insert:_t.of([n.text.replace("."," ")])}),this.pendingContextChange=d,!t.state.readOnly){let m=this.to-this.from+(d.to-d.from+d.insert.length);Xm(t,d,Z.single(this.toEditorPos(n.selectionStart,m),this.toEditorPos(n.selectionEnd,m)))}this.pendingContextChange&&(this.revertPending(t.state),this.setSelection(t.state))},this.handlers.characterboundsupdate=n=>{let r=[],o=null;for(let a=this.toEditorPos(n.rangeStart),u=this.toEditorPos(n.rangeEnd);a<u;a++){let f=t.coordsForChar(a);o=f&&new DOMRect(f.left,f.top,f.right-f.left,f.bottom-f.top)||o||new DOMRect,r.push(o)}e.updateCharacterBounds(n.rangeStart,r)},this.handlers.textformatupdate=n=>{let r=[];for(let o of n.getTextFormats()){let a=o.underlineStyle,u=o.underlineThickness;if(a!="None"&&u!="None"){let f=this.toEditorPos(o.rangeStart),d=this.toEditorPos(o.rangeEnd);if(f<d){let m=`text-decoration: underline ${a=="Dashed"?"dashed ":a=="Squiggle"?"wavy ":""}${u=="Thin"?1:2}px`;r.push(xt.mark({attributes:{style:m}}).range(f,d))}}}t.dispatch({effects:HS.of(xt.set(r))})},this.handlers.compositionstart=()=>{t.inputState.composing<0&&(t.inputState.composing=0,t.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(t.inputState.composing=-1,t.inputState.compositionFirstChange=null,this.composing){let{drifted:n}=this.composing;this.composing=null,n&&this.reset(t.state)}};for(let n in this.handlers)e.addEventListener(n,this.handlers[n]);this.measureReq={read:n=>{this.editContext.updateControlBounds(n.contentDOM.getBoundingClientRect());let r=da(n.root);r&&r.rangeCount&&this.editContext.updateSelectionBounds(r.getRangeAt(0).getBoundingClientRect())}}}applyEdits(t){let e=0,n=!1,r=this.pendingContextChange;return t.changes.iterChanges((o,a,u,f,d)=>{if(n)return;let m=d.length-(a-o);if(r&&a>=r.to)if(r.from==o&&r.to==a&&r.insert.eq(d)){r=this.pendingContextChange=null,e+=m,this.to+=m;return}else r=null,this.revertPending(t.state);if(o+=e,a+=e,a<=this.from)this.from+=m,this.to+=m;else if(o<this.to){if(o<this.from||a>this.to||this.to-this.from+d.length>3e4){n=!0;return}this.editContext.updateText(this.toContextPos(o),this.toContextPos(a),d.toString()),this.to+=m}e+=m}),r&&!n&&this.revertPending(t.state),!n}update(t){let e=this.pendingContextChange,n=t.startState.selection.main;this.composing&&(this.composing.drifted||!t.changes.touchesRange(n.from,n.to)&&t.transactions.some(r=>!r.isUserEvent("input.type")&&r.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=t.changes.mapPos(this.composing.editorBase)):!this.applyEdits(t)||!this.rangeIsValid(t.state)?(this.pendingContextChange=null,this.reset(t.state)):(t.docChanged||t.selectionSet||e)&&this.setSelection(t.state),(t.geometryChanged||t.docChanged||t.selectionSet)&&t.view.requestMeasure(this.measureReq)}resetRange(t){let{head:e}=t.selection.main;this.from=Math.max(0,e-1e4),this.to=Math.min(t.doc.length,e+1e4)}reset(t){this.resetRange(t),this.editContext.updateText(0,this.editContext.text.length,t.doc.sliceString(this.from,this.to)),this.setSelection(t)}revertPending(t){let e=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(e.from),this.toContextPos(e.from+e.insert.length),t.doc.sliceString(e.from,e.to))}setSelection(t){let{main:e}=t.selection,n=this.toContextPos(Math.max(this.from,Math.min(this.to,e.anchor))),r=this.toContextPos(e.head);(this.editContext.selectionStart!=n||this.editContext.selectionEnd!=r)&&this.editContext.updateSelection(n,r)}rangeIsValid(t){let{head:e}=t.selection.main;return!(this.from>0&&e-this.from<500||this.to<t.doc.length&&this.to-e<500||this.to-this.from>1e4*3)}toEditorPos(t,e=this.to-this.from){t=Math.min(t,e);let n=this.composing;return n&&n.drifted?n.editorBase+(t-n.contextBase):t+this.from}toContextPos(t){let e=this.composing;return e&&e.drifted?e.contextBase+(t-e.editorBase):t-this.from}destroy(){for(let t in this.handlers)this.editContext.removeEventListener(t,this.handlers[t])}}class at{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(t={}){var e;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),t.parent&&t.parent.appendChild(this.dom);let{dispatch:n}=t;this.dispatchTransactions=t.dispatchTransactions||n&&(r=>r.forEach(o=>n(o,this)))||(r=>this.update(r)),this.dispatch=this.dispatch.bind(this),this._root=t.root||lT(t.parent)||document,this.viewState=new n1(t.state||Lt.create(t)),t.scrollTo&&t.scrollTo.is(tu)&&(this.viewState.scrollTarget=t.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(kl).map(r=>new tg(r));for(let r of this.plugins)r.update(this);this.observer=new CD(this),this.inputState=new QT(this),this.inputState.ensureHandlers(this.plugins),this.docView=new jv(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((e=document.fonts)===null||e===void 0)&&e.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...t){let e=t.length==1&&t[0]instanceof Re?t:t.length==1&&Array.isArray(t[0])?t[0]:[this.state.update(...t)];this.dispatchTransactions(e,this)}update(t){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let e=!1,n=!1,r,o=this.state;for(let b of t){if(b.startState!=o)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");o=b.state}if(this.destroyed){this.viewState.state=o;return}let a=this.hasFocus,u=0,f=null;t.some(b=>b.annotation(FS))?(this.inputState.notifiedFocused=a,u=1):a!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=a,f=ZS(o,a),f||(u=1));let d=this.observer.delayedAndroidKey,m=null;if(d?(this.observer.clearDelayedAndroidKey(),m=this.observer.readChange(),(m&&!this.state.doc.eq(o.doc)||!this.state.selection.eq(o.selection))&&(m=null)):this.observer.clear(),o.facet(Lt.phrases)!=this.state.facet(Lt.phrases))return this.setState(o);r=Pu.create(this,o,t),r.flags|=u;let p=this.viewState.scrollTarget;try{this.updateState=2;for(let b of t){if(p&&(p=p.map(b.changes)),b.scrollIntoView){let{main:v}=b.state.selection;p=new Ol(v.empty?v:Z.cursor(v.head,v.head>v.anchor?-1:1))}for(let v of b.effects)v.is(tu)&&(p=v.value.clip(this.state))}this.viewState.update(r,p),this.bidiCache=Gu.update(this.bidiCache,r.changes),r.empty||(this.updatePlugins(r),this.inputState.update(r)),e=this.docView.update(r),this.state.facet(Zo)!=this.styleModules&&this.mountStyles(),n=this.updateAttrs(),this.showAnnouncements(t),this.docView.updateSelection(e,t.some(b=>b.isUserEvent("select.pointer")))}finally{this.updateState=0}if(r.startState.facet(lu)!=r.state.facet(lu)&&(this.viewState.mustMeasureContent=!0),(e||n||p||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),e&&this.docViewUpdate(),!r.empty)for(let b of this.state.facet(sm))try{b(r)}catch(v){Sn(this.state,v,"update listener")}(f||m)&&Promise.resolve().then(()=>{f&&this.state==f.startState&&this.dispatch(f),m&&!GS(this,m)&&d.force&&Dl(this.contentDOM,d.key,d.keyCode)})}setState(t){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=t;return}this.updateState=2;let e=this.hasFocus;try{for(let n of this.plugins)n.destroy(this);this.viewState=new n1(t),this.plugins=t.facet(kl).map(n=>new tg(n)),this.pluginMap.clear();for(let n of this.plugins)n.update(this);this.docView.destroy(),this.docView=new jv(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}e&&this.focus(),this.requestMeasure()}updatePlugins(t){let e=t.startState.facet(kl),n=t.state.facet(kl);if(e!=n){let r=[];for(let o of n){let a=e.indexOf(o);if(a<0)r.push(new tg(o));else{let u=this.plugins[a];u.mustUpdate=t,r.push(u)}}for(let o of this.plugins)o.mustUpdate!=t&&o.destroy(this);this.plugins=r,this.pluginMap.clear()}else for(let r of this.plugins)r.mustUpdate=t;for(let r=0;r<this.plugins.length;r++)this.plugins[r].update(this);e!=n&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let t of this.plugins){let e=t.value;if(e&&e.docViewUpdate)try{e.docViewUpdate(this)}catch(n){Sn(this.state,n,"doc view update listener")}}}measure(t=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,t&&this.observer.forceFlush();let e=null,n=this.scrollDOM,r=n.scrollTop*this.scaleY,{scrollAnchorPos:o,scrollAnchorHeight:a}=this.viewState;Math.abs(r-this.viewState.scrollTop)>1&&(a=-1),this.viewState.scrollAnchorHeight=-1;try{for(let u=0;;u++){if(a<0)if(uS(n))o=-1,a=this.viewState.heightMap.height;else{let v=this.viewState.scrollAnchorAt(r);o=v.from,a=v.top}this.updateState=1;let f=this.viewState.measure(this);if(!f&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(u>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let d=[];f&4||([this.measureRequests,d]=[d,this.measureRequests]);let m=d.map(v=>{try{return v.read(this)}catch(S){return Sn(this.state,S),l1}}),p=Pu.create(this,this.state,[]),b=!1;p.flags|=f,e?e.flags|=f:e=p,this.updateState=2,p.empty||(this.updatePlugins(p),this.inputState.update(p),this.updateAttrs(),b=this.docView.update(p),b&&this.docViewUpdate());for(let v=0;v<d.length;v++)if(m[v]!=l1)try{let S=d[v];S.write&&S.write(m[v],this)}catch(S){Sn(this.state,S)}if(b&&this.docView.updateSelection(!0),!p.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,a=-1;continue}else{let S=(o<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(o).top)-a;if(S>1||S<-1){r=r+S,n.scrollTop=r/this.scaleY,a=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(e&&!e.empty)for(let u of this.state.facet(sm))u(e)}get themeClasses(){return cm+" "+(this.state.facet(am)?ew:tw)+" "+this.state.facet(lu)}updateAttrs(){let t=o1(this,jS,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),e={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(os)?"true":"false",class:"cm-content",style:`${ht.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(e["aria-readonly"]="true"),o1(this,Gm,e);let n=this.observer.ignore(()=>{let r=Jg(this.contentDOM,this.contentAttrs,e),o=Jg(this.dom,this.editorAttrs,t);return r||o});return this.editorAttrs=t,this.contentAttrs=e,n}showAnnouncements(t){let e=!0;for(let n of t)for(let r of n.effects)if(r.is(at.announce)){e&&(this.announceDOM.textContent=""),e=!1;let o=this.announceDOM.appendChild(document.createElement("div"));o.textContent=r.value}}mountStyles(){this.styleModules=this.state.facet(Zo);let t=this.state.facet(at.cspNonce);Ks.mount(this.root,this.styleModules.concat(wD).reverse(),t?{nonce:t}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(t){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),t){if(this.measureRequests.indexOf(t)>-1)return;if(t.key!=null){for(let e=0;e<this.measureRequests.length;e++)if(this.measureRequests[e].key===t.key){this.measureRequests[e]=t;return}}this.measureRequests.push(t)}}plugin(t){let e=this.pluginMap.get(t);return(e===void 0||e&&e.plugin!=t)&&this.pluginMap.set(t,e=this.plugins.find(n=>n.plugin==t)||null),e&&e.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(t){return this.readMeasured(),this.viewState.elementAtHeight(t)}lineBlockAtHeight(t){return this.readMeasured(),this.viewState.lineBlockAtHeight(t)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(t){return this.viewState.lineBlockAt(t)}get contentHeight(){return this.viewState.contentHeight}moveByChar(t,e,n){return ng(this,t,Pv(this,t,e,n))}moveByGroup(t,e){return ng(this,t,Pv(this,t,e,n=>_T(this,t.head,n)))}visualLineSide(t,e){let n=this.bidiSpans(t),r=this.textDirectionAt(t.from),o=n[e?n.length-1:0];return Z.cursor(o.side(e,r)+t.from,o.forward(!e,r)?1:-1)}moveToLineBoundary(t,e,n=!0){return jT(this,t,e,n)}moveVertically(t,e,n){return ng(this,t,UT(this,t,e,n))}domAtPos(t){return this.docView.domAtPos(t)}posAtDOM(t,e=0){return this.docView.posFromDOM(t,e)}posAtCoords(t,e=!0){return this.readMeasured(),PS(this,t,e)}coordsAtPos(t,e=1){this.readMeasured();let n=this.docView.coordsAt(t,e);if(!n||n.left==n.right)return n;let r=this.state.doc.lineAt(t),o=this.bidiSpans(r),a=o[Is.find(o,t-r.from,-1,e)];return Da(n,a.dir==oe.LTR==e>0)}coordsForChar(t){return this.readMeasured(),this.docView.coordsForChar(t)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(t){return!this.state.facet(BS)||t<this.viewport.from||t>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(t))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(t){if(t.length>TD)return AS(t.length);let e=this.textDirectionAt(t.from),n;for(let o of this.bidiCache)if(o.from==t.from&&o.dir==e&&(o.fresh||CS(o.isolates,n=Hv(this,t))))return o.order;n||(n=Hv(this,t));let r=ST(t.text,e,n);return this.bidiCache.push(new Gu(t.from,t.to,e,n,!0,r)),r}get hasFocus(){var t;return(this.dom.ownerDocument.hasFocus()||ht.safari&&((t=this.inputState)===null||t===void 0?void 0:t.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{aS(this.contentDOM),this.docView.updateSelection()})}setRoot(t){this._root!=t&&(this._root=t,this.observer.setWindow((t.nodeType==9?t:t.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let t of this.plugins)t.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(t,e={}){return tu.of(new Ol(typeof t=="number"?Z.cursor(t):t,e.y,e.x,e.yMargin,e.xMargin))}scrollSnapshot(){let{scrollTop:t,scrollLeft:e}=this.scrollDOM,n=this.viewState.scrollAnchorAt(t);return tu.of(new Ol(Z.cursor(n.from),"start","start",n.top-t,e,!0))}setTabFocusMode(t){t==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof t=="boolean"?this.inputState.tabFocusMode=t?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+t)}static domEventHandlers(t){return ve.define(()=>({}),{eventHandlers:t})}static domEventObservers(t){return ve.define(()=>({}),{eventObservers:t})}static theme(t,e){let n=Ks.newName(),r=[lu.of(n),Zo.of(um(`.${n}`,t))];return e&&e.dark&&r.push(am.of(!0)),r}static baseTheme(t){return Nr.lowest(Zo.of(um("."+cm,t,nw)))}static findFromDOM(t){var e;let n=t.querySelector(".cm-content"),r=n&&ee.get(n)||ee.get(t);return((e=r?.rootView)===null||e===void 0?void 0:e.view)||null}}at.styleModule=Zo;at.inputHandler=RS;at.clipboardInputFilter=Pm;at.clipboardOutputFilter=Ym;at.scrollHandler=zS;at.focusChangeEffect=NS;at.perLineTextDirection=BS;at.exceptionSink=ES;at.updateListener=sm;at.editable=os;at.mouseSelectionStyle=OS;at.dragMovesSelection=DS;at.clickAddsSelectionRange=TS;at.decorations=ga;at.outerDecorations=_S;at.atomicRanges=Sh;at.bidiIsolatedRanges=US;at.scrollMargins=qS;at.darkTheme=am;at.cspNonce=ft.define({combine:i=>i.length?i[0]:""});at.contentAttributes=Gm;at.editorAttributes=jS;at.lineWrapping=at.contentAttributes.of({class:"cm-lineWrapping"});at.announce=Ct.define();const TD=4096,l1={};class Gu{constructor(t,e,n,r,o,a){this.from=t,this.to=e,this.dir=n,this.isolates=r,this.fresh=o,this.order=a}static update(t,e){if(e.empty&&!t.some(o=>o.fresh))return t;let n=[],r=t.length?t[t.length-1].dir:oe.LTR;for(let o=Math.max(0,t.length-10);o<t.length;o++){let a=t[o];a.dir==r&&!e.touchesRange(a.from,a.to)&&n.push(new Gu(e.mapPos(a.from,1),e.mapPos(a.to,-1),a.dir,a.isolates,!1,a.order))}return n}}function o1(i,t,e){for(let n=i.state.facet(t),r=n.length-1;r>=0;r--){let o=n[r],a=typeof o=="function"?o(i):o;a&&$g(a,e)}return e}const DD=ht.mac?"mac":ht.windows?"win":ht.linux?"linux":"key";function OD(i,t){const e=i.split(/-(?!$)/);let n=e[e.length-1];n=="Space"&&(n=" ");let r,o,a,u;for(let f=0;f<e.length-1;++f){const d=e[f];if(/^(cmd|meta|m)$/i.test(d))u=!0;else if(/^a(lt)?$/i.test(d))r=!0;else if(/^(c|ctrl|control)$/i.test(d))o=!0;else if(/^s(hift)?$/i.test(d))a=!0;else if(/^mod$/i.test(d))t=="mac"?u=!0:o=!0;else throw new Error("Unrecognized modifier name: "+d)}return r&&(n="Alt-"+n),o&&(n="Ctrl-"+n),u&&(n="Meta-"+n),a&&(n="Shift-"+n),n}function ou(i,t,e){return t.altKey&&(i="Alt-"+i),t.ctrlKey&&(i="Ctrl-"+i),t.metaKey&&(i="Meta-"+i),e!==!1&&t.shiftKey&&(i="Shift-"+i),i}const ED=Nr.default(at.domEventHandlers({keydown(i,t){return sw(iw(t.state),i,t,"editor")}})),kh=ft.define({enables:ED}),a1=new WeakMap;function iw(i){let t=i.facet(kh),e=a1.get(t);return e||a1.set(t,e=BD(t.reduce((n,r)=>n.concat(r),[]))),e}function RD(i,t,e){return sw(iw(i.state),t,i,e)}let Ps=null;const ND=4e3;function BD(i,t=DD){let e=Object.create(null),n=Object.create(null),r=(a,u)=>{let f=n[a];if(f==null)n[a]=u;else if(f!=u)throw new Error("Key binding "+a+" is used both as a regular binding and as a multi-stroke prefix")},o=(a,u,f,d,m)=>{var p,b;let v=e[a]||(e[a]=Object.create(null)),S=u.split(/ (?!$)/).map(A=>OD(A,t));for(let A=1;A<S.length;A++){let B=S.slice(0,A).join(" ");r(B,!0),v[B]||(v[B]={preventDefault:!0,stopPropagation:!1,run:[j=>{let R=Ps={view:j,prefix:B,scope:a};return setTimeout(()=>{Ps==R&&(Ps=null)},ND),!0}]})}let k=S.join(" ");r(k,!1);let C=v[k]||(v[k]={preventDefault:!1,stopPropagation:!1,run:((b=(p=v._any)===null||p===void 0?void 0:p.run)===null||b===void 0?void 0:b.slice())||[]});f&&C.run.push(f),d&&(C.preventDefault=!0),m&&(C.stopPropagation=!0)};for(let a of i){let u=a.scope?a.scope.split(" "):["editor"];if(a.any)for(let d of u){let m=e[d]||(e[d]=Object.create(null));m._any||(m._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:p}=a;for(let b in m)m[b].run.push(v=>p(v,hm))}let f=a[t]||a.key;if(f)for(let d of u)o(d,f,a.run,a.preventDefault,a.stopPropagation),a.shift&&o(d,"Shift-"+f,a.shift,a.preventDefault,a.stopPropagation)}return e}let hm=null;function sw(i,t,e,n){hm=t;let r=eT(t),o=bn(r,0),a=Bi(o)==r.length&&r!=" ",u="",f=!1,d=!1,m=!1;Ps&&Ps.view==e&&Ps.scope==n&&(u=Ps.prefix+" ",XS.indexOf(t.keyCode)<0&&(d=!0,Ps=null));let p=new Set,b=C=>{if(C){for(let A of C.run)if(!p.has(A)&&(p.add(A),A(e)))return C.stopPropagation&&(m=!0),!0;C.preventDefault&&(C.stopPropagation&&(m=!0),d=!0)}return!1},v=i[n],S,k;return v&&(b(v[u+ou(r,t,!a)])?f=!0:a&&(t.altKey||t.metaKey||t.ctrlKey)&&!(ht.windows&&t.ctrlKey&&t.altKey)&&!(ht.mac&&t.altKey&&!(t.ctrlKey||t.metaKey))&&(S=Ws[t.keyCode])&&S!=r?(b(v[u+ou(S,t,!0)])||t.shiftKey&&(k=fa[t.keyCode])!=r&&k!=S&&b(v[u+ou(k,t,!1)]))&&(f=!0):a&&t.shiftKey&&b(v[u+ou(r,t,!0)])&&(f=!0),!f&&b(v._any)&&(f=!0)),d&&(f=!0),f&&m&&t.stopPropagation(),hm=null,f}class Ra{constructor(t,e,n,r,o){this.className=t,this.left=e,this.top=n,this.width=r,this.height=o}draw(){let t=document.createElement("div");return t.className=this.className,this.adjust(t),t}update(t,e){return e.className!=this.className?!1:(this.adjust(t),!0)}adjust(t){t.style.left=this.left+"px",t.style.top=this.top+"px",this.width!=null&&(t.style.width=this.width+"px"),t.style.height=this.height+"px"}eq(t){return this.left==t.left&&this.top==t.top&&this.width==t.width&&this.height==t.height&&this.className==t.className}static forRange(t,e,n){if(n.empty){let r=t.coordsAtPos(n.head,n.assoc||1);if(!r)return[];let o=rw(t);return[new Ra(e,r.left-o.left,r.top-o.top,null,r.bottom-r.top)]}else return LD(t,e,n)}}function rw(i){let t=i.scrollDOM.getBoundingClientRect();return{left:(i.textDirection==oe.LTR?t.left:t.right-i.scrollDOM.clientWidth*i.scaleX)-i.scrollDOM.scrollLeft*i.scaleX,top:t.top-i.scrollDOM.scrollTop*i.scaleY}}function c1(i,t,e,n){let r=i.coordsAtPos(t,e*2);if(!r)return n;let o=i.dom.getBoundingClientRect(),a=(r.top+r.bottom)/2,u=i.posAtCoords({x:o.left+1,y:a}),f=i.posAtCoords({x:o.right-1,y:a});return u==null||f==null?n:{from:Math.max(n.from,Math.min(u,f)),to:Math.min(n.to,Math.max(u,f))}}function LD(i,t,e){if(e.to<=i.viewport.from||e.from>=i.viewport.to)return[];let n=Math.max(e.from,i.viewport.from),r=Math.min(e.to,i.viewport.to),o=i.textDirection==oe.LTR,a=i.contentDOM,u=a.getBoundingClientRect(),f=rw(i),d=a.querySelector(".cm-line"),m=d&&window.getComputedStyle(d),p=u.left+(m?parseInt(m.paddingLeft)+Math.min(0,parseInt(m.textIndent)):0),b=u.right-(m?parseInt(m.paddingRight):0),v=lm(i,n,1),S=lm(i,r,-1),k=v.type==un.Text?v:null,C=S.type==un.Text?S:null;if(k&&(i.lineWrapping||v.widgetLineBreaks)&&(k=c1(i,n,1,k)),C&&(i.lineWrapping||S.widgetLineBreaks)&&(C=c1(i,r,-1,C)),k&&C&&k.from==C.from&&k.to==C.to)return B(j(e.from,e.to,k));{let O=k?j(e.from,null,k):R(v,!1),z=C?j(null,e.to,C):R(S,!0),U=[];return(k||v).to<(C||S).from-(k&&C?1:0)||v.widgetLineBreaks>1&&O.bottom+i.defaultLineHeight/2<z.top?U.push(A(p,O.bottom,b,z.top)):O.bottom<z.top&&i.elementAtHeight((O.bottom+z.top)/2).type==un.Text&&(O.bottom=z.top=(O.bottom+z.top)/2),B(O).concat(U).concat(B(z))}function A(O,z,U,K){return new Ra(t,O-f.left,z-f.top,U-O,K-z)}function B({top:O,bottom:z,horizontal:U}){let K=[];for(let tt=0;tt<U.length;tt+=2)K.push(A(U[tt],O,U[tt+1],z));return K}function j(O,z,U){let K=1e9,tt=-1e9,ut=[];function it(mt,pt,L,X,st){let ot=i.coordsAtPos(mt,mt==U.to?-2:2),M=i.coordsAtPos(L,L==U.from?2:-2);!ot||!M||(K=Math.min(ot.top,M.top,K),tt=Math.max(ot.bottom,M.bottom,tt),st==oe.LTR?ut.push(o&&pt?p:ot.left,o&&X?b:M.right):ut.push(!o&&X?p:M.left,!o&&pt?b:ot.right))}let et=O??U.from,ct=z??U.to;for(let mt of i.visibleRanges)if(mt.to>et&&mt.from<ct)for(let pt=Math.max(mt.from,et),L=Math.min(mt.to,ct);;){let X=i.state.doc.lineAt(pt);for(let st of i.bidiSpans(X)){let ot=st.from+X.from,M=st.to+X.from;if(ot>=L)break;M>pt&&it(Math.max(ot,pt),O==null&&ot<=et,Math.min(M,L),z==null&&M>=ct,st.dir)}if(pt=X.to+1,pt>=L)break}return ut.length==0&&it(et,O==null,ct,z==null,i.textDirection),{top:K,bottom:tt,horizontal:ut}}function R(O,z){let U=u.top+(z?O.top:O.bottom);return{top:U,bottom:U,horizontal:[]}}}function zD(i,t){return i.constructor==t.constructor&&i.eq(t)}class HD{constructor(t,e){this.view=t,this.layer=e,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=t.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),e.above&&this.dom.classList.add("cm-layer-above"),e.class&&this.dom.classList.add(e.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(t.state),t.requestMeasure(this.measureReq),e.mount&&e.mount(this.dom,t)}update(t){t.startState.facet(Ou)!=t.state.facet(Ou)&&this.setOrder(t.state),(this.layer.update(t,this.dom)||t.geometryChanged)&&(this.scale(),t.view.requestMeasure(this.measureReq))}docViewUpdate(t){this.layer.updateOnDocViewUpdate!==!1&&t.requestMeasure(this.measureReq)}setOrder(t){let e=0,n=t.facet(Ou);for(;e<n.length&&n[e]!=this.layer;)e++;this.dom.style.zIndex=String((this.layer.above?150:-1)-e)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:t,scaleY:e}=this.view;(t!=this.scaleX||e!=this.scaleY)&&(this.scaleX=t,this.scaleY=e,this.dom.style.transform=`scale(${1/t}, ${1/e})`)}draw(t){if(t.length!=this.drawn.length||t.some((e,n)=>!zD(e,this.drawn[n]))){let e=this.dom.firstChild,n=0;for(let r of t)r.update&&e&&r.constructor&&this.drawn[n].constructor&&r.update(e,this.drawn[n])?(e=e.nextSibling,n++):this.dom.insertBefore(r.draw(),e);for(;e;){let r=e.nextSibling;e.remove(),e=r}this.drawn=t}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const Ou=ft.define();function lw(i){return[ve.define(t=>new HD(t,i)),Ou.of(i)]}const ma=ft.define({combine(i){return Vi(i,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(t,e)=>Math.min(t,e),drawRangeCursor:(t,e)=>t||e})}});function jD(i={}){return[ma.of(i),_D,UD,qD,LS.of(!0)]}function ow(i){return i.startState.facet(ma)!=i.state.facet(ma)}const _D=lw({above:!0,markers(i){let{state:t}=i,e=t.facet(ma),n=[];for(let r of t.selection.ranges){let o=r==t.selection.main;if(r.empty||e.drawRangeCursor){let a=o?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",u=r.empty?r:Z.cursor(r.head,r.head>r.anchor?-1:1);for(let f of Ra.forRange(i,a,u))n.push(f)}}return n},update(i,t){i.transactions.some(n=>n.selection)&&(t.style.animationName=t.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let e=ow(i);return e&&u1(i.state,t),i.docChanged||i.selectionSet||e},mount(i,t){u1(t.state,i)},class:"cm-cursorLayer"});function u1(i,t){t.style.animationDuration=i.facet(ma).cursorBlinkRate+"ms"}const UD=lw({above:!1,markers(i){return i.state.selection.ranges.map(t=>t.empty?[]:Ra.forRange(i,"cm-selectionBackground",t)).reduce((t,e)=>t.concat(e))},update(i,t){return i.docChanged||i.selectionSet||i.viewportChanged||ow(i)},class:"cm-selectionLayer"}),qD=Nr.highest(at.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),aw=Ct.define({map(i,t){return i==null?null:t.mapPos(i)}}),ta=Ze.define({create(){return null},update(i,t){return i!=null&&(i=t.changes.mapPos(i)),t.effects.reduce((e,n)=>n.is(aw)?n.value:e,i)}}),VD=ve.fromClass(class{constructor(i){this.view=i,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(i){var t;let e=i.state.field(ta);e==null?this.cursor!=null&&((t=this.cursor)===null||t===void 0||t.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(i.startState.field(ta)!=e||i.docChanged||i.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:i}=this,t=i.state.field(ta),e=t!=null&&i.coordsAtPos(t);if(!e)return null;let n=i.scrollDOM.getBoundingClientRect();return{left:e.left-n.left+i.scrollDOM.scrollLeft*i.scaleX,top:e.top-n.top+i.scrollDOM.scrollTop*i.scaleY,height:e.bottom-e.top}}drawCursor(i){if(this.cursor){let{scaleX:t,scaleY:e}=this.view;i?(this.cursor.style.left=i.left/t+"px",this.cursor.style.top=i.top/e+"px",this.cursor.style.height=i.height/e+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(i){this.view.state.field(ta)!=i&&this.view.dispatch({effects:aw.of(i)})}},{eventObservers:{dragover(i){this.setDropPos(this.view.posAtCoords({x:i.clientX,y:i.clientY}))},dragleave(i){(i.target==this.view.contentDOM||!this.view.contentDOM.contains(i.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function PD(){return[ta,VD]}function h1(i,t,e,n,r){t.lastIndex=0;for(let o=i.iterRange(e,n),a=e,u;!o.next().done;a+=o.value.length)if(!o.lineBreak)for(;u=t.exec(o.value);)r(a+u.index,u)}function YD(i,t){let e=i.visibleRanges;if(e.length==1&&e[0].from==i.viewport.from&&e[0].to==i.viewport.to)return e;let n=[];for(let{from:r,to:o}of e)r=Math.max(i.state.doc.lineAt(r).from,r-t),o=Math.min(i.state.doc.lineAt(o).to,o+t),n.length&&n[n.length-1].to>=r?n[n.length-1].to=o:n.push({from:r,to:o});return n}class GD{constructor(t){const{regexp:e,decoration:n,decorate:r,boundary:o,maxLength:a=1e3}=t;if(!e.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=e,r)this.addMatch=(u,f,d,m)=>r(m,d,d+u[0].length,u,f);else if(typeof n=="function")this.addMatch=(u,f,d,m)=>{let p=n(u,f,d);p&&m(d,d+u[0].length,p)};else if(n)this.addMatch=(u,f,d,m)=>m(d,d+u[0].length,n);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=o,this.maxLength=a}createDeco(t){let e=new cs,n=e.add.bind(e);for(let{from:r,to:o}of YD(t,this.maxLength))h1(t.state.doc,this.regexp,r,o,(a,u)=>this.addMatch(u,t,a,n));return e.finish()}updateDeco(t,e){let n=1e9,r=-1;return t.docChanged&&t.changes.iterChanges((o,a,u,f)=>{f>=t.view.viewport.from&&u<=t.view.viewport.to&&(n=Math.min(u,n),r=Math.max(f,r))}),t.viewportMoved||r-n>1e3?this.createDeco(t.view):r>-1?this.updateRange(t.view,e.map(t.changes),n,r):e}updateRange(t,e,n,r){for(let o of t.visibleRanges){let a=Math.max(o.from,n),u=Math.min(o.to,r);if(u>=a){let f=t.state.doc.lineAt(a),d=f.to<u?t.state.doc.lineAt(u):f,m=Math.max(o.from,f.from),p=Math.min(o.to,d.to);if(this.boundary){for(;a>f.from;a--)if(this.boundary.test(f.text[a-1-f.from])){m=a;break}for(;u<d.to;u++)if(this.boundary.test(d.text[u-d.from])){p=u;break}}let b=[],v,S=(k,C,A)=>b.push(A.range(k,C));if(f==d)for(this.regexp.lastIndex=m-f.from;(v=this.regexp.exec(f.text))&&v.index<p-f.from;)this.addMatch(v,t,v.index+f.from,S);else h1(t.state.doc,this.regexp,m,p,(k,C)=>this.addMatch(C,t,k,S));e=e.update({filterFrom:m,filterTo:p,filter:(k,C)=>k<m||C>p,add:b})}}return e}}const fm=/x/.unicode!=null?"gu":"g",ID=new RegExp(`[\0-\b
--­؜​‎‏\u2028\u2029‭‮⁦⁧⁩\uFEFF￹-￼]`,fm),XD={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let rg=null;function QD(){var i;if(rg==null&&typeof document<"u"&&document.body){let t=document.body.style;rg=((i=t.tabSize)!==null&&i!==void 0?i:t.MozTabSize)!=null}return rg||!1}const Eu=ft.define({combine(i){let t=Vi(i,{render:null,specialChars:ID,addSpecialChars:null});return(t.replaceTabs=!QD())&&(t.specialChars=new RegExp("	|"+t.specialChars.source,fm)),t.addSpecialChars&&(t.specialChars=new RegExp(t.specialChars.source+"|"+t.addSpecialChars.source,fm)),t}});function KD(i={}){return[Eu.of(i),WD()]}let f1=null;function WD(){return f1||(f1=ve.fromClass(class{constructor(i){this.view=i,this.decorations=xt.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(i.state.facet(Eu)),this.decorations=this.decorator.createDeco(i)}makeDecorator(i){return new GD({regexp:i.specialChars,decoration:(t,e,n)=>{let{doc:r}=e.state,o=bn(t[0],0);if(o==9){let a=r.lineAt(n),u=e.state.tabSize,f=Pl(a.text,u,n-a.from);return xt.replace({widget:new JD((u-f%u)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[o]||(this.decorationCache[o]=xt.replace({widget:new $D(i,o)}))},boundary:i.replaceTabs?void 0:/[^]/})}update(i){let t=i.state.facet(Eu);i.startState.facet(Eu)!=t?(this.decorator=this.makeDecorator(t),this.decorations=this.decorator.createDeco(i.view)):this.decorations=this.decorator.updateDeco(i,this.decorations)}},{decorations:i=>i.decorations}))}const FD="•";function ZD(i){return i>=32?FD:i==10?"␤":String.fromCharCode(9216+i)}class $D extends fs{constructor(t,e){super(),this.options=t,this.code=e}eq(t){return t.code==this.code}toDOM(t){let e=ZD(this.code),n=t.state.phrase("Control character")+" "+(XD[this.code]||"0x"+this.code.toString(16)),r=this.options.render&&this.options.render(this.code,n,e);if(r)return r;let o=document.createElement("span");return o.textContent=e,o.title=n,o.setAttribute("aria-label",n),o.className="cm-specialChar",o}ignoreEvent(){return!1}}class JD extends fs{constructor(t){super(),this.width=t}eq(t){return t.width==this.width}toDOM(){let t=document.createElement("span");return t.textContent="	",t.className="cm-tab",t.style.width=this.width+"px",t}ignoreEvent(){return!1}}function tO(){return nO}const eO=xt.line({class:"cm-activeLine"}),nO=ve.fromClass(class{constructor(i){this.decorations=this.getDeco(i)}update(i){(i.docChanged||i.selectionSet)&&(this.decorations=this.getDeco(i.view))}getDeco(i){let t=-1,e=[];for(let n of i.state.selection.ranges){let r=i.lineBlockAt(n.head);r.from>t&&(e.push(eO.range(r.from)),t=r.from)}return xt.set(e)}},{decorations:i=>i.decorations});class iO extends fs{constructor(t){super(),this.content=t}toDOM(t){let e=document.createElement("span");return e.className="cm-placeholder",e.style.pointerEvents="none",e.appendChild(typeof this.content=="string"?document.createTextNode(this.content):typeof this.content=="function"?this.content(t):this.content.cloneNode(!0)),e.setAttribute("aria-hidden","true"),e}coordsAt(t){let e=t.firstChild?zl(t.firstChild):[];if(!e.length)return null;let n=window.getComputedStyle(t.parentNode),r=Da(e[0],n.direction!="rtl"),o=parseInt(n.lineHeight);return r.bottom-r.top>o*1.5?{left:r.left,right:r.right,top:r.top,bottom:r.top+o}:r}ignoreEvent(){return!1}}function sO(i){let t=ve.fromClass(class{constructor(e){this.view=e,this.placeholder=i?xt.set([xt.widget({widget:new iO(i),side:1}).range(0)]):xt.none}get decorations(){return this.view.state.doc.length?xt.none:this.placeholder}},{decorations:e=>e.decorations});return typeof i=="string"?[t,at.contentAttributes.of({"aria-placeholder":i})]:t}const dm=2e3;function rO(i,t,e){let n=Math.min(t.line,e.line),r=Math.max(t.line,e.line),o=[];if(t.off>dm||e.off>dm||t.col<0||e.col<0){let a=Math.min(t.off,e.off),u=Math.max(t.off,e.off);for(let f=n;f<=r;f++){let d=i.doc.line(f);d.length<=u&&o.push(Z.range(d.from+a,d.to+u))}}else{let a=Math.min(t.col,e.col),u=Math.max(t.col,e.col);for(let f=n;f<=r;f++){let d=i.doc.line(f),m=Ig(d.text,a,i.tabSize,!0);if(m<0)o.push(Z.cursor(d.to));else{let p=Ig(d.text,u,i.tabSize);o.push(Z.range(d.from+m,d.from+p))}}}return o}function lO(i,t){let e=i.coordsAtPos(i.viewport.from);return e?Math.round(Math.abs((e.left-t)/i.defaultCharacterWidth)):-1}function d1(i,t){let e=i.posAtCoords({x:t.clientX,y:t.clientY},!1),n=i.state.doc.lineAt(e),r=e-n.from,o=r>dm?-1:r==n.length?lO(i,t.clientX):Pl(n.text,i.state.tabSize,e-n.from);return{line:n.number,col:o,off:r}}function oO(i,t){let e=d1(i,t),n=i.state.selection;return e?{update(r){if(r.docChanged){let o=r.changes.mapPos(r.startState.doc.line(e.line).from),a=r.state.doc.lineAt(o);e={line:a.number,col:e.col,off:Math.min(e.off,a.length)},n=n.map(r.changes)}},get(r,o,a){let u=d1(i,r);if(!u)return n;let f=rO(i.state,e,u);return f.length?a?Z.create(f.concat(n.ranges)):Z.create(f):n}}:null}function aO(i){let t=(e=>e.altKey&&e.button==0);return at.mouseSelectionStyle.of((e,n)=>t(n)?oO(e,n):null)}const cO={Alt:[18,i=>!!i.altKey],Control:[17,i=>!!i.ctrlKey],Shift:[16,i=>!!i.shiftKey],Meta:[91,i=>!!i.metaKey]},uO={style:"cursor: crosshair"};function hO(i={}){let[t,e]=cO[i.key||"Alt"],n=ve.fromClass(class{constructor(r){this.view=r,this.isDown=!1}set(r){this.isDown!=r&&(this.isDown=r,this.view.update([]))}},{eventObservers:{keydown(r){this.set(r.keyCode==t||e(r))},keyup(r){(r.keyCode==t||!e(r))&&this.set(!1)},mousemove(r){this.set(e(r))}}});return[n,at.contentAttributes.of(r=>{var o;return!((o=r.plugin(n))===null||o===void 0)&&o.isDown?uO:null})]}const Qo="-10000px";class cw{constructor(t,e,n,r){this.facet=e,this.createTooltipView=n,this.removeTooltipView=r,this.input=t.state.facet(e),this.tooltips=this.input.filter(a=>a);let o=null;this.tooltipViews=this.tooltips.map(a=>o=n(a,o))}update(t,e){var n;let r=t.state.facet(this.facet),o=r.filter(f=>f);if(r===this.input){for(let f of this.tooltipViews)f.update&&f.update(t);return!1}let a=[],u=e?[]:null;for(let f=0;f<o.length;f++){let d=o[f],m=-1;if(d){for(let p=0;p<this.tooltips.length;p++){let b=this.tooltips[p];b&&b.create==d.create&&(m=p)}if(m<0)a[f]=this.createTooltipView(d,f?a[f-1]:null),u&&(u[f]=!!d.above);else{let p=a[f]=this.tooltipViews[m];u&&(u[f]=e[m]),p.update&&p.update(t)}}}for(let f of this.tooltipViews)a.indexOf(f)<0&&(this.removeTooltipView(f),(n=f.destroy)===null||n===void 0||n.call(f));return e&&(u.forEach((f,d)=>e[d]=f),e.length=u.length),this.input=r,this.tooltips=o,this.tooltipViews=a,!0}}function fO(i){let t=i.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:t.clientHeight,right:t.clientWidth}}const lg=ft.define({combine:i=>{var t,e,n;return{position:ht.ios?"absolute":((t=i.find(r=>r.position))===null||t===void 0?void 0:t.position)||"fixed",parent:((e=i.find(r=>r.parent))===null||e===void 0?void 0:e.parent)||null,tooltipSpace:((n=i.find(r=>r.tooltipSpace))===null||n===void 0?void 0:n.tooltipSpace)||fO}}}),g1=new WeakMap,Wm=ve.fromClass(class{constructor(i){this.view=i,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let t=i.state.facet(lg);this.position=t.position,this.parent=t.parent,this.classes=i.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new cw(i,Fm,(e,n)=>this.createTooltip(e,n),e=>{this.resizeObserver&&this.resizeObserver.unobserve(e.dom),e.dom.remove()}),this.above=this.manager.tooltips.map(e=>!!e.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(e=>{Date.now()>this.lastTransaction-50&&e.length>0&&e[e.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),i.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let i of this.manager.tooltipViews)this.intersectionObserver.observe(i.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(i){i.transactions.length&&(this.lastTransaction=Date.now());let t=this.manager.update(i,this.above);t&&this.observeIntersection();let e=t||i.geometryChanged,n=i.state.facet(lg);if(n.position!=this.position&&!this.madeAbsolute){this.position=n.position;for(let r of this.manager.tooltipViews)r.dom.style.position=this.position;e=!0}if(n.parent!=this.parent){this.parent&&this.container.remove(),this.parent=n.parent,this.createContainer();for(let r of this.manager.tooltipViews)this.container.appendChild(r.dom);e=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);e&&this.maybeMeasure()}createTooltip(i,t){let e=i.create(this.view),n=t?t.dom:null;if(e.dom.classList.add("cm-tooltip"),i.arrow&&!e.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let r=document.createElement("div");r.className="cm-tooltip-arrow",e.dom.appendChild(r)}return e.dom.style.position=this.position,e.dom.style.top=Qo,e.dom.style.left="0px",this.container.insertBefore(e.dom,n),e.mount&&e.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(e.dom),e}destroy(){var i,t,e;this.view.win.removeEventListener("resize",this.measureSoon);for(let n of this.manager.tooltipViews)n.dom.remove(),(i=n.destroy)===null||i===void 0||i.call(n);this.parent&&this.container.remove(),(t=this.resizeObserver)===null||t===void 0||t.disconnect(),(e=this.intersectionObserver)===null||e===void 0||e.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let i=1,t=1,e=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:o}=this.manager.tooltipViews[0];if(ht.gecko)e=o.offsetParent!=this.container.ownerDocument.body;else if(o.style.top==Qo&&o.style.left=="0px"){let a=o.getBoundingClientRect();e=Math.abs(a.top+1e4)>1||Math.abs(a.left)>1}}if(e||this.position=="absolute")if(this.parent){let o=this.parent.getBoundingClientRect();o.width&&o.height&&(i=o.width/this.parent.offsetWidth,t=o.height/this.parent.offsetHeight)}else({scaleX:i,scaleY:t}=this.view.viewState);let n=this.view.scrollDOM.getBoundingClientRect(),r=Im(this.view);return{visible:{left:n.left+r.left,top:n.top+r.top,right:n.right-r.right,bottom:n.bottom-r.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((o,a)=>{let u=this.manager.tooltipViews[a];return u.getCoords?u.getCoords(o.pos):this.view.coordsAtPos(o.pos)}),size:this.manager.tooltipViews.map(({dom:o})=>o.getBoundingClientRect()),space:this.view.state.facet(lg).tooltipSpace(this.view),scaleX:i,scaleY:t,makeAbsolute:e}}writeMeasure(i){var t;if(i.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let u of this.manager.tooltipViews)u.dom.style.position="absolute"}let{visible:e,space:n,scaleX:r,scaleY:o}=i,a=[];for(let u=0;u<this.manager.tooltips.length;u++){let f=this.manager.tooltips[u],d=this.manager.tooltipViews[u],{dom:m}=d,p=i.pos[u],b=i.size[u];if(!p||f.clip!==!1&&(p.bottom<=Math.max(e.top,n.top)||p.top>=Math.min(e.bottom,n.bottom)||p.right<Math.max(e.left,n.left)-.1||p.left>Math.min(e.right,n.right)+.1)){m.style.top=Qo;continue}let v=f.arrow?d.dom.querySelector(".cm-tooltip-arrow"):null,S=v?7:0,k=b.right-b.left,C=(t=g1.get(d))!==null&&t!==void 0?t:b.bottom-b.top,A=d.offset||gO,B=this.view.textDirection==oe.LTR,j=b.width>n.right-n.left?B?n.left:n.right-b.width:B?Math.max(n.left,Math.min(p.left-(v?14:0)+A.x,n.right-k)):Math.min(Math.max(n.left,p.left-k+(v?14:0)-A.x),n.right-k),R=this.above[u];!f.strictSide&&(R?p.top-C-S-A.y<n.top:p.bottom+C+S+A.y>n.bottom)&&R==n.bottom-p.bottom>p.top-n.top&&(R=this.above[u]=!R);let O=(R?p.top-n.top:n.bottom-p.bottom)-S;if(O<C&&d.resize!==!1){if(O<this.view.defaultLineHeight){m.style.top=Qo;continue}g1.set(d,C),m.style.height=(C=O)/o+"px"}else m.style.height&&(m.style.height="");let z=R?p.top-C-S-A.y:p.bottom+S+A.y,U=j+k;if(d.overlap!==!0)for(let K of a)K.left<U&&K.right>j&&K.top<z+C&&K.bottom>z&&(z=R?K.top-C-2-S:K.bottom+S+2);if(this.position=="absolute"?(m.style.top=(z-i.parent.top)/o+"px",m1(m,(j-i.parent.left)/r)):(m.style.top=z/o+"px",m1(m,j/r)),v){let K=p.left+(B?A.x:-A.x)-(j+14-7);v.style.left=K/r+"px"}d.overlap!==!0&&a.push({left:j,top:z,right:U,bottom:z+C}),m.classList.toggle("cm-tooltip-above",R),m.classList.toggle("cm-tooltip-below",!R),d.positioned&&d.positioned(i.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let i of this.manager.tooltipViews)i.dom.style.top=Qo}},{eventObservers:{scroll(){this.maybeMeasure()}}});function m1(i,t){let e=parseInt(i.style.left,10);(isNaN(e)||Math.abs(t-e)>1)&&(i.style.left=t+"px")}const dO=at.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),gO={x:0,y:0},Fm=ft.define({enables:[Wm,dO]}),Iu=ft.define({combine:i=>i.reduce((t,e)=>t.concat(e),[])});class Ch{static create(t){return new Ch(t)}constructor(t){this.view=t,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new cw(t,Iu,(e,n)=>this.createHostedView(e,n),e=>e.dom.remove())}createHostedView(t,e){let n=t.create(this.view);return n.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(n.dom,e?e.dom.nextSibling:this.dom.firstChild),this.mounted&&n.mount&&n.mount(this.view),n}mount(t){for(let e of this.manager.tooltipViews)e.mount&&e.mount(t);this.mounted=!0}positioned(t){for(let e of this.manager.tooltipViews)e.positioned&&e.positioned(t)}update(t){this.manager.update(t)}destroy(){var t;for(let e of this.manager.tooltipViews)(t=e.destroy)===null||t===void 0||t.call(e)}passProp(t){let e;for(let n of this.manager.tooltipViews){let r=n[t];if(r!==void 0){if(e===void 0)e=r;else if(e!==r)return}}return e}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const mO=Fm.compute([Iu],i=>{let t=i.facet(Iu);return t.length===0?null:{pos:Math.min(...t.map(e=>e.pos)),end:Math.max(...t.map(e=>{var n;return(n=e.end)!==null&&n!==void 0?n:e.pos})),create:Ch.create,above:t[0].above,arrow:t.some(e=>e.arrow)}});class pO{constructor(t,e,n,r,o){this.view=t,this.source=e,this.field=n,this.setHover=r,this.hoverTime=o,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:t.dom,time:0},this.checkHover=this.checkHover.bind(this),t.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),t.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let t=Date.now()-this.lastMove.time;t<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-t):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:t,lastMove:e}=this,n=t.docView.nearest(e.target);if(!n)return;let r,o=1;if(n instanceof Gs)r=n.posAtStart;else{if(r=t.posAtCoords(e),r==null)return;let u=t.coordsAtPos(r);if(!u||e.y<u.top||e.y>u.bottom||e.x<u.left-t.defaultCharacterWidth||e.x>u.right+t.defaultCharacterWidth)return;let f=t.bidiSpans(t.state.doc.lineAt(r)).find(m=>m.from<=r&&m.to>=r),d=f&&f.dir==oe.RTL?-1:1;o=e.x<u.left?-d:d}let a=this.source(t,r,o);if(a?.then){let u=this.pending={pos:r};a.then(f=>{this.pending==u&&(this.pending=null,f&&!(Array.isArray(f)&&!f.length)&&t.dispatch({effects:this.setHover.of(Array.isArray(f)?f:[f])}))},f=>Sn(t.state,f,"hover tooltip"))}else a&&!(Array.isArray(a)&&!a.length)&&t.dispatch({effects:this.setHover.of(Array.isArray(a)?a:[a])})}get tooltip(){let t=this.view.plugin(Wm),e=t?t.manager.tooltips.findIndex(n=>n.create==Ch.create):-1;return e>-1?t.manager.tooltipViews[e]:null}mousemove(t){var e,n;this.lastMove={x:t.clientX,y:t.clientY,target:t.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:r,tooltip:o}=this;if(r.length&&o&&!yO(o.dom,t)||this.pending){let{pos:a}=r[0]||this.pending,u=(n=(e=r[0])===null||e===void 0?void 0:e.end)!==null&&n!==void 0?n:a;(a==u?this.view.posAtCoords(this.lastMove)!=a:!bO(this.view,a,u,t.clientX,t.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(t){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:e}=this;if(e.length){let{tooltip:n}=this;n&&n.dom.contains(t.relatedTarget)?this.watchTooltipLeave(n.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(t){let e=n=>{t.removeEventListener("mouseleave",e),this.active.length&&!this.view.dom.contains(n.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};t.addEventListener("mouseleave",e)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const au=4;function yO(i,t){let{left:e,right:n,top:r,bottom:o}=i.getBoundingClientRect(),a;if(a=i.querySelector(".cm-tooltip-arrow")){let u=a.getBoundingClientRect();r=Math.min(u.top,r),o=Math.max(u.bottom,o)}return t.clientX>=e-au&&t.clientX<=n+au&&t.clientY>=r-au&&t.clientY<=o+au}function bO(i,t,e,n,r,o){let a=i.scrollDOM.getBoundingClientRect(),u=i.documentTop+i.documentPadding.top+i.contentHeight;if(a.left>n||a.right<n||a.top>r||Math.min(a.bottom,u)<r)return!1;let f=i.posAtCoords({x:n,y:r},!1);return f>=t&&f<=e}function vO(i,t={}){let e=Ct.define(),n=Ze.define({create(){return[]},update(r,o){if(r.length&&(t.hideOnChange&&(o.docChanged||o.selection)?r=[]:t.hideOn&&(r=r.filter(a=>!t.hideOn(o,a))),o.docChanged)){let a=[];for(let u of r){let f=o.changes.mapPos(u.pos,-1,cn.TrackDel);if(f!=null){let d=Object.assign(Object.create(null),u);d.pos=f,d.end!=null&&(d.end=o.changes.mapPos(d.end)),a.push(d)}}r=a}for(let a of o.effects)a.is(e)&&(r=a.value),a.is(xO)&&(r=[]);return r},provide:r=>Iu.from(r)});return{active:n,extension:[n,ve.define(r=>new pO(r,i,n,e,t.hoverTime||300)),mO]}}function uw(i,t){let e=i.plugin(Wm);if(!e)return null;let n=e.manager.tooltips.indexOf(t);return n<0?null:e.manager.tooltipViews[n]}const xO=Ct.define(),p1=ft.define({combine(i){let t,e;for(let n of i)t=t||n.topContainer,e=e||n.bottomContainer;return{topContainer:t,bottomContainer:e}}});function pa(i,t){let e=i.plugin(hw),n=e?e.specs.indexOf(t):-1;return n>-1?e.panels[n]:null}const hw=ve.fromClass(class{constructor(i){this.input=i.state.facet(ya),this.specs=this.input.filter(e=>e),this.panels=this.specs.map(e=>e(i));let t=i.state.facet(p1);this.top=new cu(i,!0,t.topContainer),this.bottom=new cu(i,!1,t.bottomContainer),this.top.sync(this.panels.filter(e=>e.top)),this.bottom.sync(this.panels.filter(e=>!e.top));for(let e of this.panels)e.dom.classList.add("cm-panel"),e.mount&&e.mount()}update(i){let t=i.state.facet(p1);this.top.container!=t.topContainer&&(this.top.sync([]),this.top=new cu(i.view,!0,t.topContainer)),this.bottom.container!=t.bottomContainer&&(this.bottom.sync([]),this.bottom=new cu(i.view,!1,t.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let e=i.state.facet(ya);if(e!=this.input){let n=e.filter(f=>f),r=[],o=[],a=[],u=[];for(let f of n){let d=this.specs.indexOf(f),m;d<0?(m=f(i.view),u.push(m)):(m=this.panels[d],m.update&&m.update(i)),r.push(m),(m.top?o:a).push(m)}this.specs=n,this.panels=r,this.top.sync(o),this.bottom.sync(a);for(let f of u)f.dom.classList.add("cm-panel"),f.mount&&f.mount()}else for(let n of this.panels)n.update&&n.update(i)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:i=>at.scrollMargins.of(t=>{let e=t.plugin(i);return e&&{top:e.top.scrollMargin(),bottom:e.bottom.scrollMargin()}})});class cu{constructor(t,e,n){this.view=t,this.top=e,this.container=n,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(t){for(let e of this.panels)e.destroy&&t.indexOf(e)<0&&e.destroy();this.panels=t,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let e=this.container||this.view.dom;e.insertBefore(this.dom,this.top?e.firstChild:null)}let t=this.dom.firstChild;for(let e of this.panels)if(e.dom.parentNode==this.dom){for(;t!=e.dom;)t=y1(t);t=t.nextSibling}else this.dom.insertBefore(e.dom,t);for(;t;)t=y1(t)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let t of this.classes.split(" "))t&&this.container.classList.remove(t);for(let t of(this.classes=this.view.themeClasses).split(" "))t&&this.container.classList.add(t)}}}function y1(i){let t=i.nextSibling;return i.remove(),t}const ya=ft.define({enables:hw});class hs extends Mr{compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}eq(t){return!1}destroy(t){}}hs.prototype.elementClass="";hs.prototype.toDOM=void 0;hs.prototype.mapMode=cn.TrackBefore;hs.prototype.startSide=hs.prototype.endSide=-1;hs.prototype.point=!0;const Ru=ft.define(),SO=ft.define(),wO={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>jt.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{},side:"before"},ra=ft.define();function kO(i){return[fw(),ra.of({...wO,...i})]}const b1=ft.define({combine:i=>i.some(t=>t)});function fw(i){return[CO]}const CO=ve.fromClass(class{constructor(i){this.view=i,this.domAfter=null,this.prevViewport=i.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters cm-gutters-before",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=i.state.facet(ra).map(t=>new x1(i,t)),this.fixed=!i.state.facet(b1);for(let t of this.gutters)t.config.side=="after"?this.getDOMAfter().appendChild(t.dom):this.dom.appendChild(t.dom);this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),i.scrollDOM.insertBefore(this.dom,i.contentDOM)}getDOMAfter(){return this.domAfter||(this.domAfter=document.createElement("div"),this.domAfter.className="cm-gutters cm-gutters-after",this.domAfter.setAttribute("aria-hidden","true"),this.domAfter.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.domAfter.style.position=this.fixed?"sticky":"",this.view.scrollDOM.appendChild(this.domAfter)),this.domAfter}update(i){if(this.updateGutters(i)){let t=this.prevViewport,e=i.view.viewport,n=Math.min(t.to,e.to)-Math.max(t.from,e.from);this.syncGutters(n<(e.to-e.from)*.8)}if(i.geometryChanged){let t=this.view.contentHeight/this.view.scaleY+"px";this.dom.style.minHeight=t,this.domAfter&&(this.domAfter.style.minHeight=t)}this.view.state.facet(b1)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"",this.domAfter&&(this.domAfter.style.position=this.fixed?"sticky":"")),this.prevViewport=i.view.viewport}syncGutters(i){let t=this.dom.nextSibling;i&&(this.dom.remove(),this.domAfter&&this.domAfter.remove());let e=jt.iter(this.view.state.facet(Ru),this.view.viewport.from),n=[],r=this.gutters.map(o=>new AO(o,this.view.viewport,-this.view.documentPadding.top));for(let o of this.view.viewportLineBlocks)if(n.length&&(n=[]),Array.isArray(o.type)){let a=!0;for(let u of o.type)if(u.type==un.Text&&a){gm(e,n,u.from);for(let f of r)f.line(this.view,u,n);a=!1}else if(u.widget)for(let f of r)f.widget(this.view,u)}else if(o.type==un.Text){gm(e,n,o.from);for(let a of r)a.line(this.view,o,n)}else if(o.widget)for(let a of r)a.widget(this.view,o);for(let o of r)o.finish();i&&(this.view.scrollDOM.insertBefore(this.dom,t),this.domAfter&&this.view.scrollDOM.appendChild(this.domAfter))}updateGutters(i){let t=i.startState.facet(ra),e=i.state.facet(ra),n=i.docChanged||i.heightChanged||i.viewportChanged||!jt.eq(i.startState.facet(Ru),i.state.facet(Ru),i.view.viewport.from,i.view.viewport.to);if(t==e)for(let r of this.gutters)r.update(i)&&(n=!0);else{n=!0;let r=[];for(let o of e){let a=t.indexOf(o);a<0?r.push(new x1(this.view,o)):(this.gutters[a].update(i),r.push(this.gutters[a]))}for(let o of this.gutters)o.dom.remove(),r.indexOf(o)<0&&o.destroy();for(let o of r)o.config.side=="after"?this.getDOMAfter().appendChild(o.dom):this.dom.appendChild(o.dom);this.gutters=r}return n}destroy(){for(let i of this.gutters)i.destroy();this.dom.remove(),this.domAfter&&this.domAfter.remove()}},{provide:i=>at.scrollMargins.of(t=>{let e=t.plugin(i);if(!e||e.gutters.length==0||!e.fixed)return null;let n=e.dom.offsetWidth*t.scaleX,r=e.domAfter?e.domAfter.offsetWidth*t.scaleX:0;return t.textDirection==oe.LTR?{left:n,right:r}:{right:n,left:r}})});function v1(i){return Array.isArray(i)?i:[i]}function gm(i,t,e){for(;i.value&&i.from<=e;)i.from==e&&t.push(i.value),i.next()}class AO{constructor(t,e,n){this.gutter=t,this.height=n,this.i=0,this.cursor=jt.iter(t.markers,e.from)}addElement(t,e,n){let{gutter:r}=this,o=(e.top-this.height)/t.scaleY,a=e.height/t.scaleY;if(this.i==r.elements.length){let u=new dw(t,a,o,n);r.elements.push(u),r.dom.appendChild(u.dom)}else r.elements[this.i].update(t,a,o,n);this.height=e.bottom,this.i++}line(t,e,n){let r=[];gm(this.cursor,r,e.from),n.length&&(r=r.concat(n));let o=this.gutter.config.lineMarker(t,e,r);o&&r.unshift(o);let a=this.gutter;r.length==0&&!a.config.renderEmptyElements||this.addElement(t,e,r)}widget(t,e){let n=this.gutter.config.widgetMarker(t,e.widget,e),r=n?[n]:null;for(let o of t.state.facet(SO)){let a=o(t,e.widget,e);a&&(r||(r=[])).push(a)}r&&this.addElement(t,e,r)}finish(){let t=this.gutter;for(;t.elements.length>this.i;){let e=t.elements.pop();t.dom.removeChild(e.dom),e.destroy()}}}class x1{constructor(t,e){this.view=t,this.config=e,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let n in e.domEventHandlers)this.dom.addEventListener(n,r=>{let o=r.target,a;if(o!=this.dom&&this.dom.contains(o)){for(;o.parentNode!=this.dom;)o=o.parentNode;let f=o.getBoundingClientRect();a=(f.top+f.bottom)/2}else a=r.clientY;let u=t.lineBlockAtHeight(a-t.documentTop);e.domEventHandlers[n](t,u,r)&&r.preventDefault()});this.markers=v1(e.markers(t)),e.initialSpacer&&(this.spacer=new dw(t,0,0,[e.initialSpacer(t)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(t){let e=this.markers;if(this.markers=v1(this.config.markers(t.view)),this.spacer&&this.config.updateSpacer){let r=this.config.updateSpacer(this.spacer.markers[0],t);r!=this.spacer.markers[0]&&this.spacer.update(t.view,0,0,[r])}let n=t.view.viewport;return!jt.eq(this.markers,e,n.from,n.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(t):!1)}destroy(){for(let t of this.elements)t.destroy()}}class dw{constructor(t,e,n,r){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(t,e,n,r)}update(t,e,n,r){this.height!=e&&(this.height=e,this.dom.style.height=e+"px"),this.above!=n&&(this.dom.style.marginTop=(this.above=n)?n+"px":""),MO(this.markers,r)||this.setMarkers(t,r)}setMarkers(t,e){let n="cm-gutterElement",r=this.dom.firstChild;for(let o=0,a=0;;){let u=a,f=o<e.length?e[o++]:null,d=!1;if(f){let m=f.elementClass;m&&(n+=" "+m);for(let p=a;p<this.markers.length;p++)if(this.markers[p].compare(f)){u=p,d=!0;break}}else u=this.markers.length;for(;a<u;){let m=this.markers[a++];if(m.toDOM){m.destroy(r);let p=r.nextSibling;r.remove(),r=p}}if(!f)break;f.toDOM&&(d?r=r.nextSibling:this.dom.insertBefore(f.toDOM(t),r)),d&&a++}this.dom.className=n,this.markers=e}destroy(){this.setMarkers(null,[])}}function MO(i,t){if(i.length!=t.length)return!1;for(let e=0;e<i.length;e++)if(!i[e].compare(t[e]))return!1;return!0}const TO=ft.define(),DO=ft.define(),Cl=ft.define({combine(i){return Vi(i,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(t,e){let n=Object.assign({},t);for(let r in e){let o=n[r],a=e[r];n[r]=o?(u,f,d)=>o(u,f,d)||a(u,f,d):a}return n}})}});class og extends hs{constructor(t){super(),this.number=t}eq(t){return this.number==t.number}toDOM(){return document.createTextNode(this.number)}}function ag(i,t){return i.state.facet(Cl).formatNumber(t,i.state)}const OO=ra.compute([Cl],i=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(t){return t.state.facet(TO)},lineMarker(t,e,n){return n.some(r=>r.toDOM)?null:new og(ag(t,t.state.doc.lineAt(e.from).number))},widgetMarker:(t,e,n)=>{for(let r of t.state.facet(DO)){let o=r(t,e,n);if(o)return o}return null},lineMarkerChange:t=>t.startState.facet(Cl)!=t.state.facet(Cl),initialSpacer(t){return new og(ag(t,S1(t.state.doc.lines)))},updateSpacer(t,e){let n=ag(e.view,S1(e.view.state.doc.lines));return n==t.number?t:new og(n)},domEventHandlers:i.facet(Cl).domEventHandlers,side:"before"}));function Xu(i={}){return[Cl.of(i),fw(),OO]}function S1(i){let t=9;for(;t<i;)t=t*10+9;return t}const EO=new class extends hs{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},RO=Ru.compute(["selection"],i=>{let t=[],e=-1;for(let n of i.selection.ranges){let r=i.doc.lineAt(n.head).from;r>e&&(e=r,t.push(EO.range(r)))}return jt.of(t)});function NO(){return RO}const gw=1024;let BO=0;class cg{constructor(t,e){this.from=t,this.to=e}}class Ot{constructor(t={}){this.id=BO++,this.perNode=!!t.perNode,this.deserialize=t.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(t){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof t!="function"&&(t=kn.match(t)),e=>{let n=t(e);return n===void 0?null:[this,n]}}}Ot.closedBy=new Ot({deserialize:i=>i.split(" ")});Ot.openedBy=new Ot({deserialize:i=>i.split(" ")});Ot.group=new Ot({deserialize:i=>i.split(" ")});Ot.isolate=new Ot({deserialize:i=>{if(i&&i!="rtl"&&i!="ltr"&&i!="auto")throw new RangeError("Invalid value for isolate: "+i);return i||"auto"}});Ot.contextHash=new Ot({perNode:!0});Ot.lookAhead=new Ot({perNode:!0});Ot.mounted=new Ot({perNode:!0});class Qu{constructor(t,e,n){this.tree=t,this.overlay=e,this.parser=n}static get(t){return t&&t.props&&t.props[Ot.mounted.id]}}const LO=Object.create(null);class kn{constructor(t,e,n,r=0){this.name=t,this.props=e,this.id=n,this.flags=r}static define(t){let e=t.props&&t.props.length?Object.create(null):LO,n=(t.top?1:0)|(t.skipped?2:0)|(t.error?4:0)|(t.name==null?8:0),r=new kn(t.name||"",e,t.id,n);if(t.props){for(let o of t.props)if(Array.isArray(o)||(o=o(r)),o){if(o[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");e[o[0].id]=o[1]}}return r}prop(t){return this.props[t.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(t){if(typeof t=="string"){if(this.name==t)return!0;let e=this.prop(Ot.group);return e?e.indexOf(t)>-1:!1}return this.id==t}static match(t){let e=Object.create(null);for(let n in t)for(let r of n.split(" "))e[r]=t[n];return n=>{for(let r=n.prop(Ot.group),o=-1;o<(r?r.length:0);o++){let a=e[o<0?n.name:r[o]];if(a)return a}}}}kn.none=new kn("",Object.create(null),0,8);class Zm{constructor(t){this.types=t;for(let e=0;e<t.length;e++)if(t[e].id!=e)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...t){let e=[];for(let n of this.types){let r=null;for(let o of t){let a=o(n);a&&(r||(r=Object.assign({},n.props)),r[a[0].id]=a[1])}e.push(r?new kn(n.name,r,n.id,n.flags):n)}return new Zm(e)}}const uu=new WeakMap,w1=new WeakMap;var qe;(function(i){i[i.ExcludeBuffers=1]="ExcludeBuffers",i[i.IncludeAnonymous=2]="IncludeAnonymous",i[i.IgnoreMounts=4]="IgnoreMounts",i[i.IgnoreOverlays=8]="IgnoreOverlays"})(qe||(qe={}));class Ae{constructor(t,e,n,r,o){if(this.type=t,this.children=e,this.positions=n,this.length=r,this.props=null,o&&o.length){this.props=Object.create(null);for(let[a,u]of o)this.props[typeof a=="number"?a:a.id]=u}}toString(){let t=Qu.get(this);if(t&&!t.overlay)return t.tree.toString();let e="";for(let n of this.children){let r=n.toString();r&&(e&&(e+=","),e+=r)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(e.length?"("+e+")":""):e}cursor(t=0){return new pm(this.topNode,t)}cursorAt(t,e=0,n=0){let r=uu.get(this)||this.topNode,o=new pm(r);return o.moveTo(t,e),uu.set(this,o._tree),o}get topNode(){return new ii(this,0,0,null)}resolve(t,e=0){let n=ba(uu.get(this)||this.topNode,t,e,!1);return uu.set(this,n),n}resolveInner(t,e=0){let n=ba(w1.get(this)||this.topNode,t,e,!0);return w1.set(this,n),n}resolveStack(t,e=0){return jO(this,t,e)}iterate(t){let{enter:e,leave:n,from:r=0,to:o=this.length}=t,a=t.mode||0,u=(a&qe.IncludeAnonymous)>0;for(let f=this.cursor(a|qe.IncludeAnonymous);;){let d=!1;if(f.from<=o&&f.to>=r&&(!u&&f.type.isAnonymous||e(f)!==!1)){if(f.firstChild())continue;d=!0}for(;d&&n&&(u||!f.type.isAnonymous)&&n(f),!f.nextSibling();){if(!f.parent())return;d=!0}}}prop(t){return t.perNode?this.props?this.props[t.id]:void 0:this.type.prop(t)}get propValues(){let t=[];if(this.props)for(let e in this.props)t.push([+e,this.props[e]]);return t}balance(t={}){return this.children.length<=8?this:tp(kn.none,this.children,this.positions,0,this.children.length,0,this.length,(e,n,r)=>new Ae(this.type,e,n,r,this.propValues),t.makeTree||((e,n,r)=>new Ae(kn.none,e,n,r)))}static build(t){return _O(t)}}Ae.empty=new Ae(kn.none,[],[],0);class $m{constructor(t,e){this.buffer=t,this.index=e}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new $m(this.buffer,this.index)}}class Zs{constructor(t,e,n){this.buffer=t,this.length=e,this.set=n}get type(){return kn.none}toString(){let t=[];for(let e=0;e<this.buffer.length;)t.push(this.childString(e)),e=this.buffer[e+3];return t.join(",")}childString(t){let e=this.buffer[t],n=this.buffer[t+3],r=this.set.types[e],o=r.name;if(/\W/.test(o)&&!r.isError&&(o=JSON.stringify(o)),t+=4,n==t)return o;let a=[];for(;t<n;)a.push(this.childString(t)),t=this.buffer[t+3];return o+"("+a.join(",")+")"}findChild(t,e,n,r,o){let{buffer:a}=this,u=-1;for(let f=t;f!=e&&!(mw(o,r,a[f+1],a[f+2])&&(u=f,n>0));f=a[f+3]);return u}slice(t,e,n){let r=this.buffer,o=new Uint16Array(e-t),a=0;for(let u=t,f=0;u<e;){o[f++]=r[u++],o[f++]=r[u++]-n;let d=o[f++]=r[u++]-n;o[f++]=r[u++]-t,a=Math.max(a,d)}return new Zs(o,a,this.set)}}function mw(i,t,e,n){switch(i){case-2:return e<t;case-1:return n>=t&&e<t;case 0:return e<t&&n>t;case 1:return e<=t&&n>t;case 2:return n>t;case 4:return!0}}function ba(i,t,e,n){for(var r;i.from==i.to||(e<1?i.from>=t:i.from>t)||(e>-1?i.to<=t:i.to<t);){let a=!n&&i instanceof ii&&i.index<0?null:i.parent;if(!a)return i;i=a}let o=n?0:qe.IgnoreOverlays;if(n)for(let a=i,u=a.parent;u;a=u,u=a.parent)a instanceof ii&&a.index<0&&((r=u.enter(t,e,o))===null||r===void 0?void 0:r.from)!=a.from&&(i=u);for(;;){let a=i.enter(t,e,o);if(!a)return i;i=a}}class pw{cursor(t=0){return new pm(this,t)}getChild(t,e=null,n=null){let r=k1(this,t,e,n);return r.length?r[0]:null}getChildren(t,e=null,n=null){return k1(this,t,e,n)}resolve(t,e=0){return ba(this,t,e,!1)}resolveInner(t,e=0){return ba(this,t,e,!0)}matchContext(t){return mm(this.parent,t)}enterUnfinishedNodesBefore(t){let e=this.childBefore(t),n=this;for(;e;){let r=e.lastChild;if(!r||r.to!=e.to)break;r.type.isError&&r.from==r.to?(n=e,e=r.prevSibling):e=r}return n}get node(){return this}get next(){return this.parent}}class ii extends pw{constructor(t,e,n,r){super(),this._tree=t,this.from=e,this.index=n,this._parent=r}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(t,e,n,r,o=0){for(let a=this;;){for(let{children:u,positions:f}=a._tree,d=e>0?u.length:-1;t!=d;t+=e){let m=u[t],p=f[t]+a.from;if(mw(r,n,p,p+m.length)){if(m instanceof Zs){if(o&qe.ExcludeBuffers)continue;let b=m.findChild(0,m.buffer.length,e,n-p,r);if(b>-1)return new Xs(new zO(a,m,t,p),null,b)}else if(o&qe.IncludeAnonymous||!m.type.isAnonymous||Jm(m)){let b;if(!(o&qe.IgnoreMounts)&&(b=Qu.get(m))&&!b.overlay)return new ii(b.tree,p,t,a);let v=new ii(m,p,t,a);return o&qe.IncludeAnonymous||!v.type.isAnonymous?v:v.nextChild(e<0?m.children.length-1:0,e,n,r)}}}if(o&qe.IncludeAnonymous||!a.type.isAnonymous||(a.index>=0?t=a.index+e:t=e<0?-1:a._parent._tree.children.length,a=a._parent,!a))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(t){return this.nextChild(0,1,t,2)}childBefore(t){return this.nextChild(this._tree.children.length-1,-1,t,-2)}enter(t,e,n=0){let r;if(!(n&qe.IgnoreOverlays)&&(r=Qu.get(this._tree))&&r.overlay){let o=t-this.from;for(let{from:a,to:u}of r.overlay)if((e>0?a<=o:a<o)&&(e<0?u>=o:u>o))return new ii(r.tree,r.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,t,e,n)}nextSignificantParent(){let t=this;for(;t.type.isAnonymous&&t._parent;)t=t._parent;return t}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function k1(i,t,e,n){let r=i.cursor(),o=[];if(!r.firstChild())return o;if(e!=null){for(let a=!1;!a;)if(a=r.type.is(e),!r.nextSibling())return o}for(;;){if(n!=null&&r.type.is(n))return o;if(r.type.is(t)&&o.push(r.node),!r.nextSibling())return n==null?o:[]}}function mm(i,t,e=t.length-1){for(let n=i;e>=0;n=n.parent){if(!n)return!1;if(!n.type.isAnonymous){if(t[e]&&t[e]!=n.name)return!1;e--}}return!0}class zO{constructor(t,e,n,r){this.parent=t,this.buffer=e,this.index=n,this.start=r}}class Xs extends pw{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(t,e,n){super(),this.context=t,this._parent=e,this.index=n,this.type=t.buffer.set.types[t.buffer.buffer[n]]}child(t,e,n){let{buffer:r}=this.context,o=r.findChild(this.index+4,r.buffer[this.index+3],t,e-this.context.start,n);return o<0?null:new Xs(this.context,this,o)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(t){return this.child(1,t,2)}childBefore(t){return this.child(-1,t,-2)}enter(t,e,n=0){if(n&qe.ExcludeBuffers)return null;let{buffer:r}=this.context,o=r.findChild(this.index+4,r.buffer[this.index+3],e>0?1:-1,t-this.context.start,e);return o<0?null:new Xs(this.context,this,o)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(t){return this._parent?null:this.context.parent.nextChild(this.context.index+t,t,0,4)}get nextSibling(){let{buffer:t}=this.context,e=t.buffer[this.index+3];return e<(this._parent?t.buffer[this._parent.index+3]:t.buffer.length)?new Xs(this.context,this._parent,e):this.externalSibling(1)}get prevSibling(){let{buffer:t}=this.context,e=this._parent?this._parent.index+4:0;return this.index==e?this.externalSibling(-1):new Xs(this.context,this._parent,t.findChild(e,this.index,-1,0,4))}get tree(){return null}toTree(){let t=[],e=[],{buffer:n}=this.context,r=this.index+4,o=n.buffer[this.index+3];if(o>r){let a=n.buffer[this.index+1];t.push(n.slice(r,o,a)),e.push(0)}return new Ae(this.type,t,e,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function yw(i){if(!i.length)return null;let t=0,e=i[0];for(let o=1;o<i.length;o++){let a=i[o];(a.from>e.from||a.to<e.to)&&(e=a,t=o)}let n=e instanceof ii&&e.index<0?null:e.parent,r=i.slice();return n?r[t]=n:r.splice(t,1),new HO(r,e)}class HO{constructor(t,e){this.heads=t,this.node=e}get next(){return yw(this.heads)}}function jO(i,t,e){let n=i.resolveInner(t,e),r=null;for(let o=n instanceof ii?n:n.context.parent;o;o=o.parent)if(o.index<0){let a=o.parent;(r||(r=[n])).push(a.resolve(t,e)),o=a}else{let a=Qu.get(o.tree);if(a&&a.overlay&&a.overlay[0].from<=t&&a.overlay[a.overlay.length-1].to>=t){let u=new ii(a.tree,a.overlay[0].from+o.from,-1,o);(r||(r=[n])).push(ba(u,t,e,!1))}}return r?yw(r):n}class pm{get name(){return this.type.name}constructor(t,e=0){if(this.mode=e,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,t instanceof ii)this.yieldNode(t);else{this._tree=t.context.parent,this.buffer=t.context;for(let n=t._parent;n;n=n._parent)this.stack.unshift(n.index);this.bufferNode=t,this.yieldBuf(t.index)}}yieldNode(t){return t?(this._tree=t,this.type=t.type,this.from=t.from,this.to=t.to,!0):!1}yieldBuf(t,e){this.index=t;let{start:n,buffer:r}=this.buffer;return this.type=e||r.set.types[r.buffer[t]],this.from=n+r.buffer[t+1],this.to=n+r.buffer[t+2],!0}yield(t){return t?t instanceof ii?(this.buffer=null,this.yieldNode(t)):(this.buffer=t.context,this.yieldBuf(t.index,t.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(t,e,n){if(!this.buffer)return this.yield(this._tree.nextChild(t<0?this._tree._tree.children.length-1:0,t,e,n,this.mode));let{buffer:r}=this.buffer,o=r.findChild(this.index+4,r.buffer[this.index+3],t,e-this.buffer.start,n);return o<0?!1:(this.stack.push(this.index),this.yieldBuf(o))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(t){return this.enterChild(1,t,2)}childBefore(t){return this.enterChild(-1,t,-2)}enter(t,e,n=this.mode){return this.buffer?n&qe.ExcludeBuffers?!1:this.enterChild(1,t,e):this.yield(this._tree.enter(t,e,n))}parent(){if(!this.buffer)return this.yieldNode(this.mode&qe.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let t=this.mode&qe.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(t)}sibling(t){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+t,t,0,4,this.mode)):!1;let{buffer:e}=this.buffer,n=this.stack.length-1;if(t<0){let r=n<0?0:this.stack[n]+4;if(this.index!=r)return this.yieldBuf(e.findChild(r,this.index,-1,0,4))}else{let r=e.buffer[this.index+3];if(r<(n<0?e.buffer.length:e.buffer[this.stack[n]+3]))return this.yieldBuf(r)}return n<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+t,t,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(t){let e,n,{buffer:r}=this;if(r){if(t>0){if(this.index<r.buffer.buffer.length)return!1}else for(let o=0;o<this.index;o++)if(r.buffer.buffer[o+3]<this.index)return!1;({index:e,parent:n}=r)}else({index:e,_parent:n}=this._tree);for(;n;{index:e,_parent:n}=n)if(e>-1)for(let o=e+t,a=t<0?-1:n._tree.children.length;o!=a;o+=t){let u=n._tree.children[o];if(this.mode&qe.IncludeAnonymous||u instanceof Zs||!u.type.isAnonymous||Jm(u))return!1}return!0}move(t,e){if(e&&this.enterChild(t,0,4))return!0;for(;;){if(this.sibling(t))return!0;if(this.atLastNode(t)||!this.parent())return!1}}next(t=!0){return this.move(1,t)}prev(t=!0){return this.move(-1,t)}moveTo(t,e=0){for(;(this.from==this.to||(e<1?this.from>=t:this.from>t)||(e>-1?this.to<=t:this.to<t))&&this.parent(););for(;this.enterChild(1,t,e););return this}get node(){if(!this.buffer)return this._tree;let t=this.bufferNode,e=null,n=0;if(t&&t.context==this.buffer)t:for(let r=this.index,o=this.stack.length;o>=0;){for(let a=t;a;a=a._parent)if(a.index==r){if(r==this.index)return a;e=a,n=o+1;break t}r=this.stack[--o]}for(let r=n;r<this.stack.length;r++)e=new Xs(this.buffer,e,this.stack[r]);return this.bufferNode=new Xs(this.buffer,e,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(t,e){for(let n=0;;){let r=!1;if(this.type.isAnonymous||t(this)!==!1){if(this.firstChild()){n++;continue}this.type.isAnonymous||(r=!0)}for(;;){if(r&&e&&e(this),r=this.type.isAnonymous,!n)return;if(this.nextSibling())break;this.parent(),n--,r=!0}}}matchContext(t){if(!this.buffer)return mm(this.node.parent,t);let{buffer:e}=this.buffer,{types:n}=e.set;for(let r=t.length-1,o=this.stack.length-1;r>=0;o--){if(o<0)return mm(this._tree,t,r);let a=n[e.buffer[this.stack[o]]];if(!a.isAnonymous){if(t[r]&&t[r]!=a.name)return!1;r--}}return!0}}function Jm(i){return i.children.some(t=>t instanceof Zs||!t.type.isAnonymous||Jm(t))}function _O(i){var t;let{buffer:e,nodeSet:n,maxBufferLength:r=gw,reused:o=[],minRepeatType:a=n.types.length}=i,u=Array.isArray(e)?new $m(e,e.length):e,f=n.types,d=0,m=0;function p(O,z,U,K,tt,ut){let{id:it,start:et,end:ct,size:mt}=u,pt=m,L=d;for(;mt<0;)if(u.next(),mt==-1){let Y=o[it];U.push(Y),K.push(et-O);return}else if(mt==-3){d=it;return}else if(mt==-4){m=it;return}else throw new RangeError(`Unrecognized record size: ${mt}`);let X=f[it],st,ot,M=et-O;if(ct-et<=r&&(ot=C(u.pos-z,tt))){let Y=new Uint16Array(ot.size-ot.skip),$=u.pos-ot.size,I=Y.length;for(;u.pos>$;)I=A(ot.start,Y,I);st=new Zs(Y,ct-ot.start,n),M=ot.start-O}else{let Y=u.pos-mt;u.next();let $=[],I=[],nt=it>=a?it:-1,dt=0,lt=ct;for(;u.pos>Y;)nt>=0&&u.id==nt&&u.size>=0?(u.end<=lt-r&&(S($,I,et,dt,u.end,lt,nt,pt,L),dt=$.length,lt=u.end),u.next()):ut>2500?b(et,Y,$,I):p(et,Y,$,I,nt,ut+1);if(nt>=0&&dt>0&&dt<$.length&&S($,I,et,dt,et,lt,nt,pt,L),$.reverse(),I.reverse(),nt>-1&&dt>0){let Qt=v(X,L);st=tp(X,$,I,0,$.length,0,ct-et,Qt,Qt)}else st=k(X,$,I,ct-et,pt-ct,L)}U.push(st),K.push(M)}function b(O,z,U,K){let tt=[],ut=0,it=-1;for(;u.pos>z;){let{id:et,start:ct,end:mt,size:pt}=u;if(pt>4)u.next();else{if(it>-1&&ct<it)break;it<0&&(it=mt-r),tt.push(et,ct,mt),ut++,u.next()}}if(ut){let et=new Uint16Array(ut*4),ct=tt[tt.length-2];for(let mt=tt.length-3,pt=0;mt>=0;mt-=3)et[pt++]=tt[mt],et[pt++]=tt[mt+1]-ct,et[pt++]=tt[mt+2]-ct,et[pt++]=pt;U.push(new Zs(et,tt[2]-ct,n)),K.push(ct-O)}}function v(O,z){return(U,K,tt)=>{let ut=0,it=U.length-1,et,ct;if(it>=0&&(et=U[it])instanceof Ae){if(!it&&et.type==O&&et.length==tt)return et;(ct=et.prop(Ot.lookAhead))&&(ut=K[it]+et.length+ct)}return k(O,U,K,tt,ut,z)}}function S(O,z,U,K,tt,ut,it,et,ct){let mt=[],pt=[];for(;O.length>K;)mt.push(O.pop()),pt.push(z.pop()+U-tt);O.push(k(n.types[it],mt,pt,ut-tt,et-ut,ct)),z.push(tt-U)}function k(O,z,U,K,tt,ut,it){if(ut){let et=[Ot.contextHash,ut];it=it?[et].concat(it):[et]}if(tt>25){let et=[Ot.lookAhead,tt];it=it?[et].concat(it):[et]}return new Ae(O,z,U,K,it)}function C(O,z){let U=u.fork(),K=0,tt=0,ut=0,it=U.end-r,et={size:0,start:0,skip:0};t:for(let ct=U.pos-O;U.pos>ct;){let mt=U.size;if(U.id==z&&mt>=0){et.size=K,et.start=tt,et.skip=ut,ut+=4,K+=4,U.next();continue}let pt=U.pos-mt;if(mt<0||pt<ct||U.start<it)break;let L=U.id>=a?4:0,X=U.start;for(U.next();U.pos>pt;){if(U.size<0)if(U.size==-3)L+=4;else break t;else U.id>=a&&(L+=4);U.next()}tt=X,K+=mt,ut+=L}return(z<0||K==O)&&(et.size=K,et.start=tt,et.skip=ut),et.size>4?et:void 0}function A(O,z,U){let{id:K,start:tt,end:ut,size:it}=u;if(u.next(),it>=0&&K<a){let et=U;if(it>4){let ct=u.pos-(it-4);for(;u.pos>ct;)U=A(O,z,U)}z[--U]=et,z[--U]=ut-O,z[--U]=tt-O,z[--U]=K}else it==-3?d=K:it==-4&&(m=K);return U}let B=[],j=[];for(;u.pos>0;)p(i.start||0,i.bufferStart||0,B,j,-1,0);let R=(t=i.length)!==null&&t!==void 0?t:B.length?j[0]+B[0].length:0;return new Ae(f[i.topID],B.reverse(),j.reverse(),R)}const C1=new WeakMap;function Nu(i,t){if(!i.isAnonymous||t instanceof Zs||t.type!=i)return 1;let e=C1.get(t);if(e==null){e=1;for(let n of t.children){if(n.type!=i||!(n instanceof Ae)){e=1;break}e+=Nu(i,n)}C1.set(t,e)}return e}function tp(i,t,e,n,r,o,a,u,f){let d=0;for(let S=n;S<r;S++)d+=Nu(i,t[S]);let m=Math.ceil(d*1.5/8),p=[],b=[];function v(S,k,C,A,B){for(let j=C;j<A;){let R=j,O=k[j],z=Nu(i,S[j]);for(j++;j<A;j++){let U=Nu(i,S[j]);if(z+U>=m)break;z+=U}if(j==R+1){if(z>m){let U=S[R];v(U.children,U.positions,0,U.children.length,k[R]+B);continue}p.push(S[R])}else{let U=k[j-1]+S[j-1].length-O;p.push(tp(i,S,k,R,j,O,U,null,f))}b.push(O+B-o)}}return v(t,e,n,r,0),(u||f)(p,b,a)}class Cr{constructor(t,e,n,r,o=!1,a=!1){this.from=t,this.to=e,this.tree=n,this.offset=r,this.open=(o?1:0)|(a?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(t,e=[],n=!1){let r=[new Cr(0,t.length,t,0,!1,n)];for(let o of e)o.to>t.length&&r.push(o);return r}static applyChanges(t,e,n=128){if(!e.length)return t;let r=[],o=1,a=t.length?t[0]:null;for(let u=0,f=0,d=0;;u++){let m=u<e.length?e[u]:null,p=m?m.fromA:1e9;if(p-f>=n)for(;a&&a.from<p;){let b=a;if(f>=b.from||p<=b.to||d){let v=Math.max(b.from,f)-d,S=Math.min(b.to,p)-d;b=v>=S?null:new Cr(v,S,b.tree,b.offset+d,u>0,!!m)}if(b&&r.push(b),a.to>p)break;a=o<t.length?t[o++]:null}if(!m)break;f=m.toA,d=m.toA-m.toB}return r}}class bw{startParse(t,e,n){return typeof t=="string"&&(t=new UO(t)),n=n?n.length?n.map(r=>new cg(r.from,r.to)):[new cg(0,0)]:[new cg(0,t.length)],this.createParse(t,e||[],n)}parse(t,e,n){let r=this.startParse(t,e,n);for(;;){let o=r.advance();if(o)return o}}}class UO{constructor(t){this.string=t}get length(){return this.string.length}chunk(t){return this.string.slice(t)}get lineChunks(){return!1}read(t,e){return this.string.slice(t,e)}}new Ot({perNode:!0});let qO=0;class Jn{constructor(t,e,n,r){this.name=t,this.set=e,this.base=n,this.modified=r,this.id=qO++}toString(){let{name:t}=this;for(let e of this.modified)e.name&&(t=`${e.name}(${t})`);return t}static define(t,e){let n=typeof t=="string"?t:"?";if(t instanceof Jn&&(e=t),e?.base)throw new Error("Can not derive from a modified tag");let r=new Jn(n,[],null,[]);if(r.set.push(r),e)for(let o of e.set)r.set.push(o);return r}static defineModifier(t){let e=new Ku(t);return n=>n.modified.indexOf(e)>-1?n:Ku.get(n.base||n,n.modified.concat(e).sort((r,o)=>r.id-o.id))}}let VO=0;class Ku{constructor(t){this.name=t,this.instances=[],this.id=VO++}static get(t,e){if(!e.length)return t;let n=e[0].instances.find(u=>u.base==t&&PO(e,u.modified));if(n)return n;let r=[],o=new Jn(t.name,r,t,e);for(let u of e)u.instances.push(o);let a=YO(e);for(let u of t.set)if(!u.modified.length)for(let f of a)r.push(Ku.get(u,f));return o}}function PO(i,t){return i.length==t.length&&i.every((e,n)=>e==t[n])}function YO(i){let t=[[]];for(let e=0;e<i.length;e++)for(let n=0,r=t.length;n<r;n++)t.push(t[n].concat(i[e]));return t.sort((e,n)=>n.length-e.length)}function vw(i){let t=Object.create(null);for(let e in i){let n=i[e];Array.isArray(n)||(n=[n]);for(let r of e.split(" "))if(r){let o=[],a=2,u=r;for(let p=0;;){if(u=="..."&&p>0&&p+3==r.length){a=1;break}let b=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(u);if(!b)throw new RangeError("Invalid path: "+r);if(o.push(b[0]=="*"?"":b[0][0]=='"'?JSON.parse(b[0]):b[0]),p+=b[0].length,p==r.length)break;let v=r[p++];if(p==r.length&&v=="!"){a=0;break}if(v!="/")throw new RangeError("Invalid path: "+r);u=r.slice(p)}let f=o.length-1,d=o[f];if(!d)throw new RangeError("Invalid path: "+r);let m=new Wu(n,a,f>0?o.slice(0,f):null);t[d]=m.sort(t[d])}}return xw.add(t)}const xw=new Ot;class Wu{constructor(t,e,n,r){this.tags=t,this.mode=e,this.context=n,this.next=r}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(t){return!t||t.depth<this.depth?(this.next=t,this):(t.next=this.sort(t.next),t)}get depth(){return this.context?this.context.length:0}}Wu.empty=new Wu([],2,null);function Sw(i,t){let e=Object.create(null);for(let o of i)if(!Array.isArray(o.tag))e[o.tag.id]=o.class;else for(let a of o.tag)e[a.id]=o.class;let{scope:n,all:r=null}=t||{};return{style:o=>{let a=r;for(let u of o)for(let f of u.set){let d=e[f.id];if(d){a=a?a+" "+d:d;break}}return a},scope:n}}function GO(i,t){let e=null;for(let n of i){let r=n.style(t);r&&(e=e?e+" "+r:r)}return e}function IO(i,t,e,n=0,r=i.length){let o=new XO(n,Array.isArray(t)?t:[t],e);o.highlightRange(i.cursor(),n,r,"",o.highlighters),o.flush(r)}class XO{constructor(t,e,n){this.at=t,this.highlighters=e,this.span=n,this.class=""}startSpan(t,e){e!=this.class&&(this.flush(t),t>this.at&&(this.at=t),this.class=e)}flush(t){t>this.at&&this.class&&this.span(this.at,t,this.class)}highlightRange(t,e,n,r,o){let{type:a,from:u,to:f}=t;if(u>=n||f<=e)return;a.isTop&&(o=this.highlighters.filter(v=>!v.scope||v.scope(a)));let d=r,m=QO(t)||Wu.empty,p=GO(o,m.tags);if(p&&(d&&(d+=" "),d+=p,m.mode==1&&(r+=(r?" ":"")+p)),this.startSpan(Math.max(e,u),d),m.opaque)return;let b=t.tree&&t.tree.prop(Ot.mounted);if(b&&b.overlay){let v=t.node.enter(b.overlay[0].from+u,1),S=this.highlighters.filter(C=>!C.scope||C.scope(b.tree.type)),k=t.firstChild();for(let C=0,A=u;;C++){let B=C<b.overlay.length?b.overlay[C]:null,j=B?B.from+u:f,R=Math.max(e,A),O=Math.min(n,j);if(R<O&&k)for(;t.from<O&&(this.highlightRange(t,R,O,r,o),this.startSpan(Math.min(O,t.to),d),!(t.to>=j||!t.nextSibling())););if(!B||j>n)break;A=B.to+u,A>e&&(this.highlightRange(v.cursor(),Math.max(e,B.from+u),Math.min(n,A),"",S),this.startSpan(Math.min(n,A),d))}k&&t.parent()}else if(t.firstChild()){b&&(r="");do if(!(t.to<=e)){if(t.from>=n)break;this.highlightRange(t,e,n,r,o),this.startSpan(Math.min(n,t.to),d)}while(t.nextSibling());t.parent()}}}function QO(i){let t=i.type.prop(xw);for(;t&&t.context&&!i.matchContext(t.context);)t=t.next;return t||null}const rt=Jn.define,hu=rt(),Us=rt(),A1=rt(Us),M1=rt(Us),qs=rt(),fu=rt(qs),ug=rt(qs),Ri=rt(),vr=rt(Ri),Oi=rt(),Ei=rt(),ym=rt(),Ko=rt(ym),du=rt(),G={comment:hu,lineComment:rt(hu),blockComment:rt(hu),docComment:rt(hu),name:Us,variableName:rt(Us),typeName:A1,tagName:rt(A1),propertyName:M1,attributeName:rt(M1),className:rt(Us),labelName:rt(Us),namespace:rt(Us),macroName:rt(Us),literal:qs,string:fu,docString:rt(fu),character:rt(fu),attributeValue:rt(fu),number:ug,integer:rt(ug),float:rt(ug),bool:rt(qs),regexp:rt(qs),escape:rt(qs),color:rt(qs),url:rt(qs),keyword:Oi,self:rt(Oi),null:rt(Oi),atom:rt(Oi),unit:rt(Oi),modifier:rt(Oi),operatorKeyword:rt(Oi),controlKeyword:rt(Oi),definitionKeyword:rt(Oi),moduleKeyword:rt(Oi),operator:Ei,derefOperator:rt(Ei),arithmeticOperator:rt(Ei),logicOperator:rt(Ei),bitwiseOperator:rt(Ei),compareOperator:rt(Ei),updateOperator:rt(Ei),definitionOperator:rt(Ei),typeOperator:rt(Ei),controlOperator:rt(Ei),punctuation:ym,separator:rt(ym),bracket:Ko,angleBracket:rt(Ko),squareBracket:rt(Ko),paren:rt(Ko),brace:rt(Ko),content:Ri,heading:vr,heading1:rt(vr),heading2:rt(vr),heading3:rt(vr),heading4:rt(vr),heading5:rt(vr),heading6:rt(vr),contentSeparator:rt(Ri),list:rt(Ri),quote:rt(Ri),emphasis:rt(Ri),strong:rt(Ri),link:rt(Ri),monospace:rt(Ri),strikethrough:rt(Ri),inserted:rt(),deleted:rt(),changed:rt(),invalid:rt(),meta:du,documentMeta:rt(du),annotation:rt(du),processingInstruction:rt(du),definition:Jn.defineModifier("definition"),constant:Jn.defineModifier("constant"),function:Jn.defineModifier("function"),standard:Jn.defineModifier("standard"),local:Jn.defineModifier("local"),special:Jn.defineModifier("special")};for(let i in G){let t=G[i];t instanceof Jn&&(t.name=i)}Sw([{tag:G.link,class:"tok-link"},{tag:G.heading,class:"tok-heading"},{tag:G.emphasis,class:"tok-emphasis"},{tag:G.strong,class:"tok-strong"},{tag:G.keyword,class:"tok-keyword"},{tag:G.atom,class:"tok-atom"},{tag:G.bool,class:"tok-bool"},{tag:G.url,class:"tok-url"},{tag:G.labelName,class:"tok-labelName"},{tag:G.inserted,class:"tok-inserted"},{tag:G.deleted,class:"tok-deleted"},{tag:G.literal,class:"tok-literal"},{tag:G.string,class:"tok-string"},{tag:G.number,class:"tok-number"},{tag:[G.regexp,G.escape,G.special(G.string)],class:"tok-string2"},{tag:G.variableName,class:"tok-variableName"},{tag:G.local(G.variableName),class:"tok-variableName tok-local"},{tag:G.definition(G.variableName),class:"tok-variableName tok-definition"},{tag:G.special(G.variableName),class:"tok-variableName2"},{tag:G.definition(G.propertyName),class:"tok-propertyName tok-definition"},{tag:G.typeName,class:"tok-typeName"},{tag:G.namespace,class:"tok-namespace"},{tag:G.className,class:"tok-className"},{tag:G.macroName,class:"tok-macroName"},{tag:G.propertyName,class:"tok-propertyName"},{tag:G.operator,class:"tok-operator"},{tag:G.comment,class:"tok-comment"},{tag:G.meta,class:"tok-meta"},{tag:G.invalid,class:"tok-invalid"},{tag:G.punctuation,class:"tok-punctuation"}]);var hg;const Al=new Ot;function KO(i){return ft.define({combine:i?t=>t.concat(i):void 0})}const WO=new Ot;class gi{constructor(t,e,n=[],r=""){this.data=t,this.name=r,Lt.prototype.hasOwnProperty("tree")||Object.defineProperty(Lt.prototype,"tree",{get(){return sn(this)}}),this.parser=e,this.extension=[$s.of(this),Lt.languageData.of((o,a,u)=>{let f=T1(o,a,u),d=f.type.prop(Al);if(!d)return[];let m=o.facet(d),p=f.type.prop(WO);if(p){let b=f.resolve(a-f.from,u);for(let v of p)if(v.test(b,o)){let S=o.facet(v.facet);return v.type=="replace"?S:S.concat(m)}}return m})].concat(n)}isActiveAt(t,e,n=-1){return T1(t,e,n).type.prop(Al)==this.data}findRegions(t){let e=t.facet($s);if(e?.data==this.data)return[{from:0,to:t.doc.length}];if(!e||!e.allowsNesting)return[];let n=[],r=(o,a)=>{if(o.prop(Al)==this.data){n.push({from:a,to:a+o.length});return}let u=o.prop(Ot.mounted);if(u){if(u.tree.prop(Al)==this.data){if(u.overlay)for(let f of u.overlay)n.push({from:f.from+a,to:f.to+a});else n.push({from:a,to:a+o.length});return}else if(u.overlay){let f=n.length;if(r(u.tree,u.overlay[0].from+a),n.length>f)return}}for(let f=0;f<o.children.length;f++){let d=o.children[f];d instanceof Ae&&r(d,o.positions[f]+a)}};return r(sn(t),0),n}get allowsNesting(){return!0}}gi.setState=Ct.define();function T1(i,t,e){let n=i.facet($s),r=sn(i).topNode;if(!n||n.allowsNesting)for(let o=r;o;o=o.enter(t,e,qe.ExcludeBuffers))o.type.isTop&&(r=o);return r}class Fu extends gi{constructor(t,e,n){super(t,e,[],n),this.parser=e}static define(t){let e=KO(t.languageData);return new Fu(e,t.parser.configure({props:[Al.add(n=>n.isTop?e:void 0)]}),t.name)}configure(t,e){return new Fu(this.data,this.parser.configure(t),e||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function sn(i){let t=i.field(gi.state,!1);return t?t.tree:Ae.empty}class FO{constructor(t){this.doc=t,this.cursorPos=0,this.string="",this.cursor=t.iter()}get length(){return this.doc.length}syncTo(t){return this.string=this.cursor.next(t-this.cursorPos).value,this.cursorPos=t+this.string.length,this.cursorPos-this.string.length}chunk(t){return this.syncTo(t),this.string}get lineChunks(){return!0}read(t,e){let n=this.cursorPos-this.string.length;return t<n||e>=this.cursorPos?this.doc.sliceString(t,e):this.string.slice(t-n,e-n)}}let Wo=null;class Zu{constructor(t,e,n=[],r,o,a,u,f){this.parser=t,this.state=e,this.fragments=n,this.tree=r,this.treeLen=o,this.viewport=a,this.skipped=u,this.scheduleOn=f,this.parse=null,this.tempSkipped=[]}static create(t,e,n){return new Zu(t,e,[],Ae.empty,0,n,[],null)}startParse(){return this.parser.startParse(new FO(this.state.doc),this.fragments)}work(t,e){return e!=null&&e>=this.state.doc.length&&(e=void 0),this.tree!=Ae.empty&&this.isDone(e??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var n;if(typeof t=="number"){let r=Date.now()+t;t=()=>Date.now()>r}for(this.parse||(this.parse=this.startParse()),e!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&e<this.state.doc.length&&this.parse.stopAt(e);;){let r=this.parse.advance();if(r)if(this.fragments=this.withoutTempSkipped(Cr.addTree(r,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(n=this.parse.stoppedAt)!==null&&n!==void 0?n:this.state.doc.length,this.tree=r,this.parse=null,this.treeLen<(e??this.state.doc.length))this.parse=this.startParse();else return!0;if(t())return!1}})}takeTree(){let t,e;this.parse&&(t=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&this.parse.stopAt(t),this.withContext(()=>{for(;!(e=this.parse.advance()););}),this.treeLen=t,this.tree=e,this.fragments=this.withoutTempSkipped(Cr.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(t){let e=Wo;Wo=this;try{return t()}finally{Wo=e}}withoutTempSkipped(t){for(let e;e=this.tempSkipped.pop();)t=D1(t,e.from,e.to);return t}changes(t,e){let{fragments:n,tree:r,treeLen:o,viewport:a,skipped:u}=this;if(this.takeTree(),!t.empty){let f=[];if(t.iterChangedRanges((d,m,p,b)=>f.push({fromA:d,toA:m,fromB:p,toB:b})),n=Cr.applyChanges(n,f),r=Ae.empty,o=0,a={from:t.mapPos(a.from,-1),to:t.mapPos(a.to,1)},this.skipped.length){u=[];for(let d of this.skipped){let m=t.mapPos(d.from,1),p=t.mapPos(d.to,-1);m<p&&u.push({from:m,to:p})}}}return new Zu(this.parser,e,n,r,o,a,u,this.scheduleOn)}updateViewport(t){if(this.viewport.from==t.from&&this.viewport.to==t.to)return!1;this.viewport=t;let e=this.skipped.length;for(let n=0;n<this.skipped.length;n++){let{from:r,to:o}=this.skipped[n];r<t.to&&o>t.from&&(this.fragments=D1(this.fragments,r,o),this.skipped.splice(n--,1))}return this.skipped.length>=e?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(t,e){this.skipped.push({from:t,to:e})}static getSkippingParser(t){return new class extends bw{createParse(e,n,r){let o=r[0].from,a=r[r.length-1].to;return{parsedPos:o,advance(){let f=Wo;if(f){for(let d of r)f.tempSkipped.push(d);t&&(f.scheduleOn=f.scheduleOn?Promise.all([f.scheduleOn,t]):t)}return this.parsedPos=a,new Ae(kn.none,[],[],a-o)},stoppedAt:null,stopAt(){}}}}}isDone(t){t=Math.min(t,this.state.doc.length);let e=this.fragments;return this.treeLen>=t&&e.length&&e[0].from==0&&e[0].to>=t}static get(){return Wo}}function D1(i,t,e){return Cr.applyChanges(i,[{fromA:t,toA:e,fromB:t,toB:e}])}class Ul{constructor(t){this.context=t,this.tree=t.tree}apply(t){if(!t.docChanged&&this.tree==this.context.tree)return this;let e=this.context.changes(t.changes,t.state),n=this.context.treeLen==t.startState.doc.length?void 0:Math.max(t.changes.mapPos(this.context.treeLen),e.viewport.to);return e.work(20,n)||e.takeTree(),new Ul(e)}static init(t){let e=Math.min(3e3,t.doc.length),n=Zu.create(t.facet($s).parser,t,{from:0,to:e});return n.work(20,e)||n.takeTree(),new Ul(n)}}gi.state=Ze.define({create:Ul.init,update(i,t){for(let e of t.effects)if(e.is(gi.setState))return e.value;return t.startState.facet($s)!=t.state.facet($s)?Ul.init(t.state):i.apply(t)}});let ww=i=>{let t=setTimeout(()=>i(),500);return()=>clearTimeout(t)};typeof requestIdleCallback<"u"&&(ww=i=>{let t=-1,e=setTimeout(()=>{t=requestIdleCallback(i,{timeout:400})},100);return()=>t<0?clearTimeout(e):cancelIdleCallback(t)});const fg=typeof navigator<"u"&&(!((hg=navigator.scheduling)===null||hg===void 0)&&hg.isInputPending)?()=>navigator.scheduling.isInputPending():null,ZO=ve.fromClass(class{constructor(t){this.view=t,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(t){let e=this.view.state.field(gi.state).context;(e.updateViewport(t.view.viewport)||this.view.viewport.to>e.treeLen)&&this.scheduleWork(),(t.docChanged||t.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(e)}scheduleWork(){if(this.working)return;let{state:t}=this.view,e=t.field(gi.state);(e.tree!=e.context.tree||!e.context.isDone(t.doc.length))&&(this.working=ww(this.work))}work(t){this.working=null;let e=Date.now();if(this.chunkEnd<e&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=e+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:n,viewport:{to:r}}=this.view,o=n.field(gi.state);if(o.tree==o.context.tree&&o.context.isDone(r+1e5))return;let a=Date.now()+Math.min(this.chunkBudget,100,t&&!fg?Math.max(25,t.timeRemaining()-5):1e9),u=o.context.treeLen<r&&n.doc.length>r+1e3,f=o.context.work(()=>fg&&fg()||Date.now()>a,r+(u?0:1e5));this.chunkBudget-=Date.now()-e,(f||this.chunkBudget<=0)&&(o.context.takeTree(),this.view.dispatch({effects:gi.setState.of(new Ul(o.context))})),this.chunkBudget>0&&!(f&&!u)&&this.scheduleWork(),this.checkAsyncSchedule(o.context)}checkAsyncSchedule(t){t.scheduleOn&&(this.workScheduled++,t.scheduleOn.then(()=>this.scheduleWork()).catch(e=>Sn(this.view.state,e)).then(()=>this.workScheduled--),t.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),$s=ft.define({combine(i){return i.length?i[0]:null},enables:i=>[gi.state,ZO,at.contentAttributes.compute([i],t=>{let e=t.facet(i);return e&&e.name?{"data-language":e.name}:{}})]});class $O{constructor(t,e=[]){this.language=t,this.support=e,this.extension=[t,e]}}const JO=ft.define(),Ah=ft.define({combine:i=>{if(!i.length)return"  ";let t=i[0];if(!t||/\S/.test(t)||Array.from(t).some(e=>e!=t[0]))throw new Error("Invalid indent unit: "+JSON.stringify(i[0]));return t}});function $u(i){let t=i.facet(Ah);return t.charCodeAt(0)==9?i.tabSize*t.length:t.length}function va(i,t){let e="",n=i.tabSize,r=i.facet(Ah)[0];if(r=="	"){for(;t>=n;)e+="	",t-=n;r=" "}for(let o=0;o<t;o++)e+=r;return e}function ep(i,t){i instanceof Lt&&(i=new Mh(i));for(let n of i.state.facet(JO)){let r=n(i,t);if(r!==void 0)return r}let e=sn(i.state);return e.length>=t?tE(i,e,t):null}class Mh{constructor(t,e={}){this.state=t,this.options=e,this.unit=$u(t)}lineAt(t,e=1){let n=this.state.doc.lineAt(t),{simulateBreak:r,simulateDoubleBreak:o}=this.options;return r!=null&&r>=n.from&&r<=n.to?o&&r==t?{text:"",from:t}:(e<0?r<t:r<=t)?{text:n.text.slice(r-n.from),from:r}:{text:n.text.slice(0,r-n.from),from:n.from}:n}textAfterPos(t,e=1){if(this.options.simulateDoubleBreak&&t==this.options.simulateBreak)return"";let{text:n,from:r}=this.lineAt(t,e);return n.slice(t-r,Math.min(n.length,t+100-r))}column(t,e=1){let{text:n,from:r}=this.lineAt(t,e),o=this.countColumn(n,t-r),a=this.options.overrideIndentation?this.options.overrideIndentation(r):-1;return a>-1&&(o+=a-this.countColumn(n,n.search(/\S|$/))),o}countColumn(t,e=t.length){return Pl(t,this.state.tabSize,e)}lineIndent(t,e=1){let{text:n,from:r}=this.lineAt(t,e),o=this.options.overrideIndentation;if(o){let a=o(r);if(a>-1)return a}return this.countColumn(n,n.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const kw=new Ot;function tE(i,t,e){let n=t.resolveStack(e),r=t.resolveInner(e,-1).resolve(e,0).enterUnfinishedNodesBefore(e);if(r!=n.node){let o=[];for(let a=r;a&&!(a.from<n.node.from||a.to>n.node.to||a.from==n.node.from&&a.type==n.node.type);a=a.parent)o.push(a);for(let a=o.length-1;a>=0;a--)n={node:o[a],next:n}}return Cw(n,i,e)}function Cw(i,t,e){for(let n=i;n;n=n.next){let r=nE(n.node);if(r)return r(np.create(t,e,n))}return 0}function eE(i){return i.pos==i.options.simulateBreak&&i.options.simulateDoubleBreak}function nE(i){let t=i.type.prop(kw);if(t)return t;let e=i.firstChild,n;if(e&&(n=e.type.prop(Ot.closedBy))){let r=i.lastChild,o=r&&n.indexOf(r.name)>-1;return a=>lE(a,!0,1,void 0,o&&!eE(a)?r.from:void 0)}return i.parent==null?iE:null}function iE(){return 0}class np extends Mh{constructor(t,e,n){super(t.state,t.options),this.base=t,this.pos=e,this.context=n}get node(){return this.context.node}static create(t,e,n){return new np(t,e,n)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(t){let e=this.state.doc.lineAt(t.from);for(;;){let n=t.resolve(e.from);for(;n.parent&&n.parent.from==n.from;)n=n.parent;if(sE(n,t))break;e=this.state.doc.lineAt(n.from)}return this.lineIndent(e.from)}continue(){return Cw(this.context.next,this.base,this.pos)}}function sE(i,t){for(let e=t;e;e=e.parent)if(i==e)return!0;return!1}function rE(i){let t=i.node,e=t.childAfter(t.from),n=t.lastChild;if(!e)return null;let r=i.options.simulateBreak,o=i.state.doc.lineAt(e.from),a=r==null||r<=o.from?o.to:Math.min(o.to,r);for(let u=e.to;;){let f=t.childAfter(u);if(!f||f==n)return null;if(!f.type.isSkipped){if(f.from>=a)return null;let d=/^ */.exec(o.text.slice(e.to-o.from))[0].length;return{from:e.from,to:e.to+d}}u=f.to}}function lE(i,t,e,n,r){let o=i.textAfter,a=o.match(/^\s*/)[0].length,u=n&&o.slice(a,a+n.length)==n||r==i.pos+a,f=rE(i);return f?u?i.column(f.from):i.column(f.to):i.baseIndent+(u?0:i.unit*e)}function O1({except:i,units:t=1}={}){return e=>{let n=i&&i.test(e.textAfter);return e.baseIndent+(n?0:t*e.unit)}}const oE=200;function aE(){return Lt.transactionFilter.of(i=>{if(!i.docChanged||!i.isUserEvent("input.type")&&!i.isUserEvent("input.complete"))return i;let t=i.startState.languageDataAt("indentOnInput",i.startState.selection.main.head);if(!t.length)return i;let e=i.newDoc,{head:n}=i.newSelection.main,r=e.lineAt(n);if(n>r.from+oE)return i;let o=e.sliceString(r.from,n);if(!t.some(d=>d.test(o)))return i;let{state:a}=i,u=-1,f=[];for(let{head:d}of a.selection.ranges){let m=a.doc.lineAt(d);if(m.from==u)continue;u=m.from;let p=ep(a,m.from);if(p==null)continue;let b=/^\s*/.exec(m.text)[0],v=va(a,p);b!=v&&f.push({from:m.from,to:m.from+b.length,insert:v})}return f.length?[i,{changes:f,sequential:!0}]:i})}const cE=ft.define(),Aw=new Ot;function uE(i){let t=i.firstChild,e=i.lastChild;return t&&t.to<e.from?{from:t.to,to:e.type.isError?i.to:e.from}:null}function hE(i,t,e){let n=sn(i);if(n.length<e)return null;let r=n.resolveStack(e,1),o=null;for(let a=r;a;a=a.next){let u=a.node;if(u.to<=e||u.from>e)continue;if(o&&u.from<t)break;let f=u.type.prop(Aw);if(f&&(u.to<n.length-50||n.length==i.doc.length||!fE(u))){let d=f(u,i);d&&d.from<=e&&d.from>=t&&d.to>e&&(o=d)}}return o}function fE(i){let t=i.lastChild;return t&&t.to==i.to&&t.type.isError}function Ju(i,t,e){for(let n of i.facet(cE)){let r=n(i,t,e);if(r)return r}return hE(i,t,e)}function Mw(i,t){let e=t.mapPos(i.from,1),n=t.mapPos(i.to,-1);return e>=n?void 0:{from:e,to:n}}const Th=Ct.define({map:Mw}),Na=Ct.define({map:Mw});function Tw(i){let t=[];for(let{head:e}of i.state.selection.ranges)t.some(n=>n.from<=e&&n.to>=e)||t.push(i.lineBlockAt(e));return t}const Er=Ze.define({create(){return xt.none},update(i,t){t.isUserEvent("delete")&&t.changes.iterChangedRanges((e,n)=>i=E1(i,e,n)),i=i.map(t.changes);for(let e of t.effects)if(e.is(Th)&&!dE(i,e.value.from,e.value.to)){let{preparePlaceholder:n}=t.state.facet(Ew),r=n?xt.replace({widget:new xE(n(t.state,e.value))}):R1;i=i.update({add:[r.range(e.value.from,e.value.to)]})}else e.is(Na)&&(i=i.update({filter:(n,r)=>e.value.from!=n||e.value.to!=r,filterFrom:e.value.from,filterTo:e.value.to}));return t.selection&&(i=E1(i,t.selection.main.head)),i},provide:i=>at.decorations.from(i),toJSON(i,t){let e=[];return i.between(0,t.doc.length,(n,r)=>{e.push(n,r)}),e},fromJSON(i){if(!Array.isArray(i)||i.length%2)throw new RangeError("Invalid JSON for fold state");let t=[];for(let e=0;e<i.length;){let n=i[e++],r=i[e++];if(typeof n!="number"||typeof r!="number")throw new RangeError("Invalid JSON for fold state");t.push(R1.range(n,r))}return xt.set(t,!0)}});function E1(i,t,e=t){let n=!1;return i.between(t,e,(r,o)=>{r<e&&o>t&&(n=!0)}),n?i.update({filterFrom:t,filterTo:e,filter:(r,o)=>r>=e||o<=t}):i}function th(i,t,e){var n;let r=null;return(n=i.field(Er,!1))===null||n===void 0||n.between(t,e,(o,a)=>{(!r||r.from>o)&&(r={from:o,to:a})}),r}function dE(i,t,e){let n=!1;return i.between(t,t,(r,o)=>{r==t&&o==e&&(n=!0)}),n}function Dw(i,t){return i.field(Er,!1)?t:t.concat(Ct.appendConfig.of(Rw()))}const gE=i=>{for(let t of Tw(i)){let e=Ju(i.state,t.from,t.to);if(e)return i.dispatch({effects:Dw(i.state,[Th.of(e),Ow(i,e)])}),!0}return!1},mE=i=>{if(!i.state.field(Er,!1))return!1;let t=[];for(let e of Tw(i)){let n=th(i.state,e.from,e.to);n&&t.push(Na.of(n),Ow(i,n,!1))}return t.length&&i.dispatch({effects:t}),t.length>0};function Ow(i,t,e=!0){let n=i.state.doc.lineAt(t.from).number,r=i.state.doc.lineAt(t.to).number;return at.announce.of(`${i.state.phrase(e?"Folded lines":"Unfolded lines")} ${n} ${i.state.phrase("to")} ${r}.`)}const pE=i=>{let{state:t}=i,e=[];for(let n=0;n<t.doc.length;){let r=i.lineBlockAt(n),o=Ju(t,r.from,r.to);o&&e.push(Th.of(o)),n=(o?i.lineBlockAt(o.to):r).to+1}return e.length&&i.dispatch({effects:Dw(i.state,e)}),!!e.length},yE=i=>{let t=i.state.field(Er,!1);if(!t||!t.size)return!1;let e=[];return t.between(0,i.state.doc.length,(n,r)=>{e.push(Na.of({from:n,to:r}))}),i.dispatch({effects:e}),!0},bE=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:gE},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:mE},{key:"Ctrl-Alt-[",run:pE},{key:"Ctrl-Alt-]",run:yE}],vE={placeholderDOM:null,preparePlaceholder:null,placeholderText:"…"},Ew=ft.define({combine(i){return Vi(i,vE)}});function Rw(i){return[Er,kE]}function Nw(i,t){let{state:e}=i,n=e.facet(Ew),r=a=>{let u=i.lineBlockAt(i.posAtDOM(a.target)),f=th(i.state,u.from,u.to);f&&i.dispatch({effects:Na.of(f)}),a.preventDefault()};if(n.placeholderDOM)return n.placeholderDOM(i,r,t);let o=document.createElement("span");return o.textContent=n.placeholderText,o.setAttribute("aria-label",e.phrase("folded code")),o.title=e.phrase("unfold"),o.className="cm-foldPlaceholder",o.onclick=r,o}const R1=xt.replace({widget:new class extends fs{toDOM(i){return Nw(i,null)}}});class xE extends fs{constructor(t){super(),this.value=t}eq(t){return this.value==t.value}toDOM(t){return Nw(t,this.value)}}const SE={openText:"⌄",closedText:"›",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class dg extends hs{constructor(t,e){super(),this.config=t,this.open=e}eq(t){return this.config==t.config&&this.open==t.open}toDOM(t){if(this.config.markerDOM)return this.config.markerDOM(this.open);let e=document.createElement("span");return e.textContent=this.open?this.config.openText:this.config.closedText,e.title=t.state.phrase(this.open?"Fold line":"Unfold line"),e}}function wE(i={}){let t={...SE,...i},e=new dg(t,!0),n=new dg(t,!1),r=ve.fromClass(class{constructor(a){this.from=a.viewport.from,this.markers=this.buildMarkers(a)}update(a){(a.docChanged||a.viewportChanged||a.startState.facet($s)!=a.state.facet($s)||a.startState.field(Er,!1)!=a.state.field(Er,!1)||sn(a.startState)!=sn(a.state)||t.foldingChanged(a))&&(this.markers=this.buildMarkers(a.view))}buildMarkers(a){let u=new cs;for(let f of a.viewportLineBlocks){let d=th(a.state,f.from,f.to)?n:Ju(a.state,f.from,f.to)?e:null;d&&u.add(f.from,f.from,d)}return u.finish()}}),{domEventHandlers:o}=t;return[r,kO({class:"cm-foldGutter",markers(a){var u;return((u=a.plugin(r))===null||u===void 0?void 0:u.markers)||jt.empty},initialSpacer(){return new dg(t,!1)},domEventHandlers:{...o,click:(a,u,f)=>{if(o.click&&o.click(a,u,f))return!0;let d=th(a.state,u.from,u.to);if(d)return a.dispatch({effects:Na.of(d)}),!0;let m=Ju(a.state,u.from,u.to);return m?(a.dispatch({effects:Th.of(m)}),!0):!1}}}),Rw()]}const kE=at.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class Ba{constructor(t,e){this.specs=t;let n;function r(u){let f=Ks.newName();return(n||(n=Object.create(null)))["."+f]=u,f}const o=typeof e.all=="string"?e.all:e.all?r(e.all):void 0,a=e.scope;this.scope=a instanceof gi?u=>u.prop(Al)==a.data:a?u=>u==a:void 0,this.style=Sw(t.map(u=>({tag:u.tag,class:u.class||r(Object.assign({},u,{tag:null}))})),{all:o}).style,this.module=n?new Ks(n):null,this.themeType=e.themeType}static define(t,e){return new Ba(t,e||{})}}const bm=ft.define(),Bw=ft.define({combine(i){return i.length?[i[0]]:null}});function gg(i){let t=i.facet(bm);return t.length?t:i.facet(Bw)}function Lw(i,t){let e=[AE],n;return i instanceof Ba&&(i.module&&e.push(at.styleModule.of(i.module)),n=i.themeType),t?.fallback?e.push(Bw.of(i)):n?e.push(bm.computeN([at.darkTheme],r=>r.facet(at.darkTheme)==(n=="dark")?[i]:[])):e.push(bm.of(i)),e}class CE{constructor(t){this.markCache=Object.create(null),this.tree=sn(t.state),this.decorations=this.buildDeco(t,gg(t.state)),this.decoratedTo=t.viewport.to}update(t){let e=sn(t.state),n=gg(t.state),r=n!=gg(t.startState),{viewport:o}=t.view,a=t.changes.mapPos(this.decoratedTo,1);e.length<o.to&&!r&&e.type==this.tree.type&&a>=o.to?(this.decorations=this.decorations.map(t.changes),this.decoratedTo=a):(e!=this.tree||t.viewportChanged||r)&&(this.tree=e,this.decorations=this.buildDeco(t.view,n),this.decoratedTo=o.to)}buildDeco(t,e){if(!e||!this.tree.length)return xt.none;let n=new cs;for(let{from:r,to:o}of t.visibleRanges)IO(this.tree,e,(a,u,f)=>{n.add(a,u,this.markCache[f]||(this.markCache[f]=xt.mark({class:f})))},r,o);return n.finish()}}const AE=Nr.high(ve.fromClass(CE,{decorations:i=>i.decorations})),ME=Ba.define([{tag:G.meta,color:"#404740"},{tag:G.link,textDecoration:"underline"},{tag:G.heading,textDecoration:"underline",fontWeight:"bold"},{tag:G.emphasis,fontStyle:"italic"},{tag:G.strong,fontWeight:"bold"},{tag:G.strikethrough,textDecoration:"line-through"},{tag:G.keyword,color:"#708"},{tag:[G.atom,G.bool,G.url,G.contentSeparator,G.labelName],color:"#219"},{tag:[G.literal,G.inserted],color:"#164"},{tag:[G.string,G.deleted],color:"#a11"},{tag:[G.regexp,G.escape,G.special(G.string)],color:"#e40"},{tag:G.definition(G.variableName),color:"#00f"},{tag:G.local(G.variableName),color:"#30a"},{tag:[G.typeName,G.namespace],color:"#085"},{tag:G.className,color:"#167"},{tag:[G.special(G.variableName),G.macroName],color:"#256"},{tag:G.definition(G.propertyName),color:"#00c"},{tag:G.comment,color:"#940"},{tag:G.invalid,color:"#f00"}]),TE=at.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),zw=1e4,Hw="()[]{}",jw=ft.define({combine(i){return Vi(i,{afterCursor:!0,brackets:Hw,maxScanDistance:zw,renderMatch:EE})}}),DE=xt.mark({class:"cm-matchingBracket"}),OE=xt.mark({class:"cm-nonmatchingBracket"});function EE(i){let t=[],e=i.matched?DE:OE;return t.push(e.range(i.start.from,i.start.to)),i.end&&t.push(e.range(i.end.from,i.end.to)),t}const RE=Ze.define({create(){return xt.none},update(i,t){if(!t.docChanged&&!t.selection)return i;let e=[],n=t.state.facet(jw);for(let r of t.state.selection.ranges){if(!r.empty)continue;let o=zi(t.state,r.head,-1,n)||r.head>0&&zi(t.state,r.head-1,1,n)||n.afterCursor&&(zi(t.state,r.head,1,n)||r.head<t.state.doc.length&&zi(t.state,r.head+1,-1,n));o&&(e=e.concat(n.renderMatch(o,t.state)))}return xt.set(e,!0)},provide:i=>at.decorations.from(i)}),NE=[RE,TE];function BE(i={}){return[jw.of(i),NE]}const LE=new Ot;function vm(i,t,e){let n=i.prop(t<0?Ot.openedBy:Ot.closedBy);if(n)return n;if(i.name.length==1){let r=e.indexOf(i.name);if(r>-1&&r%2==(t<0?1:0))return[e[r+t]]}return null}function xm(i){let t=i.type.prop(LE);return t?t(i.node):i}function zi(i,t,e,n={}){let r=n.maxScanDistance||zw,o=n.brackets||Hw,a=sn(i),u=a.resolveInner(t,e);for(let f=u;f;f=f.parent){let d=vm(f.type,e,o);if(d&&f.from<f.to){let m=xm(f);if(m&&(e>0?t>=m.from&&t<m.to:t>m.from&&t<=m.to))return zE(i,t,e,f,m,d,o)}}return HE(i,t,e,a,u.type,r,o)}function zE(i,t,e,n,r,o,a){let u=n.parent,f={from:r.from,to:r.to},d=0,m=u?.cursor();if(m&&(e<0?m.childBefore(n.from):m.childAfter(n.to)))do if(e<0?m.to<=n.from:m.from>=n.to){if(d==0&&o.indexOf(m.type.name)>-1&&m.from<m.to){let p=xm(m);return{start:f,end:p?{from:p.from,to:p.to}:void 0,matched:!0}}else if(vm(m.type,e,a))d++;else if(vm(m.type,-e,a)){if(d==0){let p=xm(m);return{start:f,end:p&&p.from<p.to?{from:p.from,to:p.to}:void 0,matched:!1}}d--}}while(e<0?m.prevSibling():m.nextSibling());return{start:f,matched:!1}}function HE(i,t,e,n,r,o,a){let u=e<0?i.sliceDoc(t-1,t):i.sliceDoc(t,t+1),f=a.indexOf(u);if(f<0||f%2==0!=e>0)return null;let d={from:e<0?t-1:t,to:e>0?t+1:t},m=i.doc.iterRange(t,e>0?i.doc.length:0),p=0;for(let b=0;!m.next().done&&b<=o;){let v=m.value;e<0&&(b+=v.length);let S=t+b*e;for(let k=e>0?0:v.length-1,C=e>0?v.length:-1;k!=C;k+=e){let A=a.indexOf(v[k]);if(!(A<0||n.resolveInner(S+k,1).type!=r))if(A%2==0==e>0)p++;else{if(p==1)return{start:d,end:{from:S+k,to:S+k+1},matched:A>>1==f>>1};p--}}e>0&&(b+=v.length)}return m.done?{start:d,matched:!1}:null}const jE=Object.create(null),N1=[kn.none],B1=[],L1=Object.create(null),_E=Object.create(null);for(let[i,t]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])_E[i]=UE(jE,t);function mg(i,t){B1.indexOf(i)>-1||(B1.push(i),console.warn(t))}function UE(i,t){let e=[];for(let u of t.split(" ")){let f=[];for(let d of u.split(".")){let m=i[d]||G[d];m?typeof m=="function"?f.length?f=f.map(m):mg(d,`Modifier ${d} used at start of tag`):f.length?mg(d,`Tag ${d} used as modifier`):f=Array.isArray(m)?m:[m]:mg(d,`Unknown highlighting tag ${d}`)}for(let d of f)e.push(d)}if(!e.length)return 0;let n=t.replace(/ /g,"_"),r=n+" "+e.map(u=>u.id),o=L1[r];if(o)return o.id;let a=L1[r]=kn.define({id:N1.length,name:n,props:[vw({[n]:e})]});return N1.push(a),a.id}oe.RTL,oe.LTR;const qE=i=>{let{state:t}=i,e=t.doc.lineAt(t.selection.main.from),n=sp(i.state,e.from);return n.line?VE(i):n.block?YE(i):!1};function ip(i,t){return({state:e,dispatch:n})=>{if(e.readOnly)return!1;let r=i(t,e);return r?(n(e.update(r)),!0):!1}}const VE=ip(XE,0),PE=ip(_w,0),YE=ip((i,t)=>_w(i,t,IE(t)),0);function sp(i,t){let e=i.languageDataAt("commentTokens",t,1);return e.length?e[0]:{}}const Fo=50;function GE(i,{open:t,close:e},n,r){let o=i.sliceDoc(n-Fo,n),a=i.sliceDoc(r,r+Fo),u=/\s*$/.exec(o)[0].length,f=/^\s*/.exec(a)[0].length,d=o.length-u;if(o.slice(d-t.length,d)==t&&a.slice(f,f+e.length)==e)return{open:{pos:n-u,margin:u&&1},close:{pos:r+f,margin:f&&1}};let m,p;r-n<=2*Fo?m=p=i.sliceDoc(n,r):(m=i.sliceDoc(n,n+Fo),p=i.sliceDoc(r-Fo,r));let b=/^\s*/.exec(m)[0].length,v=/\s*$/.exec(p)[0].length,S=p.length-v-e.length;return m.slice(b,b+t.length)==t&&p.slice(S,S+e.length)==e?{open:{pos:n+b+t.length,margin:/\s/.test(m.charAt(b+t.length))?1:0},close:{pos:r-v-e.length,margin:/\s/.test(p.charAt(S-1))?1:0}}:null}function IE(i){let t=[];for(let e of i.selection.ranges){let n=i.doc.lineAt(e.from),r=e.to<=n.to?n:i.doc.lineAt(e.to);r.from>n.from&&r.from==e.to&&(r=e.to==n.to+1?n:i.doc.lineAt(e.to-1));let o=t.length-1;o>=0&&t[o].to>n.from?t[o].to=r.to:t.push({from:n.from+/^\s*/.exec(n.text)[0].length,to:r.to})}return t}function _w(i,t,e=t.selection.ranges){let n=e.map(o=>sp(t,o.from).block);if(!n.every(o=>o))return null;let r=e.map((o,a)=>GE(t,n[a],o.from,o.to));if(i!=2&&!r.every(o=>o))return{changes:t.changes(e.map((o,a)=>r[a]?[]:[{from:o.from,insert:n[a].open+" "},{from:o.to,insert:" "+n[a].close}]))};if(i!=1&&r.some(o=>o)){let o=[];for(let a=0,u;a<r.length;a++)if(u=r[a]){let f=n[a],{open:d,close:m}=u;o.push({from:d.pos-f.open.length,to:d.pos+d.margin},{from:m.pos-m.margin,to:m.pos+f.close.length})}return{changes:o}}return null}function XE(i,t,e=t.selection.ranges){let n=[],r=-1;for(let{from:o,to:a}of e){let u=n.length,f=1e9,d=sp(t,o).line;if(d){for(let m=o;m<=a;){let p=t.doc.lineAt(m);if(p.from>r&&(o==a||a>p.from)){r=p.from;let b=/^\s*/.exec(p.text)[0].length,v=b==p.length,S=p.text.slice(b,b+d.length)==d?b:-1;b<p.text.length&&b<f&&(f=b),n.push({line:p,comment:S,token:d,indent:b,empty:v,single:!1})}m=p.to+1}if(f<1e9)for(let m=u;m<n.length;m++)n[m].indent<n[m].line.text.length&&(n[m].indent=f);n.length==u+1&&(n[u].single=!0)}}if(i!=2&&n.some(o=>o.comment<0&&(!o.empty||o.single))){let o=[];for(let{line:u,token:f,indent:d,empty:m,single:p}of n)(p||!m)&&o.push({from:u.from+d,insert:f+" "});let a=t.changes(o);return{changes:a,selection:t.selection.map(a,1)}}else if(i!=1&&n.some(o=>o.comment>=0)){let o=[];for(let{line:a,comment:u,token:f}of n)if(u>=0){let d=a.from+u,m=d+f.length;a.text[m-a.from]==" "&&m++,o.push({from:d,to:m})}return{changes:o}}return null}const Sm=qi.define(),QE=qi.define(),KE=ft.define(),Uw=ft.define({combine(i){return Vi(i,{minDepth:100,newGroupDelay:500,joinToEvent:(t,e)=>e},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(t,e)=>(n,r)=>t(n,r)||e(n,r)})}}),qw=Ze.define({create(){return Hi.empty},update(i,t){let e=t.state.facet(Uw),n=t.annotation(Sm);if(n){let f=wn.fromTransaction(t,n.selection),d=n.side,m=d==0?i.undone:i.done;return f?m=eh(m,m.length,e.minDepth,f):m=Yw(m,t.startState.selection),new Hi(d==0?n.rest:m,d==0?m:n.rest)}let r=t.annotation(QE);if((r=="full"||r=="before")&&(i=i.isolate()),t.annotation(Re.addToHistory)===!1)return t.changes.empty?i:i.addMapping(t.changes.desc);let o=wn.fromTransaction(t),a=t.annotation(Re.time),u=t.annotation(Re.userEvent);return o?i=i.addChanges(o,a,u,e,t):t.selection&&(i=i.addSelection(t.startState.selection,a,u,e.newGroupDelay)),(r=="full"||r=="after")&&(i=i.isolate()),i},toJSON(i){return{done:i.done.map(t=>t.toJSON()),undone:i.undone.map(t=>t.toJSON())}},fromJSON(i){return new Hi(i.done.map(wn.fromJSON),i.undone.map(wn.fromJSON))}});function WE(i={}){return[qw,Uw.of(i),at.domEventHandlers({beforeinput(t,e){let n=t.inputType=="historyUndo"?Vw:t.inputType=="historyRedo"?wm:null;return n?(t.preventDefault(),n(e)):!1}})]}function Dh(i,t){return function({state:e,dispatch:n}){if(!t&&e.readOnly)return!1;let r=e.field(qw,!1);if(!r)return!1;let o=r.pop(i,e,t);return o?(n(o),!0):!1}}const Vw=Dh(0,!1),wm=Dh(1,!1),FE=Dh(0,!0),ZE=Dh(1,!0);class wn{constructor(t,e,n,r,o){this.changes=t,this.effects=e,this.mapped=n,this.startSelection=r,this.selectionsAfter=o}setSelAfter(t){return new wn(this.changes,this.effects,this.mapped,this.startSelection,t)}toJSON(){var t,e,n;return{changes:(t=this.changes)===null||t===void 0?void 0:t.toJSON(),mapped:(e=this.mapped)===null||e===void 0?void 0:e.toJSON(),startSelection:(n=this.startSelection)===null||n===void 0?void 0:n.toJSON(),selectionsAfter:this.selectionsAfter.map(r=>r.toJSON())}}static fromJSON(t){return new wn(t.changes&&Oe.fromJSON(t.changes),[],t.mapped&&ji.fromJSON(t.mapped),t.startSelection&&Z.fromJSON(t.startSelection),t.selectionsAfter.map(Z.fromJSON))}static fromTransaction(t,e){let n=ti;for(let r of t.startState.facet(KE)){let o=r(t);o.length&&(n=n.concat(o))}return!n.length&&t.changes.empty?null:new wn(t.changes.invert(t.startState.doc),n,void 0,e||t.startState.selection,ti)}static selection(t){return new wn(void 0,ti,void 0,void 0,t)}}function eh(i,t,e,n){let r=t+1>e+20?t-e-1:0,o=i.slice(r,t);return o.push(n),o}function $E(i,t){let e=[],n=!1;return i.iterChangedRanges((r,o)=>e.push(r,o)),t.iterChangedRanges((r,o,a,u)=>{for(let f=0;f<e.length;){let d=e[f++],m=e[f++];u>=d&&a<=m&&(n=!0)}}),n}function JE(i,t){return i.ranges.length==t.ranges.length&&i.ranges.filter((e,n)=>e.empty!=t.ranges[n].empty).length===0}function Pw(i,t){return i.length?t.length?i.concat(t):i:t}const ti=[],tR=200;function Yw(i,t){if(i.length){let e=i[i.length-1],n=e.selectionsAfter.slice(Math.max(0,e.selectionsAfter.length-tR));return n.length&&n[n.length-1].eq(t)?i:(n.push(t),eh(i,i.length-1,1e9,e.setSelAfter(n)))}else return[wn.selection([t])]}function eR(i){let t=i[i.length-1],e=i.slice();return e[i.length-1]=t.setSelAfter(t.selectionsAfter.slice(0,t.selectionsAfter.length-1)),e}function pg(i,t){if(!i.length)return i;let e=i.length,n=ti;for(;e;){let r=nR(i[e-1],t,n);if(r.changes&&!r.changes.empty||r.effects.length){let o=i.slice(0,e);return o[e-1]=r,o}else t=r.mapped,e--,n=r.selectionsAfter}return n.length?[wn.selection(n)]:ti}function nR(i,t,e){let n=Pw(i.selectionsAfter.length?i.selectionsAfter.map(u=>u.map(t)):ti,e);if(!i.changes)return wn.selection(n);let r=i.changes.map(t),o=t.mapDesc(i.changes,!0),a=i.mapped?i.mapped.composeDesc(o):o;return new wn(r,Ct.mapEffects(i.effects,t),a,i.startSelection.map(o),n)}const iR=/^(input\.type|delete)($|\.)/;class Hi{constructor(t,e,n=0,r=void 0){this.done=t,this.undone=e,this.prevTime=n,this.prevUserEvent=r}isolate(){return this.prevTime?new Hi(this.done,this.undone):this}addChanges(t,e,n,r,o){let a=this.done,u=a[a.length-1];return u&&u.changes&&!u.changes.empty&&t.changes&&(!n||iR.test(n))&&(!u.selectionsAfter.length&&e-this.prevTime<r.newGroupDelay&&r.joinToEvent(o,$E(u.changes,t.changes))||n=="input.type.compose")?a=eh(a,a.length-1,r.minDepth,new wn(t.changes.compose(u.changes),Pw(Ct.mapEffects(t.effects,u.changes),u.effects),u.mapped,u.startSelection,ti)):a=eh(a,a.length,r.minDepth,t),new Hi(a,ti,e,n)}addSelection(t,e,n,r){let o=this.done.length?this.done[this.done.length-1].selectionsAfter:ti;return o.length>0&&e-this.prevTime<r&&n==this.prevUserEvent&&n&&/^select($|\.)/.test(n)&&JE(o[o.length-1],t)?this:new Hi(Yw(this.done,t),this.undone,e,n)}addMapping(t){return new Hi(pg(this.done,t),pg(this.undone,t),this.prevTime,this.prevUserEvent)}pop(t,e,n){let r=t==0?this.done:this.undone;if(r.length==0)return null;let o=r[r.length-1],a=o.selectionsAfter[0]||e.selection;if(n&&o.selectionsAfter.length)return e.update({selection:o.selectionsAfter[o.selectionsAfter.length-1],annotations:Sm.of({side:t,rest:eR(r),selection:a}),userEvent:t==0?"select.undo":"select.redo",scrollIntoView:!0});if(o.changes){let u=r.length==1?ti:r.slice(0,r.length-1);return o.mapped&&(u=pg(u,o.mapped)),e.update({changes:o.changes,selection:o.startSelection,effects:o.effects,annotations:Sm.of({side:t,rest:u,selection:a}),filter:!1,userEvent:t==0?"undo":"redo",scrollIntoView:!0})}else return null}}Hi.empty=new Hi(ti,ti);const sR=[{key:"Mod-z",run:Vw,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:wm,preventDefault:!0},{linux:"Ctrl-Shift-z",run:wm,preventDefault:!0},{key:"Mod-u",run:FE,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:ZE,preventDefault:!0}];function Yl(i,t){return Z.create(i.ranges.map(t),i.mainIndex)}function Pi(i,t){return i.update({selection:t,scrollIntoView:!0,userEvent:"select"})}function vi({state:i,dispatch:t},e){let n=Yl(i.selection,e);return n.eq(i.selection,!0)?!1:(t(Pi(i,n)),!0)}function Oh(i,t){return Z.cursor(t?i.to:i.from)}function Gw(i,t){return vi(i,e=>e.empty?i.moveByChar(e,t):Oh(e,t))}function rn(i){return i.textDirectionAt(i.state.selection.main.head)==oe.LTR}const Iw=i=>Gw(i,!rn(i)),Xw=i=>Gw(i,rn(i));function Qw(i,t){return vi(i,e=>e.empty?i.moveByGroup(e,t):Oh(e,t))}const rR=i=>Qw(i,!rn(i)),lR=i=>Qw(i,rn(i));function oR(i,t,e){if(t.type.prop(e))return!0;let n=t.to-t.from;return n&&(n>2||/[^\s,.;:]/.test(i.sliceDoc(t.from,t.to)))||t.firstChild}function Eh(i,t,e){let n=sn(i).resolveInner(t.head),r=e?Ot.closedBy:Ot.openedBy;for(let f=t.head;;){let d=e?n.childAfter(f):n.childBefore(f);if(!d)break;oR(i,d,r)?n=d:f=e?d.to:d.from}let o=n.type.prop(r),a,u;return o&&(a=e?zi(i,n.from,1):zi(i,n.to,-1))&&a.matched?u=e?a.end.to:a.end.from:u=e?n.to:n.from,Z.cursor(u,e?-1:1)}const aR=i=>vi(i,t=>Eh(i.state,t,!rn(i))),cR=i=>vi(i,t=>Eh(i.state,t,rn(i)));function Kw(i,t){return vi(i,e=>{if(!e.empty)return Oh(e,t);let n=i.moveVertically(e,t);return n.head!=e.head?n:i.moveToLineBoundary(e,t)})}const Ww=i=>Kw(i,!1),Fw=i=>Kw(i,!0);function Zw(i){let t=i.scrollDOM.clientHeight<i.scrollDOM.scrollHeight-2,e=0,n=0,r;if(t){for(let o of i.state.facet(at.scrollMargins)){let a=o(i);a?.top&&(e=Math.max(a?.top,e)),a?.bottom&&(n=Math.max(a?.bottom,n))}r=i.scrollDOM.clientHeight-e-n}else r=(i.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:e,marginBottom:n,selfScroll:t,height:Math.max(i.defaultLineHeight,r-5)}}function $w(i,t){let e=Zw(i),{state:n}=i,r=Yl(n.selection,a=>a.empty?i.moveVertically(a,t,e.height):Oh(a,t));if(r.eq(n.selection))return!1;let o;if(e.selfScroll){let a=i.coordsAtPos(n.selection.main.head),u=i.scrollDOM.getBoundingClientRect(),f=u.top+e.marginTop,d=u.bottom-e.marginBottom;a&&a.top>f&&a.bottom<d&&(o=at.scrollIntoView(r.main.head,{y:"start",yMargin:a.top-f}))}return i.dispatch(Pi(n,r),{effects:o}),!0}const z1=i=>$w(i,!1),km=i=>$w(i,!0);function Js(i,t,e){let n=i.lineBlockAt(t.head),r=i.moveToLineBoundary(t,e);if(r.head==t.head&&r.head!=(e?n.to:n.from)&&(r=i.moveToLineBoundary(t,e,!1)),!e&&r.head==n.from&&n.length){let o=/^\s*/.exec(i.state.sliceDoc(n.from,Math.min(n.from+100,n.to)))[0].length;o&&t.head!=n.from+o&&(r=Z.cursor(n.from+o))}return r}const uR=i=>vi(i,t=>Js(i,t,!0)),hR=i=>vi(i,t=>Js(i,t,!1)),fR=i=>vi(i,t=>Js(i,t,!rn(i))),dR=i=>vi(i,t=>Js(i,t,rn(i))),gR=i=>vi(i,t=>Z.cursor(i.lineBlockAt(t.head).from,1)),mR=i=>vi(i,t=>Z.cursor(i.lineBlockAt(t.head).to,-1));function pR(i,t,e){let n=!1,r=Yl(i.selection,o=>{let a=zi(i,o.head,-1)||zi(i,o.head,1)||o.head>0&&zi(i,o.head-1,1)||o.head<i.doc.length&&zi(i,o.head+1,-1);if(!a||!a.end)return o;n=!0;let u=a.start.from==o.head?a.end.to:a.end.from;return Z.cursor(u)});return n?(t(Pi(i,r)),!0):!1}const yR=({state:i,dispatch:t})=>pR(i,t);function ri(i,t){let e=Yl(i.state.selection,n=>{let r=t(n);return Z.range(n.anchor,r.head,r.goalColumn,r.bidiLevel||void 0)});return e.eq(i.state.selection)?!1:(i.dispatch(Pi(i.state,e)),!0)}function Jw(i,t){return ri(i,e=>i.moveByChar(e,t))}const t2=i=>Jw(i,!rn(i)),e2=i=>Jw(i,rn(i));function n2(i,t){return ri(i,e=>i.moveByGroup(e,t))}const bR=i=>n2(i,!rn(i)),vR=i=>n2(i,rn(i)),xR=i=>ri(i,t=>Eh(i.state,t,!rn(i))),SR=i=>ri(i,t=>Eh(i.state,t,rn(i)));function i2(i,t){return ri(i,e=>i.moveVertically(e,t))}const s2=i=>i2(i,!1),r2=i=>i2(i,!0);function l2(i,t){return ri(i,e=>i.moveVertically(e,t,Zw(i).height))}const H1=i=>l2(i,!1),j1=i=>l2(i,!0),wR=i=>ri(i,t=>Js(i,t,!0)),kR=i=>ri(i,t=>Js(i,t,!1)),CR=i=>ri(i,t=>Js(i,t,!rn(i))),AR=i=>ri(i,t=>Js(i,t,rn(i))),MR=i=>ri(i,t=>Z.cursor(i.lineBlockAt(t.head).from)),TR=i=>ri(i,t=>Z.cursor(i.lineBlockAt(t.head).to)),_1=({state:i,dispatch:t})=>(t(Pi(i,{anchor:0})),!0),U1=({state:i,dispatch:t})=>(t(Pi(i,{anchor:i.doc.length})),!0),q1=({state:i,dispatch:t})=>(t(Pi(i,{anchor:i.selection.main.anchor,head:0})),!0),V1=({state:i,dispatch:t})=>(t(Pi(i,{anchor:i.selection.main.anchor,head:i.doc.length})),!0),DR=({state:i,dispatch:t})=>(t(i.update({selection:{anchor:0,head:i.doc.length},userEvent:"select"})),!0),OR=({state:i,dispatch:t})=>{let e=Rh(i).map(({from:n,to:r})=>Z.range(n,Math.min(r+1,i.doc.length)));return t(i.update({selection:Z.create(e),userEvent:"select"})),!0},ER=({state:i,dispatch:t})=>{let e=Yl(i.selection,n=>{let r=sn(i),o=r.resolveStack(n.from,1);if(n.empty){let a=r.resolveStack(n.from,-1);a.node.from>=o.node.from&&a.node.to<=o.node.to&&(o=a)}for(let a=o;a;a=a.next){let{node:u}=a;if((u.from<n.from&&u.to>=n.to||u.to>n.to&&u.from<=n.from)&&a.next)return Z.range(u.to,u.from)}return n});return e.eq(i.selection)?!1:(t(Pi(i,e)),!0)},RR=({state:i,dispatch:t})=>{let e=i.selection,n=null;return e.ranges.length>1?n=Z.create([e.main]):e.main.empty||(n=Z.create([Z.cursor(e.main.head)])),n?(t(Pi(i,n)),!0):!1};function La(i,t){if(i.state.readOnly)return!1;let e="delete.selection",{state:n}=i,r=n.changeByRange(o=>{let{from:a,to:u}=o;if(a==u){let f=t(o);f<a?(e="delete.backward",f=gu(i,f,!1)):f>a&&(e="delete.forward",f=gu(i,f,!0)),a=Math.min(a,f),u=Math.max(u,f)}else a=gu(i,a,!1),u=gu(i,u,!0);return a==u?{range:o}:{changes:{from:a,to:u},range:Z.cursor(a,a<o.head?-1:1)}});return r.changes.empty?!1:(i.dispatch(n.update(r,{scrollIntoView:!0,userEvent:e,effects:e=="delete.selection"?at.announce.of(n.phrase("Selection deleted")):void 0})),!0)}function gu(i,t,e){if(i instanceof at)for(let n of i.state.facet(at.atomicRanges).map(r=>r(i)))n.between(t,t,(r,o)=>{r<t&&o>t&&(t=e?o:r)});return t}const o2=(i,t,e)=>La(i,n=>{let r=n.from,{state:o}=i,a=o.doc.lineAt(r),u,f;if(e&&!t&&r>a.from&&r<a.from+200&&!/[^ \t]/.test(u=a.text.slice(0,r-a.from))){if(u[u.length-1]=="	")return r-1;let d=Pl(u,o.tabSize),m=d%$u(o)||$u(o);for(let p=0;p<m&&u[u.length-1-p]==" ";p++)r--;f=r}else f=We(a.text,r-a.from,t,t)+a.from,f==r&&a.number!=(t?o.doc.lines:1)?f+=t?1:-1:!t&&/[\ufe00-\ufe0f]/.test(a.text.slice(f-a.from,r-a.from))&&(f=We(a.text,f-a.from,!1,!1)+a.from);return f}),Cm=i=>o2(i,!1,!0),a2=i=>o2(i,!0,!1),c2=(i,t)=>La(i,e=>{let n=e.head,{state:r}=i,o=r.doc.lineAt(n),a=r.charCategorizer(n);for(let u=null;;){if(n==(t?o.to:o.from)){n==e.head&&o.number!=(t?r.doc.lines:1)&&(n+=t?1:-1);break}let f=We(o.text,n-o.from,t)+o.from,d=o.text.slice(Math.min(n,f)-o.from,Math.max(n,f)-o.from),m=a(d);if(u!=null&&m!=u)break;(d!=" "||n!=e.head)&&(u=m),n=f}return n}),u2=i=>c2(i,!1),NR=i=>c2(i,!0),BR=i=>La(i,t=>{let e=i.lineBlockAt(t.head).to;return t.head<e?e:Math.min(i.state.doc.length,t.head+1)}),LR=i=>La(i,t=>{let e=i.moveToLineBoundary(t,!1).head;return t.head>e?e:Math.max(0,t.head-1)}),zR=i=>La(i,t=>{let e=i.moveToLineBoundary(t,!0).head;return t.head<e?e:Math.min(i.state.doc.length,t.head+1)}),HR=({state:i,dispatch:t})=>{if(i.readOnly)return!1;let e=i.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:_t.of(["",""])},range:Z.cursor(n.from)}));return t(i.update(e,{scrollIntoView:!0,userEvent:"input"})),!0},jR=({state:i,dispatch:t})=>{if(i.readOnly)return!1;let e=i.changeByRange(n=>{if(!n.empty||n.from==0||n.from==i.doc.length)return{range:n};let r=n.from,o=i.doc.lineAt(r),a=r==o.from?r-1:We(o.text,r-o.from,!1)+o.from,u=r==o.to?r+1:We(o.text,r-o.from,!0)+o.from;return{changes:{from:a,to:u,insert:i.doc.slice(r,u).append(i.doc.slice(a,r))},range:Z.cursor(u)}});return e.changes.empty?!1:(t(i.update(e,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function Rh(i){let t=[],e=-1;for(let n of i.selection.ranges){let r=i.doc.lineAt(n.from),o=i.doc.lineAt(n.to);if(!n.empty&&n.to==o.from&&(o=i.doc.lineAt(n.to-1)),e>=r.number){let a=t[t.length-1];a.to=o.to,a.ranges.push(n)}else t.push({from:r.from,to:o.to,ranges:[n]});e=o.number+1}return t}function h2(i,t,e){if(i.readOnly)return!1;let n=[],r=[];for(let o of Rh(i)){if(e?o.to==i.doc.length:o.from==0)continue;let a=i.doc.lineAt(e?o.to+1:o.from-1),u=a.length+1;if(e){n.push({from:o.to,to:a.to},{from:o.from,insert:a.text+i.lineBreak});for(let f of o.ranges)r.push(Z.range(Math.min(i.doc.length,f.anchor+u),Math.min(i.doc.length,f.head+u)))}else{n.push({from:a.from,to:o.from},{from:o.to,insert:i.lineBreak+a.text});for(let f of o.ranges)r.push(Z.range(f.anchor-u,f.head-u))}}return n.length?(t(i.update({changes:n,scrollIntoView:!0,selection:Z.create(r,i.selection.mainIndex),userEvent:"move.line"})),!0):!1}const _R=({state:i,dispatch:t})=>h2(i,t,!1),UR=({state:i,dispatch:t})=>h2(i,t,!0);function f2(i,t,e){if(i.readOnly)return!1;let n=[];for(let r of Rh(i))e?n.push({from:r.from,insert:i.doc.slice(r.from,r.to)+i.lineBreak}):n.push({from:r.to,insert:i.lineBreak+i.doc.slice(r.from,r.to)});return t(i.update({changes:n,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const qR=({state:i,dispatch:t})=>f2(i,t,!1),VR=({state:i,dispatch:t})=>f2(i,t,!0),PR=i=>{if(i.state.readOnly)return!1;let{state:t}=i,e=t.changes(Rh(t).map(({from:r,to:o})=>(r>0?r--:o<t.doc.length&&o++,{from:r,to:o}))),n=Yl(t.selection,r=>{let o;if(i.lineWrapping){let a=i.lineBlockAt(r.head),u=i.coordsAtPos(r.head,r.assoc||1);u&&(o=a.bottom+i.documentTop-u.bottom+i.defaultLineHeight/2)}return i.moveVertically(r,!0,o)}).map(e);return i.dispatch({changes:e,selection:n,scrollIntoView:!0,userEvent:"delete.line"}),!0};function YR(i,t){if(/\(\)|\[\]|\{\}/.test(i.sliceDoc(t-1,t+1)))return{from:t,to:t};let e=sn(i).resolveInner(t),n=e.childBefore(t),r=e.childAfter(t),o;return n&&r&&n.to<=t&&r.from>=t&&(o=n.type.prop(Ot.closedBy))&&o.indexOf(r.name)>-1&&i.doc.lineAt(n.to).from==i.doc.lineAt(r.from).from&&!/\S/.test(i.sliceDoc(n.to,r.from))?{from:n.to,to:r.from}:null}const P1=d2(!1),GR=d2(!0);function d2(i){return({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>{let{from:o,to:a}=r,u=t.doc.lineAt(o),f=!i&&o==a&&YR(t,o);i&&(o=a=(a<=u.to?u:t.doc.lineAt(a)).to);let d=new Mh(t,{simulateBreak:o,simulateDoubleBreak:!!f}),m=ep(d,o);for(m==null&&(m=Pl(/^\s*/.exec(t.doc.lineAt(o).text)[0],t.tabSize));a<u.to&&/\s/.test(u.text[a-u.from]);)a++;f?{from:o,to:a}=f:o>u.from&&o<u.from+100&&!/\S/.test(u.text.slice(0,o))&&(o=u.from);let p=["",va(t,m)];return f&&p.push(va(t,d.lineIndent(u.from,-1))),{changes:{from:o,to:a,insert:_t.of(p)},range:Z.cursor(o+1+p[1].length)}});return e(t.update(n,{scrollIntoView:!0,userEvent:"input"})),!0}}function rp(i,t){let e=-1;return i.changeByRange(n=>{let r=[];for(let a=n.from;a<=n.to;){let u=i.doc.lineAt(a);u.number>e&&(n.empty||n.to>u.from)&&(t(u,r,n),e=u.number),a=u.to+1}let o=i.changes(r);return{changes:r,range:Z.range(o.mapPos(n.anchor,1),o.mapPos(n.head,1))}})}const IR=({state:i,dispatch:t})=>{if(i.readOnly)return!1;let e=Object.create(null),n=new Mh(i,{overrideIndentation:o=>{let a=e[o];return a??-1}}),r=rp(i,(o,a,u)=>{let f=ep(n,o.from);if(f==null)return;/\S/.test(o.text)||(f=0);let d=/^\s*/.exec(o.text)[0],m=va(i,f);(d!=m||u.from<o.from+d.length)&&(e[o.from]=f,a.push({from:o.from,to:o.from+d.length,insert:m}))});return r.changes.empty||t(i.update(r,{userEvent:"indent"})),!0},g2=({state:i,dispatch:t})=>i.readOnly?!1:(t(i.update(rp(i,(e,n)=>{n.push({from:e.from,insert:i.facet(Ah)})}),{userEvent:"input.indent"})),!0),m2=({state:i,dispatch:t})=>i.readOnly?!1:(t(i.update(rp(i,(e,n)=>{let r=/^\s*/.exec(e.text)[0];if(!r)return;let o=Pl(r,i.tabSize),a=0,u=va(i,Math.max(0,o-$u(i)));for(;a<r.length&&a<u.length&&r.charCodeAt(a)==u.charCodeAt(a);)a++;n.push({from:e.from+a,to:e.from+r.length,insert:u.slice(a)})}),{userEvent:"delete.dedent"})),!0),XR=i=>(i.setTabFocusMode(),!0),QR=[{key:"Ctrl-b",run:Iw,shift:t2,preventDefault:!0},{key:"Ctrl-f",run:Xw,shift:e2},{key:"Ctrl-p",run:Ww,shift:s2},{key:"Ctrl-n",run:Fw,shift:r2},{key:"Ctrl-a",run:gR,shift:MR},{key:"Ctrl-e",run:mR,shift:TR},{key:"Ctrl-d",run:a2},{key:"Ctrl-h",run:Cm},{key:"Ctrl-k",run:BR},{key:"Ctrl-Alt-h",run:u2},{key:"Ctrl-o",run:HR},{key:"Ctrl-t",run:jR},{key:"Ctrl-v",run:km}],KR=[{key:"ArrowLeft",run:Iw,shift:t2,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:rR,shift:bR,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:fR,shift:CR,preventDefault:!0},{key:"ArrowRight",run:Xw,shift:e2,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:lR,shift:vR,preventDefault:!0},{mac:"Cmd-ArrowRight",run:dR,shift:AR,preventDefault:!0},{key:"ArrowUp",run:Ww,shift:s2,preventDefault:!0},{mac:"Cmd-ArrowUp",run:_1,shift:q1},{mac:"Ctrl-ArrowUp",run:z1,shift:H1},{key:"ArrowDown",run:Fw,shift:r2,preventDefault:!0},{mac:"Cmd-ArrowDown",run:U1,shift:V1},{mac:"Ctrl-ArrowDown",run:km,shift:j1},{key:"PageUp",run:z1,shift:H1},{key:"PageDown",run:km,shift:j1},{key:"Home",run:hR,shift:kR,preventDefault:!0},{key:"Mod-Home",run:_1,shift:q1},{key:"End",run:uR,shift:wR,preventDefault:!0},{key:"Mod-End",run:U1,shift:V1},{key:"Enter",run:P1,shift:P1},{key:"Mod-a",run:DR},{key:"Backspace",run:Cm,shift:Cm},{key:"Delete",run:a2},{key:"Mod-Backspace",mac:"Alt-Backspace",run:u2},{key:"Mod-Delete",mac:"Alt-Delete",run:NR},{mac:"Mod-Backspace",run:LR},{mac:"Mod-Delete",run:zR}].concat(QR.map(i=>({mac:i.key,run:i.run,shift:i.shift}))),WR=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:aR,shift:xR},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:cR,shift:SR},{key:"Alt-ArrowUp",run:_R},{key:"Shift-Alt-ArrowUp",run:qR},{key:"Alt-ArrowDown",run:UR},{key:"Shift-Alt-ArrowDown",run:VR},{key:"Escape",run:RR},{key:"Mod-Enter",run:GR},{key:"Alt-l",mac:"Ctrl-l",run:OR},{key:"Mod-i",run:ER,preventDefault:!0},{key:"Mod-[",run:m2},{key:"Mod-]",run:g2},{key:"Mod-Alt-\\",run:IR},{key:"Shift-Mod-k",run:PR},{key:"Shift-Mod-\\",run:yR},{key:"Mod-/",run:qE},{key:"Alt-A",run:PE},{key:"Ctrl-m",mac:"Shift-Alt-m",run:XR}].concat(KR),FR={key:"Tab",run:g2,shift:m2},Y1=typeof String.prototype.normalize=="function"?i=>i.normalize("NFKD"):i=>i;class ql{constructor(t,e,n=0,r=t.length,o,a){this.test=a,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=t.iterRange(n,r),this.bufferStart=n,this.normalize=o?u=>o(Y1(u)):Y1,this.query=this.normalize(e)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return bn(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let t=this.peek();if(t<0)return this.done=!0,this;let e=Hm(t),n=this.bufferStart+this.bufferPos;this.bufferPos+=Bi(t);let r=this.normalize(e);if(r.length)for(let o=0,a=n;;o++){let u=r.charCodeAt(o),f=this.match(u,a,this.bufferPos+this.bufferStart);if(o==r.length-1){if(f)return this.value=f,this;break}a==n&&o<e.length&&e.charCodeAt(o)==u&&a++}}}match(t,e,n){let r=null;for(let o=0;o<this.matches.length;o+=2){let a=this.matches[o],u=!1;this.query.charCodeAt(a)==t&&(a==this.query.length-1?r={from:this.matches[o+1],to:n}:(this.matches[o]++,u=!0)),u||(this.matches.splice(o,2),o-=2)}return this.query.charCodeAt(0)==t&&(this.query.length==1?r={from:e,to:n}:this.matches.push(1,e)),r&&this.test&&!this.test(r.from,r.to,this.buffer,this.bufferStart)&&(r=null),r}}typeof Symbol<"u"&&(ql.prototype[Symbol.iterator]=function(){return this});const p2={from:-1,to:-1,match:/.*/.exec("")},lp="gm"+(/x/.unicode==null?"":"u");class y2{constructor(t,e,n,r=0,o=t.length){if(this.text=t,this.to=o,this.curLine="",this.done=!1,this.value=p2,/\\[sWDnr]|\n|\r|\[\^/.test(e))return new b2(t,e,n,r,o);this.re=new RegExp(e,lp+(n?.ignoreCase?"i":"")),this.test=n?.test,this.iter=t.iter();let a=t.lineAt(r);this.curLineStart=a.from,this.matchPos=nh(t,r),this.getLine(this.curLineStart)}getLine(t){this.iter.next(t),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let t=this.matchPos-this.curLineStart;;){this.re.lastIndex=t;let e=this.matchPos<=this.to&&this.re.exec(this.curLine);if(e){let n=this.curLineStart+e.index,r=n+e[0].length;if(this.matchPos=nh(this.text,r+(n==r?1:0)),n==this.curLineStart+this.curLine.length&&this.nextLine(),(n<r||n>this.value.to)&&(!this.test||this.test(n,r,e)))return this.value={from:n,to:r,match:e},this;t=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),t=0;else return this.done=!0,this}}}const yg=new WeakMap;class El{constructor(t,e){this.from=t,this.text=e}get to(){return this.from+this.text.length}static get(t,e,n){let r=yg.get(t);if(!r||r.from>=n||r.to<=e){let u=new El(e,t.sliceString(e,n));return yg.set(t,u),u}if(r.from==e&&r.to==n)return r;let{text:o,from:a}=r;return a>e&&(o=t.sliceString(e,a)+o,a=e),r.to<n&&(o+=t.sliceString(r.to,n)),yg.set(t,new El(a,o)),new El(e,o.slice(e-a,n-a))}}class b2{constructor(t,e,n,r,o){this.text=t,this.to=o,this.done=!1,this.value=p2,this.matchPos=nh(t,r),this.re=new RegExp(e,lp+(n?.ignoreCase?"i":"")),this.test=n?.test,this.flat=El.get(t,r,this.chunkEnd(r+5e3))}chunkEnd(t){return t>=this.to?this.to:this.text.lineAt(t).to}next(){for(;;){let t=this.re.lastIndex=this.matchPos-this.flat.from,e=this.re.exec(this.flat.text);if(e&&!e[0]&&e.index==t&&(this.re.lastIndex=t+1,e=this.re.exec(this.flat.text)),e){let n=this.flat.from+e.index,r=n+e[0].length;if((this.flat.to>=this.to||e.index+e[0].length<=this.flat.text.length-10)&&(!this.test||this.test(n,r,e)))return this.value={from:n,to:r,match:e},this.matchPos=nh(this.text,r+(n==r?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=El.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(y2.prototype[Symbol.iterator]=b2.prototype[Symbol.iterator]=function(){return this});function ZR(i){try{return new RegExp(i,lp),!0}catch{return!1}}function nh(i,t){if(t>=i.length)return t;let e=i.lineAt(t),n;for(;t<e.to&&(n=e.text.charCodeAt(t-e.from))>=56320&&n<57344;)t++;return t}function Am(i){let t=String(i.state.doc.lineAt(i.state.selection.main.head).number),e=Jt("input",{class:"cm-textfield",name:"line",value:t}),n=Jt("form",{class:"cm-gotoLine",onkeydown:o=>{o.keyCode==27?(o.preventDefault(),i.dispatch({effects:la.of(!1)}),i.focus()):o.keyCode==13&&(o.preventDefault(),r())},onsubmit:o=>{o.preventDefault(),r()}},Jt("label",i.state.phrase("Go to line"),": ",e)," ",Jt("button",{class:"cm-button",type:"submit"},i.state.phrase("go")),Jt("button",{name:"close",onclick:()=>{i.dispatch({effects:la.of(!1)}),i.focus()},"aria-label":i.state.phrase("close"),type:"button"},["×"]));function r(){let o=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(e.value);if(!o)return;let{state:a}=i,u=a.doc.lineAt(a.selection.main.head),[,f,d,m,p]=o,b=m?+m.slice(1):0,v=d?+d:u.number;if(d&&p){let C=v/100;f&&(C=C*(f=="-"?-1:1)+u.number/a.doc.lines),v=Math.round(a.doc.lines*C)}else d&&f&&(v=v*(f=="-"?-1:1)+u.number);let S=a.doc.line(Math.max(1,Math.min(a.doc.lines,v))),k=Z.cursor(S.from+Math.max(0,Math.min(b,S.length)));i.dispatch({effects:[la.of(!1),at.scrollIntoView(k.from,{y:"center"})],selection:k}),i.focus()}return{dom:n}}const la=Ct.define(),G1=Ze.define({create(){return!0},update(i,t){for(let e of t.effects)e.is(la)&&(i=e.value);return i},provide:i=>ya.from(i,t=>t?Am:null)}),$R=i=>{let t=pa(i,Am);if(!t){let e=[la.of(!0)];i.state.field(G1,!1)==null&&e.push(Ct.appendConfig.of([G1,JR])),i.dispatch({effects:e}),t=pa(i,Am)}return t&&t.dom.querySelector("input").select(),!0},JR=at.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px",position:"relative","& label":{fontSize:"80%"},"& [name=close]":{position:"absolute",top:"0",bottom:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:"0"}}}),t3={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},e3=ft.define({combine(i){return Vi(i,t3,{highlightWordAroundCursor:(t,e)=>t||e,minSelectionLength:Math.min,maxMatches:Math.min})}});function n3(i){return[o3,l3]}const i3=xt.mark({class:"cm-selectionMatch"}),s3=xt.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function I1(i,t,e,n){return(e==0||i(t.sliceDoc(e-1,e))!=ce.Word)&&(n==t.doc.length||i(t.sliceDoc(n,n+1))!=ce.Word)}function r3(i,t,e,n){return i(t.sliceDoc(e,e+1))==ce.Word&&i(t.sliceDoc(n-1,n))==ce.Word}const l3=ve.fromClass(class{constructor(i){this.decorations=this.getDeco(i)}update(i){(i.selectionSet||i.docChanged||i.viewportChanged)&&(this.decorations=this.getDeco(i.view))}getDeco(i){let t=i.state.facet(e3),{state:e}=i,n=e.selection;if(n.ranges.length>1)return xt.none;let r=n.main,o,a=null;if(r.empty){if(!t.highlightWordAroundCursor)return xt.none;let f=e.wordAt(r.head);if(!f)return xt.none;a=e.charCategorizer(r.head),o=e.sliceDoc(f.from,f.to)}else{let f=r.to-r.from;if(f<t.minSelectionLength||f>200)return xt.none;if(t.wholeWords){if(o=e.sliceDoc(r.from,r.to),a=e.charCategorizer(r.head),!(I1(a,e,r.from,r.to)&&r3(a,e,r.from,r.to)))return xt.none}else if(o=e.sliceDoc(r.from,r.to),!o)return xt.none}let u=[];for(let f of i.visibleRanges){let d=new ql(e.doc,o,f.from,f.to);for(;!d.next().done;){let{from:m,to:p}=d.value;if((!a||I1(a,e,m,p))&&(r.empty&&m<=r.from&&p>=r.to?u.push(s3.range(m,p)):(m>=r.to||p<=r.from)&&u.push(i3.range(m,p)),u.length>t.maxMatches))return xt.none}}return xt.set(u)}},{decorations:i=>i.decorations}),o3=at.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),a3=({state:i,dispatch:t})=>{let{selection:e}=i,n=Z.create(e.ranges.map(r=>i.wordAt(r.head)||Z.cursor(r.head)),e.mainIndex);return n.eq(e)?!1:(t(i.update({selection:n})),!0)};function c3(i,t){let{main:e,ranges:n}=i.selection,r=i.wordAt(e.head),o=r&&r.from==e.from&&r.to==e.to;for(let a=!1,u=new ql(i.doc,t,n[n.length-1].to);;)if(u.next(),u.done){if(a)return null;u=new ql(i.doc,t,0,Math.max(0,n[n.length-1].from-1)),a=!0}else{if(a&&n.some(f=>f.from==u.value.from))continue;if(o){let f=i.wordAt(u.value.from);if(!f||f.from!=u.value.from||f.to!=u.value.to)continue}return u.value}}const u3=({state:i,dispatch:t})=>{let{ranges:e}=i.selection;if(e.some(o=>o.from===o.to))return a3({state:i,dispatch:t});let n=i.sliceDoc(e[0].from,e[0].to);if(i.selection.ranges.some(o=>i.sliceDoc(o.from,o.to)!=n))return!1;let r=c3(i,n);return r?(t(i.update({selection:i.selection.addRange(Z.range(r.from,r.to),!1),effects:at.scrollIntoView(r.to)})),!0):!1},Gl=ft.define({combine(i){return Vi(i,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:t=>new w3(t),scrollToMatch:t=>at.scrollIntoView(t)})}});class v2{constructor(t){this.search=t.search,this.caseSensitive=!!t.caseSensitive,this.literal=!!t.literal,this.regexp=!!t.regexp,this.replace=t.replace||"",this.valid=!!this.search&&(!this.regexp||ZR(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!t.wholeWord}unquote(t){return this.literal?t:t.replace(/\\([nrt\\])/g,(e,n)=>n=="n"?`
`:n=="r"?"\r":n=="t"?"	":"\\")}eq(t){return this.search==t.search&&this.replace==t.replace&&this.caseSensitive==t.caseSensitive&&this.regexp==t.regexp&&this.wholeWord==t.wholeWord}create(){return this.regexp?new g3(this):new f3(this)}getCursor(t,e=0,n){let r=t.doc?t:Lt.create({doc:t});return n==null&&(n=r.doc.length),this.regexp?Sl(this,r,e,n):xl(this,r,e,n)}}class x2{constructor(t){this.spec=t}}function xl(i,t,e,n){return new ql(t.doc,i.unquoted,e,n,i.caseSensitive?void 0:r=>r.toLowerCase(),i.wholeWord?h3(t.doc,t.charCategorizer(t.selection.main.head)):void 0)}function h3(i,t){return(e,n,r,o)=>((o>e||o+r.length<n)&&(o=Math.max(0,e-2),r=i.sliceString(o,Math.min(i.length,n+2))),(t(ih(r,e-o))!=ce.Word||t(sh(r,e-o))!=ce.Word)&&(t(sh(r,n-o))!=ce.Word||t(ih(r,n-o))!=ce.Word))}class f3 extends x2{constructor(t){super(t)}nextMatch(t,e,n){let r=xl(this.spec,t,n,t.doc.length).nextOverlapping();if(r.done){let o=Math.min(t.doc.length,e+this.spec.unquoted.length);r=xl(this.spec,t,0,o).nextOverlapping()}return r.done||r.value.from==e&&r.value.to==n?null:r.value}prevMatchInRange(t,e,n){for(let r=n;;){let o=Math.max(e,r-1e4-this.spec.unquoted.length),a=xl(this.spec,t,o,r),u=null;for(;!a.nextOverlapping().done;)u=a.value;if(u)return u;if(o==e)return null;r-=1e4}}prevMatch(t,e,n){let r=this.prevMatchInRange(t,0,e);return r||(r=this.prevMatchInRange(t,Math.max(0,n-this.spec.unquoted.length),t.doc.length)),r&&(r.from!=e||r.to!=n)?r:null}getReplacement(t){return this.spec.unquote(this.spec.replace)}matchAll(t,e){let n=xl(this.spec,t,0,t.doc.length),r=[];for(;!n.next().done;){if(r.length>=e)return null;r.push(n.value)}return r}highlight(t,e,n,r){let o=xl(this.spec,t,Math.max(0,e-this.spec.unquoted.length),Math.min(n+this.spec.unquoted.length,t.doc.length));for(;!o.next().done;)r(o.value.from,o.value.to)}}function Sl(i,t,e,n){return new y2(t.doc,i.search,{ignoreCase:!i.caseSensitive,test:i.wholeWord?d3(t.charCategorizer(t.selection.main.head)):void 0},e,n)}function ih(i,t){return i.slice(We(i,t,!1),t)}function sh(i,t){return i.slice(t,We(i,t))}function d3(i){return(t,e,n)=>!n[0].length||(i(ih(n.input,n.index))!=ce.Word||i(sh(n.input,n.index))!=ce.Word)&&(i(sh(n.input,n.index+n[0].length))!=ce.Word||i(ih(n.input,n.index+n[0].length))!=ce.Word)}class g3 extends x2{nextMatch(t,e,n){let r=Sl(this.spec,t,n,t.doc.length).next();return r.done&&(r=Sl(this.spec,t,0,e).next()),r.done?null:r.value}prevMatchInRange(t,e,n){for(let r=1;;r++){let o=Math.max(e,n-r*1e4),a=Sl(this.spec,t,o,n),u=null;for(;!a.next().done;)u=a.value;if(u&&(o==e||u.from>o+10))return u;if(o==e)return null}}prevMatch(t,e,n){return this.prevMatchInRange(t,0,e)||this.prevMatchInRange(t,n,t.doc.length)}getReplacement(t){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(e,n)=>{if(n=="&")return t.match[0];if(n=="$")return"$";for(let r=n.length;r>0;r--){let o=+n.slice(0,r);if(o>0&&o<t.match.length)return t.match[o]+n.slice(r)}return e})}matchAll(t,e){let n=Sl(this.spec,t,0,t.doc.length),r=[];for(;!n.next().done;){if(r.length>=e)return null;r.push(n.value)}return r}highlight(t,e,n,r){let o=Sl(this.spec,t,Math.max(0,e-250),Math.min(n+250,t.doc.length));for(;!o.next().done;)r(o.value.from,o.value.to)}}const xa=Ct.define(),op=Ct.define(),Qs=Ze.define({create(i){return new bg(Mm(i).create(),null)},update(i,t){for(let e of t.effects)e.is(xa)?i=new bg(e.value.create(),i.panel):e.is(op)&&(i=new bg(i.query,e.value?ap:null));return i},provide:i=>ya.from(i,t=>t.panel)});class bg{constructor(t,e){this.query=t,this.panel=e}}const m3=xt.mark({class:"cm-searchMatch"}),p3=xt.mark({class:"cm-searchMatch cm-searchMatch-selected"}),y3=ve.fromClass(class{constructor(i){this.view=i,this.decorations=this.highlight(i.state.field(Qs))}update(i){let t=i.state.field(Qs);(t!=i.startState.field(Qs)||i.docChanged||i.selectionSet||i.viewportChanged)&&(this.decorations=this.highlight(t))}highlight({query:i,panel:t}){if(!t||!i.spec.valid)return xt.none;let{view:e}=this,n=new cs;for(let r=0,o=e.visibleRanges,a=o.length;r<a;r++){let{from:u,to:f}=o[r];for(;r<a-1&&f>o[r+1].from-500;)f=o[++r].to;i.highlight(e.state,u,f,(d,m)=>{let p=e.state.selection.ranges.some(b=>b.from==d&&b.to==m);n.add(d,m,p?p3:m3)})}return n.finish()}},{decorations:i=>i.decorations});function za(i){return t=>{let e=t.state.field(Qs,!1);return e&&e.query.spec.valid?i(t,e):k2(t)}}const rh=za((i,{query:t})=>{let{to:e}=i.state.selection.main,n=t.nextMatch(i.state,e,e);if(!n)return!1;let r=Z.single(n.from,n.to),o=i.state.facet(Gl);return i.dispatch({selection:r,effects:[cp(i,n),o.scrollToMatch(r.main,i)],userEvent:"select.search"}),w2(i),!0}),lh=za((i,{query:t})=>{let{state:e}=i,{from:n}=e.selection.main,r=t.prevMatch(e,n,n);if(!r)return!1;let o=Z.single(r.from,r.to),a=i.state.facet(Gl);return i.dispatch({selection:o,effects:[cp(i,r),a.scrollToMatch(o.main,i)],userEvent:"select.search"}),w2(i),!0}),b3=za((i,{query:t})=>{let e=t.matchAll(i.state,1e3);return!e||!e.length?!1:(i.dispatch({selection:Z.create(e.map(n=>Z.range(n.from,n.to))),userEvent:"select.search.matches"}),!0)}),v3=({state:i,dispatch:t})=>{let e=i.selection;if(e.ranges.length>1||e.main.empty)return!1;let{from:n,to:r}=e.main,o=[],a=0;for(let u=new ql(i.doc,i.sliceDoc(n,r));!u.next().done;){if(o.length>1e3)return!1;u.value.from==n&&(a=o.length),o.push(Z.range(u.value.from,u.value.to))}return t(i.update({selection:Z.create(o,a),userEvent:"select.search.matches"})),!0},X1=za((i,{query:t})=>{let{state:e}=i,{from:n,to:r}=e.selection.main;if(e.readOnly)return!1;let o=t.nextMatch(e,n,n);if(!o)return!1;let a=o,u=[],f,d,m=[];a.from==n&&a.to==r&&(d=e.toText(t.getReplacement(a)),u.push({from:a.from,to:a.to,insert:d}),a=t.nextMatch(e,a.from,a.to),m.push(at.announce.of(e.phrase("replaced match on line $",e.doc.lineAt(n).number)+".")));let p=i.state.changes(u);return a&&(f=Z.single(a.from,a.to).map(p),m.push(cp(i,a)),m.push(e.facet(Gl).scrollToMatch(f.main,i))),i.dispatch({changes:p,selection:f,effects:m,userEvent:"input.replace"}),!0}),x3=za((i,{query:t})=>{if(i.state.readOnly)return!1;let e=t.matchAll(i.state,1e9).map(r=>{let{from:o,to:a}=r;return{from:o,to:a,insert:t.getReplacement(r)}});if(!e.length)return!1;let n=i.state.phrase("replaced $ matches",e.length)+".";return i.dispatch({changes:e,effects:at.announce.of(n),userEvent:"input.replace.all"}),!0});function ap(i){return i.state.facet(Gl).createPanel(i)}function Mm(i,t){var e,n,r,o,a;let u=i.selection.main,f=u.empty||u.to>u.from+100?"":i.sliceDoc(u.from,u.to);if(t&&!f)return t;let d=i.facet(Gl);return new v2({search:((e=t?.literal)!==null&&e!==void 0?e:d.literal)?f:f.replace(/\n/g,"\\n"),caseSensitive:(n=t?.caseSensitive)!==null&&n!==void 0?n:d.caseSensitive,literal:(r=t?.literal)!==null&&r!==void 0?r:d.literal,regexp:(o=t?.regexp)!==null&&o!==void 0?o:d.regexp,wholeWord:(a=t?.wholeWord)!==null&&a!==void 0?a:d.wholeWord})}function S2(i){let t=pa(i,ap);return t&&t.dom.querySelector("[main-field]")}function w2(i){let t=S2(i);t&&t==i.root.activeElement&&t.select()}const k2=i=>{let t=i.state.field(Qs,!1);if(t&&t.panel){let e=S2(i);if(e&&e!=i.root.activeElement){let n=Mm(i.state,t.query.spec);n.valid&&i.dispatch({effects:xa.of(n)}),e.focus(),e.select()}}else i.dispatch({effects:[op.of(!0),t?xa.of(Mm(i.state,t.query.spec)):Ct.appendConfig.of(C3)]});return!0},C2=i=>{let t=i.state.field(Qs,!1);if(!t||!t.panel)return!1;let e=pa(i,ap);return e&&e.dom.contains(i.root.activeElement)&&i.focus(),i.dispatch({effects:op.of(!1)}),!0},S3=[{key:"Mod-f",run:k2,scope:"editor search-panel"},{key:"F3",run:rh,shift:lh,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:rh,shift:lh,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:C2,scope:"editor search-panel"},{key:"Mod-Shift-l",run:v3},{key:"Mod-Alt-g",run:$R},{key:"Mod-d",run:u3,preventDefault:!0}];class w3{constructor(t){this.view=t;let e=this.query=t.state.field(Qs).query.spec;this.commit=this.commit.bind(this),this.searchField=Jt("input",{value:e.search,placeholder:zn(t,"Find"),"aria-label":zn(t,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=Jt("input",{value:e.replace,placeholder:zn(t,"Replace"),"aria-label":zn(t,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=Jt("input",{type:"checkbox",name:"case",form:"",checked:e.caseSensitive,onchange:this.commit}),this.reField=Jt("input",{type:"checkbox",name:"re",form:"",checked:e.regexp,onchange:this.commit}),this.wordField=Jt("input",{type:"checkbox",name:"word",form:"",checked:e.wholeWord,onchange:this.commit});function n(r,o,a){return Jt("button",{class:"cm-button",name:r,onclick:o,type:"button"},a)}this.dom=Jt("div",{onkeydown:r=>this.keydown(r),class:"cm-search"},[this.searchField,n("next",()=>rh(t),[zn(t,"next")]),n("prev",()=>lh(t),[zn(t,"previous")]),n("select",()=>b3(t),[zn(t,"all")]),Jt("label",null,[this.caseField,zn(t,"match case")]),Jt("label",null,[this.reField,zn(t,"regexp")]),Jt("label",null,[this.wordField,zn(t,"by word")]),...t.state.readOnly?[]:[Jt("br"),this.replaceField,n("replace",()=>X1(t),[zn(t,"replace")]),n("replaceAll",()=>x3(t),[zn(t,"replace all")])],Jt("button",{name:"close",onclick:()=>C2(t),"aria-label":zn(t,"close"),type:"button"},["×"])])}commit(){let t=new v2({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});t.eq(this.query)||(this.query=t,this.view.dispatch({effects:xa.of(t)}))}keydown(t){RD(this.view,t,"search-panel")?t.preventDefault():t.keyCode==13&&t.target==this.searchField?(t.preventDefault(),(t.shiftKey?lh:rh)(this.view)):t.keyCode==13&&t.target==this.replaceField&&(t.preventDefault(),X1(this.view))}update(t){for(let e of t.transactions)for(let n of e.effects)n.is(xa)&&!n.value.eq(this.query)&&this.setQuery(n.value)}setQuery(t){this.query=t,this.searchField.value=t.search,this.replaceField.value=t.replace,this.caseField.checked=t.caseSensitive,this.reField.checked=t.regexp,this.wordField.checked=t.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(Gl).top}}function zn(i,t){return i.state.phrase(t)}const mu=30,pu=/[\s\.,:;?!]/;function cp(i,{from:t,to:e}){let n=i.state.doc.lineAt(t),r=i.state.doc.lineAt(e).to,o=Math.max(n.from,t-mu),a=Math.min(r,e+mu),u=i.state.sliceDoc(o,a);if(o!=n.from){for(let f=0;f<mu;f++)if(!pu.test(u[f+1])&&pu.test(u[f])){u=u.slice(f);break}}if(a!=r){for(let f=u.length-1;f>u.length-mu;f--)if(!pu.test(u[f-1])&&pu.test(u[f])){u=u.slice(0,f);break}}return at.announce.of(`${i.state.phrase("current match")}. ${u} ${i.state.phrase("on line")} ${n.number}.`)}const k3=at.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),C3=[Qs,Nr.low(y3),k3];class A2{constructor(t,e,n,r){this.state=t,this.pos=e,this.explicit=n,this.view=r,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(t){let e=sn(this.state).resolveInner(this.pos,-1);for(;e&&t.indexOf(e.name)<0;)e=e.parent;return e?{from:e.from,to:this.pos,text:this.state.sliceDoc(e.from,this.pos),type:e.type}:null}matchBefore(t){let e=this.state.doc.lineAt(this.pos),n=Math.max(e.from,this.pos-250),r=e.text.slice(n-e.from,this.pos-e.from),o=r.search(M2(t,!1));return o<0?null:{from:n+o,to:this.pos,text:r.slice(o)}}get aborted(){return this.abortListeners==null}addEventListener(t,e,n){t=="abort"&&this.abortListeners&&(this.abortListeners.push(e),n&&n.onDocChange&&(this.abortOnDocChange=!0))}}function Q1(i){let t=Object.keys(i).join(""),e=/\w/.test(t);return e&&(t=t.replace(/\w/g,"")),`[${e?"\\w":""}${t.replace(/[^\w\s]/g,"\\$&")}]`}function A3(i){let t=Object.create(null),e=Object.create(null);for(let{label:r}of i){t[r[0]]=!0;for(let o=1;o<r.length;o++)e[r[o]]=!0}let n=Q1(t)+Q1(e)+"*$";return[new RegExp("^"+n),new RegExp(n)]}function M3(i){let t=i.map(r=>typeof r=="string"?{label:r}:r),[e,n]=t.every(r=>/^\w+$/.test(r.label))?[/\w*$/,/\w+$/]:A3(t);return r=>{let o=r.matchBefore(n);return o||r.explicit?{from:o?o.from:r.pos,options:t,validFor:e}:null}}class K1{constructor(t,e,n,r){this.completion=t,this.source=e,this.match=n,this.score=r}}function Ar(i){return i.selection.main.from}function M2(i,t){var e;let{source:n}=i,r=t&&n[0]!="^",o=n[n.length-1]!="$";return!r&&!o?i:new RegExp(`${r?"^":""}(?:${n})${o?"$":""}`,(e=i.flags)!==null&&e!==void 0?e:i.ignoreCase?"i":"")}const T2=qi.define();function T3(i,t,e,n){let{main:r}=i.selection,o=e-r.from,a=n-r.from;return{...i.changeByRange(u=>{if(u!=r&&e!=n&&i.sliceDoc(u.from+o,u.from+a)!=i.sliceDoc(e,n))return{range:u};let f=i.toText(t);return{changes:{from:u.from+o,to:n==r.from?u.to:u.from+a,insert:f},range:Z.cursor(u.from+o+f.length)}}),scrollIntoView:!0,userEvent:"input.complete"}}const W1=new WeakMap;function D3(i){if(!Array.isArray(i))return i;let t=W1.get(i);return t||W1.set(i,t=M3(i)),t}const oh=Ct.define(),Sa=Ct.define();class O3{constructor(t){this.pattern=t,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let e=0;e<t.length;){let n=bn(t,e),r=Bi(n);this.chars.push(n);let o=t.slice(e,e+r),a=o.toUpperCase();this.folded.push(bn(a==o?o.toLowerCase():a,0)),e+=r}this.astral=t.length!=this.chars.length}ret(t,e){return this.score=t,this.matched=e,this}match(t){if(this.pattern.length==0)return this.ret(-100,[]);if(t.length<this.pattern.length)return null;let{chars:e,folded:n,any:r,precise:o,byWord:a}=this;if(e.length==1){let B=bn(t,0),j=Bi(B),R=j==t.length?0:-100;if(B!=e[0])if(B==n[0])R+=-200;else return null;return this.ret(R,[0,j])}let u=t.indexOf(this.pattern);if(u==0)return this.ret(t.length==this.pattern.length?0:-100,[0,this.pattern.length]);let f=e.length,d=0;if(u<0){for(let B=0,j=Math.min(t.length,200);B<j&&d<f;){let R=bn(t,B);(R==e[d]||R==n[d])&&(r[d++]=B),B+=Bi(R)}if(d<f)return null}let m=0,p=0,b=!1,v=0,S=-1,k=-1,C=/[a-z]/.test(t),A=!0;for(let B=0,j=Math.min(t.length,200),R=0;B<j&&p<f;){let O=bn(t,B);u<0&&(m<f&&O==e[m]&&(o[m++]=B),v<f&&(O==e[v]||O==n[v]?(v==0&&(S=B),k=B+1,v++):v=0));let z,U=O<255?O>=48&&O<=57||O>=97&&O<=122?2:O>=65&&O<=90?1:0:(z=Hm(O))!=z.toLowerCase()?1:z!=z.toUpperCase()?2:0;(!B||U==1&&C||R==0&&U!=0)&&(e[p]==O||n[p]==O&&(b=!0)?a[p++]=B:a.length&&(A=!1)),R=U,B+=Bi(O)}return p==f&&a[0]==0&&A?this.result(-100+(b?-200:0),a,t):v==f&&S==0?this.ret(-200-t.length+(k==t.length?0:-100),[0,k]):u>-1?this.ret(-700-t.length,[u,u+this.pattern.length]):v==f?this.ret(-900-t.length,[S,k]):p==f?this.result(-100+(b?-200:0)+-700+(A?0:-1100),a,t):e.length==2?null:this.result((r[0]?-700:0)+-200+-1100,r,t)}result(t,e,n){let r=[],o=0;for(let a of e){let u=a+(this.astral?Bi(bn(n,a)):1);o&&r[o-1]==a?r[o-1]=u:(r[o++]=a,r[o++]=u)}return this.ret(t-n.length,r)}}class E3{constructor(t){this.pattern=t,this.matched=[],this.score=0,this.folded=t.toLowerCase()}match(t){if(t.length<this.pattern.length)return null;let e=t.slice(0,this.pattern.length),n=e==this.pattern?0:e.toLowerCase()==this.folded?-200:null;return n==null?null:(this.matched=[0,e.length],this.score=n+(t.length==this.pattern.length?0:-100),this)}}const Ve=ft.define({combine(i){return Vi(i,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:R3,filterStrict:!1,compareCompletions:(t,e)=>t.label.localeCompare(e.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(t,e)=>t&&e,closeOnBlur:(t,e)=>t&&e,icons:(t,e)=>t&&e,tooltipClass:(t,e)=>n=>F1(t(n),e(n)),optionClass:(t,e)=>n=>F1(t(n),e(n)),addToOptions:(t,e)=>t.concat(e),filterStrict:(t,e)=>t||e})}});function F1(i,t){return i?t?i+" "+t:i:t}function R3(i,t,e,n,r,o){let a=i.textDirection==oe.RTL,u=a,f=!1,d="top",m,p,b=t.left-r.left,v=r.right-t.right,S=n.right-n.left,k=n.bottom-n.top;if(u&&b<Math.min(S,v)?u=!1:!u&&v<Math.min(S,b)&&(u=!0),S<=(u?b:v))m=Math.max(r.top,Math.min(e.top,r.bottom-k))-t.top,p=Math.min(400,u?b:v);else{f=!0,p=Math.min(400,(a?t.right:r.right-t.left)-30);let B=r.bottom-t.bottom;B>=k||B>t.top?m=e.bottom-t.top:(d="bottom",m=t.bottom-e.top)}let C=(t.bottom-t.top)/o.offsetHeight,A=(t.right-t.left)/o.offsetWidth;return{style:`${d}: ${m/C}px; max-width: ${p/A}px`,class:"cm-completionInfo-"+(f?a?"left-narrow":"right-narrow":u?"left":"right")}}function N3(i){let t=i.addToOptions.slice();return i.icons&&t.push({render(e){let n=document.createElement("div");return n.classList.add("cm-completionIcon"),e.type&&n.classList.add(...e.type.split(/\s+/g).map(r=>"cm-completionIcon-"+r)),n.setAttribute("aria-hidden","true"),n},position:20}),t.push({render(e,n,r,o){let a=document.createElement("span");a.className="cm-completionLabel";let u=e.displayLabel||e.label,f=0;for(let d=0;d<o.length;){let m=o[d++],p=o[d++];m>f&&a.appendChild(document.createTextNode(u.slice(f,m)));let b=a.appendChild(document.createElement("span"));b.appendChild(document.createTextNode(u.slice(m,p))),b.className="cm-completionMatchedText",f=p}return f<u.length&&a.appendChild(document.createTextNode(u.slice(f))),a},position:50},{render(e){if(!e.detail)return null;let n=document.createElement("span");return n.className="cm-completionDetail",n.textContent=e.detail,n},position:80}),t.sort((e,n)=>e.position-n.position).map(e=>e.render)}function vg(i,t,e){if(i<=e)return{from:0,to:i};if(t<0&&(t=0),t<=i>>1){let r=Math.floor(t/e);return{from:r*e,to:(r+1)*e}}let n=Math.floor((i-t)/e);return{from:i-(n+1)*e,to:i-n*e}}class B3{constructor(t,e,n){this.view=t,this.stateField=e,this.applyCompletion=n,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:f=>this.placeInfo(f),key:this},this.space=null,this.currentClass="";let r=t.state.field(e),{options:o,selected:a}=r.open,u=t.state.facet(Ve);this.optionContent=N3(u),this.optionClass=u.optionClass,this.tooltipClass=u.tooltipClass,this.range=vg(o.length,a,u.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(t.state),this.dom.addEventListener("mousedown",f=>{let{options:d}=t.state.field(e).open;for(let m=f.target,p;m&&m!=this.dom;m=m.parentNode)if(m.nodeName=="LI"&&(p=/-(\d+)$/.exec(m.id))&&+p[1]<d.length){this.applyCompletion(t,d[+p[1]]),f.preventDefault();return}}),this.dom.addEventListener("focusout",f=>{let d=t.state.field(this.stateField,!1);d&&d.tooltip&&t.state.facet(Ve).closeOnBlur&&f.relatedTarget!=t.contentDOM&&t.dispatch({effects:Sa.of(null)})}),this.showOptions(o,r.id)}mount(){this.updateSel()}showOptions(t,e){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(t,e,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(t){var e;let n=t.state.field(this.stateField),r=t.startState.field(this.stateField);if(this.updateTooltipClass(t.state),n!=r){let{options:o,selected:a,disabled:u}=n.open;(!r.open||r.open.options!=o)&&(this.range=vg(o.length,a,t.state.facet(Ve).maxRenderedOptions),this.showOptions(o,n.id)),this.updateSel(),u!=((e=r.open)===null||e===void 0?void 0:e.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!u)}}updateTooltipClass(t){let e=this.tooltipClass(t);if(e!=this.currentClass){for(let n of this.currentClass.split(" "))n&&this.dom.classList.remove(n);for(let n of e.split(" "))n&&this.dom.classList.add(n);this.currentClass=e}}positioned(t){this.space=t,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let t=this.view.state.field(this.stateField),e=t.open;if((e.selected>-1&&e.selected<this.range.from||e.selected>=this.range.to)&&(this.range=vg(e.options.length,e.selected,this.view.state.facet(Ve).maxRenderedOptions),this.showOptions(e.options,t.id)),this.updateSelectedOption(e.selected)){this.destroyInfo();let{completion:n}=e.options[e.selected],{info:r}=n;if(!r)return;let o=typeof r=="string"?document.createTextNode(r):r(n);if(!o)return;"then"in o?o.then(a=>{a&&this.view.state.field(this.stateField,!1)==t&&this.addInfoPane(a,n)}).catch(a=>Sn(this.view.state,a,"completion info")):this.addInfoPane(o,n)}}addInfoPane(t,e){this.destroyInfo();let n=this.info=document.createElement("div");if(n.className="cm-tooltip cm-completionInfo",t.nodeType!=null)n.appendChild(t),this.infoDestroy=null;else{let{dom:r,destroy:o}=t;n.appendChild(r),this.infoDestroy=o||null}this.dom.appendChild(n),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(t){let e=null;for(let n=this.list.firstChild,r=this.range.from;n;n=n.nextSibling,r++)n.nodeName!="LI"||!n.id?r--:r==t?n.hasAttribute("aria-selected")||(n.setAttribute("aria-selected","true"),e=n):n.hasAttribute("aria-selected")&&n.removeAttribute("aria-selected");return e&&z3(this.list,e),e}measureInfo(){let t=this.dom.querySelector("[aria-selected]");if(!t||!this.info)return null;let e=this.dom.getBoundingClientRect(),n=this.info.getBoundingClientRect(),r=t.getBoundingClientRect(),o=this.space;if(!o){let a=this.dom.ownerDocument.documentElement;o={left:0,top:0,right:a.clientWidth,bottom:a.clientHeight}}return r.top>Math.min(o.bottom,e.bottom)-10||r.bottom<Math.max(o.top,e.top)+10?null:this.view.state.facet(Ve).positionInfo(this.view,e,r,n,o,this.dom)}placeInfo(t){this.info&&(t?(t.style&&(this.info.style.cssText=t.style),this.info.className="cm-tooltip cm-completionInfo "+(t.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(t,e,n){const r=document.createElement("ul");r.id=e,r.setAttribute("role","listbox"),r.setAttribute("aria-expanded","true"),r.setAttribute("aria-label",this.view.state.phrase("Completions")),r.addEventListener("mousedown",a=>{a.target==r&&a.preventDefault()});let o=null;for(let a=n.from;a<n.to;a++){let{completion:u,match:f}=t[a],{section:d}=u;if(d){let b=typeof d=="string"?d:d.name;if(b!=o&&(a>n.from||n.from==0))if(o=b,typeof d!="string"&&d.header)r.appendChild(d.header(d));else{let v=r.appendChild(document.createElement("completion-section"));v.textContent=b}}const m=r.appendChild(document.createElement("li"));m.id=e+"-"+a,m.setAttribute("role","option");let p=this.optionClass(u);p&&(m.className=p);for(let b of this.optionContent){let v=b(u,this.view.state,this.view,f);v&&m.appendChild(v)}}return n.from&&r.classList.add("cm-completionListIncompleteTop"),n.to<t.length&&r.classList.add("cm-completionListIncompleteBottom"),r}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function L3(i,t){return e=>new B3(e,i,t)}function z3(i,t){let e=i.getBoundingClientRect(),n=t.getBoundingClientRect(),r=e.height/i.offsetHeight;n.top<e.top?i.scrollTop-=(e.top-n.top)/r:n.bottom>e.bottom&&(i.scrollTop+=(n.bottom-e.bottom)/r)}function Z1(i){return(i.boost||0)*100+(i.apply?10:0)+(i.info?5:0)+(i.type?1:0)}function H3(i,t){let e=[],n=null,r=d=>{e.push(d);let{section:m}=d.completion;if(m){n||(n=[]);let p=typeof m=="string"?m:m.name;n.some(b=>b.name==p)||n.push(typeof m=="string"?{name:p}:m)}},o=t.facet(Ve);for(let d of i)if(d.hasResult()){let m=d.result.getMatch;if(d.result.filter===!1)for(let p of d.result.options)r(new K1(p,d.source,m?m(p):[],1e9-e.length));else{let p=t.sliceDoc(d.from,d.to),b,v=o.filterStrict?new E3(p):new O3(p);for(let S of d.result.options)if(b=v.match(S.label)){let k=S.displayLabel?m?m(S,b.matched):[]:b.matched;r(new K1(S,d.source,k,b.score+(S.boost||0)))}}}if(n){let d=Object.create(null),m=0,p=(b,v)=>{var S,k;return((S=b.rank)!==null&&S!==void 0?S:1e9)-((k=v.rank)!==null&&k!==void 0?k:1e9)||(b.name<v.name?-1:1)};for(let b of n.sort(p))m-=1e5,d[b.name]=m;for(let b of e){let{section:v}=b.completion;v&&(b.score+=d[typeof v=="string"?v:v.name])}}let a=[],u=null,f=o.compareCompletions;for(let d of e.sort((m,p)=>p.score-m.score||f(m.completion,p.completion))){let m=d.completion;!u||u.label!=m.label||u.detail!=m.detail||u.type!=null&&m.type!=null&&u.type!=m.type||u.apply!=m.apply||u.boost!=m.boost?a.push(d):Z1(d.completion)>Z1(u)&&(a[a.length-1]=d),u=d.completion}return a}class Ml{constructor(t,e,n,r,o,a){this.options=t,this.attrs=e,this.tooltip=n,this.timestamp=r,this.selected=o,this.disabled=a}setSelected(t,e){return t==this.selected||t>=this.options.length?this:new Ml(this.options,$1(e,t),this.tooltip,this.timestamp,t,this.disabled)}static build(t,e,n,r,o,a){if(r&&!a&&t.some(d=>d.isPending))return r.setDisabled();let u=H3(t,e);if(!u.length)return r&&t.some(d=>d.isPending)?r.setDisabled():null;let f=e.facet(Ve).selectOnOpen?0:-1;if(r&&r.selected!=f&&r.selected!=-1){let d=r.options[r.selected].completion;for(let m=0;m<u.length;m++)if(u[m].completion==d){f=m;break}}return new Ml(u,$1(n,f),{pos:t.reduce((d,m)=>m.hasResult()?Math.min(d,m.from):d,1e8),create:P3,above:o.aboveCursor},r?r.timestamp:Date.now(),f,!1)}map(t){return new Ml(this.options,this.attrs,{...this.tooltip,pos:t.mapPos(this.tooltip.pos)},this.timestamp,this.selected,this.disabled)}setDisabled(){return new Ml(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class ah{constructor(t,e,n){this.active=t,this.id=e,this.open=n}static start(){return new ah(q3,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(t){let{state:e}=t,n=e.facet(Ve),o=(n.override||e.languageDataAt("autocomplete",Ar(e)).map(D3)).map(f=>(this.active.find(m=>m.source==f)||new ei(f,this.active.some(m=>m.state!=0)?1:0)).update(t,n));o.length==this.active.length&&o.every((f,d)=>f==this.active[d])&&(o=this.active);let a=this.open,u=t.effects.some(f=>f.is(up));a&&t.docChanged&&(a=a.map(t.changes)),t.selection||o.some(f=>f.hasResult()&&t.changes.touchesRange(f.from,f.to))||!j3(o,this.active)||u?a=Ml.build(o,e,this.id,a,n,u):a&&a.disabled&&!o.some(f=>f.isPending)&&(a=null),!a&&o.every(f=>!f.isPending)&&o.some(f=>f.hasResult())&&(o=o.map(f=>f.hasResult()?new ei(f.source,0):f));for(let f of t.effects)f.is(O2)&&(a=a&&a.setSelected(f.value,this.id));return o==this.active&&a==this.open?this:new ah(o,this.id,a)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?_3:U3}}function j3(i,t){if(i==t)return!0;for(let e=0,n=0;;){for(;e<i.length&&!i[e].hasResult();)e++;for(;n<t.length&&!t[n].hasResult();)n++;let r=e==i.length,o=n==t.length;if(r||o)return r==o;if(i[e++].result!=t[n++].result)return!1}}const _3={"aria-autocomplete":"list"},U3={};function $1(i,t){let e={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":i};return t>-1&&(e["aria-activedescendant"]=i+"-"+t),e}const q3=[];function D2(i,t){if(i.isUserEvent("input.complete")){let n=i.annotation(T2);if(n&&t.activateOnCompletion(n))return 12}let e=i.isUserEvent("input.type");return e&&t.activateOnTyping?5:e?1:i.isUserEvent("delete.backward")?2:i.selection?8:i.docChanged?16:0}class ei{constructor(t,e,n=!1){this.source=t,this.state=e,this.explicit=n}hasResult(){return!1}get isPending(){return this.state==1}update(t,e){let n=D2(t,e),r=this;(n&8||n&16&&this.touches(t))&&(r=new ei(r.source,0)),n&4&&r.state==0&&(r=new ei(this.source,1)),r=r.updateFor(t,n);for(let o of t.effects)if(o.is(oh))r=new ei(r.source,1,o.value);else if(o.is(Sa))r=new ei(r.source,0);else if(o.is(up))for(let a of o.value)a.source==r.source&&(r=a);return r}updateFor(t,e){return this.map(t.changes)}map(t){return this}touches(t){return t.changes.touchesRange(Ar(t.state))}}class Rl extends ei{constructor(t,e,n,r,o,a){super(t,3,e),this.limit=n,this.result=r,this.from=o,this.to=a}hasResult(){return!0}updateFor(t,e){var n;if(!(e&3))return this.map(t.changes);let r=this.result;r.map&&!t.changes.empty&&(r=r.map(r,t.changes));let o=t.changes.mapPos(this.from),a=t.changes.mapPos(this.to,1),u=Ar(t.state);if(u>a||!r||e&2&&(Ar(t.startState)==this.from||u<this.limit))return new ei(this.source,e&4?1:0);let f=t.changes.mapPos(this.limit);return V3(r.validFor,t.state,o,a)?new Rl(this.source,this.explicit,f,r,o,a):r.update&&(r=r.update(r,o,a,new A2(t.state,u,!1)))?new Rl(this.source,this.explicit,f,r,r.from,(n=r.to)!==null&&n!==void 0?n:Ar(t.state)):new ei(this.source,1,this.explicit)}map(t){return t.empty?this:(this.result.map?this.result.map(this.result,t):this.result)?new Rl(this.source,this.explicit,t.mapPos(this.limit),this.result,t.mapPos(this.from),t.mapPos(this.to,1)):new ei(this.source,0)}touches(t){return t.changes.touchesRange(this.from,this.to)}}function V3(i,t,e,n){if(!i)return!1;let r=t.sliceDoc(e,n);return typeof i=="function"?i(r,e,n,t):M2(i,!0).test(r)}const up=Ct.define({map(i,t){return i.map(e=>e.map(t))}}),O2=Ct.define(),xn=Ze.define({create(){return ah.start()},update(i,t){return i.update(t)},provide:i=>[Fm.from(i,t=>t.tooltip),at.contentAttributes.from(i,t=>t.attrs)]});function hp(i,t){const e=t.completion.apply||t.completion.label;let n=i.state.field(xn).active.find(r=>r.source==t.source);return n instanceof Rl?(typeof e=="string"?i.dispatch({...T3(i.state,e,n.from,n.to),annotations:T2.of(t.completion)}):e(i,t.completion,n.from,n.to),!0):!1}const P3=L3(xn,hp);function yu(i,t="option"){return e=>{let n=e.state.field(xn,!1);if(!n||!n.open||n.open.disabled||Date.now()-n.open.timestamp<e.state.facet(Ve).interactionDelay)return!1;let r=1,o;t=="page"&&(o=uw(e,n.open.tooltip))&&(r=Math.max(2,Math.floor(o.dom.offsetHeight/o.dom.querySelector("li").offsetHeight)-1));let{length:a}=n.open.options,u=n.open.selected>-1?n.open.selected+r*(i?1:-1):i?0:a-1;return u<0?u=t=="page"?0:a-1:u>=a&&(u=t=="page"?a-1:0),e.dispatch({effects:O2.of(u)}),!0}}const Y3=i=>{let t=i.state.field(xn,!1);return i.state.readOnly||!t||!t.open||t.open.selected<0||t.open.disabled||Date.now()-t.open.timestamp<i.state.facet(Ve).interactionDelay?!1:hp(i,t.open.options[t.open.selected])},xg=i=>i.state.field(xn,!1)?(i.dispatch({effects:oh.of(!0)}),!0):!1,G3=i=>{let t=i.state.field(xn,!1);return!t||!t.active.some(e=>e.state!=0)?!1:(i.dispatch({effects:Sa.of(null)}),!0)};class I3{constructor(t,e){this.active=t,this.context=e,this.time=Date.now(),this.updates=[],this.done=void 0}}const X3=50,Q3=1e3,K3=ve.fromClass(class{constructor(i){this.view=i,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let t of i.state.field(xn).active)t.isPending&&this.startQuery(t)}update(i){let t=i.state.field(xn),e=i.state.facet(Ve);if(!i.selectionSet&&!i.docChanged&&i.startState.field(xn)==t)return;let n=i.transactions.some(o=>{let a=D2(o,e);return a&8||(o.selection||o.docChanged)&&!(a&3)});for(let o=0;o<this.running.length;o++){let a=this.running[o];if(n||a.context.abortOnDocChange&&i.docChanged||a.updates.length+i.transactions.length>X3&&Date.now()-a.time>Q3){for(let u of a.context.abortListeners)try{u()}catch(f){Sn(this.view.state,f)}a.context.abortListeners=null,this.running.splice(o--,1)}else a.updates.push(...i.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),i.transactions.some(o=>o.effects.some(a=>a.is(oh)))&&(this.pendingStart=!0);let r=this.pendingStart?50:e.activateOnTypingDelay;if(this.debounceUpdate=t.active.some(o=>o.isPending&&!this.running.some(a=>a.active.source==o.source))?setTimeout(()=>this.startUpdate(),r):-1,this.composing!=0)for(let o of i.transactions)o.isUserEvent("input.type")?this.composing=2:this.composing==2&&o.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:i}=this.view,t=i.field(xn);for(let e of t.active)e.isPending&&!this.running.some(n=>n.active.source==e.source)&&this.startQuery(e);this.running.length&&t.open&&t.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Ve).updateSyncTime))}startQuery(i){let{state:t}=this.view,e=Ar(t),n=new A2(t,e,i.explicit,this.view),r=new I3(i,n);this.running.push(r),Promise.resolve(i.source(n)).then(o=>{r.context.aborted||(r.done=o||null,this.scheduleAccept())},o=>{this.view.dispatch({effects:Sa.of(null)}),Sn(this.view.state,o)})}scheduleAccept(){this.running.every(i=>i.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Ve).updateSyncTime))}accept(){var i;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let t=[],e=this.view.state.facet(Ve),n=this.view.state.field(xn);for(let r=0;r<this.running.length;r++){let o=this.running[r];if(o.done===void 0)continue;if(this.running.splice(r--,1),o.done){let u=Ar(o.updates.length?o.updates[0].startState:this.view.state),f=Math.min(u,o.done.from+(o.active.explicit?0:1)),d=new Rl(o.active.source,o.active.explicit,f,o.done,o.done.from,(i=o.done.to)!==null&&i!==void 0?i:u);for(let m of o.updates)d=d.update(m,e);if(d.hasResult()){t.push(d);continue}}let a=n.active.find(u=>u.source==o.active.source);if(a&&a.isPending)if(o.done==null){let u=new ei(o.active.source,0);for(let f of o.updates)u=u.update(f,e);u.isPending||t.push(u)}else this.startQuery(a)}(t.length||n.open&&n.open.disabled)&&this.view.dispatch({effects:up.of(t)})}},{eventHandlers:{blur(i){let t=this.view.state.field(xn,!1);if(t&&t.tooltip&&this.view.state.facet(Ve).closeOnBlur){let e=t.open&&uw(this.view,t.open.tooltip);(!e||!e.dom.contains(i.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:Sa.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:oh.of(!1)}),20),this.composing=0}}}),W3=typeof navigator=="object"&&/Win/.test(navigator.platform),F3=Nr.highest(at.domEventHandlers({keydown(i,t){let e=t.state.field(xn,!1);if(!e||!e.open||e.open.disabled||e.open.selected<0||i.key.length>1||i.ctrlKey&&!(W3&&i.altKey)||i.metaKey)return!1;let n=e.open.options[e.open.selected],r=e.active.find(a=>a.source==n.source),o=n.completion.commitCharacters||r.result.commitCharacters;return o&&o.indexOf(i.key)>-1&&hp(t,n),!1}})),Z3=at.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'𝑥'"}},".cm-completionIcon-constant":{"&:after":{content:"'𝐶'"}},".cm-completionIcon-type":{"&:after":{content:"'𝑡'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'🔑︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),wa={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},kr=Ct.define({map(i,t){let e=t.mapPos(i,-1,cn.TrackAfter);return e??void 0}}),fp=new class extends Mr{};fp.startSide=1;fp.endSide=-1;const E2=Ze.define({create(){return jt.empty},update(i,t){if(i=i.map(t.changes),t.selection){let e=t.state.doc.lineAt(t.selection.main.head);i=i.update({filter:n=>n>=e.from&&n<=e.to})}for(let e of t.effects)e.is(kr)&&(i=i.update({add:[fp.range(e.value,e.value+1)]}));return i}});function $3(){return[t4,E2]}const Sg="()[]{}<>«»»«［］｛｝";function R2(i){for(let t=0;t<Sg.length;t+=2)if(Sg.charCodeAt(t)==i)return Sg.charAt(t+1);return Hm(i<128?i:i+1)}function N2(i,t){return i.languageDataAt("closeBrackets",t)[0]||wa}const J3=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),t4=at.inputHandler.of((i,t,e,n)=>{if((J3?i.composing:i.compositionStarted)||i.state.readOnly)return!1;let r=i.state.selection.main;if(n.length>2||n.length==2&&Bi(bn(n,0))==1||t!=r.from||e!=r.to)return!1;let o=i4(i.state,n);return o?(i.dispatch(o),!0):!1}),e4=({state:i,dispatch:t})=>{if(i.readOnly)return!1;let n=N2(i,i.selection.main.head).brackets||wa.brackets,r=null,o=i.changeByRange(a=>{if(a.empty){let u=s4(i.doc,a.head);for(let f of n)if(f==u&&Nh(i.doc,a.head)==R2(bn(f,0)))return{changes:{from:a.head-f.length,to:a.head+f.length},range:Z.cursor(a.head-f.length)}}return{range:r=a}});return r||t(i.update(o,{scrollIntoView:!0,userEvent:"delete.backward"})),!r},n4=[{key:"Backspace",run:e4}];function i4(i,t){let e=N2(i,i.selection.main.head),n=e.brackets||wa.brackets;for(let r of n){let o=R2(bn(r,0));if(t==r)return o==r?o4(i,r,n.indexOf(r+r+r)>-1,e):r4(i,r,o,e.before||wa.before);if(t==o&&B2(i,i.selection.main.from))return l4(i,r,o)}return null}function B2(i,t){let e=!1;return i.field(E2).between(0,i.doc.length,n=>{n==t&&(e=!0)}),e}function Nh(i,t){let e=i.sliceString(t,t+2);return e.slice(0,Bi(bn(e,0)))}function s4(i,t){let e=i.sliceString(t-2,t);return Bi(bn(e,0))==e.length?e:e.slice(1)}function r4(i,t,e,n){let r=null,o=i.changeByRange(a=>{if(!a.empty)return{changes:[{insert:t,from:a.from},{insert:e,from:a.to}],effects:kr.of(a.to+t.length),range:Z.range(a.anchor+t.length,a.head+t.length)};let u=Nh(i.doc,a.head);return!u||/\s/.test(u)||n.indexOf(u)>-1?{changes:{insert:t+e,from:a.head},effects:kr.of(a.head+t.length),range:Z.cursor(a.head+t.length)}:{range:r=a}});return r?null:i.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function l4(i,t,e){let n=null,r=i.changeByRange(o=>o.empty&&Nh(i.doc,o.head)==e?{changes:{from:o.head,to:o.head+e.length,insert:e},range:Z.cursor(o.head+e.length)}:n={range:o});return n?null:i.update(r,{scrollIntoView:!0,userEvent:"input.type"})}function o4(i,t,e,n){let r=n.stringPrefixes||wa.stringPrefixes,o=null,a=i.changeByRange(u=>{if(!u.empty)return{changes:[{insert:t,from:u.from},{insert:t,from:u.to}],effects:kr.of(u.to+t.length),range:Z.range(u.anchor+t.length,u.head+t.length)};let f=u.head,d=Nh(i.doc,f),m;if(d==t){if(J1(i,f))return{changes:{insert:t+t,from:f},effects:kr.of(f+t.length),range:Z.cursor(f+t.length)};if(B2(i,f)){let b=e&&i.sliceDoc(f,f+t.length*3)==t+t+t?t+t+t:t;return{changes:{from:f,to:f+b.length,insert:b},range:Z.cursor(f+b.length)}}}else{if(e&&i.sliceDoc(f-2*t.length,f)==t+t&&(m=tx(i,f-2*t.length,r))>-1&&J1(i,m))return{changes:{insert:t+t+t+t,from:f},effects:kr.of(f+t.length),range:Z.cursor(f+t.length)};if(i.charCategorizer(f)(d)!=ce.Word&&tx(i,f,r)>-1&&!a4(i,f,t,r))return{changes:{insert:t+t,from:f},effects:kr.of(f+t.length),range:Z.cursor(f+t.length)}}return{range:o=u}});return o?null:i.update(a,{scrollIntoView:!0,userEvent:"input.type"})}function J1(i,t){let e=sn(i).resolveInner(t+1);return e.parent&&e.from==t}function a4(i,t,e,n){let r=sn(i).resolveInner(t,-1),o=n.reduce((a,u)=>Math.max(a,u.length),0);for(let a=0;a<5;a++){let u=i.sliceDoc(r.from,Math.min(r.to,r.from+e.length+o)),f=u.indexOf(e);if(!f||f>-1&&n.indexOf(u.slice(0,f))>-1){let m=r.firstChild;for(;m&&m.from==r.from&&m.to-m.from>e.length+f;){if(i.sliceDoc(m.to-e.length,m.to)==e)return!1;m=m.firstChild}return!0}let d=r.to==t&&r.parent;if(!d)break;r=d}return!1}function tx(i,t,e){let n=i.charCategorizer(t);if(n(i.sliceDoc(t-1,t))!=ce.Word)return t;for(let r of e){let o=t-r.length;if(i.sliceDoc(o,t)==r&&n(i.sliceDoc(o-1,o))!=ce.Word)return o}return-1}function c4(i={}){return[F3,xn,Ve.of(i),K3,u4,Z3]}const L2=[{key:"Ctrl-Space",run:xg},{mac:"Alt-`",run:xg},{mac:"Alt-i",run:xg},{key:"Escape",run:G3},{key:"ArrowDown",run:yu(!0)},{key:"ArrowUp",run:yu(!1)},{key:"PageDown",run:yu(!0,"page")},{key:"PageUp",run:yu(!1,"page")},{key:"Enter",run:Y3}],u4=Nr.highest(kh.computeN([Ve],i=>i.facet(Ve).defaultKeymap?[L2]:[]));class ex{constructor(t,e,n){this.from=t,this.to=e,this.diagnostic=n}}class Sr{constructor(t,e,n){this.diagnostics=t,this.panel=e,this.selected=n}static init(t,e,n){let r=n.facet(ka).markerFilter;r&&(t=r(t,n));let o=t.slice().sort((m,p)=>m.from-p.from||m.to-p.to),a=new cs,u=[],f=0;for(let m=0;;){let p=m==o.length?null:o[m];if(!p&&!u.length)break;let b,v;for(u.length?(b=f,v=u.reduce((k,C)=>Math.min(k,C.to),p&&p.from>b?p.from:1e8)):(b=p.from,v=p.to,u.push(p),m++);m<o.length;){let k=o[m];if(k.from==b&&(k.to>k.from||k.to==b))u.push(k),m++,v=Math.min(k.to,v);else{v=Math.min(k.from,v);break}}let S=k4(u);if(u.some(k=>k.from==k.to||k.from==k.to-1&&n.doc.lineAt(k.from).to==k.from))a.add(b,b,xt.widget({widget:new v4(S),diagnostics:u.slice()}));else{let k=u.reduce((C,A)=>A.markClass?C+" "+A.markClass:C,"");a.add(b,v,xt.mark({class:"cm-lintRange cm-lintRange-"+S+k,diagnostics:u.slice(),inclusiveEnd:u.some(C=>C.to>v)}))}f=v;for(let k=0;k<u.length;k++)u[k].to<=f&&u.splice(k--,1)}let d=a.finish();return new Sr(d,e,Vl(d))}}function Vl(i,t=null,e=0){let n=null;return i.between(e,1e9,(r,o,{spec:a})=>{if(!(t&&a.diagnostics.indexOf(t)<0))if(!n)n=new ex(r,o,t||a.diagnostics[0]);else{if(a.diagnostics.indexOf(n.diagnostic)<0)return!1;n=new ex(n.from,o,n.diagnostic)}}),n}function h4(i,t){let e=t.pos,n=t.end||e,r=i.state.facet(ka).hideOn(i,e,n);if(r!=null)return r;let o=i.startState.doc.lineAt(t.pos);return!!(i.effects.some(a=>a.is(z2))||i.changes.touchesRange(o.from,Math.max(o.to,n)))}function f4(i,t){return i.field(_n,!1)?t:t.concat(Ct.appendConfig.of(C4))}const z2=Ct.define(),dp=Ct.define(),H2=Ct.define(),_n=Ze.define({create(){return new Sr(xt.none,null,null)},update(i,t){if(t.docChanged&&i.diagnostics.size){let e=i.diagnostics.map(t.changes),n=null,r=i.panel;if(i.selected){let o=t.changes.mapPos(i.selected.from,1);n=Vl(e,i.selected.diagnostic,o)||Vl(e,null,o)}!e.size&&r&&t.state.facet(ka).autoPanel&&(r=null),i=new Sr(e,r,n)}for(let e of t.effects)if(e.is(z2)){let n=t.state.facet(ka).autoPanel?e.value.length?Ca.open:null:i.panel;i=Sr.init(e.value,n,t.state)}else e.is(dp)?i=new Sr(i.diagnostics,e.value?Ca.open:null,i.selected):e.is(H2)&&(i=new Sr(i.diagnostics,i.panel,e.value));return i},provide:i=>[ya.from(i,t=>t.panel),at.decorations.from(i,t=>t.diagnostics)]}),d4=xt.mark({class:"cm-lintRange cm-lintRange-active"});function g4(i,t,e){let{diagnostics:n}=i.state.field(_n),r,o=-1,a=-1;n.between(t-(e<0?1:0),t+(e>0?1:0),(f,d,{spec:m})=>{if(t>=f&&t<=d&&(f==d||(t>f||e>0)&&(t<d||e<0)))return r=m.diagnostics,o=f,a=d,!1});let u=i.state.facet(ka).tooltipFilter;return r&&u&&(r=u(r,i.state)),r?{pos:o,end:a,above:i.state.doc.lineAt(o).to<a,create(){return{dom:m4(i,r)}}}:null}function m4(i,t){return Jt("ul",{class:"cm-tooltip-lint"},t.map(e=>_2(i,e,!1)))}const p4=i=>{let t=i.state.field(_n,!1);(!t||!t.panel)&&i.dispatch({effects:f4(i.state,[dp.of(!0)])});let e=pa(i,Ca.open);return e&&e.dom.querySelector(".cm-panel-lint ul").focus(),!0},nx=i=>{let t=i.state.field(_n,!1);return!t||!t.panel?!1:(i.dispatch({effects:dp.of(!1)}),!0)},y4=i=>{let t=i.state.field(_n,!1);if(!t)return!1;let e=i.state.selection.main,n=t.diagnostics.iter(e.to+1);return!n.value&&(n=t.diagnostics.iter(0),!n.value||n.from==e.from&&n.to==e.to)?!1:(i.dispatch({selection:{anchor:n.from,head:n.to},scrollIntoView:!0}),!0)},b4=[{key:"Mod-Shift-m",run:p4,preventDefault:!0},{key:"F8",run:y4}],ka=ft.define({combine(i){return Object.assign({sources:i.map(t=>t.source).filter(t=>t!=null)},Vi(i.map(t=>t.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(t,e)=>t?e?n=>t(n)||e(n):t:e}))}});function j2(i){let t=[];if(i)t:for(let{name:e}of i){for(let n=0;n<e.length;n++){let r=e[n];if(/[a-zA-Z]/.test(r)&&!t.some(o=>o.toLowerCase()==r.toLowerCase())){t.push(r);continue t}}t.push("")}return t}function _2(i,t,e){var n;let r=e?j2(t.actions):[];return Jt("li",{class:"cm-diagnostic cm-diagnostic-"+t.severity},Jt("span",{class:"cm-diagnosticText"},t.renderMessage?t.renderMessage(i):t.message),(n=t.actions)===null||n===void 0?void 0:n.map((o,a)=>{let u=!1,f=b=>{if(b.preventDefault(),u)return;u=!0;let v=Vl(i.state.field(_n).diagnostics,t);v&&o.apply(i,v.from,v.to)},{name:d}=o,m=r[a]?d.indexOf(r[a]):-1,p=m<0?d:[d.slice(0,m),Jt("u",d.slice(m,m+1)),d.slice(m+1)];return Jt("button",{type:"button",class:"cm-diagnosticAction",onclick:f,onmousedown:f,"aria-label":` Action: ${d}${m<0?"":` (access key "${r[a]})"`}.`},p)}),t.source&&Jt("div",{class:"cm-diagnosticSource"},t.source))}class v4 extends fs{constructor(t){super(),this.sev=t}eq(t){return t.sev==this.sev}toDOM(){return Jt("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class ix{constructor(t,e){this.diagnostic=e,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=_2(t,e,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class Ca{constructor(t){this.view=t,this.items=[];let e=r=>{if(r.keyCode==27)nx(this.view),this.view.focus();else if(r.keyCode==38||r.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(r.keyCode==40||r.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(r.keyCode==36)this.moveSelection(0);else if(r.keyCode==35)this.moveSelection(this.items.length-1);else if(r.keyCode==13)this.view.focus();else if(r.keyCode>=65&&r.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:o}=this.items[this.selectedIndex],a=j2(o.actions);for(let u=0;u<a.length;u++)if(a[u].toUpperCase().charCodeAt(0)==r.keyCode){let f=Vl(this.view.state.field(_n).diagnostics,o);f&&o.actions[u].apply(t,f.from,f.to)}}else return;r.preventDefault()},n=r=>{for(let o=0;o<this.items.length;o++)this.items[o].dom.contains(r.target)&&this.moveSelection(o)};this.list=Jt("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:e,onclick:n}),this.dom=Jt("div",{class:"cm-panel-lint"},this.list,Jt("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>nx(this.view)},"×")),this.update()}get selectedIndex(){let t=this.view.state.field(_n).selected;if(!t)return-1;for(let e=0;e<this.items.length;e++)if(this.items[e].diagnostic==t.diagnostic)return e;return-1}update(){let{diagnostics:t,selected:e}=this.view.state.field(_n),n=0,r=!1,o=null,a=new Set;for(t.between(0,this.view.state.doc.length,(u,f,{spec:d})=>{for(let m of d.diagnostics){if(a.has(m))continue;a.add(m);let p=-1,b;for(let v=n;v<this.items.length;v++)if(this.items[v].diagnostic==m){p=v;break}p<0?(b=new ix(this.view,m),this.items.splice(n,0,b),r=!0):(b=this.items[p],p>n&&(this.items.splice(n,p-n),r=!0)),e&&b.diagnostic==e.diagnostic?b.dom.hasAttribute("aria-selected")||(b.dom.setAttribute("aria-selected","true"),o=b):b.dom.hasAttribute("aria-selected")&&b.dom.removeAttribute("aria-selected"),n++}});n<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)r=!0,this.items.pop();this.items.length==0&&(this.items.push(new ix(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),r=!0),o?(this.list.setAttribute("aria-activedescendant",o.id),this.view.requestMeasure({key:this,read:()=>({sel:o.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:u,panel:f})=>{let d=f.height/this.list.offsetHeight;u.top<f.top?this.list.scrollTop-=(f.top-u.top)/d:u.bottom>f.bottom&&(this.list.scrollTop+=(u.bottom-f.bottom)/d)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),r&&this.sync()}sync(){let t=this.list.firstChild;function e(){let n=t;t=n.nextSibling,n.remove()}for(let n of this.items)if(n.dom.parentNode==this.list){for(;t!=n.dom;)e();t=n.dom.nextSibling}else this.list.insertBefore(n.dom,t);for(;t;)e()}moveSelection(t){if(this.selectedIndex<0)return;let e=this.view.state.field(_n),n=Vl(e.diagnostics,this.items[t].diagnostic);n&&this.view.dispatch({selection:{anchor:n.from,head:n.to},scrollIntoView:!0,effects:H2.of(n)})}static open(t){return new Ca(t)}}function x4(i,t='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${t}>${encodeURIComponent(i)}</svg>')`}function bu(i){return x4(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${i}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const S4=at.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:bu("#d11")},".cm-lintRange-warning":{backgroundImage:bu("orange")},".cm-lintRange-info":{backgroundImage:bu("#999")},".cm-lintRange-hint":{backgroundImage:bu("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function w4(i){return i=="error"?4:i=="warning"?3:i=="info"?2:1}function k4(i){let t="hint",e=1;for(let n of i){let r=w4(n.severity);r>e&&(e=r,t=n.severity)}return t}const C4=[_n,at.decorations.compute([_n],i=>{let{selected:t,panel:e}=i.field(_n);return!t||!e||t.from==t.to?xt.none:xt.set([d4.range(t.from,t.to)])}),vO(g4,{hideOn:h4}),S4];var sx=function(t){t===void 0&&(t={});var{crosshairCursor:e=!1}=t,n=[];t.closeBracketsKeymap!==!1&&(n=n.concat(n4)),t.defaultKeymap!==!1&&(n=n.concat(WR)),t.searchKeymap!==!1&&(n=n.concat(S3)),t.historyKeymap!==!1&&(n=n.concat(sR)),t.foldKeymap!==!1&&(n=n.concat(bE)),t.completionKeymap!==!1&&(n=n.concat(L2)),t.lintKeymap!==!1&&(n=n.concat(b4));var r=[];return t.lineNumbers!==!1&&r.push(Xu()),t.highlightActiveLineGutter!==!1&&r.push(NO()),t.highlightSpecialChars!==!1&&r.push(KD()),t.history!==!1&&r.push(WE()),t.foldGutter!==!1&&r.push(wE()),t.drawSelection!==!1&&r.push(jD()),t.dropCursor!==!1&&r.push(PD()),t.allowMultipleSelections!==!1&&r.push(Lt.allowMultipleSelections.of(!0)),t.indentOnInput!==!1&&r.push(aE()),t.syntaxHighlighting!==!1&&r.push(Lw(ME,{fallback:!0})),t.bracketMatching!==!1&&r.push(BE()),t.closeBrackets!==!1&&r.push($3()),t.autocompletion!==!1&&r.push(c4()),t.rectangularSelection!==!1&&r.push(aO()),e!==!1&&r.push(hO()),t.highlightActiveLine!==!1&&r.push(tO()),t.highlightSelectionMatches!==!1&&r.push(n3()),t.tabSize&&typeof t.tabSize=="number"&&r.push(Ah.of(" ".repeat(t.tabSize))),r.concat([kh.of(n.flat())]).filter(Boolean)};const A4="#e5c07b",rx="#e06c75",M4="#56b6c2",T4="#ffffff",Bu="#abb2bf",Tm="#7d8799",D4="#61afef",O4="#98c379",lx="#d19a66",E4="#c678dd",R4="#21252b",ox="#2c313a",ax="#282c34",wg="#353a42",N4="#3E4451",cx="#528bff",B4=at.theme({"&":{color:Bu,backgroundColor:ax},".cm-content":{caretColor:cx},".cm-cursor, .cm-dropCursor":{borderLeftColor:cx},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:N4},".cm-panels":{backgroundColor:R4,color:Bu},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:ax,color:Tm,border:"none"},".cm-activeLineGutter":{backgroundColor:ox},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:wg},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:wg,borderBottomColor:wg},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:ox,color:Bu}}},{dark:!0}),L4=Ba.define([{tag:G.keyword,color:E4},{tag:[G.name,G.deleted,G.character,G.propertyName,G.macroName],color:rx},{tag:[G.function(G.variableName),G.labelName],color:D4},{tag:[G.color,G.constant(G.name),G.standard(G.name)],color:lx},{tag:[G.definition(G.name),G.separator],color:Bu},{tag:[G.typeName,G.className,G.number,G.changed,G.annotation,G.modifier,G.self,G.namespace],color:A4},{tag:[G.operator,G.operatorKeyword,G.url,G.escape,G.regexp,G.link,G.special(G.string)],color:M4},{tag:[G.meta,G.comment],color:Tm},{tag:G.strong,fontWeight:"bold"},{tag:G.emphasis,fontStyle:"italic"},{tag:G.strikethrough,textDecoration:"line-through"},{tag:G.link,color:Tm,textDecoration:"underline"},{tag:G.heading,fontWeight:"bold",color:rx},{tag:[G.atom,G.bool,G.special(G.variableName)],color:lx},{tag:[G.processingInstruction,G.string,G.inserted],color:O4},{tag:G.invalid,color:T4}]),ch=[B4,Lw(L4)];var z4=at.theme({"&":{backgroundColor:"#fff"}},{dark:!1}),H4=function(t){t===void 0&&(t={});var{indentWithTab:e=!0,editable:n=!0,readOnly:r=!1,theme:o="light",placeholder:a="",basicSetup:u=!0}=t,f=[];switch(e&&f.unshift(kh.of([FR])),u&&(typeof u=="boolean"?f.unshift(sx()):f.unshift(sx(u))),a&&f.unshift(sO(a)),o){case"light":f.push(z4);break;case"dark":f.push(ch);break;case"none":break;default:f.push(o);break}return n===!1&&f.push(at.editable.of(!1)),r&&f.push(Lt.readOnly.of(!0)),[...f]},j4=i=>({line:i.state.doc.lineAt(i.state.selection.main.from),lineCount:i.state.doc.lines,lineBreak:i.state.lineBreak,length:i.state.doc.length,readOnly:i.state.readOnly,tabSize:i.state.tabSize,selection:i.state.selection,selectionAsSingle:i.state.selection.asSingle().main,ranges:i.state.selection.ranges,selectionCode:i.state.sliceDoc(i.state.selection.main.from,i.state.selection.main.to),selections:i.state.selection.ranges.map(t=>i.state.sliceDoc(t.from,t.to)),selectedText:i.state.selection.ranges.some(t=>!t.empty)});class _4{constructor(t,e){this.timeLeftMS=void 0,this.timeoutMS=void 0,this.isCancelled=!1,this.isTimeExhausted=!1,this.callbacks=[],this.timeLeftMS=e,this.timeoutMS=e,this.callbacks.push(t)}tick(){if(!this.isCancelled&&!this.isTimeExhausted&&(this.timeLeftMS--,this.timeLeftMS<=0)){this.isTimeExhausted=!0;var t=this.callbacks.slice();this.callbacks.length=0,t.forEach(e=>{try{e()}catch(n){console.error("TimeoutLatch callback error:",n)}})}}cancel(){this.isCancelled=!0,this.callbacks.length=0}reset(){this.timeLeftMS=this.timeoutMS,this.isCancelled=!1,this.isTimeExhausted=!1}get isDone(){return this.isCancelled||this.isTimeExhausted}}class ux{constructor(){this.interval=null,this.latches=new Set}add(t){this.latches.add(t),this.start()}remove(t){this.latches.delete(t),this.latches.size===0&&this.stop()}start(){this.interval===null&&(this.interval=setInterval(()=>{this.latches.forEach(t=>{t.tick(),t.isDone&&this.remove(t)})},1))}stop(){this.interval!==null&&(clearInterval(this.interval),this.interval=null)}}var kg=null,U4=()=>typeof window>"u"?new ux:(kg||(kg=new ux),kg),hx=qi.define(),q4=200,V4=[];function P4(i){var{value:t,selection:e,onChange:n,onStatistics:r,onCreateEditor:o,onUpdate:a,extensions:u=V4,autoFocus:f,theme:d="light",height:m=null,minHeight:p=null,maxHeight:b=null,width:v=null,minWidth:S=null,maxWidth:k=null,placeholder:C="",editable:A=!0,readOnly:B=!1,indentWithTab:j=!0,basicSetup:R=!0,root:O,initialState:z}=i,[U,K]=P.useState(),[tt,ut]=P.useState(),[it,et]=P.useState(),ct=P.useState(()=>({current:null}))[0],mt=P.useState(()=>({current:null}))[0],pt=at.theme({"&":{height:m,minHeight:p,maxHeight:b,width:v,minWidth:S,maxWidth:k},"& .cm-scroller":{height:"100% !important"}}),L=at.updateListener.of(ot=>{if(ot.docChanged&&typeof n=="function"&&!ot.transactions.some($=>$.annotation(hx))){ct.current?ct.current.reset():(ct.current=new _4(()=>{if(mt.current){var $=mt.current;mt.current=null,$()}ct.current=null},q4),U4().add(ct.current));var M=ot.state.doc,Y=M.toString();n(Y,ot)}r&&r(j4(ot))}),X=H4({theme:d,editable:A,readOnly:B,placeholder:C,indentWithTab:j,basicSetup:R}),st=[L,pt,...X];return a&&typeof a=="function"&&st.push(at.updateListener.of(a)),st=st.concat(u),P.useLayoutEffect(()=>{if(U&&!it){var ot={doc:t,selection:e,extensions:st},M=z?Lt.fromJSON(z.json,ot,z.fields):Lt.create(ot);if(et(M),!tt){var Y=new at({state:M,parent:U,root:O});ut(Y),o&&o(Y,M)}}return()=>{tt&&(et(void 0),ut(void 0))}},[U,it]),P.useEffect(()=>{i.container&&K(i.container)},[i.container]),P.useEffect(()=>()=>{tt&&(tt.destroy(),ut(void 0)),ct.current&&(ct.current.cancel(),ct.current=null)},[tt]),P.useEffect(()=>{f&&tt&&tt.focus()},[f,tt]),P.useEffect(()=>{tt&&tt.dispatch({effects:Ct.reconfigure.of(st)})},[d,u,m,p,b,v,S,k,C,A,B,j,R,n,a]),P.useEffect(()=>{if(t!==void 0){var ot=tt?tt.state.doc.toString():"";if(tt&&t!==ot){var M=ct.current&&!ct.current.isDone,Y=()=>{tt&&t!==tt.state.doc.toString()&&tt.dispatch({changes:{from:0,to:tt.state.doc.toString().length,insert:t||""},annotations:[hx.of(!0)]})};M?mt.current=Y:Y()}}},[t,tt]),{state:it,setState:et,view:tt,setView:ut,container:U,setContainer:K}}var Y4=["className","value","selection","extensions","onChange","onStatistics","onCreateEditor","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","readOnly","root","initialState"],uh=P.forwardRef((i,t)=>{var{className:e,value:n="",selection:r,extensions:o=[],onChange:a,onStatistics:u,onCreateEditor:f,onUpdate:d,autoFocus:m,theme:p="light",height:b,minHeight:v,maxHeight:S,width:k,minWidth:C,maxWidth:A,basicSetup:B,placeholder:j,indentWithTab:R,editable:O,readOnly:z,root:U,initialState:K}=i,tt=NM(i,Y4),ut=P.useRef(null),{state:it,view:et,container:ct,setContainer:mt}=P4({root:U,value:n,autoFocus:m,theme:p,height:b,minHeight:v,maxHeight:S,width:k,minWidth:C,maxWidth:A,basicSetup:B,placeholder:j,indentWithTab:R,editable:O,readOnly:z,selection:r,onChange:a,onStatistics:u,onCreateEditor:f,onUpdate:d,extensions:o,initialState:K});P.useImperativeHandle(t,()=>({editor:ut.current,state:it,view:et}),[ut,ct,it,et]);var pt=P.useCallback(X=>{ut.current=X,mt(X)},[mt]);if(typeof n!="string")throw new Error("value must be typeof string but got "+typeof n);var L=typeof p=="string"?"cm-theme-"+p:"cm-theme";return D.jsx("div",Ng({ref:pt,className:""+L+(e?" "+e:"")},tt))});uh.displayName="CodeMirror";var fx={};class hh{constructor(t,e,n,r,o,a,u,f,d,m=0,p){this.p=t,this.stack=e,this.state=n,this.reducePos=r,this.pos=o,this.score=a,this.buffer=u,this.bufferBase=f,this.curContext=d,this.lookAhead=m,this.parent=p}toString(){return`[${this.stack.filter((t,e)=>e%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(t,e,n=0){let r=t.parser.context;return new hh(t,[],e,n,n,0,[],0,r?new dx(r,r.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(t,e){this.stack.push(this.state,e,this.bufferBase+this.buffer.length),this.state=t}reduce(t){var e;let n=t>>19,r=t&65535,{parser:o}=this.p,a=this.reducePos<this.pos-25;a&&this.setLookAhead(this.pos);let u=o.dynamicPrecedence(r);if(u&&(this.score+=u),n==0){this.pushState(o.getGoto(this.state,r,!0),this.reducePos),r<o.minRepeatTerm&&this.storeNode(r,this.reducePos,this.reducePos,a?8:4,!0),this.reduceContext(r,this.reducePos);return}let f=this.stack.length-(n-1)*3-(t&262144?6:0),d=f?this.stack[f-2]:this.p.ranges[0].from,m=this.reducePos-d;m>=2e3&&!(!((e=this.p.parser.nodeSet.types[r])===null||e===void 0)&&e.isAnonymous)&&(d==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=m):this.p.lastBigReductionSize<m&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=d,this.p.lastBigReductionSize=m));let p=f?this.stack[f-1]:0,b=this.bufferBase+this.buffer.length-p;if(r<o.minRepeatTerm||t&131072){let v=o.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(r,d,v,b+4,!0)}if(t&262144)this.state=this.stack[f];else{let v=this.stack[f-3];this.state=o.getGoto(v,r,!0)}for(;this.stack.length>f;)this.stack.pop();this.reduceContext(r,d)}storeNode(t,e,n,r=4,o=!1){if(t==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let a=this,u=this.buffer.length;if(u==0&&a.parent&&(u=a.bufferBase-a.parent.bufferBase,a=a.parent),u>0&&a.buffer[u-4]==0&&a.buffer[u-1]>-1){if(e==n)return;if(a.buffer[u-2]>=e){a.buffer[u-2]=n;return}}}if(!o||this.pos==n)this.buffer.push(t,e,n,r);else{let a=this.buffer.length;if(a>0&&this.buffer[a-4]!=0){let u=!1;for(let f=a;f>0&&this.buffer[f-2]>n;f-=4)if(this.buffer[f-1]>=0){u=!0;break}if(u)for(;a>0&&this.buffer[a-2]>n;)this.buffer[a]=this.buffer[a-4],this.buffer[a+1]=this.buffer[a-3],this.buffer[a+2]=this.buffer[a-2],this.buffer[a+3]=this.buffer[a-1],a-=4,r>4&&(r-=4)}this.buffer[a]=t,this.buffer[a+1]=e,this.buffer[a+2]=n,this.buffer[a+3]=r}}shift(t,e,n,r){if(t&131072)this.pushState(t&65535,this.pos);else if((t&262144)==0){let o=t,{parser:a}=this.p;(r>this.pos||e<=a.maxNode)&&(this.pos=r,a.stateFlag(o,1)||(this.reducePos=r)),this.pushState(o,n),this.shiftContext(e,n),e<=a.maxNode&&this.buffer.push(e,n,r,4)}else this.pos=r,this.shiftContext(e,n),e<=this.p.parser.maxNode&&this.buffer.push(e,n,r,4)}apply(t,e,n,r){t&65536?this.reduce(t):this.shift(t,e,n,r)}useNode(t,e){let n=this.p.reused.length-1;(n<0||this.p.reused[n]!=t)&&(this.p.reused.push(t),n++);let r=this.pos;this.reducePos=this.pos=r+t.length,this.pushState(e,r),this.buffer.push(n,r,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,t,this,this.p.stream.reset(this.pos-t.length)))}split(){let t=this,e=t.buffer.length;for(;e>0&&t.buffer[e-2]>t.reducePos;)e-=4;let n=t.buffer.slice(e),r=t.bufferBase+e;for(;t&&r==t.bufferBase;)t=t.parent;return new hh(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,n,r,this.curContext,this.lookAhead,t)}recoverByDelete(t,e){let n=t<=this.p.parser.maxNode;n&&this.storeNode(t,this.pos,e,4),this.storeNode(0,this.pos,e,n?8:4),this.pos=this.reducePos=e,this.score-=190}canShift(t){for(let e=new G4(this);;){let n=this.p.parser.stateSlot(e.state,4)||this.p.parser.hasAction(e.state,t);if(n==0)return!1;if((n&65536)==0)return!0;e.reduce(n)}}recoverByInsert(t){if(this.stack.length>=300)return[];let e=this.p.parser.nextStates(this.state);if(e.length>8||this.stack.length>=120){let r=[];for(let o=0,a;o<e.length;o+=2)(a=e[o+1])!=this.state&&this.p.parser.hasAction(a,t)&&r.push(e[o],a);if(this.stack.length<120)for(let o=0;r.length<8&&o<e.length;o+=2){let a=e[o+1];r.some((u,f)=>f&1&&u==a)||r.push(e[o],a)}e=r}let n=[];for(let r=0;r<e.length&&n.length<4;r+=2){let o=e[r+1];if(o==this.state)continue;let a=this.split();a.pushState(o,this.pos),a.storeNode(0,a.pos,a.pos,4,!0),a.shiftContext(e[r],this.pos),a.reducePos=this.pos,a.score-=200,n.push(a)}return n}forceReduce(){let{parser:t}=this.p,e=t.stateSlot(this.state,5);if((e&65536)==0)return!1;if(!t.validAction(this.state,e)){let n=e>>19,r=e&65535,o=this.stack.length-n*3;if(o<0||t.getGoto(this.stack[o],r,!1)<0){let a=this.findForcedReduction();if(a==null)return!1;e=a}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(e),!0}findForcedReduction(){let{parser:t}=this.p,e=[],n=(r,o)=>{if(!e.includes(r))return e.push(r),t.allActions(r,a=>{if(!(a&393216))if(a&65536){let u=(a>>19)-o;if(u>1){let f=a&65535,d=this.stack.length-u*3;if(d>=0&&t.getGoto(this.stack[d],f,!1)>=0)return u<<19|65536|f}}else{let u=n(a,o+1);if(u!=null)return u}})};return n(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:t}=this.p;return t.data[t.stateSlot(this.state,1)]==65535&&!t.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(t){if(this.state!=t.state||this.stack.length!=t.stack.length)return!1;for(let e=0;e<this.stack.length;e+=3)if(this.stack[e]!=t.stack[e])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(t){return this.p.parser.dialect.flags[t]}shiftContext(t,e){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,t,this,this.p.stream.reset(e)))}reduceContext(t,e){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,t,this,this.p.stream.reset(e)))}emitContext(){let t=this.buffer.length-1;(t<0||this.buffer[t]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let t=this.buffer.length-1;(t<0||this.buffer[t]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(t){if(t!=this.curContext.context){let e=new dx(this.curContext.tracker,t);e.hash!=this.curContext.hash&&this.emitContext(),this.curContext=e}}setLookAhead(t){t>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=t)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class dx{constructor(t,e){this.tracker=t,this.context=e,this.hash=t.strict?t.hash(e):0}}class G4{constructor(t){this.start=t,this.state=t.state,this.stack=t.stack,this.base=this.stack.length}reduce(t){let e=t&65535,n=t>>19;n==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(n-1)*3;let r=this.start.p.parser.getGoto(this.stack[this.base-3],e,!0);this.state=r}}class fh{constructor(t,e,n){this.stack=t,this.pos=e,this.index=n,this.buffer=t.buffer,this.index==0&&this.maybeNext()}static create(t,e=t.bufferBase+t.buffer.length){return new fh(t,e,e-t.bufferBase)}maybeNext(){let t=this.stack.parent;t!=null&&(this.index=this.stack.bufferBase-t.bufferBase,this.stack=t,this.buffer=t.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new fh(this.stack,this.pos,this.index)}}function vu(i,t=Uint16Array){if(typeof i!="string")return i;let e=null;for(let n=0,r=0;n<i.length;){let o=0;for(;;){let a=i.charCodeAt(n++),u=!1;if(a==126){o=65535;break}a>=92&&a--,a>=34&&a--;let f=a-32;if(f>=46&&(f-=46,u=!0),o+=f,u)break;o*=46}e?e[r++]=o:e=new t(o)}return e}class Lu{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const gx=new Lu;class I4{constructor(t,e){this.input=t,this.ranges=e,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=gx,this.rangeIndex=0,this.pos=this.chunkPos=e[0].from,this.range=e[0],this.end=e[e.length-1].to,this.readNext()}resolveOffset(t,e){let n=this.range,r=this.rangeIndex,o=this.pos+t;for(;o<n.from;){if(!r)return null;let a=this.ranges[--r];o-=n.from-a.to,n=a}for(;e<0?o>n.to:o>=n.to;){if(r==this.ranges.length-1)return null;let a=this.ranges[++r];o+=a.from-n.to,n=a}return o}clipPos(t){if(t>=this.range.from&&t<this.range.to)return t;for(let e of this.ranges)if(e.to>t)return Math.max(t,e.from);return this.end}peek(t){let e=this.chunkOff+t,n,r;if(e>=0&&e<this.chunk.length)n=this.pos+t,r=this.chunk.charCodeAt(e);else{let o=this.resolveOffset(t,1);if(o==null)return-1;if(n=o,n>=this.chunk2Pos&&n<this.chunk2Pos+this.chunk2.length)r=this.chunk2.charCodeAt(n-this.chunk2Pos);else{let a=this.rangeIndex,u=this.range;for(;u.to<=n;)u=this.ranges[++a];this.chunk2=this.input.chunk(this.chunk2Pos=n),n+this.chunk2.length>u.to&&(this.chunk2=this.chunk2.slice(0,u.to-n)),r=this.chunk2.charCodeAt(0)}}return n>=this.token.lookAhead&&(this.token.lookAhead=n+1),r}acceptToken(t,e=0){let n=e?this.resolveOffset(e,-1):this.pos;if(n==null||n<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=t,this.token.end=n}acceptTokenTo(t,e){this.token.value=t,this.token.end=e}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:t,chunkPos:e}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=t,this.chunk2Pos=e,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let t=this.input.chunk(this.pos),e=this.pos+t.length;this.chunk=e>this.range.to?t.slice(0,this.range.to-this.pos):t,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(t=1){for(this.chunkOff+=t;this.pos+t>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();t-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=t,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(t,e){if(e?(this.token=e,e.start=t,e.lookAhead=t+1,e.value=e.extended=-1):this.token=gx,this.pos!=t){if(this.pos=t,t==this.end)return this.setDone(),this;for(;t<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;t>=this.range.to;)this.range=this.ranges[++this.rangeIndex];t>=this.chunkPos&&t<this.chunkPos+this.chunk.length?this.chunkOff=t-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(t,e){if(t>=this.chunkPos&&e<=this.chunkPos+this.chunk.length)return this.chunk.slice(t-this.chunkPos,e-this.chunkPos);if(t>=this.chunk2Pos&&e<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(t-this.chunk2Pos,e-this.chunk2Pos);if(t>=this.range.from&&e<=this.range.to)return this.input.read(t,e);let n="";for(let r of this.ranges){if(r.from>=e)break;r.to>t&&(n+=this.input.read(Math.max(r.from,t),Math.min(r.to,e)))}return n}}class Nl{constructor(t,e){this.data=t,this.id=e}token(t,e){let{parser:n}=e.p;X4(this.data,t,e,this.id,n.data,n.tokenPrecTable)}}Nl.prototype.contextual=Nl.prototype.fallback=Nl.prototype.extend=!1;Nl.prototype.fallback=Nl.prototype.extend=!1;function X4(i,t,e,n,r,o){let a=0,u=1<<n,{dialect:f}=e.p.parser;t:for(;(u&i[a])!=0;){let d=i[a+1];for(let v=a+3;v<d;v+=2)if((i[v+1]&u)>0){let S=i[v];if(f.allows(S)&&(t.token.value==-1||t.token.value==S||Q4(S,t.token.value,r,o))){t.acceptToken(S);break}}let m=t.next,p=0,b=i[a+2];if(t.next<0&&b>p&&i[d+b*3-3]==65535){a=i[d+b*3-1];continue t}for(;p<b;){let v=p+b>>1,S=d+v+(v<<1),k=i[S],C=i[S+1]||65536;if(m<k)b=v;else if(m>=C)p=v+1;else{a=i[S+2],t.advance();continue t}}break}}function mx(i,t,e){for(let n=t,r;(r=i[n])!=65535;n++)if(r==e)return n-t;return-1}function Q4(i,t,e,n){let r=mx(e,n,t);return r<0||mx(e,n,i)<r}const Hn=typeof process<"u"&&fx&&/\bparse\b/.test(fx.LOG);let Cg=null;function px(i,t,e){let n=i.cursor(qe.IncludeAnonymous);for(n.moveTo(t);;)if(!(e<0?n.childBefore(t):n.childAfter(t)))for(;;){if((e<0?n.to<t:n.from>t)&&!n.type.isError)return e<0?Math.max(0,Math.min(n.to-1,t-25)):Math.min(i.length,Math.max(n.from+1,t+25));if(e<0?n.prevSibling():n.nextSibling())break;if(!n.parent())return e<0?0:i.length}}class K4{constructor(t,e){this.fragments=t,this.nodeSet=e,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let t=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(t){for(this.safeFrom=t.openStart?px(t.tree,t.from+t.offset,1)-t.offset:t.from,this.safeTo=t.openEnd?px(t.tree,t.to+t.offset,-1)-t.offset:t.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(t.tree),this.start.push(-t.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(t){if(t<this.nextStart)return null;for(;this.fragment&&this.safeTo<=t;)this.nextFragment();if(!this.fragment)return null;for(;;){let e=this.trees.length-1;if(e<0)return this.nextFragment(),null;let n=this.trees[e],r=this.index[e];if(r==n.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let o=n.children[r],a=this.start[e]+n.positions[r];if(a>t)return this.nextStart=a,null;if(o instanceof Ae){if(a==t){if(a<this.safeFrom)return null;let u=a+o.length;if(u<=this.safeTo){let f=o.prop(Ot.lookAhead);if(!f||u+f<this.fragment.to)return o}}this.index[e]++,a+o.length>=Math.max(this.safeFrom,t)&&(this.trees.push(o),this.start.push(a),this.index.push(0))}else this.index[e]++,this.nextStart=a+o.length}}}class W4{constructor(t,e){this.stream=e,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=t.tokenizers.map(n=>new Lu)}getActions(t){let e=0,n=null,{parser:r}=t.p,{tokenizers:o}=r,a=r.stateSlot(t.state,3),u=t.curContext?t.curContext.hash:0,f=0;for(let d=0;d<o.length;d++){if((1<<d&a)==0)continue;let m=o[d],p=this.tokens[d];if(!(n&&!m.fallback)&&((m.contextual||p.start!=t.pos||p.mask!=a||p.context!=u)&&(this.updateCachedToken(p,m,t),p.mask=a,p.context=u),p.lookAhead>p.end+25&&(f=Math.max(p.lookAhead,f)),p.value!=0)){let b=e;if(p.extended>-1&&(e=this.addActions(t,p.extended,p.end,e)),e=this.addActions(t,p.value,p.end,e),!m.extend&&(n=p,e>b))break}}for(;this.actions.length>e;)this.actions.pop();return f&&t.setLookAhead(f),!n&&t.pos==this.stream.end&&(n=new Lu,n.value=t.p.parser.eofTerm,n.start=n.end=t.pos,e=this.addActions(t,n.value,n.end,e)),this.mainToken=n,this.actions}getMainToken(t){if(this.mainToken)return this.mainToken;let e=new Lu,{pos:n,p:r}=t;return e.start=n,e.end=Math.min(n+1,r.stream.end),e.value=n==r.stream.end?r.parser.eofTerm:0,e}updateCachedToken(t,e,n){let r=this.stream.clipPos(n.pos);if(e.token(this.stream.reset(r,t),n),t.value>-1){let{parser:o}=n.p;for(let a=0;a<o.specialized.length;a++)if(o.specialized[a]==t.value){let u=o.specializers[a](this.stream.read(t.start,t.end),n);if(u>=0&&n.p.parser.dialect.allows(u>>1)){(u&1)==0?t.value=u>>1:t.extended=u>>1;break}}}else t.value=0,t.end=this.stream.clipPos(r+1)}putAction(t,e,n,r){for(let o=0;o<r;o+=3)if(this.actions[o]==t)return r;return this.actions[r++]=t,this.actions[r++]=e,this.actions[r++]=n,r}addActions(t,e,n,r){let{state:o}=t,{parser:a}=t.p,{data:u}=a;for(let f=0;f<2;f++)for(let d=a.stateSlot(o,f?2:1);;d+=3){if(u[d]==65535)if(u[d+1]==1)d=ls(u,d+2);else{r==0&&u[d+1]==2&&(r=this.putAction(ls(u,d+2),e,n,r));break}u[d]==e&&(r=this.putAction(ls(u,d+1),e,n,r))}return r}}class F4{constructor(t,e,n,r){this.parser=t,this.input=e,this.ranges=r,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new I4(e,r),this.tokens=new W4(t,this.stream),this.topTerm=t.top[1];let{from:o}=r[0];this.stacks=[hh.start(this,t.top[0],o)],this.fragments=n.length&&this.stream.end-o>t.bufferLength*4?new K4(n,t.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let t=this.stacks,e=this.minStackPos,n=this.stacks=[],r,o;if(this.bigReductionCount>300&&t.length==1){let[a]=t;for(;a.forceReduce()&&a.stack.length&&a.stack[a.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let a=0;a<t.length;a++){let u=t[a];for(;;){if(this.tokens.mainToken=null,u.pos>e)n.push(u);else{if(this.advanceStack(u,n,t))continue;{r||(r=[],o=[]),r.push(u);let f=this.tokens.getMainToken(u);o.push(f.value,f.end)}}break}}if(!n.length){let a=r&&$4(r);if(a)return Hn&&console.log("Finish with "+this.stackID(a)),this.stackToTree(a);if(this.parser.strict)throw Hn&&r&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+e);this.recovering||(this.recovering=5)}if(this.recovering&&r){let a=this.stoppedAt!=null&&r[0].pos>this.stoppedAt?r[0]:this.runRecovery(r,o,n);if(a)return Hn&&console.log("Force-finish "+this.stackID(a)),this.stackToTree(a.forceAll())}if(this.recovering){let a=this.recovering==1?1:this.recovering*3;if(n.length>a)for(n.sort((u,f)=>f.score-u.score);n.length>a;)n.pop();n.some(u=>u.reducePos>e)&&this.recovering--}else if(n.length>1){t:for(let a=0;a<n.length-1;a++){let u=n[a];for(let f=a+1;f<n.length;f++){let d=n[f];if(u.sameState(d)||u.buffer.length>500&&d.buffer.length>500)if((u.score-d.score||u.buffer.length-d.buffer.length)>0)n.splice(f--,1);else{n.splice(a--,1);continue t}}}n.length>12&&n.splice(12,n.length-12)}this.minStackPos=n[0].pos;for(let a=1;a<n.length;a++)n[a].pos<this.minStackPos&&(this.minStackPos=n[a].pos);return null}stopAt(t){if(this.stoppedAt!=null&&this.stoppedAt<t)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=t}advanceStack(t,e,n){let r=t.pos,{parser:o}=this,a=Hn?this.stackID(t)+" -> ":"";if(this.stoppedAt!=null&&r>this.stoppedAt)return t.forceReduce()?t:null;if(this.fragments){let d=t.curContext&&t.curContext.tracker.strict,m=d?t.curContext.hash:0;for(let p=this.fragments.nodeAt(r);p;){let b=this.parser.nodeSet.types[p.type.id]==p.type?o.getGoto(t.state,p.type.id):-1;if(b>-1&&p.length&&(!d||(p.prop(Ot.contextHash)||0)==m))return t.useNode(p,b),Hn&&console.log(a+this.stackID(t)+` (via reuse of ${o.getName(p.type.id)})`),!0;if(!(p instanceof Ae)||p.children.length==0||p.positions[0]>0)break;let v=p.children[0];if(v instanceof Ae&&p.positions[0]==0)p=v;else break}}let u=o.stateSlot(t.state,4);if(u>0)return t.reduce(u),Hn&&console.log(a+this.stackID(t)+` (via always-reduce ${o.getName(u&65535)})`),!0;if(t.stack.length>=8400)for(;t.stack.length>6e3&&t.forceReduce(););let f=this.tokens.getActions(t);for(let d=0;d<f.length;){let m=f[d++],p=f[d++],b=f[d++],v=d==f.length||!n,S=v?t:t.split(),k=this.tokens.mainToken;if(S.apply(m,p,k?k.start:S.pos,b),Hn&&console.log(a+this.stackID(S)+` (via ${(m&65536)==0?"shift":`reduce of ${o.getName(m&65535)}`} for ${o.getName(p)} @ ${r}${S==t?"":", split"})`),v)return!0;S.pos>r?e.push(S):n.push(S)}return!1}advanceFully(t,e){let n=t.pos;for(;;){if(!this.advanceStack(t,null,null))return!1;if(t.pos>n)return yx(t,e),!0}}runRecovery(t,e,n){let r=null,o=!1;for(let a=0;a<t.length;a++){let u=t[a],f=e[a<<1],d=e[(a<<1)+1],m=Hn?this.stackID(u)+" -> ":"";if(u.deadEnd&&(o||(o=!0,u.restart(),Hn&&console.log(m+this.stackID(u)+" (restarted)"),this.advanceFully(u,n))))continue;let p=u.split(),b=m;for(let v=0;p.forceReduce()&&v<10&&(Hn&&console.log(b+this.stackID(p)+" (via force-reduce)"),!this.advanceFully(p,n));v++)Hn&&(b=this.stackID(p)+" -> ");for(let v of u.recoverByInsert(f))Hn&&console.log(m+this.stackID(v)+" (via recover-insert)"),this.advanceFully(v,n);this.stream.end>u.pos?(d==u.pos&&(d++,f=0),u.recoverByDelete(f,d),Hn&&console.log(m+this.stackID(u)+` (via recover-delete ${this.parser.getName(f)})`),yx(u,n)):(!r||r.score<u.score)&&(r=u)}return r}stackToTree(t){return t.close(),Ae.build({buffer:fh.create(t),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:t.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(t){let e=(Cg||(Cg=new WeakMap)).get(t);return e||Cg.set(t,e=String.fromCodePoint(this.nextStackID++)),e+t}}function yx(i,t){for(let e=0;e<t.length;e++){let n=t[e];if(n.pos==i.pos&&n.sameState(i)){t[e].score<i.score&&(t[e]=i);return}}t.push(i)}class Z4{constructor(t,e,n){this.source=t,this.flags=e,this.disabled=n}allows(t){return!this.disabled||this.disabled[t]==0}}class dh extends bw{constructor(t){if(super(),this.wrappers=[],t.version!=14)throw new RangeError(`Parser version (${t.version}) doesn't match runtime version (14)`);let e=t.nodeNames.split(" ");this.minRepeatTerm=e.length;for(let u=0;u<t.repeatNodeCount;u++)e.push("");let n=Object.keys(t.topRules).map(u=>t.topRules[u][1]),r=[];for(let u=0;u<e.length;u++)r.push([]);function o(u,f,d){r[u].push([f,f.deserialize(String(d))])}if(t.nodeProps)for(let u of t.nodeProps){let f=u[0];typeof f=="string"&&(f=Ot[f]);for(let d=1;d<u.length;){let m=u[d++];if(m>=0)o(m,f,u[d++]);else{let p=u[d+-m];for(let b=-m;b>0;b--)o(u[d++],f,p);d++}}}this.nodeSet=new Zm(e.map((u,f)=>kn.define({name:f>=this.minRepeatTerm?void 0:u,id:f,props:r[f],top:n.indexOf(f)>-1,error:f==0,skipped:t.skippedNodes&&t.skippedNodes.indexOf(f)>-1}))),t.propSources&&(this.nodeSet=this.nodeSet.extend(...t.propSources)),this.strict=!1,this.bufferLength=gw;let a=vu(t.tokenData);this.context=t.context,this.specializerSpecs=t.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let u=0;u<this.specializerSpecs.length;u++)this.specialized[u]=this.specializerSpecs[u].term;this.specializers=this.specializerSpecs.map(bx),this.states=vu(t.states,Uint32Array),this.data=vu(t.stateData),this.goto=vu(t.goto),this.maxTerm=t.maxTerm,this.tokenizers=t.tokenizers.map(u=>typeof u=="number"?new Nl(a,u):u),this.topRules=t.topRules,this.dialects=t.dialects||{},this.dynamicPrecedences=t.dynamicPrecedences||null,this.tokenPrecTable=t.tokenPrec,this.termNames=t.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(t,e,n){let r=new F4(this,t,e,n);for(let o of this.wrappers)r=o(r,t,e,n);return r}getGoto(t,e,n=!1){let r=this.goto;if(e>=r[0])return-1;for(let o=r[e+1];;){let a=r[o++],u=a&1,f=r[o++];if(u&&n)return f;for(let d=o+(a>>1);o<d;o++)if(r[o]==t)return f;if(u)return-1}}hasAction(t,e){let n=this.data;for(let r=0;r<2;r++)for(let o=this.stateSlot(t,r?2:1),a;;o+=3){if((a=n[o])==65535)if(n[o+1]==1)a=n[o=ls(n,o+2)];else{if(n[o+1]==2)return ls(n,o+2);break}if(a==e||a==0)return ls(n,o+1)}return 0}stateSlot(t,e){return this.states[t*6+e]}stateFlag(t,e){return(this.stateSlot(t,0)&e)>0}validAction(t,e){return!!this.allActions(t,n=>n==e?!0:null)}allActions(t,e){let n=this.stateSlot(t,4),r=n?e(n):void 0;for(let o=this.stateSlot(t,1);r==null;o+=3){if(this.data[o]==65535)if(this.data[o+1]==1)o=ls(this.data,o+2);else break;r=e(ls(this.data,o+1))}return r}nextStates(t){let e=[];for(let n=this.stateSlot(t,1);;n+=3){if(this.data[n]==65535)if(this.data[n+1]==1)n=ls(this.data,n+2);else break;if((this.data[n+2]&1)==0){let r=this.data[n+1];e.some((o,a)=>a&1&&o==r)||e.push(this.data[n],r)}}return e}configure(t){let e=Object.assign(Object.create(dh.prototype),this);if(t.props&&(e.nodeSet=this.nodeSet.extend(...t.props)),t.top){let n=this.topRules[t.top];if(!n)throw new RangeError(`Invalid top rule name ${t.top}`);e.top=n}return t.tokenizers&&(e.tokenizers=this.tokenizers.map(n=>{let r=t.tokenizers.find(o=>o.from==n);return r?r.to:n})),t.specializers&&(e.specializers=this.specializers.slice(),e.specializerSpecs=this.specializerSpecs.map((n,r)=>{let o=t.specializers.find(u=>u.from==n.external);if(!o)return n;let a=Object.assign(Object.assign({},n),{external:o.to});return e.specializers[r]=bx(a),a})),t.contextTracker&&(e.context=t.contextTracker),t.dialect&&(e.dialect=this.parseDialect(t.dialect)),t.strict!=null&&(e.strict=t.strict),t.wrap&&(e.wrappers=e.wrappers.concat(t.wrap)),t.bufferLength!=null&&(e.bufferLength=t.bufferLength),e}hasWrappers(){return this.wrappers.length>0}getName(t){return this.termNames?this.termNames[t]:String(t<=this.maxNode&&this.nodeSet.types[t].name||t)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(t){let e=this.dynamicPrecedences;return e==null?0:e[t]||0}parseDialect(t){let e=Object.keys(this.dialects),n=e.map(()=>!1);if(t)for(let o of t.split(" ")){let a=e.indexOf(o);a>=0&&(n[a]=!0)}let r=null;for(let o=0;o<e.length;o++)if(!n[o])for(let a=this.dialects[e[o]],u;(u=this.data[a++])!=65535;)(r||(r=new Uint8Array(this.maxTerm+1)))[u]=1;return new Z4(t,n,r)}static deserialize(t){return new dh(t)}}function ls(i,t){return i[t]|i[t+1]<<16}function $4(i){let t=null;for(let e of i){let n=e.p.stoppedAt;(e.pos==e.p.stream.end||n!=null&&e.pos>n)&&e.p.parser.stateFlag(e.state,2)&&(!t||t.score<e.score)&&(t=e)}return t}function bx(i){if(i.external){let t=i.extend?1:0;return(e,n)=>i.external(e,n)<<1|t}return i.get}const J4=vw({String:G.string,Number:G.number,"True False":G.bool,PropertyName:G.propertyName,Null:G.null,", :":G.separator,"[ ]":G.squareBracket,"{ }":G.brace}),tN=dh.deserialize({version:14,states:"$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#ClOOQO'#Cr'#CrQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CtOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59W,59WO!iQPO,59WOVQPO,59QOqQPO'#CmO!nQPO,59`OOQO1G.k1G.kOVQPO'#CnO!vQPO,59aOOQO1G.r1G.rOOQO1G.l1G.lOOQO,59X,59XOOQO-E6k-E6kOOQO,59Y,59YOOQO-E6l-E6l",stateData:"#O~OeOS~OQSORSOSSOTSOWQO_ROgPO~OVXOgUO~O^[O~PVO[^O~O]_OVhX~OVaO~O]bO^iX~O^dO~O]_OVha~O]bO^ia~O",goto:"!kjPPPPPPkPPkqwPPPPk{!RPPP!XP!e!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R",nodeNames:"⚠ JsonText True False Null Number String } { Object Property PropertyName : , ] [ Array",maxTerm:25,nodeProps:[["isolate",-2,6,11,""],["openedBy",7,"{",14,"["],["closedBy",8,"}",15,"]"]],propSources:[J4],skippedNodes:[0],repeatNodeCount:2,tokenData:"(|~RaXY!WYZ!W]^!Wpq!Wrs!]|}$u}!O$z!Q!R%T!R![&c![!]&t!}#O&y#P#Q'O#Y#Z'T#b#c'r#h#i(Z#o#p(r#q#r(w~!]Oe~~!`Wpq!]qr!]rs!xs#O!]#O#P!}#P;'S!];'S;=`$o<%lO!]~!}Og~~#QXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#m~#pR!Q![#y!c!i#y#T#Z#y~#|R!Q![$V!c!i$V#T#Z$V~$YR!Q![$c!c!i$c#T#Z$c~$fR!Q![!]!c!i!]#T#Z!]~$rP;=`<%l!]~$zO]~~$}Q!Q!R%T!R![&c~%YRT~!O!P%c!g!h%w#X#Y%w~%fP!Q![%i~%nRT~!Q![%i!g!h%w#X#Y%w~%zR{|&T}!O&T!Q![&Z~&WP!Q![&Z~&`PT~!Q![&Z~&hST~!O!P%c!Q![&c!g!h%w#X#Y%w~&yO[~~'OO_~~'TO^~~'WP#T#U'Z~'^P#`#a'a~'dP#g#h'g~'jP#X#Y'm~'rOR~~'uP#i#j'x~'{P#`#a(O~(RP#`#a(U~(ZOS~~(^P#f#g(a~(dP#i#j(g~(jP#X#Y(m~(rOQ~~(wOW~~(|OV~",tokenizers:[0],topRules:{JsonText:[0,1]},tokenPrec:0}),eN=Fu.define({name:"json",parser:tN.configure({props:[kw.add({Object:O1({except:/^\s*\}/}),Array:O1({except:/^\s*\]/})}),Aw.add({"Object Array":uE})]}),languageData:{closeBrackets:{brackets:["[","{",'"']},indentOnInput:/^\s*[\}\]]$/}});function U2(){return new $O(eN)}const vx=i=>{let t;const e=new Set,n=(d,m)=>{const p=typeof d=="function"?d(t):d;if(!Object.is(p,t)){const b=t;t=m??(typeof p!="object"||p===null)?p:Object.assign({},t,p),e.forEach(v=>v(t,b))}},r=()=>t,u={setState:n,getState:r,getInitialState:()=>f,subscribe:d=>(e.add(d),()=>e.delete(d))},f=t=i(n,r,u);return u},nN=(i=>i?vx(i):vx),iN=i=>i;function sN(i,t=iN){const e=J.useSyncExternalStore(i.subscribe,J.useCallback(()=>t(i.getState()),[i,t]),J.useCallback(()=>t(i.getInitialState()),[i,t]));return J.useDebugValue(e),e}const rN=i=>{const t=nN(i),e=n=>sN(t,n);return Object.assign(e,t),e},lN=(i=>rN);function q2(i,t){let e;try{e=i()}catch{return}return{getItem:r=>{var o;const a=f=>f===null?null:JSON.parse(f,t?.reviver),u=(o=e.getItem(r))!=null?o:null;return u instanceof Promise?u.then(a):a(u)},setItem:(r,o)=>e.setItem(r,JSON.stringify(o,t?.replacer)),removeItem:r=>e.removeItem(r)}}const Dm=i=>t=>{try{const e=i(t);return e instanceof Promise?e:{then(n){return Dm(n)(e)},catch(n){return this}}}catch(e){return{then(n){return this},catch(n){return Dm(n)(e)}}}},oN=(i,t)=>(e,n,r)=>{let o={storage:q2(()=>localStorage),partialize:k=>k,version:0,merge:(k,C)=>({...C,...k}),...t},a=!1;const u=new Set,f=new Set;let d=o.storage;if(!d)return i((...k)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),e(...k)},n,r);const m=()=>{const k=o.partialize({...n()});return d.setItem(o.name,{state:k,version:o.version})},p=r.setState;r.setState=(k,C)=>(p(k,C),m());const b=i((...k)=>(e(...k),m()),n,r);r.getInitialState=()=>b;let v;const S=()=>{var k,C;if(!d)return;a=!1,u.forEach(B=>{var j;return B((j=n())!=null?j:b)});const A=((C=o.onRehydrateStorage)==null?void 0:C.call(o,(k=n())!=null?k:b))||void 0;return Dm(d.getItem.bind(d))(o.name).then(B=>{if(B)if(typeof B.version=="number"&&B.version!==o.version){if(o.migrate){const j=o.migrate(B.state,B.version);return j instanceof Promise?j.then(R=>[!0,R]):[!0,j]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,B.state];return[!1,void 0]}).then(B=>{var j;const[R,O]=B;if(v=o.merge(O,(j=n())!=null?j:b),e(v,!0),R)return m()}).then(()=>{A?.(v,void 0),v=n(),a=!0,f.forEach(B=>B(v))}).catch(B=>{A?.(void 0,B)})};return r.persist={setOptions:k=>{o={...o,...k},k.storage&&(d=k.storage)},clearStorage:()=>{d?.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>S(),hasHydrated:()=>a,onHydrate:k=>(u.add(k),()=>{u.delete(k)}),onFinishHydration:k=>(f.add(k),()=>{f.delete(k)})},o.skipHydration||S(),v||b},aN=oN,Xe=[];for(let i=0;i<256;++i)Xe.push((i+256).toString(16).slice(1));function cN(i,t=0){return(Xe[i[t+0]]+Xe[i[t+1]]+Xe[i[t+2]]+Xe[i[t+3]]+"-"+Xe[i[t+4]]+Xe[i[t+5]]+"-"+Xe[i[t+6]]+Xe[i[t+7]]+"-"+Xe[i[t+8]]+Xe[i[t+9]]+"-"+Xe[i[t+10]]+Xe[i[t+11]]+Xe[i[t+12]]+Xe[i[t+13]]+Xe[i[t+14]]+Xe[i[t+15]]).toLowerCase()}let Ag;const uN=new Uint8Array(16);function hN(){if(!Ag){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Ag=crypto.getRandomValues.bind(crypto)}return Ag(uN)}const fN=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),xx={randomUUID:fN};function dN(i,t,e){i=i||{};const n=i.random??i.rng?.()??hN();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,cN(n)}function zu(i,t,e){return xx.randomUUID&&!i?xx.randomUUID():dN(i)}const Sx="rueries.vercel.app",wx=i=>i.map(t=>({id:t.id||zu(),key:t.key??"",value:t.value??"",enabled:t.enabled??!0})),gN={url:"",method:"GET",headers:wx([{key:"Content-Type",value:"application/json",enabled:!0}]),body:"",params:wx([]),timeout:0},Rr=lN()(aN((i,t)=>({request:gN,response:null,isLoading:!1,lastSaved:null,history:[],useProxy:localStorage.getItem("useProxy")==="true",darkMode:localStorage.getItem("darkMode")==="true",showSettings:localStorage.getItem("showSettings")==="true",setUseProxy:e=>{i({useProxy:e}),localStorage.setItem("useProxy",String(e))},setDarkMode:e=>{i({darkMode:e}),localStorage.setItem("darkMode",String(e))},setShowSettings:e=>{i({showSettings:e}),localStorage.setItem("showSettings",String(e))},updateRequest:e=>{i(n=>({request:{...n.request,...e},lastSaved:new Date}))},setResponse:e=>i({response:e}),setLoading:e=>i({isLoading:e}),loadFromHistory:e=>{i({request:{...e},response:null,lastSaved:new Date})},removeFromHistory:e=>{i(n=>({history:n.history.filter((r,o)=>o!==e)}))},clearHistory:()=>{i({history:[]})},importFromCurl:e=>{try{const n=e.replace(/\\\s*\n/g," ").replace(/\s{2,}/g," ").trim(),r=n.match(/(https?:\/\/[^\s'"]+)/i),o=r?r[1]:"",a=n.match(/-X\s+(\w+)/i),u=a?a[1].toUpperCase():"GET",f=/(?:-H|--header)\s+(?:"([^"]+)"|'([^']+)'|([^'"\s]+))/gi,d=[];let m;for(;(m=f.exec(n))!==null;){const C=m[1]||m[2]||m[3];if(!C)continue;const[A,...B]=C.split(":");d.push({id:crypto.randomUUID(),key:A.trim(),value:B.join(":").trim(),enabled:!0})}const p=n.match(/(--data|-d|--data-raw)\s+['"]?([^'"]+)['"]?/i),b=p?p[2]:"",v=o?new URL(o):null,S=[];v&&v.searchParams.forEach((C,A)=>{S.push({id:crypto.randomUUID(),key:A,value:C,enabled:!0})});const k={url:v?v.origin+v.pathname:o,method:u,headers:d.length>0?d:[{id:crypto.randomUUID(),key:"Content-Type",value:"application/json",enabled:!0}],body:b,params:S,timeout:0};t().updateRequest(k),Ce.success("cURL imported successfully!")}catch(n){console.error("Failed to parse cURL:",n),Ce.error("Failed to import cURL")}},sendRequest:async()=>{const{request:e,setResponse:n,setLoading:r,history:o}=t();if(!e.url.trim()){Ce.error("Please enter a URL");return}let a=e.url;const u=e.params.filter(b=>b.enabled&&b.key.trim());if(u.length>0)try{const b=new URL(e.url.startsWith("http")?e.url:`https://${e.url}`);u.forEach(v=>{b.searchParams.set(v.key,v.value)}),a=b.toString()}catch{Ce.error("Invalid URL format");return}o.some(b=>b.url===e.url&&b.method===e.method&&b.body===e.body&&b.timeout===e.timeout&&JSON.stringify(b.headers)===JSON.stringify(e.headers)&&JSON.stringify(b.params||[])===JSON.stringify(e.params))||i(b=>({history:[{...e},...b.history].slice(0,50)})),r(!0),n(null);const d=new AbortController;let m=null;e.timeout>0&&(m=setTimeout(()=>d.abort(),e.timeout));const p=performance.now();try{const b={};e.headers.filter(z=>z.enabled&&z.key.trim()).forEach(z=>{b[z.key]=z.value});const v={method:e.method,headers:b,signal:d.signal};e.method!=="GET"&&e.method!=="HEAD"&&e.body&&(v.body=e.body);const{useProxy:S}=t(),k=location.hostname===Sx;let C="";console.log(S),S?C=k?`/api/proxy?url=${encodeURIComponent(a)}`:`https://${Sx}/api/proxy?url=${encodeURIComponent(a)}`:C=a;const A=await fetch(C,v),B=Math.round(performance.now()-p),j={};A.headers.forEach((z,U)=>{j[U]=z});const R=A.headers.get("content-type")||"";let O;if(R.includes("application/json"))try{const z=await A.json();O=JSON.stringify(z,null,2)}catch{O=await A.text()}else O=await A.text();n({status:A.status,statusText:A.statusText,headers:j,body:O,duration:B}),Ce.success(`Request completed in ${B}ms`,{description:`${A.status} ${A.statusText}`})}catch(b){const v=Math.round(performance.now()-p);b instanceof Error&&b.name==="AbortError"?(n({status:0,statusText:"Request Timeout",headers:{},body:"Request was aborted due to timeout",duration:v}),Ce.error("Request timed out")):(n({status:0,statusText:"Network Error",headers:{},body:b instanceof Error?b.message:"Unknown error occurred",duration:v}),Ce.error("Request failed",{description:b instanceof Error?b.message:"Unknown error"}))}finally{m&&clearTimeout(m),r(!1)}},clearSaved:()=>{i({request:{url:"",method:"GET",headers:[{id:crypto.randomUUID(),key:"Content-Type",value:"application/json",enabled:!0}],body:"",params:[],timeout:0},response:null,lastSaved:null}),Ce.success("Saved data cleared")},loadSaved:()=>{}}),{name:"http-tester-storage",storage:q2(()=>localStorage,{replacer:(i,t)=>t instanceof Date?{__type:"Date",value:t.toISOString()}:t,reviver:(i,t)=>t&&typeof t=="object"&&t.__type==="Date"?new Date(t.value):t}),migrate:(i,t)=>{if(t<5&&i){if(i.lastSaved&&typeof i.lastSaved=="string"&&(i.lastSaved=new Date(i.lastSaved)),i.request){if(Array.isArray(i.request.params)||(i.request.params=[]),typeof i.request.headers=="string")try{const e=JSON.parse(i.request.headers);i.request.headers=Object.entries(e).map(([n,r])=>({id:crypto.randomUUID(),key:n,value:String(r),enabled:!0}))}catch{i.request.headers=[{id:crypto.randomUUID(),key:"Content-Type",value:"application/json",enabled:!0}]}Array.isArray(i.request.headers)||(i.request.headers=[{id:crypto.randomUUID(),key:"Content-Type",value:"application/json",enabled:!0}]),i.request.headers=(i.request.headers??[]).map(e=>({id:e.id??crypto.randomUUID(),key:e.key??"",value:e.value??"",enabled:e.enabled??!0})),i.request.params=(i.request.params??[]).map(e=>({id:e.id??crypto.randomUUID(),key:e.key??"",value:e.value??"",enabled:e.enabled??!0}))}i.history&&Array.isArray(i.history)&&(i.history=i.history.map(e=>({...e,headers:(e.headers??[]).map(n=>({id:n.id??crypto.randomUUID(),key:n.key??"",value:n.value??"",enabled:n.enabled??!0})),params:(e.params??[]).map(n=>({id:n.id??crypto.randomUUID(),key:n.key??"",value:n.value??"",enabled:n.enabled??!0}))})))}return i},version:5,partialize:i=>({request:i.request,lastSaved:i.lastSaved,history:i.history,useProxy:i.useProxy,darkMode:i.darkMode})}));function V2(i){var t,e,n="";if(typeof i=="string"||typeof i=="number")n+=i;else if(typeof i=="object")if(Array.isArray(i)){var r=i.length;for(t=0;t<r;t++)i[t]&&(e=V2(i[t]))&&(n&&(n+=" "),n+=e)}else for(e in i)i[e]&&(n&&(n+=" "),n+=e);return n}function mi(){for(var i,t,e=0,n="",r=arguments.length;e<r;e++)(i=arguments[e])&&(t=V2(i))&&(n&&(n+=" "),n+=t);return n}function mN(){for(var i=arguments.length,t=new Array(i),e=0;e<i;e++)t[e]=arguments[e];return P.useMemo(()=>n=>{t.forEach(r=>r(n))},t)}const Bh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Il(i){const t=Object.prototype.toString.call(i);return t==="[object Window]"||t==="[object global]"}function gp(i){return"nodeType"in i}function Cn(i){var t,e;return i?Il(i)?i:gp(i)&&(t=(e=i.ownerDocument)==null?void 0:e.defaultView)!=null?t:window:window}function mp(i){const{Document:t}=Cn(i);return i instanceof t}function Ha(i){return Il(i)?!1:i instanceof Cn(i).HTMLElement}function P2(i){return i instanceof Cn(i).SVGElement}function Xl(i){return i?Il(i)?i.document:gp(i)?mp(i)?i:Ha(i)||P2(i)?i.ownerDocument:document:document:document}const Ui=Bh?P.useLayoutEffect:P.useEffect;function pp(i){const t=P.useRef(i);return Ui(()=>{t.current=i}),P.useCallback(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.current==null?void 0:t.current(...n)},[])}function pN(){const i=P.useRef(null),t=P.useCallback((n,r)=>{i.current=setInterval(n,r)},[]),e=P.useCallback(()=>{i.current!==null&&(clearInterval(i.current),i.current=null)},[]);return[t,e]}function Aa(i,t){t===void 0&&(t=[i]);const e=P.useRef(i);return Ui(()=>{e.current!==i&&(e.current=i)},t),e}function ja(i,t){const e=P.useRef();return P.useMemo(()=>{const n=i(e.current);return e.current=n,n},[...t])}function gh(i){const t=pp(i),e=P.useRef(null),n=P.useCallback(r=>{r!==e.current&&t?.(r,e.current),e.current=r},[]);return[e,n]}function Om(i){const t=P.useRef();return P.useEffect(()=>{t.current=i},[i]),t.current}let Mg={};function _a(i,t){return P.useMemo(()=>{if(t)return t;const e=Mg[i]==null?0:Mg[i]+1;return Mg[i]=e,i+"-"+e},[i,t])}function Y2(i){return function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.reduce((o,a)=>{const u=Object.entries(a);for(const[f,d]of u){const m=o[f];m!=null&&(o[f]=m+i*d)}return o},{...t})}}const Bl=Y2(1),mh=Y2(-1);function yN(i){return"clientX"in i&&"clientY"in i}function yp(i){if(!i)return!1;const{KeyboardEvent:t}=Cn(i.target);return t&&i instanceof t}function bN(i){if(!i)return!1;const{TouchEvent:t}=Cn(i.target);return t&&i instanceof t}function Em(i){if(bN(i)){if(i.touches&&i.touches.length){const{clientX:t,clientY:e}=i.touches[0];return{x:t,y:e}}else if(i.changedTouches&&i.changedTouches.length){const{clientX:t,clientY:e}=i.changedTouches[0];return{x:t,y:e}}}return yN(i)?{x:i.clientX,y:i.clientY}:null}const Ma=Object.freeze({Translate:{toString(i){if(!i)return;const{x:t,y:e}=i;return"translate3d("+(t?Math.round(t):0)+"px, "+(e?Math.round(e):0)+"px, 0)"}},Scale:{toString(i){if(!i)return;const{scaleX:t,scaleY:e}=i;return"scaleX("+t+") scaleY("+e+")"}},Transform:{toString(i){if(i)return[Ma.Translate.toString(i),Ma.Scale.toString(i)].join(" ")}},Transition:{toString(i){let{property:t,duration:e,easing:n}=i;return t+" "+e+"ms "+n}}}),kx="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function vN(i){return i.matches(kx)?i:i.querySelector(kx)}const xN={display:"none"};function SN(i){let{id:t,value:e}=i;return J.createElement("div",{id:t,style:xN},e)}function wN(i){let{id:t,announcement:e,ariaLiveType:n="assertive"}=i;const r={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return J.createElement("div",{id:t,style:r,role:"status","aria-live":n,"aria-atomic":!0},e)}function kN(){const[i,t]=P.useState("");return{announce:P.useCallback(n=>{n!=null&&t(n)},[]),announcement:i}}const G2=P.createContext(null);function CN(i){const t=P.useContext(G2);P.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(i)},[i,t])}function AN(){const[i]=P.useState(()=>new Set),t=P.useCallback(n=>(i.add(n),()=>i.delete(n)),[i]);return[P.useCallback(n=>{let{type:r,event:o}=n;i.forEach(a=>{var u;return(u=a[r])==null?void 0:u.call(a,o)})},[i]),t]}const MN={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},TN={onDragStart(i){let{active:t}=i;return"Picked up draggable item "+t.id+"."},onDragOver(i){let{active:t,over:e}=i;return e?"Draggable item "+t.id+" was moved over droppable area "+e.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(i){let{active:t,over:e}=i;return e?"Draggable item "+t.id+" was dropped over droppable area "+e.id:"Draggable item "+t.id+" was dropped."},onDragCancel(i){let{active:t}=i;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function DN(i){let{announcements:t=TN,container:e,hiddenTextDescribedById:n,screenReaderInstructions:r=MN}=i;const{announce:o,announcement:a}=kN(),u=_a("DndLiveRegion"),[f,d]=P.useState(!1);if(P.useEffect(()=>{d(!0)},[]),CN(P.useMemo(()=>({onDragStart(p){let{active:b}=p;o(t.onDragStart({active:b}))},onDragMove(p){let{active:b,over:v}=p;t.onDragMove&&o(t.onDragMove({active:b,over:v}))},onDragOver(p){let{active:b,over:v}=p;o(t.onDragOver({active:b,over:v}))},onDragEnd(p){let{active:b,over:v}=p;o(t.onDragEnd({active:b,over:v}))},onDragCancel(p){let{active:b,over:v}=p;o(t.onDragCancel({active:b,over:v}))}}),[o,t])),!f)return null;const m=J.createElement(J.Fragment,null,J.createElement(SN,{id:n,value:r.draggable}),J.createElement(wN,{id:u,announcement:a}));return e?wl.createPortal(m,e):m}var Ee;(function(i){i.DragStart="dragStart",i.DragMove="dragMove",i.DragEnd="dragEnd",i.DragCancel="dragCancel",i.DragOver="dragOver",i.RegisterDroppable="registerDroppable",i.SetDroppableDisabled="setDroppableDisabled",i.UnregisterDroppable="unregisterDroppable"})(Ee||(Ee={}));function ph(){}function ON(i,t){return P.useMemo(()=>({sensor:i,options:{}}),[i,t])}function EN(){for(var i=arguments.length,t=new Array(i),e=0;e<i;e++)t[e]=arguments[e];return P.useMemo(()=>[...t].filter(n=>n!=null),[...t])}const bi=Object.freeze({x:0,y:0});function RN(i,t){return Math.sqrt(Math.pow(i.x-t.x,2)+Math.pow(i.y-t.y,2))}function NN(i,t){let{data:{value:e}}=i,{data:{value:n}}=t;return e-n}function BN(i,t){let{data:{value:e}}=i,{data:{value:n}}=t;return n-e}function LN(i,t){if(!i||i.length===0)return null;const[e]=i;return e[t]}function Cx(i,t,e){return t===void 0&&(t=i.left),e===void 0&&(e=i.top),{x:t+i.width*.5,y:e+i.height*.5}}const zN=i=>{let{collisionRect:t,droppableRects:e,droppableContainers:n}=i;const r=Cx(t,t.left,t.top),o=[];for(const a of n){const{id:u}=a,f=e.get(u);if(f){const d=RN(Cx(f),r);o.push({id:u,data:{droppableContainer:a,value:d}})}}return o.sort(NN)};function HN(i,t){const e=Math.max(t.top,i.top),n=Math.max(t.left,i.left),r=Math.min(t.left+t.width,i.left+i.width),o=Math.min(t.top+t.height,i.top+i.height),a=r-n,u=o-e;if(n<r&&e<o){const f=t.width*t.height,d=i.width*i.height,m=a*u,p=m/(f+d-m);return Number(p.toFixed(4))}return 0}const jN=i=>{let{collisionRect:t,droppableRects:e,droppableContainers:n}=i;const r=[];for(const o of n){const{id:a}=o,u=e.get(a);if(u){const f=HN(u,t);f>0&&r.push({id:a,data:{droppableContainer:o,value:f}})}}return r.sort(BN)};function _N(i,t,e){return{...i,scaleX:t&&e?t.width/e.width:1,scaleY:t&&e?t.height/e.height:1}}function I2(i,t){return i&&t?{x:i.left-t.left,y:i.top-t.top}:bi}function UN(i){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.reduce((a,u)=>({...a,top:a.top+i*u.y,bottom:a.bottom+i*u.y,left:a.left+i*u.x,right:a.right+i*u.x}),{...e})}}const qN=UN(1);function VN(i){if(i.startsWith("matrix3d(")){const t=i.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(i.startsWith("matrix(")){const t=i.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function PN(i,t,e){const n=VN(t);if(!n)return i;const{scaleX:r,scaleY:o,x:a,y:u}=n,f=i.left-a-(1-r)*parseFloat(e),d=i.top-u-(1-o)*parseFloat(e.slice(e.indexOf(" ")+1)),m=r?i.width/r:i.width,p=o?i.height/o:i.height;return{width:m,height:p,top:d,right:f+m,bottom:d+p,left:f}}const YN={ignoreTransform:!1};function Ql(i,t){t===void 0&&(t=YN);let e=i.getBoundingClientRect();if(t.ignoreTransform){const{transform:d,transformOrigin:m}=Cn(i).getComputedStyle(i);d&&(e=PN(e,d,m))}const{top:n,left:r,width:o,height:a,bottom:u,right:f}=e;return{top:n,left:r,width:o,height:a,bottom:u,right:f}}function Ax(i){return Ql(i,{ignoreTransform:!0})}function GN(i){const t=i.innerWidth,e=i.innerHeight;return{top:0,left:0,right:t,bottom:e,width:t,height:e}}function IN(i,t){return t===void 0&&(t=Cn(i).getComputedStyle(i)),t.position==="fixed"}function XN(i,t){t===void 0&&(t=Cn(i).getComputedStyle(i));const e=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(r=>{const o=t[r];return typeof o=="string"?e.test(o):!1})}function bp(i,t){const e=[];function n(r){if(t!=null&&e.length>=t||!r)return e;if(mp(r)&&r.scrollingElement!=null&&!e.includes(r.scrollingElement))return e.push(r.scrollingElement),e;if(!Ha(r)||P2(r)||e.includes(r))return e;const o=Cn(i).getComputedStyle(r);return r!==i&&XN(r,o)&&e.push(r),IN(r,o)?e:n(r.parentNode)}return i?n(i):e}function X2(i){const[t]=bp(i,1);return t??null}function Tg(i){return!Bh||!i?null:Il(i)?i:gp(i)?mp(i)||i===Xl(i).scrollingElement?window:Ha(i)?i:null:null}function Q2(i){return Il(i)?i.scrollX:i.scrollLeft}function K2(i){return Il(i)?i.scrollY:i.scrollTop}function Rm(i){return{x:Q2(i),y:K2(i)}}var Ue;(function(i){i[i.Forward=1]="Forward",i[i.Backward=-1]="Backward"})(Ue||(Ue={}));function W2(i){return!Bh||!i?!1:i===document.scrollingElement}function F2(i){const t={x:0,y:0},e=W2(i)?{height:window.innerHeight,width:window.innerWidth}:{height:i.clientHeight,width:i.clientWidth},n={x:i.scrollWidth-e.width,y:i.scrollHeight-e.height},r=i.scrollTop<=t.y,o=i.scrollLeft<=t.x,a=i.scrollTop>=n.y,u=i.scrollLeft>=n.x;return{isTop:r,isLeft:o,isBottom:a,isRight:u,maxScroll:n,minScroll:t}}const QN={x:.2,y:.2};function KN(i,t,e,n,r){let{top:o,left:a,right:u,bottom:f}=e;n===void 0&&(n=10),r===void 0&&(r=QN);const{isTop:d,isBottom:m,isLeft:p,isRight:b}=F2(i),v={x:0,y:0},S={x:0,y:0},k={height:t.height*r.y,width:t.width*r.x};return!d&&o<=t.top+k.height?(v.y=Ue.Backward,S.y=n*Math.abs((t.top+k.height-o)/k.height)):!m&&f>=t.bottom-k.height&&(v.y=Ue.Forward,S.y=n*Math.abs((t.bottom-k.height-f)/k.height)),!b&&u>=t.right-k.width?(v.x=Ue.Forward,S.x=n*Math.abs((t.right-k.width-u)/k.width)):!p&&a<=t.left+k.width&&(v.x=Ue.Backward,S.x=n*Math.abs((t.left+k.width-a)/k.width)),{direction:v,speed:S}}function WN(i){if(i===document.scrollingElement){const{innerWidth:o,innerHeight:a}=window;return{top:0,left:0,right:o,bottom:a,width:o,height:a}}const{top:t,left:e,right:n,bottom:r}=i.getBoundingClientRect();return{top:t,left:e,right:n,bottom:r,width:i.clientWidth,height:i.clientHeight}}function Z2(i){return i.reduce((t,e)=>Bl(t,Rm(e)),bi)}function FN(i){return i.reduce((t,e)=>t+Q2(e),0)}function ZN(i){return i.reduce((t,e)=>t+K2(e),0)}function $N(i,t){if(t===void 0&&(t=Ql),!i)return;const{top:e,left:n,bottom:r,right:o}=t(i);X2(i)&&(r<=0||o<=0||e>=window.innerHeight||n>=window.innerWidth)&&i.scrollIntoView({block:"center",inline:"center"})}const JN=[["x",["left","right"],FN],["y",["top","bottom"],ZN]];class vp{constructor(t,e){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=bp(e),r=Z2(n);this.rect={...t},this.width=t.width,this.height=t.height;for(const[o,a,u]of JN)for(const f of a)Object.defineProperty(this,f,{get:()=>{const d=u(n),m=r[o]-d;return this.rect[f]+m},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class oa{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(e=>{var n;return(n=this.target)==null?void 0:n.removeEventListener(...e)})},this.target=t}add(t,e,n){var r;(r=this.target)==null||r.addEventListener(t,e,n),this.listeners.push([t,e,n])}}function t5(i){const{EventTarget:t}=Cn(i);return i instanceof t?i:Xl(i)}function Dg(i,t){const e=Math.abs(i.x),n=Math.abs(i.y);return typeof t=="number"?Math.sqrt(e**2+n**2)>t:"x"in t&&"y"in t?e>t.x&&n>t.y:"x"in t?e>t.x:"y"in t?n>t.y:!1}var $n;(function(i){i.Click="click",i.DragStart="dragstart",i.Keydown="keydown",i.ContextMenu="contextmenu",i.Resize="resize",i.SelectionChange="selectionchange",i.VisibilityChange="visibilitychange"})($n||($n={}));function Mx(i){i.preventDefault()}function e5(i){i.stopPropagation()}var Pt;(function(i){i.Space="Space",i.Down="ArrowDown",i.Right="ArrowRight",i.Left="ArrowLeft",i.Up="ArrowUp",i.Esc="Escape",i.Enter="Enter",i.Tab="Tab"})(Pt||(Pt={}));const $2={start:[Pt.Space,Pt.Enter],cancel:[Pt.Esc],end:[Pt.Space,Pt.Enter,Pt.Tab]},n5=(i,t)=>{let{currentCoordinates:e}=t;switch(i.code){case Pt.Right:return{...e,x:e.x+25};case Pt.Left:return{...e,x:e.x-25};case Pt.Down:return{...e,y:e.y+25};case Pt.Up:return{...e,y:e.y-25}}};class J2{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:e}}=t;this.props=t,this.listeners=new oa(Xl(e)),this.windowListeners=new oa(Cn(e)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add($n.Resize,this.handleCancel),this.windowListeners.add($n.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add($n.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:e}=this.props,n=t.node.current;n&&$N(n),e(bi)}handleKeyDown(t){if(yp(t)){const{active:e,context:n,options:r}=this.props,{keyboardCodes:o=$2,coordinateGetter:a=n5,scrollBehavior:u="smooth"}=r,{code:f}=t;if(o.end.includes(f)){this.handleEnd(t);return}if(o.cancel.includes(f)){this.handleCancel(t);return}const{collisionRect:d}=n.current,m=d?{x:d.left,y:d.top}:bi;this.referenceCoordinates||(this.referenceCoordinates=m);const p=a(t,{active:e,context:n.current,currentCoordinates:m});if(p){const b=mh(p,m),v={x:0,y:0},{scrollableAncestors:S}=n.current;for(const k of S){const C=t.code,{isTop:A,isRight:B,isLeft:j,isBottom:R,maxScroll:O,minScroll:z}=F2(k),U=WN(k),K={x:Math.min(C===Pt.Right?U.right-U.width/2:U.right,Math.max(C===Pt.Right?U.left:U.left+U.width/2,p.x)),y:Math.min(C===Pt.Down?U.bottom-U.height/2:U.bottom,Math.max(C===Pt.Down?U.top:U.top+U.height/2,p.y))},tt=C===Pt.Right&&!B||C===Pt.Left&&!j,ut=C===Pt.Down&&!R||C===Pt.Up&&!A;if(tt&&K.x!==p.x){const it=k.scrollLeft+b.x,et=C===Pt.Right&&it<=O.x||C===Pt.Left&&it>=z.x;if(et&&!b.y){k.scrollTo({left:it,behavior:u});return}et?v.x=k.scrollLeft-it:v.x=C===Pt.Right?k.scrollLeft-O.x:k.scrollLeft-z.x,v.x&&k.scrollBy({left:-v.x,behavior:u});break}else if(ut&&K.y!==p.y){const it=k.scrollTop+b.y,et=C===Pt.Down&&it<=O.y||C===Pt.Up&&it>=z.y;if(et&&!b.x){k.scrollTo({top:it,behavior:u});return}et?v.y=k.scrollTop-it:v.y=C===Pt.Down?k.scrollTop-O.y:k.scrollTop-z.y,v.y&&k.scrollBy({top:-v.y,behavior:u});break}}this.handleMove(t,Bl(mh(p,this.referenceCoordinates),v))}}}handleMove(t,e){const{onMove:n}=this.props;t.preventDefault(),n(e)}handleEnd(t){const{onEnd:e}=this.props;t.preventDefault(),this.detach(),e()}handleCancel(t){const{onCancel:e}=this.props;t.preventDefault(),this.detach(),e()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}J2.activators=[{eventName:"onKeyDown",handler:(i,t,e)=>{let{keyboardCodes:n=$2,onActivation:r}=t,{active:o}=e;const{code:a}=i.nativeEvent;if(n.start.includes(a)){const u=o.activatorNode.current;return u&&i.target!==u?!1:(i.preventDefault(),r?.({event:i.nativeEvent}),!0)}return!1}}];function Tx(i){return!!(i&&"distance"in i)}function Dx(i){return!!(i&&"delay"in i)}class xp{constructor(t,e,n){var r;n===void 0&&(n=t5(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=e;const{event:o}=t,{target:a}=o;this.props=t,this.events=e,this.document=Xl(a),this.documentListeners=new oa(this.document),this.listeners=new oa(n),this.windowListeners=new oa(Cn(a)),this.initialCoordinates=(r=Em(o))!=null?r:bi,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:e,bypassActivationConstraint:n}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add($n.Resize,this.handleCancel),this.windowListeners.add($n.DragStart,Mx),this.windowListeners.add($n.VisibilityChange,this.handleCancel),this.windowListeners.add($n.ContextMenu,Mx),this.documentListeners.add($n.Keydown,this.handleKeydown),e){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Dx(e)){this.timeoutId=setTimeout(this.handleStart,e.delay),this.handlePending(e);return}if(Tx(e)){this.handlePending(e);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,e){const{active:n,onPending:r}=this.props;r(n,t,this.initialCoordinates,e)}handleStart(){const{initialCoordinates:t}=this,{onStart:e}=this.props;t&&(this.activated=!0,this.documentListeners.add($n.Click,e5,{capture:!0}),this.removeTextSelection(),this.documentListeners.add($n.SelectionChange,this.removeTextSelection),e(t))}handleMove(t){var e;const{activated:n,initialCoordinates:r,props:o}=this,{onMove:a,options:{activationConstraint:u}}=o;if(!r)return;const f=(e=Em(t))!=null?e:bi,d=mh(r,f);if(!n&&u){if(Tx(u)){if(u.tolerance!=null&&Dg(d,u.tolerance))return this.handleCancel();if(Dg(d,u.distance))return this.handleStart()}if(Dx(u)&&Dg(d,u.tolerance))return this.handleCancel();this.handlePending(u,d);return}t.cancelable&&t.preventDefault(),a(f)}handleEnd(){const{onAbort:t,onEnd:e}=this.props;this.detach(),this.activated||t(this.props.active),e()}handleCancel(){const{onAbort:t,onCancel:e}=this.props;this.detach(),this.activated||t(this.props.active),e()}handleKeydown(t){t.code===Pt.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const i5={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Sp extends xp{constructor(t){const{event:e}=t,n=Xl(e.target);super(t,i5,n)}}Sp.activators=[{eventName:"onPointerDown",handler:(i,t)=>{let{nativeEvent:e}=i,{onActivation:n}=t;return!e.isPrimary||e.button!==0?!1:(n?.({event:e}),!0)}}];const s5={move:{name:"mousemove"},end:{name:"mouseup"}};var Nm;(function(i){i[i.RightClick=2]="RightClick"})(Nm||(Nm={}));class r5 extends xp{constructor(t){super(t,s5,Xl(t.event.target))}}r5.activators=[{eventName:"onMouseDown",handler:(i,t)=>{let{nativeEvent:e}=i,{onActivation:n}=t;return e.button===Nm.RightClick?!1:(n?.({event:e}),!0)}}];const Og={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class l5 extends xp{constructor(t){super(t,Og)}static setup(){return window.addEventListener(Og.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Og.move.name,t)};function t(){}}}l5.activators=[{eventName:"onTouchStart",handler:(i,t)=>{let{nativeEvent:e}=i,{onActivation:n}=t;const{touches:r}=e;return r.length>1?!1:(n?.({event:e}),!0)}}];var aa;(function(i){i[i.Pointer=0]="Pointer",i[i.DraggableRect=1]="DraggableRect"})(aa||(aa={}));var yh;(function(i){i[i.TreeOrder=0]="TreeOrder",i[i.ReversedTreeOrder=1]="ReversedTreeOrder"})(yh||(yh={}));function o5(i){let{acceleration:t,activator:e=aa.Pointer,canScroll:n,draggingRect:r,enabled:o,interval:a=5,order:u=yh.TreeOrder,pointerCoordinates:f,scrollableAncestors:d,scrollableAncestorRects:m,delta:p,threshold:b}=i;const v=c5({delta:p,disabled:!o}),[S,k]=pN(),C=P.useRef({x:0,y:0}),A=P.useRef({x:0,y:0}),B=P.useMemo(()=>{switch(e){case aa.Pointer:return f?{top:f.y,bottom:f.y,left:f.x,right:f.x}:null;case aa.DraggableRect:return r}},[e,r,f]),j=P.useRef(null),R=P.useCallback(()=>{const z=j.current;if(!z)return;const U=C.current.x*A.current.x,K=C.current.y*A.current.y;z.scrollBy(U,K)},[]),O=P.useMemo(()=>u===yh.TreeOrder?[...d].reverse():d,[u,d]);P.useEffect(()=>{if(!o||!d.length||!B){k();return}for(const z of O){if(n?.(z)===!1)continue;const U=d.indexOf(z),K=m[U];if(!K)continue;const{direction:tt,speed:ut}=KN(z,K,B,t,b);for(const it of["x","y"])v[it][tt[it]]||(ut[it]=0,tt[it]=0);if(ut.x>0||ut.y>0){k(),j.current=z,S(R,a),C.current=ut,A.current=tt;return}}C.current={x:0,y:0},A.current={x:0,y:0},k()},[t,R,n,k,o,a,JSON.stringify(B),JSON.stringify(v),S,d,O,m,JSON.stringify(b)])}const a5={x:{[Ue.Backward]:!1,[Ue.Forward]:!1},y:{[Ue.Backward]:!1,[Ue.Forward]:!1}};function c5(i){let{delta:t,disabled:e}=i;const n=Om(t);return ja(r=>{if(e||!n||!r)return a5;const o={x:Math.sign(t.x-n.x),y:Math.sign(t.y-n.y)};return{x:{[Ue.Backward]:r.x[Ue.Backward]||o.x===-1,[Ue.Forward]:r.x[Ue.Forward]||o.x===1},y:{[Ue.Backward]:r.y[Ue.Backward]||o.y===-1,[Ue.Forward]:r.y[Ue.Forward]||o.y===1}}},[e,t,n])}function u5(i,t){const e=t!=null?i.get(t):void 0,n=e?e.node.current:null;return ja(r=>{var o;return t==null?null:(o=n??r)!=null?o:null},[n,t])}function h5(i,t){return P.useMemo(()=>i.reduce((e,n)=>{const{sensor:r}=n,o=r.activators.map(a=>({eventName:a.eventName,handler:t(a.handler,n)}));return[...e,...o]},[]),[i,t])}var Ta;(function(i){i[i.Always=0]="Always",i[i.BeforeDragging=1]="BeforeDragging",i[i.WhileDragging=2]="WhileDragging"})(Ta||(Ta={}));var Bm;(function(i){i.Optimized="optimized"})(Bm||(Bm={}));const Ox=new Map;function f5(i,t){let{dragging:e,dependencies:n,config:r}=t;const[o,a]=P.useState(null),{frequency:u,measure:f,strategy:d}=r,m=P.useRef(i),p=C(),b=Aa(p),v=P.useCallback(function(A){A===void 0&&(A=[]),!b.current&&a(B=>B===null?A:B.concat(A.filter(j=>!B.includes(j))))},[b]),S=P.useRef(null),k=ja(A=>{if(p&&!e)return Ox;if(!A||A===Ox||m.current!==i||o!=null){const B=new Map;for(let j of i){if(!j)continue;if(o&&o.length>0&&!o.includes(j.id)&&j.rect.current){B.set(j.id,j.rect.current);continue}const R=j.node.current,O=R?new vp(f(R),R):null;j.rect.current=O,O&&B.set(j.id,O)}return B}return A},[i,o,e,p,f]);return P.useEffect(()=>{m.current=i},[i]),P.useEffect(()=>{p||v()},[e,p]),P.useEffect(()=>{o&&o.length>0&&a(null)},[JSON.stringify(o)]),P.useEffect(()=>{p||typeof u!="number"||S.current!==null||(S.current=setTimeout(()=>{v(),S.current=null},u))},[u,p,v,...n]),{droppableRects:k,measureDroppableContainers:v,measuringScheduled:o!=null};function C(){switch(d){case Ta.Always:return!1;case Ta.BeforeDragging:return e;default:return!e}}}function tk(i,t){return ja(e=>i?e||(typeof t=="function"?t(i):i):null,[t,i])}function d5(i,t){return tk(i,t)}function g5(i){let{callback:t,disabled:e}=i;const n=pp(t),r=P.useMemo(()=>{if(e||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(n)},[n,e]);return P.useEffect(()=>()=>r?.disconnect(),[r]),r}function Lh(i){let{callback:t,disabled:e}=i;const n=pp(t),r=P.useMemo(()=>{if(e||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(n)},[e]);return P.useEffect(()=>()=>r?.disconnect(),[r]),r}function m5(i){return new vp(Ql(i),i)}function Ex(i,t,e){t===void 0&&(t=m5);const[n,r]=P.useState(null);function o(){r(f=>{if(!i)return null;if(i.isConnected===!1){var d;return(d=f??e)!=null?d:null}const m=t(i);return JSON.stringify(f)===JSON.stringify(m)?f:m})}const a=g5({callback(f){if(i)for(const d of f){const{type:m,target:p}=d;if(m==="childList"&&p instanceof HTMLElement&&p.contains(i)){o();break}}}}),u=Lh({callback:o});return Ui(()=>{o(),i?(u?.observe(i),a?.observe(document.body,{childList:!0,subtree:!0})):(u?.disconnect(),a?.disconnect())},[i]),n}function p5(i){const t=tk(i);return I2(i,t)}const Rx=[];function y5(i){const t=P.useRef(i),e=ja(n=>i?n&&n!==Rx&&i&&t.current&&i.parentNode===t.current.parentNode?n:bp(i):Rx,[i]);return P.useEffect(()=>{t.current=i},[i]),e}function b5(i){const[t,e]=P.useState(null),n=P.useRef(i),r=P.useCallback(o=>{const a=Tg(o.target);a&&e(u=>u?(u.set(a,Rm(a)),new Map(u)):null)},[]);return P.useEffect(()=>{const o=n.current;if(i!==o){a(o);const u=i.map(f=>{const d=Tg(f);return d?(d.addEventListener("scroll",r,{passive:!0}),[d,Rm(d)]):null}).filter(f=>f!=null);e(u.length?new Map(u):null),n.current=i}return()=>{a(i),a(o)};function a(u){u.forEach(f=>{const d=Tg(f);d?.removeEventListener("scroll",r)})}},[r,i]),P.useMemo(()=>i.length?t?Array.from(t.values()).reduce((o,a)=>Bl(o,a),bi):Z2(i):bi,[i,t])}function Nx(i,t){t===void 0&&(t=[]);const e=P.useRef(null);return P.useEffect(()=>{e.current=null},t),P.useEffect(()=>{const n=i!==bi;n&&!e.current&&(e.current=i),!n&&e.current&&(e.current=null)},[i]),e.current?mh(i,e.current):bi}function v5(i){P.useEffect(()=>{if(!Bh)return;const t=i.map(e=>{let{sensor:n}=e;return n.setup==null?void 0:n.setup()});return()=>{for(const e of t)e?.()}},i.map(t=>{let{sensor:e}=t;return e}))}function x5(i,t){return P.useMemo(()=>i.reduce((e,n)=>{let{eventName:r,handler:o}=n;return e[r]=a=>{o(a,t)},e},{}),[i,t])}function ek(i){return P.useMemo(()=>i?GN(i):null,[i])}const Bx=[];function S5(i,t){t===void 0&&(t=Ql);const[e]=i,n=ek(e?Cn(e):null),[r,o]=P.useState(Bx);function a(){o(()=>i.length?i.map(f=>W2(f)?n:new vp(t(f),f)):Bx)}const u=Lh({callback:a});return Ui(()=>{u?.disconnect(),a(),i.forEach(f=>u?.observe(f))},[i]),r}function w5(i){if(!i)return null;if(i.children.length>1)return i;const t=i.children[0];return Ha(t)?t:i}function k5(i){let{measure:t}=i;const[e,n]=P.useState(null),r=P.useCallback(d=>{for(const{target:m}of d)if(Ha(m)){n(p=>{const b=t(m);return p?{...p,width:b.width,height:b.height}:b});break}},[t]),o=Lh({callback:r}),a=P.useCallback(d=>{const m=w5(d);o?.disconnect(),m&&o?.observe(m),n(m?t(m):null)},[t,o]),[u,f]=gh(a);return P.useMemo(()=>({nodeRef:u,rect:e,setRef:f}),[e,u,f])}const C5=[{sensor:Sp,options:{}},{sensor:J2,options:{}}],A5={current:{}},Hu={draggable:{measure:Ax},droppable:{measure:Ax,strategy:Ta.WhileDragging,frequency:Bm.Optimized},dragOverlay:{measure:Ql}};class ca extends Map{get(t){var e;return t!=null&&(e=super.get(t))!=null?e:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:e}=t;return!e})}getNodeFor(t){var e,n;return(e=(n=this.get(t))==null?void 0:n.node.current)!=null?e:void 0}}const M5={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new ca,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:ph},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Hu,measureDroppableContainers:ph,windowRect:null,measuringScheduled:!1},T5={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:ph,draggableNodes:new Map,over:null,measureDroppableContainers:ph},zh=P.createContext(T5),nk=P.createContext(M5);function D5(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new ca}}}function O5(i,t){switch(t.type){case Ee.DragStart:return{...i,draggable:{...i.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Ee.DragMove:return i.draggable.active==null?i:{...i,draggable:{...i.draggable,translate:{x:t.coordinates.x-i.draggable.initialCoordinates.x,y:t.coordinates.y-i.draggable.initialCoordinates.y}}};case Ee.DragEnd:case Ee.DragCancel:return{...i,draggable:{...i.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Ee.RegisterDroppable:{const{element:e}=t,{id:n}=e,r=new ca(i.droppable.containers);return r.set(n,e),{...i,droppable:{...i.droppable,containers:r}}}case Ee.SetDroppableDisabled:{const{id:e,key:n,disabled:r}=t,o=i.droppable.containers.get(e);if(!o||n!==o.key)return i;const a=new ca(i.droppable.containers);return a.set(e,{...o,disabled:r}),{...i,droppable:{...i.droppable,containers:a}}}case Ee.UnregisterDroppable:{const{id:e,key:n}=t,r=i.droppable.containers.get(e);if(!r||n!==r.key)return i;const o=new ca(i.droppable.containers);return o.delete(e),{...i,droppable:{...i.droppable,containers:o}}}default:return i}}function E5(i){let{disabled:t}=i;const{active:e,activatorEvent:n,draggableNodes:r}=P.useContext(zh),o=Om(n),a=Om(e?.id);return P.useEffect(()=>{if(!t&&!n&&o&&a!=null){if(!yp(o)||document.activeElement===o.target)return;const u=r.get(a);if(!u)return;const{activatorNode:f,node:d}=u;if(!f.current&&!d.current)return;requestAnimationFrame(()=>{for(const m of[f.current,d.current]){if(!m)continue;const p=vN(m);if(p){p.focus();break}}})}},[n,t,r,a,o]),null}function R5(i,t){let{transform:e,...n}=t;return i!=null&&i.length?i.reduce((r,o)=>o({transform:r,...n}),e):e}function N5(i){return P.useMemo(()=>({draggable:{...Hu.draggable,...i?.draggable},droppable:{...Hu.droppable,...i?.droppable},dragOverlay:{...Hu.dragOverlay,...i?.dragOverlay}}),[i?.draggable,i?.droppable,i?.dragOverlay])}function B5(i){let{activeNode:t,measure:e,initialRect:n,config:r=!0}=i;const o=P.useRef(!1),{x:a,y:u}=typeof r=="boolean"?{x:r,y:r}:r;Ui(()=>{if(!a&&!u||!t){o.current=!1;return}if(o.current||!n)return;const d=t?.node.current;if(!d||d.isConnected===!1)return;const m=e(d),p=I2(m,n);if(a||(p.x=0),u||(p.y=0),o.current=!0,Math.abs(p.x)>0||Math.abs(p.y)>0){const b=X2(d);b&&b.scrollBy({top:p.y,left:p.x})}},[t,a,u,n,e])}const ik=P.createContext({...bi,scaleX:1,scaleY:1});var Vs;(function(i){i[i.Uninitialized=0]="Uninitialized",i[i.Initializing=1]="Initializing",i[i.Initialized=2]="Initialized"})(Vs||(Vs={}));const L5=P.memo(function(t){var e,n,r,o;let{id:a,accessibility:u,autoScroll:f=!0,children:d,sensors:m=C5,collisionDetection:p=jN,measuring:b,modifiers:v,...S}=t;const k=P.useReducer(O5,void 0,D5),[C,A]=k,[B,j]=AN(),[R,O]=P.useState(Vs.Uninitialized),z=R===Vs.Initialized,{draggable:{active:U,nodes:K,translate:tt},droppable:{containers:ut}}=C,it=U!=null?K.get(U):null,et=P.useRef({initial:null,translated:null}),ct=P.useMemo(()=>{var re;return U!=null?{id:U,data:(re=it?.data)!=null?re:A5,rect:et}:null},[U,it]),mt=P.useRef(null),[pt,L]=P.useState(null),[X,st]=P.useState(null),ot=Aa(S,Object.values(S)),M=_a("DndDescribedBy",a),Y=P.useMemo(()=>ut.getEnabled(),[ut]),$=N5(b),{droppableRects:I,measureDroppableContainers:nt,measuringScheduled:dt}=f5(Y,{dragging:z,dependencies:[tt.x,tt.y],config:$.droppable}),lt=u5(K,U),Qt=P.useMemo(()=>X?Em(X):null,[X]),yt=er(),se=d5(lt,$.draggable.measure);B5({activeNode:U!=null?K.get(U):null,config:yt.layoutShiftCompensation,initialRect:se,measure:$.draggable.measure});const Et=Ex(lt,$.draggable.measure,se),ln=Ex(lt?lt.parentElement:null),me=P.useRef({activatorEvent:null,active:null,activeNode:lt,collisionRect:null,collisions:null,droppableRects:I,draggableNodes:K,draggingNode:null,draggingNodeRect:null,droppableContainers:ut,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Un=ut.getNodeFor((e=me.current.over)==null?void 0:e.id),Pe=k5({measure:$.dragOverlay.measure}),xi=(n=Pe.nodeRef.current)!=null?n:lt,li=z?(r=Pe.rect)!=null?r:Et:null,Me=!!(Pe.nodeRef.current&&Pe.rect),tr=p5(Me?null:Et),$e=ek(xi?Cn(xi):null),An=y5(z?Un??lt:null),oi=S5(An),xe=R5(v,{transform:{x:tt.x-tr.x,y:tt.y-tr.y,scaleX:1,scaleY:1},activatorEvent:X,active:ct,activeNodeRect:Et,containerNodeRect:ln,draggingNodeRect:li,over:me.current.over,overlayNodeRect:Pe.rect,scrollableAncestors:An,scrollableAncestorRects:oi,windowRect:$e}),qn=Qt?Bl(Qt,tt):null,Br=b5(An),Kl=Nx(Br),Vn=Nx(Br,[Et]),fe=Bl(xe,Kl),Ne=li?qN(li,xe):null,ue=ct&&Ne?p({active:ct,collisionRect:Ne,droppableRects:I,droppableContainers:Y,pointerCoordinates:qn}):null,ai=LN(ue,"id"),[Mn,ci]=P.useState(null),ds=Me?xe:Bl(xe,Vn),gs=_N(ds,(o=Mn?.rect)!=null?o:null,Et),fn=P.useRef(null),Si=P.useCallback((re,Be)=>{let{sensor:bt,options:Yt}=Be;if(mt.current==null)return;const Ht=K.get(mt.current);if(!Ht)return;const qt=re.nativeEvent,Le=new bt({active:mt.current,activeNode:Ht,event:qt,options:Yt,context:me,onAbort(Mt){if(!K.get(Mt))return;const{onDragAbort:Rt}=ot.current,Kt={id:Mt};Rt?.(Kt),B({type:"onDragAbort",event:Kt})},onPending(Mt,Gt,Rt,Kt){if(!K.get(Mt))return;const{onDragPending:on}=ot.current,ui={id:Mt,constraint:Gt,initialCoordinates:Rt,offset:Kt};on?.(ui),B({type:"onDragPending",event:ui})},onStart(Mt){const Gt=mt.current;if(Gt==null)return;const Rt=K.get(Gt);if(!Rt)return;const{onDragStart:Kt}=ot.current,Pn={activatorEvent:qt,active:{id:Gt,data:Rt.data,rect:et}};wl.unstable_batchedUpdates(()=>{Kt?.(Pn),O(Vs.Initializing),A({type:Ee.DragStart,initialCoordinates:Mt,active:Gt}),B({type:"onDragStart",event:Pn}),L(fn.current),st(qt)})},onMove(Mt){A({type:Ee.DragMove,coordinates:Mt})},onEnd:ne(Ee.DragEnd),onCancel:ne(Ee.DragCancel)});fn.current=Le;function ne(Mt){return async function(){const{active:Rt,collisions:Kt,over:Pn,scrollAdjustedTranslate:on}=me.current;let ui=null;if(Rt&&on){const{cancelDrop:ps}=ot.current;ui={activatorEvent:qt,active:Rt,collisions:Kt,delta:on,over:Pn},Mt===Ee.DragEnd&&typeof ps=="function"&&await Promise.resolve(ps(ui))&&(Mt=Ee.DragCancel)}mt.current=null,wl.unstable_batchedUpdates(()=>{A({type:Mt}),O(Vs.Uninitialized),ci(null),L(null),st(null),fn.current=null;const ps=Mt===Ee.DragEnd?"onDragEnd":"onDragCancel";if(ui){const Gi=ot.current[ps];Gi?.(ui),B({type:ps,event:ui})}})}}},[K]),Yi=P.useCallback((re,Be)=>(bt,Yt)=>{const Ht=bt.nativeEvent,qt=K.get(Yt);if(mt.current!==null||!qt||Ht.dndKit||Ht.defaultPrevented)return;const Le={active:qt};re(bt,Be.options,Le)===!0&&(Ht.dndKit={capturedBy:Be.sensor},mt.current=Yt,Si(bt,Be))},[K,Si]),ms=h5(m,Yi);v5(m),Ui(()=>{Et&&R===Vs.Initializing&&O(Vs.Initialized)},[Et,R]),P.useEffect(()=>{const{onDragMove:re}=ot.current,{active:Be,activatorEvent:bt,collisions:Yt,over:Ht}=me.current;if(!Be||!bt)return;const qt={active:Be,activatorEvent:bt,collisions:Yt,delta:{x:fe.x,y:fe.y},over:Ht};wl.unstable_batchedUpdates(()=>{re?.(qt),B({type:"onDragMove",event:qt})})},[fe.x,fe.y]),P.useEffect(()=>{const{active:re,activatorEvent:Be,collisions:bt,droppableContainers:Yt,scrollAdjustedTranslate:Ht}=me.current;if(!re||mt.current==null||!Be||!Ht)return;const{onDragOver:qt}=ot.current,Le=Yt.get(ai),ne=Le&&Le.rect.current?{id:Le.id,rect:Le.rect.current,data:Le.data,disabled:Le.disabled}:null,Mt={active:re,activatorEvent:Be,collisions:bt,delta:{x:Ht.x,y:Ht.y},over:ne};wl.unstable_batchedUpdates(()=>{ci(ne),qt?.(Mt),B({type:"onDragOver",event:Mt})})},[ai]),Ui(()=>{me.current={activatorEvent:X,active:ct,activeNode:lt,collisionRect:Ne,collisions:ue,droppableRects:I,draggableNodes:K,draggingNode:xi,draggingNodeRect:li,droppableContainers:ut,over:Mn,scrollableAncestors:An,scrollAdjustedTranslate:fe},et.current={initial:li,translated:Ne}},[ct,lt,ue,Ne,K,xi,li,I,ut,Mn,An,fe]),o5({...yt,delta:tt,draggingRect:Ne,pointerCoordinates:qn,scrollableAncestors:An,scrollableAncestorRects:oi});const Tn=P.useMemo(()=>({active:ct,activeNode:lt,activeNodeRect:Et,activatorEvent:X,collisions:ue,containerNodeRect:ln,dragOverlay:Pe,draggableNodes:K,droppableContainers:ut,droppableRects:I,over:Mn,measureDroppableContainers:nt,scrollableAncestors:An,scrollableAncestorRects:oi,measuringConfiguration:$,measuringScheduled:dt,windowRect:$e}),[ct,lt,Et,X,ue,ln,Pe,K,ut,I,Mn,nt,An,oi,$,dt,$e]),Lr=P.useMemo(()=>({activatorEvent:X,activators:ms,active:ct,activeNodeRect:Et,ariaDescribedById:{draggable:M},dispatch:A,draggableNodes:K,over:Mn,measureDroppableContainers:nt}),[X,ms,ct,Et,A,M,K,Mn,nt]);return J.createElement(G2.Provider,{value:j},J.createElement(zh.Provider,{value:Lr},J.createElement(nk.Provider,{value:Tn},J.createElement(ik.Provider,{value:gs},d)),J.createElement(E5,{disabled:u?.restoreFocus===!1})),J.createElement(DN,{...u,hiddenTextDescribedById:M}));function er(){const re=pt?.autoScrollEnabled===!1,Be=typeof f=="object"?f.enabled===!1:f===!1,bt=z&&!re&&!Be;return typeof f=="object"?{...f,enabled:bt}:{enabled:bt}}}),z5=P.createContext(null),Lx="button",H5="Draggable";function j5(i){let{id:t,data:e,disabled:n=!1,attributes:r}=i;const o=_a(H5),{activators:a,activatorEvent:u,active:f,activeNodeRect:d,ariaDescribedById:m,draggableNodes:p,over:b}=P.useContext(zh),{role:v=Lx,roleDescription:S="draggable",tabIndex:k=0}=r??{},C=f?.id===t,A=P.useContext(C?ik:z5),[B,j]=gh(),[R,O]=gh(),z=x5(a,t),U=Aa(e);Ui(()=>(p.set(t,{id:t,key:o,node:B,activatorNode:R,data:U}),()=>{const tt=p.get(t);tt&&tt.key===o&&p.delete(t)}),[p,t]);const K=P.useMemo(()=>({role:v,tabIndex:k,"aria-disabled":n,"aria-pressed":C&&v===Lx?!0:void 0,"aria-roledescription":S,"aria-describedby":m.draggable}),[n,v,k,C,S,m.draggable]);return{active:f,activatorEvent:u,activeNodeRect:d,attributes:K,isDragging:C,listeners:n?void 0:z,node:B,over:b,setNodeRef:j,setActivatorNodeRef:O,transform:A}}function _5(){return P.useContext(nk)}const U5="Droppable",q5={timeout:25};function V5(i){let{data:t,disabled:e=!1,id:n,resizeObserverConfig:r}=i;const o=_a(U5),{active:a,dispatch:u,over:f,measureDroppableContainers:d}=P.useContext(zh),m=P.useRef({disabled:e}),p=P.useRef(!1),b=P.useRef(null),v=P.useRef(null),{disabled:S,updateMeasurementsFor:k,timeout:C}={...q5,...r},A=Aa(k??n),B=P.useCallback(()=>{if(!p.current){p.current=!0;return}v.current!=null&&clearTimeout(v.current),v.current=setTimeout(()=>{d(Array.isArray(A.current)?A.current:[A.current]),v.current=null},C)},[C]),j=Lh({callback:B,disabled:S||!a}),R=P.useCallback((K,tt)=>{j&&(tt&&(j.unobserve(tt),p.current=!1),K&&j.observe(K))},[j]),[O,z]=gh(R),U=Aa(t);return P.useEffect(()=>{!j||!O.current||(j.disconnect(),p.current=!1,j.observe(O.current))},[O,j]),P.useEffect(()=>(u({type:Ee.RegisterDroppable,element:{id:n,key:o,disabled:e,node:O,rect:b,data:U}}),()=>u({type:Ee.UnregisterDroppable,key:o,id:n})),[n]),P.useEffect(()=>{e!==m.current.disabled&&(u({type:Ee.SetDroppableDisabled,id:n,key:o,disabled:e}),m.current.disabled=e)},[n,o,e,u]),{active:a,rect:b,isOver:f?.id===n,node:O,over:f,setNodeRef:z}}function bh(i,t,e){const n=i.slice();return n.splice(e<0?n.length+e:e,0,n.splice(t,1)[0]),n}function P5(i,t){return i.reduce((e,n,r)=>{const o=t.get(n);return o&&(e[r]=o),e},Array(i.length))}function xu(i){return i!==null&&i>=0}function Y5(i,t){if(i===t)return!0;if(i.length!==t.length)return!1;for(let e=0;e<i.length;e++)if(i[e]!==t[e])return!1;return!0}function G5(i){return typeof i=="boolean"?{draggable:i,droppable:i}:i}const sk=i=>{let{rects:t,activeIndex:e,overIndex:n,index:r}=i;const o=bh(t,n,e),a=t[r],u=o[r];return!u||!a?null:{x:u.left-a.left,y:u.top-a.top,scaleX:u.width/a.width,scaleY:u.height/a.height}},Su={scaleX:1,scaleY:1},I5=i=>{var t;let{activeIndex:e,activeNodeRect:n,index:r,rects:o,overIndex:a}=i;const u=(t=o[e])!=null?t:n;if(!u)return null;if(r===e){const d=o[a];return d?{x:0,y:e<a?d.top+d.height-(u.top+u.height):d.top-u.top,...Su}:null}const f=X5(o,r,e);return r>e&&r<=a?{x:0,y:-u.height-f,...Su}:r<e&&r>=a?{x:0,y:u.height+f,...Su}:{x:0,y:0,...Su}};function X5(i,t,e){const n=i[t],r=i[t-1],o=i[t+1];return n?e<t?r?n.top-(r.top+r.height):o?o.top-(n.top+n.height):0:o?o.top-(n.top+n.height):r?n.top-(r.top+r.height):0:0}const rk="Sortable",lk=J.createContext({activeIndex:-1,containerId:rk,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:sk,disabled:{draggable:!1,droppable:!1}});function Q5(i){let{children:t,id:e,items:n,strategy:r=sk,disabled:o=!1}=i;const{active:a,dragOverlay:u,droppableRects:f,over:d,measureDroppableContainers:m}=_5(),p=_a(rk,e),b=u.rect!==null,v=P.useMemo(()=>n.map(z=>typeof z=="object"&&"id"in z?z.id:z),[n]),S=a!=null,k=a?v.indexOf(a.id):-1,C=d?v.indexOf(d.id):-1,A=P.useRef(v),B=!Y5(v,A.current),j=C!==-1&&k===-1||B,R=G5(o);Ui(()=>{B&&S&&m(v)},[B,v,S,m]),P.useEffect(()=>{A.current=v},[v]);const O=P.useMemo(()=>({activeIndex:k,containerId:p,disabled:R,disableTransforms:j,items:v,overIndex:C,useDragOverlay:b,sortedRects:P5(v,f),strategy:r}),[k,p,R.draggable,R.droppable,j,v,C,f,b,r]);return J.createElement(lk.Provider,{value:O},t)}const K5=i=>{let{id:t,items:e,activeIndex:n,overIndex:r}=i;return bh(e,n,r).indexOf(t)},W5=i=>{let{containerId:t,isSorting:e,wasDragging:n,index:r,items:o,newIndex:a,previousItems:u,previousContainerId:f,transition:d}=i;return!d||!n||u!==o&&r===a?!1:e?!0:a!==r&&t===f},F5={duration:200,easing:"ease"},ok="transform",Z5=Ma.Transition.toString({property:ok,duration:0,easing:"linear"}),$5={roleDescription:"sortable"};function J5(i){let{disabled:t,index:e,node:n,rect:r}=i;const[o,a]=P.useState(null),u=P.useRef(e);return Ui(()=>{if(!t&&e!==u.current&&n.current){const f=r.current;if(f){const d=Ql(n.current,{ignoreTransform:!0}),m={x:f.left-d.left,y:f.top-d.top,scaleX:f.width/d.width,scaleY:f.height/d.height};(m.x||m.y)&&a(m)}}e!==u.current&&(u.current=e)},[t,e,n,r]),P.useEffect(()=>{o&&a(null)},[o]),o}function tB(i){let{animateLayoutChanges:t=W5,attributes:e,disabled:n,data:r,getNewIndex:o=K5,id:a,strategy:u,resizeObserverConfig:f,transition:d=F5}=i;const{items:m,containerId:p,activeIndex:b,disabled:v,disableTransforms:S,sortedRects:k,overIndex:C,useDragOverlay:A,strategy:B}=P.useContext(lk),j=eB(n,v),R=m.indexOf(a),O=P.useMemo(()=>({sortable:{containerId:p,index:R,items:m},...r}),[p,r,R,m]),z=P.useMemo(()=>m.slice(m.indexOf(a)),[m,a]),{rect:U,node:K,isOver:tt,setNodeRef:ut}=V5({id:a,data:O,disabled:j.droppable,resizeObserverConfig:{updateMeasurementsFor:z,...f}}),{active:it,activatorEvent:et,activeNodeRect:ct,attributes:mt,setNodeRef:pt,listeners:L,isDragging:X,over:st,setActivatorNodeRef:ot,transform:M}=j5({id:a,data:O,attributes:{...$5,...e},disabled:j.draggable}),Y=mN(ut,pt),$=!!it,I=$&&!S&&xu(b)&&xu(C),nt=!A&&X,dt=nt&&I?M:null,Qt=I?dt??(u??B)({rects:k,activeNodeRect:ct,activeIndex:b,overIndex:C,index:R}):null,yt=xu(b)&&xu(C)?o({id:a,items:m,activeIndex:b,overIndex:C}):R,se=it?.id,Et=P.useRef({activeId:se,items:m,newIndex:yt,containerId:p}),ln=m!==Et.current.items,me=t({active:it,containerId:p,isDragging:X,isSorting:$,id:a,index:R,items:m,newIndex:Et.current.newIndex,previousItems:Et.current.items,previousContainerId:Et.current.containerId,transition:d,wasDragging:Et.current.activeId!=null}),Un=J5({disabled:!me,index:R,node:K,rect:U});return P.useEffect(()=>{$&&Et.current.newIndex!==yt&&(Et.current.newIndex=yt),p!==Et.current.containerId&&(Et.current.containerId=p),m!==Et.current.items&&(Et.current.items=m)},[$,yt,p,m]),P.useEffect(()=>{if(se===Et.current.activeId)return;if(se!=null&&Et.current.activeId==null){Et.current.activeId=se;return}const xi=setTimeout(()=>{Et.current.activeId=se},50);return()=>clearTimeout(xi)},[se]),{active:it,activeIndex:b,attributes:mt,data:O,rect:U,index:R,newIndex:yt,items:m,isOver:tt,isSorting:$,isDragging:X,listeners:L,node:K,overIndex:C,over:st,setNodeRef:Y,setActivatorNodeRef:ot,setDroppableNodeRef:ut,setDraggableNodeRef:pt,transform:Un??Qt,transition:Pe()};function Pe(){if(Un||ln&&Et.current.newIndex===R)return Z5;if(!(nt&&!yp(et)||!d)&&($||me))return Ma.Transition.toString({...d,property:ok})}}function eB(i,t){var e,n;return typeof i=="boolean"?{draggable:i,droppable:!1}:{draggable:(e=i?.draggable)!=null?e:t.draggable,droppable:(n=i?.droppable)!=null?n:t.droppable}}Pt.Down,Pt.Right,Pt.Up,Pt.Left;const nB=({isOpen:i,onClose:t})=>{const{useProxy:e,setUseProxy:n,darkMode:r,setDarkMode:o,request:a,importFromCurl:u}=Rr(),[f,d]=P.useState(""),[m,p]=P.useState(!1),b=()=>{if(!f.trim()){Ce.error("Please enter a cURL command");return}u(f),d(""),p(!1),t()},v=async()=>{try{const S=await navigator.clipboard.readText();S.includes("curl")?(d(S),p(!0)):Ce.error("Clipboard does not contain a cURL command")}catch{Ce.error("Failed to read from clipboard")}};return i?D.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:D.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl border border-gray-200 dark:border-gray-700 w-full max-w-md",children:[D.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[D.jsxs("div",{className:"flex items-center gap-3",children:[D.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-100 to-purple-100 dark:from-blue-900 dark:to-blue-900 rounded-xl flex items-center justify-center",children:D.jsx(Ux,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),D.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Settings"})]}),D.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:D.jsx(ju,{className:"w-5 h-5"})})]}),D.jsxs("div",{className:"p-6 space-y-6",children:[D.jsxs("div",{className:"space-y-3",children:[D.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Import from cURL"}),m?D.jsxs("div",{className:"space-y-3",children:[D.jsx("textarea",{value:f,onChange:S=>d(S.target.value),placeholder:"curl -X GET 'https://api.example.com/users' -H 'Authorization: Bearer token'",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white font-mono text-sm",rows:4}),D.jsxs("div",{className:"flex gap-2",children:[D.jsx("button",{onClick:b,className:"flex-1 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium transition-colors",children:"Import"}),D.jsx("button",{onClick:()=>{p(!1),d("")},className:"px-4 py-2 bg-gray-300 dark:bg-gray-600 hover:bg-gray-400 dark:hover:bg-gray-500 text-gray-700 dark:text-gray-300 rounded-lg font-medium transition-colors",children:"Cancel"})]})]}):D.jsxs("div",{className:"flex gap-2",children:[D.jsxs("button",{onClick:()=>p(!0),className:"flex items-center gap-2 px-4 py-3 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 hover:bg-blue-200 dark:hover:bg-blue-900/50 rounded-xl font-medium transition-colors flex-1",children:[D.jsx(CM,{className:"w-4 h-4"}),"Enter cURL Command"]}),D.jsxs("button",{onClick:v,className:"flex items-center gap-2 px-4 py-3 bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-400 hover:bg-purple-200 dark:hover:bg-purple-900/50 rounded-xl font-medium transition-colors",children:[D.jsx(Rg,{className:"w-4 h-4"}),"Paste"]})]})]}),D.jsx("hr",{className:"border-gray-600"}),D.jsxs("div",{className:"space-y-3",children:[D.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Theme"}),D.jsxs("button",{onClick:()=>o(!r),className:mi("flex items-center gap-3 w-full px-4 py-3 rounded-xl font-medium transition-all duration-200",r?"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-blue-800 dark:bg-blue-600/50":"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400 hover:bg-yellow-200 dark:hover:bg-yellow-900/50"),children:[r?D.jsx(mM,{className:"w-5 h-5"}):D.jsx(wM,{className:"w-5 h-5"}),D.jsxs("div",{className:"text-left",children:[D.jsx("div",{className:"font-semibold",children:r?"Dark Mode":"Light Mode"}),D.jsx("div",{className:"text-xs opacity-75",children:r?"Dark theme active":"Light theme active"})]})]})]}),D.jsxs("div",{className:"space-y-3",children:[D.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300",children:"CORS Proxy"}),D.jsxs("button",{onClick:()=>n(!e),className:mi("flex items-center gap-3 w-full px-4 py-3 rounded-xl font-medium transition-all duration-200",e?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 hover:bg-green-200 dark:hover:bg-green-900/50":"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 hover:bg-red-200 dark:hover:bg-red-900/50"),children:[e?D.jsx(EM,{className:"w-5 h-5"}):D.jsx(DM,{className:"w-5 h-5"}),D.jsxs("div",{className:"text-left",children:[D.jsx("div",{className:"font-semibold",children:e?"Proxy Enabled":"Proxy Disabled"}),D.jsx("div",{className:"text-xs opacity-75",children:e?"Using CORS proxy for external URLs":"Direct requests only"})]})]})]}),D.jsxs("div",{className:"space-y-3",children:[D.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Request Timeout (ms)"}),D.jsx("input",{type:"number",value:a.timeout,onChange:S=>Rr.getState().updateRequest({timeout:Number(S.target.value)}),min:"0",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-900 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white",placeholder:"0 = no timeout"}),D.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium",children:"0 = no timeout"})]})]})]})}):null},iB=i=>{try{return JSON.parse(i),!0}catch{return!1}},zx=({id:i,children:t,handle:e})=>{const{attributes:n,listeners:r,setNodeRef:o,transform:a,transition:u,isDragging:f}=tB({id:i}),d={transform:Ma.Transform.toString(a),transition:u};return D.jsxs("div",{ref:o,style:d,className:mi("flex items-center gap-3 p-3 rounded-lg",f?"bg-white shadow-lg border border-blue-200 dark:bg-gray-800 dark:border-blue-400 z-50":"bg-gray-50 dark:bg-gray-800/15"),children:[D.jsx("div",{...n,...r,className:"text-gray-400 hover:text-gray-600 cursor-grab active:cursor-grabbing",children:e}),D.jsx("div",{className:"flex-1 flex gap-3",children:t})]})},sB=()=>{const{request:i,updateRequest:t,sendRequest:e,isLoading:n,clearSaved:r,lastSaved:o}=Rr(),[a,u]=P.useState("params"),{showSettings:f,setShowSettings:d}=Rr(),m=EN(ON(Sp)),p=R=>{R.preventDefault(),e()},b=(R,O=[])=>{try{const z=new URL(R.startsWith("http")?R:`${R}`),U=[];return z.searchParams.forEach((K,tt)=>{const ut=O.find(it=>it.key===tt);U.push({id:ut?.id??zu(),key:tt,value:K,enabled:ut?.enabled??!0})}),{baseUrl:`${z.protocol}//${z.host}${z.pathname}`,params:U}}catch{return{baseUrl:R,params:[]}}},v=R=>{const{baseUrl:O,params:z}=b(R,i.params),U={url:O};if(z.length>0){const K=i.params.filter(tt=>!z.some(ut=>ut.key===tt.key));U.params=[...K,...z]}t(U)},S=()=>{t({params:[...i.params,{id:zu(),key:"",value:"",enabled:!0}]})},k=(R,O,z)=>{const U=i.params.map(K=>K.id===R?{...K,[O]:z}:K);t({params:U})},C=R=>{t({params:i.params.filter(O=>O.id!==R)})},A=()=>{const R={id:zu(),key:"",value:"",enabled:!0};t({headers:[...i.headers,R]})},B=(R,O,z)=>{const U=i.headers.map(K=>K.id===R?{...K,[O]:z}:K);t({headers:U})},j=R=>{t({headers:i.headers.filter(O=>O.id!==R)})};return D.jsxs("div",{className:"bg-white/90  rounded-2xl shadow-xl border border-gray-200/50 dark:bg-gray-800/90 dark:border-gray-700",children:[D.jsxs("div",{className:"p-6 border-b border-gray-200/50 dark:border-gray-700",children:[D.jsxs("div",{className:"flex items-center justify-between mb-4",children:[D.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2 dark:text-white",children:[D.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),"Request Configuration"]}),D.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[o instanceof Date&&D.jsxs("span",{className:"bg-green-50 text-green-700 px-3 py-1 rounded-full text-xs font-medium dark:bg-green-900/30 dark:text-green-400",children:["Last saved: ",o.toLocaleTimeString()]}),D.jsx("button",{onClick:()=>d(!0),className:"text-gray-400 hover:text-blue-500 transition-all duration-200 p-2 hover:bg-blue-50 rounded-lg dark:hover:bg-gray-700/50",title:"Open settings",children:D.jsx(Ux,{className:"w-4 h-4"})}),D.jsx("button",{onClick:r,className:"text-gray-400 hover:text-red-500 transition-all duration-200 p-2 hover:bg-red-50 rounded-lg dark:hover:bg-gray-700/50",title:"Clear saved data",children:D.jsx(qx,{className:"w-4 h-4"})})]})]}),D.jsx("form",{onSubmit:p,className:"space-y-6",children:D.jsxs("div",{className:"flex gap-3",children:[D.jsxs("select",{value:i.method,onChange:R=>t({method:R.target.value}),className:"px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent font-semibold text-gray-700 bg-gray-50 hover:bg-white transition-colors dark:bg-gray-800 dark:text-gray-300 dark:border-gray-900 dark:hover:bg-gray-800",children:[D.jsx("option",{value:"GET",children:"GET"}),D.jsx("option",{value:"POST",children:"POST"}),D.jsx("option",{value:"PUT",children:"PUT"}),D.jsx("option",{value:"DELETE",children:"DELETE"}),D.jsx("option",{value:"PATCH",children:"PATCH"}),D.jsx("option",{value:"HEAD",children:"HEAD"}),D.jsx("option",{value:"OPTIONS",children:"OPTIONS"})]}),D.jsx("input",{type:"url",value:i.url,onChange:R=>v(R.target.value),placeholder:"https://api.example.com/endpoint",className:"flex-1 px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-700 placeholder-gray-400 dark:bg-gray-800 dark:text-gray-300 dark:border-gray-900 dark:placeholder-gray-500 dark:focus:ring-blue-400 ",required:!0}),D.jsx("button",{type:"submit",disabled:n,className:mi("px-8 py-3 rounded-xl font-semibold flex items-center gap-2 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",n?"bg-gray-400 text-white cursor-not-allowed shadow-none transform-none":"bg-gradient-to-r from-blue-600 to-blue-700 text-white hover:from-blue-700 hover:to-blue-900"),children:n?D.jsxs(D.Fragment,{children:[D.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Sending..."]}):D.jsxs(D.Fragment,{children:[D.jsx(vM,{className:"w-4 h-4"}),"Send Request"]})})]})})]}),D.jsxs("div",{className:"p-6",children:[D.jsxs("div",{className:"flex border-b-2 border-blue-400 mb-6 bg-gray-50 rounded-t-xl dark:bg-gray-800/50",children:[D.jsxs("button",{onClick:()=>u("params"),className:mi("px-6 py-3 font-semibold text-sm border-b-2 transition-all duration-200 rounded-t-xl",a==="params"?"border-blue-500 text-blue-600 bg-white shadow-sm dark:bg-gray-900/50 dark:text-blue-400 dark:border-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-900 dark:text-gray-400"),children:["Params (",i.params.filter(R=>R.enabled&&R.key.trim()).length,")"]}),D.jsxs("button",{onClick:()=>u("headers"),className:mi("px-6 py-3 font-semibold text-sm border-b-2 transition-all duration-200 rounded-t-xl",a==="headers"?"border-blue-500 text-blue-600 bg-white shadow-sm dark:bg-gray-900/50 dark:text-blue-400 dark:border-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-900 dark:text-gray-400"),children:["Headers (",i.headers.filter(R=>R.enabled&&R.key.trim()).length,")"]}),D.jsx("button",{onClick:()=>u("body"),className:mi("px-6 py-3 font-semibold text-sm border-b-2 transition-all duration-200 rounded-t-xl",a==="body"?"border-blue-500 text-blue-600 bg-white shadow-sm dark:bg-gray-900/50 dark:text-blue-400 dark:border-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-900 dark:text-gray-400"),children:"Body"})]}),(a==="params"||a==="headers")&&D.jsxs("div",{children:[D.jsxs("div",{className:"flex items-center justify-between mb-4",children:[D.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300",children:a==="params"?"Query Parameters":"Request Headers"}),D.jsxs("button",{onClick:a==="params"?S:A,className:"flex items-center gap-2 px-3 py-2 text-sm font-medium text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-lg transition-colors dark:text-blue-400 dark:hover:text-blue-300 dark:hover:bg-gray-700/50",children:[D.jsx(yM,{className:"w-4 h-4"}),a==="params"?"Add Parameter":"Add Header"]})]}),D.jsx(L5,{sensors:m,collisionDetection:zN,onDragEnd:({active:R,over:O})=>{if(O&&R.id!==O.id){if(a==="params"){const z=i.params.findIndex(K=>K.id===R.id),U=i.params.findIndex(K=>K.id===O.id);t({params:bh(i.params,z,U)})}if(a==="headers"){const z=i.headers.findIndex(K=>K.id===R.id),U=i.headers.findIndex(K=>K.id===O.id);t({headers:bh(i.headers,z,U)})}}},children:D.jsxs(Q5,{items:a==="params"?i.params.map(R=>R.id):i.headers.map(R=>R.id),strategy:I5,children:[a==="params"&&i.params.map(R=>D.jsx(zx,{id:R.id,handle:D.jsx(bv,{className:"w-4 h-4 dark:bg-gray-800"}),children:D.jsxs("div",{className:"flex items-center gap-2 w-full bg-gray-100/20 dark:bg-gray-800/30 p-2 rounded-lg",children:[D.jsx("input",{type:"checkbox",checked:R.enabled,onChange:O=>k(R.id,"enabled",O.target.checked),className:"w-4 h-4 mt-0 text-blue-600 rounded focus:ring-blue-500"}),D.jsx("input",{type:"text",value:R.key,onChange:O=>k(R.id,"key",O.target.value),placeholder:"Parameter name",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-800 dark:border-gray-900 dark:text-gray-300"}),D.jsx("input",{type:"text",value:R.value,onChange:O=>k(R.id,"value",O.target.value),placeholder:"Parameter value",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-800 dark:border-gray-900 dark:text-gray-300"}),D.jsx("button",{onClick:()=>C(R.id),className:"text-gray-400 hover:text-red-500 transition-colors p-1",children:D.jsx(ju,{className:"w-4 h-4"})})]})},R.id)),a==="headers"&&i.headers.map(R=>D.jsxs(zx,{id:R.id,handle:D.jsx(bv,{className:"w-4 h-4 dark:bg-gray-800"}),children:[D.jsx("input",{type:"checkbox",checked:R.enabled,onChange:O=>B(R.id,"enabled",O.target.checked),className:"w-4 h-4 mt-3 text-blue-600 rounded focus:ring-blue-500"}),D.jsx("input",{type:"text",value:R.key,onChange:O=>B(R.id,"key",O.target.value),placeholder:"Header name",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-800 dark:border-gray-900 dark:text-gray-300"}),D.jsx("input",{type:"text",value:R.value,onChange:O=>B(R.id,"value",O.target.value),placeholder:"Header value",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-800 dark:border-gray-900 dark:text-gray-300"}),D.jsx("button",{onClick:()=>j(R.id),className:"text-gray-400 hover:text-red-500 transition-colors p-1",children:D.jsx(ju,{className:"w-4 h-4"})})]},R.id))]})})]}),a==="body"&&D.jsxs("div",{children:[D.jsxs("div",{className:"flex items-center justify-between mb-2",children:[D.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Request Body"}),i.body&&!iB(i.body)&&D.jsx("span",{className:"text-xs text-red-500",children:"Invalid JSON"})]}),D.jsx(uh,{value:i.body,onChange:R=>t({body:R}),extensions:[U2(),Xu()],theme:ch,className:"border border-gray-300 rounded-xl overflow-hidden shadow-sm dark:border-gray-700",basicSetup:{lineNumbers:!0,foldGutter:!1,dropCursor:!1,allowMultipleSelections:!1}})]})]}),D.jsx(nB,{isOpen:f,onClose:()=>d(!1)})]})},rB=()=>{const{response:i,isLoading:t}=Rr(),[e,n]=P.useState("body"),r=f=>Object.entries(f).map(([d,m])=>`${d}: ${m}`).join(`
`),o=f=>f>=200&&f<300?"text-green-600 bg-green-50 border-green-200 dark:text-green-400 dark:bg-green-900/30 dark:border-green-700":f>=400?"text-red-600 bg-red-50 border-red-200 dark:text-red-400 dark:bg-red-900/30 dark:border-red-700":f>=300?"text-yellow-600 bg-yellow-50 border-yellow-200 dark:text-yellow-400 dark:bg-yellow-900/30 dark:border-yellow-700":"text-gray-600 bg-gray-50 border-gray-200 dark:text-gray-400 dark:bg-gray-900/30 dark:border-gray-700",a=f=>{navigator.clipboard.writeText(f).then(()=>{Ce.success("Copied to clipboard")}).catch(()=>{Ce.error("Failed to copy to clipboard")})},u=()=>{if(!i)return;const f=new Blob([i.body],{type:"application/json"}),d=URL.createObjectURL(f),m=document.createElement("a");m.href=d,m.download=`response-${Date.now()}.json`,document.body.appendChild(m),m.click(),document.body.removeChild(m),URL.revokeObjectURL(d),Ce.success("Response downloaded")};return t?D.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl border border-gray-200/50 p-12 dark:border-gray-700 dark:bg-gray-800/50",children:D.jsxs("div",{className:"flex items-center justify-center flex-col",children:[D.jsxs("div",{className:"flex items-center gap-3",children:[D.jsx("div",{className:"w-8 h-8 border-3 border-blue-600 border-t-transparent rounded-full animate-spin"}),D.jsx("span",{className:"text-gray-700 font-semibold text-lg",children:"Sending request..."})]}),D.jsx("div",{className:"mt-4 w-64 h-1 bg-gray-200 rounded-full overflow-hidden",children:D.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-purple-500 rounded-full animate-pulse"})})]})}):i?D.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl border border-gray-200/50 dark:border-gray-700 dark:bg-gray-800/50",children:[D.jsxs("div",{className:"p-6 border-b border-gray-200/50",children:[D.jsxs("div",{className:"flex items-center justify-between mb-2",children:[D.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2 dark:text-white",children:[D.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),"Response"]}),D.jsxs("div",{className:"flex items-center gap-2",children:[i.status>0?D.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center dark:bg-green-900/30",children:D.jsx(lM,{className:"w-5 h-5 text-green-600"})}):D.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center dark:bg-red-900/30",children:D.jsx(aM,{className:"w-5 h-5 text-red-600"})}),D.jsxs("span",{className:mi("px-4 py-2 rounded-xl text-sm font-bold border shadow-sm",o(i.status)),children:[i.status," ",i.statusText]})]})]}),D.jsxs("div",{className:"flex items-center justify-between",children:[D.jsx("div",{className:"text-sm text-gray-500",children:D.jsxs("span",{className:"bg-blue-50 text-blue-700 px-3 py-1 rounded-full text-xs font-semibold dark:bg-blue-900/30 dark:text-blue-400",children:["Response time: ",i.duration,"ms"]})}),D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx("button",{onClick:()=>a(i.body),className:"text-gray-400 hover:text-blue-500 transition-all duration-200 p-2 hover:bg-blue-50 rounded-lg dark:hover:bg-gray-700/50",title:"Copy response",children:D.jsx(hM,{className:"w-4 h-4"})}),D.jsx("button",{onClick:u,className:"text-gray-400 hover:text-blue-500 transition-all duration-200 p-2 hover:bg-blue-50 rounded-lg dark:hover:bg-gray-700/50",title:"Download response",children:D.jsx(_x,{className:"w-4 h-4"})})]})]})]}),D.jsxs("div",{className:"p-6",children:[D.jsxs("div",{className:"flex border-b-2 border-blue-400 mb-6 bg-gray-50 rounded-t-xl dark:bg-gray-800/50",children:[D.jsx("button",{onClick:()=>n("body"),className:mi("px-6 py-3 font-semibold text-sm border-b-2 transition-all duration-200 rounded-t-xl",e==="body"?"border-blue-500 text-blue-600 bg-white shadow-sm dark:bg-gray-900/50 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-900 dark:text-gray-400"),children:"Response Body"}),D.jsxs("button",{onClick:()=>n("headers"),className:mi("px-6 py-3 font-semibold text-sm border-b-2 transition-all duration-200 rounded-t-xl",e==="headers"?"border-blue-500 text-blue-600 bg-white shadow-sm dark:bg-gray-900/50 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-900 dark:text-gray-400"),children:["Headers (",Object.keys(i.headers).length,")"]})]}),e==="body"&&D.jsx("div",{children:D.jsx(uh,{value:i.body,readOnly:!0,extensions:[U2(),Xu()],theme:ch,className:"border border-gray-300 rounded-xl overflow-hidden shadow-sm dark:border-gray-700",basicSetup:{lineNumbers:!0,foldGutter:!1,dropCursor:!1,allowMultipleSelections:!1}})}),e==="headers"&&D.jsx("div",{children:D.jsx(uh,{value:r(i.headers),readOnly:!0,extensions:[Xu()],theme:ch,className:"border border-gray-300 rounded-xl overflow-hidden shadow-sm dark:border-gray-700",basicSetup:{lineNumbers:!0,foldGutter:!1,dropCursor:!1,allowMultipleSelections:!1}})})]})]}):D.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl border border-gray-200/50 p-12 dark:border-gray-700  dark:bg-gray-800/50",children:D.jsxs("div",{className:"text-center text-gray-500",children:[D.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-gray-100 to-gray-200 rounded-2xl flex items-center justify-center mx-auto mb-4 dark:from-gray-700 dark:to-gray-800",children:D.jsx(wu,{className:"w-8 h-8 text-gray-400"})}),D.jsx("p",{className:"text-xl font-semibold text-gray-700 mb-2 dark:text-gray-300",children:"No response yet"}),D.jsx("p",{className:"text-gray-500 font-medium dark:text-gray-400",children:"Send a request to see the response here"}),D.jsx("div",{className:"mt-6 w-32 h-1 bg-gradient-to-r from-blue-200 to-purple-200 rounded-full mx-auto dark:from-blue-400 dark:to-blue-500"})]})})},lB=()=>{const{history:i,loadFromHistory:t,removeFromHistory:e,clearHistory:n}=Rr(),r=d=>{t(d),Ce.success("Request loaded from history")},o=(d,m)=>{m.stopPropagation(),confirm("Are you sure you want to remove this request from history?")&&(e(d),Ce.success("Request removed from history"))},a=()=>{confirm("Are you sure you want to clear all history?")&&(n(),Ce.success("History cleared"))},u=()=>{const d=JSON.stringify(i,null,2),m=new Blob([d],{type:"application/json"}),p=URL.createObjectURL(m),b=document.createElement("a");b.href=p,b.download=`http-tester-history-${Date.now()}.json`,document.body.appendChild(b),b.click(),document.body.removeChild(b),URL.revokeObjectURL(p),Ce.success("History exported")},f=()=>{const d=document.createElement("input");d.type="file",d.accept=".json",d.onchange=m=>{const p=m.target.files?.[0];if(p){const b=new FileReader;b.onload=v=>{try{const S=JSON.parse(v.target?.result);S.forEach(k=>{t(k)}),Ce.success(`Imported ${S.length} requests`)}catch{Ce.error("Failed to import history file")}},b.readAsText(p)}},d.click()};return i.length===0?D.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl border border-gray-200/50 p-6 dark:border-gray-700 dark:bg-gray-800/50",children:[D.jsxs("div",{className:"flex items-center justify-between mb-4",children:[D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-100 to-blue-100 rounded-xl flex items-center justify-center dark:from-blue-800 dark:to-blue-900",children:D.jsx(wu,{className:"w-4 h-4 text-purple-600 dark:text-white"})}),D.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Request History"})]}),D.jsx("button",{onClick:f,className:"text-gray-400 hover:text-blue-500 transition-all duration-200 p-2 hover:bg-blue-50 rounded-lg dark:hover:bg-gray-700",title:"Import history",children:D.jsx(Rg,{className:"w-4 h-4"})})]}),D.jsxs("div",{className:"text-center text-gray-500 py-12",children:[D.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-gray-100 to-gray-200 rounded-2xl flex items-center justify-center mx-auto mb-4 dark:from-gray-700 dark:to-gray-800",children:D.jsx(wu,{className:"w-8 h-8 text-gray-400"})}),D.jsx("p",{className:"font-semibold text-gray-700 mb-2 dark:text-gray-200",children:"No requests in history yet"}),D.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Send a request to see it appear here"}),D.jsx("div",{className:"mt-4 w-24 h-1 bg-gradient-to-r from-blue-400 to-blue-500 rounded-full mx-auto"})]})]}):D.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl border border-gray-200/50 dark:border-gray-700 dark:bg-gray-800/50 flex flex-col h-96",children:[D.jsxs("div",{className:"grid grid-rows-2 items-center justify-between p-6 border-b border-gray-200/50 dark:border-gray-700",children:[D.jsxs("div",{className:"flex items-center gap-2 w-full",children:[D.jsx("div",{className:"w-5 h-5 bg-gradient-to-br from-purple-100 to-blue-100 rounded-xl flex items-center justify-center dark:from-blue-800 dark:to-blue-900",children:D.jsx(wu,{className:"w-5 h-5 text-purple-600 dark:text-blue-300"})}),D.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Request History"}),D.jsx("span",{className:"bg-gradient-to-r from-purple-100 to-blue-100 text-purple-700 text-xs px-3 py-1 rounded-full font-semibold dark:from-blue-800 dark:to-blue-900 dark:text-blue-300 ",children:i.length})]}),D.jsxs("div",{className:"flex items-center gap-1 w-full justify-start md:justify-start",children:[D.jsx("button",{onClick:u,className:"text-gray-400 hover:text-blue-500 transition-all duration-200 p-2 hover:bg-blue-50 rounded-lg dark:hover:bg-gray-700",title:"Export history",children:D.jsx(_x,{className:"w-4 h-4"})}),D.jsx("button",{onClick:f,className:"text-gray-400 hover:text-blue-500 transition-all duration-200 p-2 hover:bg-blue-50 rounded-lg dark:hover:bg-gray-700",title:"Import history",children:D.jsx(Rg,{className:"w-4 h-4"})}),D.jsx("button",{onClick:a,className:"text-gray-400 hover:text-red-500 transition-all duration-200 p-2 hover:bg-red-50 rounded-lg dark:hover:bg-gray-700",title:"Clear all history",children:D.jsx(qx,{className:"w-4 h-4"})})]})]}),D.jsx("div",{className:"max-h-96 overflow-y-auto scrollbar-thin",children:i.map((d,m)=>D.jsxs("div",{onClick:()=>r(d),className:"flex items-center justify-between p-4 hover:bg-gradient-to-r hover:from-blue-50 hover:to-purple-50 cursor-pointer border-b border-gray-100 last:border-b-0 group transition-all duration-200 dark:hover:from-gray-700/50 dark:hover:to-gray-800/50 dark:border-gray-700",children:[D.jsxs("div",{className:"flex-1 min-w-0",children:[D.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[D.jsx("span",{className:mi("text-xs font-bold px-3 py-1 rounded-lg shadow-sm",{"bg-gradient-to-r from-blue-100 to-blue-200 text-blue-800 dark:from-blue-500 dark:to-blue-600 dark:text-blue-200":d.method==="GET","bg-gradient-to-r from-green-100 to-green-200 text-green-800":d.method==="POST","bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800":d.method==="PUT","bg-gradient-to-r from-red-100 to-red-200 text-red-800":d.method==="DELETE","bg-gradient-to-r from-purple-100 to-purple-200 text-purple-800":d.method==="PATCH","bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800":["HEAD","OPTIONS"].includes(d.method)}),children:d.method}),D.jsx("span",{className:"text-sm font-semibold text-gray-900 truncate dark:text-white",children:new URL(d.url).pathname})]}),D.jsx("p",{className:"text-xs text-gray-500 truncate font-medium dark:text-gray-400",children:d.url})]}),D.jsx("button",{onClick:p=>o(m,p),className:"opacity-0 group-hover:opacity-100 text-gray-400 hover:text-red-500 transition-all duration-200 p-2 hover:bg-red-50 rounded-lg dark:hover:bg-gray-700",title:"Remove from history",children:D.jsx(ju,{className:"w-4 h-4"})})]},m))})]})};function oB(){const i=new Date().getFullYear(),{darkMode:t}=Rr();return P.useEffect(()=>{t?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[t]),D.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 dark:from-gray-900 dark:to-gray-800 transition-colors duration-300",children:[D.jsx(JA,{position:"top-right",richColors:!0,closeButton:!0,toastOptions:{duration:3e3}}),D.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[D.jsxs("header",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm shadow-lg border-b border-gray-200/50 dark:border-gray-700/50 rounded-b-2xl px-8 py-6 mb-8 transition-colors duration-300",children:[D.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[D.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-blue-600 rounded-xl flex items-center justify-center",children:D.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"})})}),D.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:"Rueries"})]}),D.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-lg font-medium ml-13 transition-colors duration-300",children:"Modern HTTP client"})]}),D.jsx("div",{className:"pb-8",children:D.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[D.jsxs("div",{className:"lg:col-span-3 space-y-8",children:[D.jsx(sB,{}),D.jsx(rB,{})]}),D.jsx("div",{className:"lg:col-span-1",children:D.jsx(lB,{})})]})})]}),D.jsxs("footer",{className:"py-4  backdrop-blur-sm text-center text-sm text-gray-500",children:["© ",i," Milacho"]})]})}AA.createRoot(document.getElementById("root")).render(D.jsx(J.StrictMode,{children:D.jsx(oB,{})}));
